var Q0=(st,Mt)=>()=>(Mt||st((Mt={exports:{}}).exports,Mt),Mt.exports);var ep=Q0((exports,module)=>{function _mergeNamespaces(st,Mt){for(var nn=0;nn<Mt.length;nn++){const rn=Mt[nn];if(typeof rn!="string"&&!Array.isArray(rn)){for(const an in rn)if(an!=="default"&&!(an in st)){const sn=Object.getOwnPropertyDescriptor(rn,an);sn&&Object.defineProperty(st,an,sn.get?sn:{enumerable:!0,get:()=>rn[an]})}}}return Object.freeze(Object.defineProperty(st,Symbol.toStringTag,{value:"Module"}))}(function(){const Mt=document.createElement("link").relList;if(Mt&&Mt.supports&&Mt.supports("modulepreload"))return;for(const an of document.querySelectorAll('link[rel="modulepreload"]'))rn(an);new MutationObserver(an=>{for(const sn of an)if(sn.type==="childList")for(const un of sn.addedNodes)un.tagName==="LINK"&&un.rel==="modulepreload"&&rn(un)}).observe(document,{childList:!0,subtree:!0});function nn(an){const sn={};return an.integrity&&(sn.integrity=an.integrity),an.referrerPolicy&&(sn.referrerPolicy=an.referrerPolicy),an.crossOrigin==="use-credentials"?sn.credentials="include":an.crossOrigin==="anonymous"?sn.credentials="omit":sn.credentials="same-origin",sn}function rn(an){if(an.ep)return;an.ep=!0;const sn=nn(an);fetch(an.href,sn)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(st){return st&&st.__esModule&&Object.prototype.hasOwnProperty.call(st,"default")?st.default:st}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(st){return st===null||typeof st!="object"?null:(st=z$2&&st[z$2]||st["@@iterator"],typeof st=="function"?st:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(st,Mt,nn){this.props=st,this.context=Mt,this.refs=D$2,this.updater=nn||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(st,Mt){if(typeof st!="object"&&typeof st!="function"&&st!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,st,Mt,"setState")};E$2.prototype.forceUpdate=function(st){this.updater.enqueueForceUpdate(this,st,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(st,Mt,nn){this.props=st,this.context=Mt,this.refs=D$2,this.updater=nn||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(st,Mt,nn){var rn,an={},sn=null,un=null;if(Mt!=null)for(rn in Mt.ref!==void 0&&(un=Mt.ref),Mt.key!==void 0&&(sn=""+Mt.key),Mt)J$1.call(Mt,rn)&&!L$2.hasOwnProperty(rn)&&(an[rn]=Mt[rn]);var ln=arguments.length-2;if(ln===1)an.children=nn;else if(1<ln){for(var cn=Array(ln),hn=0;hn<ln;hn++)cn[hn]=arguments[hn+2];an.children=cn}if(st&&st.defaultProps)for(rn in ln=st.defaultProps,ln)an[rn]===void 0&&(an[rn]=ln[rn]);return{$$typeof:l$2,type:st,key:sn,ref:un,props:an,_owner:K$2.current}}function N$2(st,Mt){return{$$typeof:l$2,type:st.type,key:Mt,ref:st.ref,props:st.props,_owner:st._owner}}function O$2(st){return typeof st=="object"&&st!==null&&st.$$typeof===l$2}function escape(st){var Mt={"=":"=0",":":"=2"};return"$"+st.replace(/[=:]/g,function(nn){return Mt[nn]})}var P$2=/\/+/g;function Q$2(st,Mt){return typeof st=="object"&&st!==null&&st.key!=null?escape(""+st.key):Mt.toString(36)}function R$2(st,Mt,nn,rn,an){var sn=typeof st;(sn==="undefined"||sn==="boolean")&&(st=null);var un=!1;if(st===null)un=!0;else switch(sn){case"string":case"number":un=!0;break;case"object":switch(st.$$typeof){case l$2:case n$2:un=!0}}if(un)return un=st,an=an(un),st=rn===""?"."+Q$2(un,0):rn,I$2(an)?(nn="",st!=null&&(nn=st.replace(P$2,"$&/")+"/"),R$2(an,Mt,nn,"",function(hn){return hn})):an!=null&&(O$2(an)&&(an=N$2(an,nn+(!an.key||un&&un.key===an.key?"":(""+an.key).replace(P$2,"$&/")+"/")+st)),Mt.push(an)),1;if(un=0,rn=rn===""?".":rn+":",I$2(st))for(var ln=0;ln<st.length;ln++){sn=st[ln];var cn=rn+Q$2(sn,ln);un+=R$2(sn,Mt,nn,cn,an)}else if(cn=A$2(st),typeof cn=="function")for(st=cn.call(st),ln=0;!(sn=st.next()).done;)sn=sn.value,cn=rn+Q$2(sn,ln++),un+=R$2(sn,Mt,nn,cn,an);else if(sn==="object")throw Mt=String(st),Error("Objects are not valid as a React child (found: "+(Mt==="[object Object]"?"object with keys {"+Object.keys(st).join(", ")+"}":Mt)+"). If you meant to render a collection of children, use an array instead.");return un}function S$2(st,Mt,nn){if(st==null)return st;var rn=[],an=0;return R$2(st,rn,"","",function(sn){return Mt.call(nn,sn,an++)}),rn}function T$2(st){if(st._status===-1){var Mt=st._result;Mt=Mt(),Mt.then(function(nn){(st._status===0||st._status===-1)&&(st._status=1,st._result=nn)},function(nn){(st._status===0||st._status===-1)&&(st._status=2,st._result=nn)}),st._status===-1&&(st._status=0,st._result=Mt)}if(st._status===1)return st._result.default;throw st._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(st,Mt,nn){S$2(st,function(){Mt.apply(this,arguments)},nn)},count:function(st){var Mt=0;return S$2(st,function(){Mt++}),Mt},toArray:function(st){return S$2(st,function(Mt){return Mt})||[]},only:function(st){if(!O$2(st))throw Error("React.Children.only expected to receive a single React element child.");return st}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$2;react_production_min.cloneElement=function(st,Mt,nn){if(st==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+st+".");var rn=C$2({},st.props),an=st.key,sn=st.ref,un=st._owner;if(Mt!=null){if(Mt.ref!==void 0&&(sn=Mt.ref,un=K$2.current),Mt.key!==void 0&&(an=""+Mt.key),st.type&&st.type.defaultProps)var ln=st.type.defaultProps;for(cn in Mt)J$1.call(Mt,cn)&&!L$2.hasOwnProperty(cn)&&(rn[cn]=Mt[cn]===void 0&&ln!==void 0?ln[cn]:Mt[cn])}var cn=arguments.length-2;if(cn===1)rn.children=nn;else if(1<cn){ln=Array(cn);for(var hn=0;hn<cn;hn++)ln[hn]=arguments[hn+2];rn.children=ln}return{$$typeof:l$2,type:st.type,key:an,ref:sn,props:rn,_owner:un}};react_production_min.createContext=function(st){return st={$$typeof:u$1,_currentValue:st,_currentValue2:st,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},st.Provider={$$typeof:t$1,_context:st},st.Consumer=st};react_production_min.createElement=M$2;react_production_min.createFactory=function(st){var Mt=M$2.bind(null,st);return Mt.type=st,Mt};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(st){return{$$typeof:v$2,render:st}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(st){return{$$typeof:y,_payload:{_status:-1,_result:st},_init:T$2}};react_production_min.memo=function(st,Mt){return{$$typeof:x$1,type:st,compare:Mt===void 0?null:Mt}};react_production_min.startTransition=function(st){var Mt=V$2.transition;V$2.transition={};try{st()}finally{V$2.transition=Mt}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(st,Mt){return U$2.current.useCallback(st,Mt)};react_production_min.useContext=function(st){return U$2.current.useContext(st)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(st){return U$2.current.useDeferredValue(st)};react_production_min.useEffect=function(st,Mt){return U$2.current.useEffect(st,Mt)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(st,Mt,nn){return U$2.current.useImperativeHandle(st,Mt,nn)};react_production_min.useInsertionEffect=function(st,Mt){return U$2.current.useInsertionEffect(st,Mt)};react_production_min.useLayoutEffect=function(st,Mt){return U$2.current.useLayoutEffect(st,Mt)};react_production_min.useMemo=function(st,Mt){return U$2.current.useMemo(st,Mt)};react_production_min.useReducer=function(st,Mt,nn){return U$2.current.useReducer(st,Mt,nn)};react_production_min.useRef=function(st){return U$2.current.useRef(st)};react_production_min.useState=function(st){return U$2.current.useState(st)};react_production_min.useSyncExternalStore=function(st,Mt,nn){return U$2.current.useSyncExternalStore(st,Mt,nn)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(st,Mt,nn){var rn,an={},sn=null,un=null;nn!==void 0&&(sn=""+nn),Mt.key!==void 0&&(sn=""+Mt.key),Mt.ref!==void 0&&(un=Mt.ref);for(rn in Mt)m$1.call(Mt,rn)&&!p$2.hasOwnProperty(rn)&&(an[rn]=Mt[rn]);if(st&&st.defaultProps)for(rn in Mt=st.defaultProps,Mt)an[rn]===void 0&&(an[rn]=Mt[rn]);return{$$typeof:k$1,type:st,key:sn,ref:un,props:an,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(st){function Mt(r0,o0){var f0=r0.length;r0.push(o0);e:for(;0<f0;){var p0=f0-1>>>1,y0=r0[p0];if(0<an(y0,o0))r0[p0]=o0,r0[f0]=y0,f0=p0;else break e}}function nn(r0){return r0.length===0?null:r0[0]}function rn(r0){if(r0.length===0)return null;var o0=r0[0],f0=r0.pop();if(f0!==o0){r0[0]=f0;e:for(var p0=0,y0=r0.length,x0=y0>>>1;p0<x0;){var k0=2*(p0+1)-1,b0=r0[k0],E0=k0+1,_0=r0[E0];if(0>an(b0,f0))E0<y0&&0>an(_0,b0)?(r0[p0]=_0,r0[E0]=f0,p0=E0):(r0[p0]=b0,r0[k0]=f0,p0=k0);else if(E0<y0&&0>an(_0,f0))r0[p0]=_0,r0[E0]=f0,p0=E0;else break e}}return o0}function an(r0,o0){var f0=r0.sortIndex-o0.sortIndex;return f0!==0?f0:r0.id-o0.id}if(typeof performance=="object"&&typeof performance.now=="function"){var sn=performance;st.unstable_now=function(){return sn.now()}}else{var un=Date,ln=un.now();st.unstable_now=function(){return un.now()-ln}}var cn=[],hn=[],fn=1,to=null,Xr=3,uo=!1,co=!1,ho=!1,e0=typeof setTimeout=="function"?setTimeout:null,lo=typeof clearTimeout=="function"?clearTimeout:null,mo=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function fo(r0){for(var o0=nn(hn);o0!==null;){if(o0.callback===null)rn(hn);else if(o0.startTime<=r0)rn(hn),o0.sortIndex=o0.expirationTime,Mt(cn,o0);else break;o0=nn(hn)}}function Uo(r0){if(ho=!1,fo(r0),!co)if(nn(cn)!==null)co=!0,u0(t0);else{var o0=nn(hn);o0!==null&&c0(Uo,o0.startTime-r0)}}function t0(r0,o0){co=!1,ho&&(ho=!1,lo(a0),a0=-1),uo=!0;var f0=Xr;try{for(fo(o0),to=nn(cn);to!==null&&(!(to.expirationTime>o0)||r0&&!d0());){var p0=to.callback;if(typeof p0=="function"){to.callback=null,Xr=to.priorityLevel;var y0=p0(to.expirationTime<=o0);o0=st.unstable_now(),typeof y0=="function"?to.callback=y0:to===nn(cn)&&rn(cn),fo(o0)}else rn(cn);to=nn(cn)}if(to!==null)var x0=!0;else{var k0=nn(hn);k0!==null&&c0(Uo,k0.startTime-o0),x0=!1}return x0}finally{to=null,Xr=f0,uo=!1}}var n0=!1,i0=null,a0=-1,s0=5,l0=-1;function d0(){return!(st.unstable_now()-l0<s0)}function h0(){if(i0!==null){var r0=st.unstable_now();l0=r0;var o0=!0;try{o0=i0(!0,r0)}finally{o0?v0():(n0=!1,i0=null)}}else n0=!1}var v0;if(typeof mo=="function")v0=function(){mo(h0)};else if(typeof MessageChannel<"u"){var g0=new MessageChannel,m0=g0.port2;g0.port1.onmessage=h0,v0=function(){m0.postMessage(null)}}else v0=function(){e0(h0,0)};function u0(r0){i0=r0,n0||(n0=!0,v0())}function c0(r0,o0){a0=e0(function(){r0(st.unstable_now())},o0)}st.unstable_IdlePriority=5,st.unstable_ImmediatePriority=1,st.unstable_LowPriority=4,st.unstable_NormalPriority=3,st.unstable_Profiling=null,st.unstable_UserBlockingPriority=2,st.unstable_cancelCallback=function(r0){r0.callback=null},st.unstable_continueExecution=function(){co||uo||(co=!0,u0(t0))},st.unstable_forceFrameRate=function(r0){0>r0||125<r0?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):s0=0<r0?Math.floor(1e3/r0):5},st.unstable_getCurrentPriorityLevel=function(){return Xr},st.unstable_getFirstCallbackNode=function(){return nn(cn)},st.unstable_next=function(r0){switch(Xr){case 1:case 2:case 3:var o0=3;break;default:o0=Xr}var f0=Xr;Xr=o0;try{return r0()}finally{Xr=f0}},st.unstable_pauseExecution=function(){},st.unstable_requestPaint=function(){},st.unstable_runWithPriority=function(r0,o0){switch(r0){case 1:case 2:case 3:case 4:case 5:break;default:r0=3}var f0=Xr;Xr=r0;try{return o0()}finally{Xr=f0}},st.unstable_scheduleCallback=function(r0,o0,f0){var p0=st.unstable_now();switch(typeof f0=="object"&&f0!==null?(f0=f0.delay,f0=typeof f0=="number"&&0<f0?p0+f0:p0):f0=p0,r0){case 1:var y0=-1;break;case 2:y0=250;break;case 5:y0=1073741823;break;case 4:y0=1e4;break;default:y0=5e3}return y0=f0+y0,r0={id:fn++,callback:o0,priorityLevel:r0,startTime:f0,expirationTime:y0,sortIndex:-1},f0>p0?(r0.sortIndex=f0,Mt(hn,r0),nn(cn)===null&&r0===nn(hn)&&(ho?(lo(a0),a0=-1):ho=!0,c0(Uo,f0-p0))):(r0.sortIndex=y0,Mt(cn,r0),co||uo||(co=!0,u0(t0))),r0},st.unstable_shouldYield=d0,st.unstable_wrapCallback=function(r0){var o0=Xr;return function(){var f0=Xr;Xr=o0;try{return r0.apply(this,arguments)}finally{Xr=f0}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports,ca$1=schedulerExports;function p$1(st){for(var Mt="https://reactjs.org/docs/error-decoder.html?invariant="+st,nn=1;nn<arguments.length;nn++)Mt+="&args[]="+encodeURIComponent(arguments[nn]);return"Minified React error #"+st+"; visit "+Mt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$1=new Set,ea$1={};function fa$1(st,Mt){ha$1(st,Mt),ha$1(st+"Capture",Mt)}function ha$1(st,Mt){for(ea$1[st]=Mt,st=0;st<Mt.length;st++)da$1.add(Mt[st])}var ia$1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$1=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$1={},ma$1={};function oa$1(st){return ja$1.call(ma$1,st)?!0:ja$1.call(la$1,st)?!1:ka$1.test(st)?ma$1[st]=!0:(la$1[st]=!0,!1)}function pa$1(st,Mt,nn,rn){if(nn!==null&&nn.type===0)return!1;switch(typeof Mt){case"function":case"symbol":return!0;case"boolean":return rn?!1:nn!==null?!nn.acceptsBooleans:(st=st.toLowerCase().slice(0,5),st!=="data-"&&st!=="aria-");default:return!1}}function qa$1(st,Mt,nn,rn){if(Mt===null||typeof Mt>"u"||pa$1(st,Mt,nn,rn))return!0;if(rn)return!1;if(nn!==null)switch(nn.type){case 3:return!Mt;case 4:return Mt===!1;case 5:return isNaN(Mt);case 6:return isNaN(Mt)||1>Mt}return!1}function v$1(st,Mt,nn,rn,an,sn,un){this.acceptsBooleans=Mt===2||Mt===3||Mt===4,this.attributeName=rn,this.attributeNamespace=an,this.mustUseProperty=nn,this.propertyName=st,this.type=Mt,this.sanitizeURL=sn,this.removeEmptyString=un}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(st){z$1[st]=new v$1(st,0,!1,st,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(st){var Mt=st[0];z$1[Mt]=new v$1(Mt,1,!1,st[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(st){z$1[st]=new v$1(st,2,!1,st.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(st){z$1[st]=new v$1(st,2,!1,st,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(st){z$1[st]=new v$1(st,3,!1,st.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(st){z$1[st]=new v$1(st,3,!0,st,null,!1,!1)});["capture","download"].forEach(function(st){z$1[st]=new v$1(st,4,!1,st,null,!1,!1)});["cols","rows","size","span"].forEach(function(st){z$1[st]=new v$1(st,6,!1,st,null,!1,!1)});["rowSpan","start"].forEach(function(st){z$1[st]=new v$1(st,5,!1,st.toLowerCase(),null,!1,!1)});var ra$1=/[\-:]([a-z])/g;function sa$1(st){return st[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(st){var Mt=st.replace(ra$1,sa$1);z$1[Mt]=new v$1(Mt,1,!1,st,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(st){var Mt=st.replace(ra$1,sa$1);z$1[Mt]=new v$1(Mt,1,!1,st,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(st){var Mt=st.replace(ra$1,sa$1);z$1[Mt]=new v$1(Mt,1,!1,st,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(st){z$1[st]=new v$1(st,1,!1,st.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(st){z$1[st]=new v$1(st,1,!1,st.toLowerCase(),null,!0,!0)});function ta$1(st,Mt,nn,rn){var an=z$1.hasOwnProperty(Mt)?z$1[Mt]:null;(an!==null?an.type!==0:rn||!(2<Mt.length)||Mt[0]!=="o"&&Mt[0]!=="O"||Mt[1]!=="n"&&Mt[1]!=="N")&&(qa$1(Mt,nn,an,rn)&&(nn=null),rn||an===null?oa$1(Mt)&&(nn===null?st.removeAttribute(Mt):st.setAttribute(Mt,""+nn)):an.mustUseProperty?st[an.propertyName]=nn===null?an.type===3?!1:"":nn:(Mt=an.attributeName,rn=an.attributeNamespace,nn===null?st.removeAttribute(Mt):(an=an.type,nn=an===3||an===4&&nn===!0?"":""+nn,rn?st.setAttributeNS(rn,Mt,nn):st.setAttribute(Mt,nn))))}var ua$1=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$1=Symbol.for("react.element"),wa$1=Symbol.for("react.portal"),ya$1=Symbol.for("react.fragment"),za$1=Symbol.for("react.strict_mode"),Aa$1=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca$1=Symbol.for("react.context"),Da$1=Symbol.for("react.forward_ref"),Ea$1=Symbol.for("react.suspense"),Fa$1=Symbol.for("react.suspense_list"),Ga$1=Symbol.for("react.memo"),Ha$1=Symbol.for("react.lazy"),Ia$1=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka$1(st){return st===null||typeof st!="object"?null:(st=Ja$1&&st[Ja$1]||st["@@iterator"],typeof st=="function"?st:null)}var A$1=Object.assign,La$1;function Ma$1(st){if(La$1===void 0)try{throw Error()}catch(nn){var Mt=nn.stack.trim().match(/\n( *(at )?)/);La$1=Mt&&Mt[1]||""}return`
`+La$1+st}var Na$1=!1;function Oa$1(st,Mt){if(!st||Na$1)return"";Na$1=!0;var nn=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(Mt)if(Mt=function(){throw Error()},Object.defineProperty(Mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Mt,[])}catch(hn){var rn=hn}Reflect.construct(st,[],Mt)}else{try{Mt.call()}catch(hn){rn=hn}st.call(Mt.prototype)}else{try{throw Error()}catch(hn){rn=hn}st()}}catch(hn){if(hn&&rn&&typeof hn.stack=="string"){for(var an=hn.stack.split(`
`),sn=rn.stack.split(`
`),un=an.length-1,ln=sn.length-1;1<=un&&0<=ln&&an[un]!==sn[ln];)ln--;for(;1<=un&&0<=ln;un--,ln--)if(an[un]!==sn[ln]){if(un!==1||ln!==1)do if(un--,ln--,0>ln||an[un]!==sn[ln]){var cn=`
`+an[un].replace(" at new "," at ");return st.displayName&&cn.includes("<anonymous>")&&(cn=cn.replace("<anonymous>",st.displayName)),cn}while(1<=un&&0<=ln);break}}}finally{Na$1=!1,Error.prepareStackTrace=nn}return(st=st?st.displayName||st.name:"")?Ma$1(st):""}function Pa$1(st){switch(st.tag){case 5:return Ma$1(st.type);case 16:return Ma$1("Lazy");case 13:return Ma$1("Suspense");case 19:return Ma$1("SuspenseList");case 0:case 2:case 15:return st=Oa$1(st.type,!1),st;case 11:return st=Oa$1(st.type.render,!1),st;case 1:return st=Oa$1(st.type,!0),st;default:return""}}function Qa$1(st){if(st==null)return null;if(typeof st=="function")return st.displayName||st.name||null;if(typeof st=="string")return st;switch(st){case ya$1:return"Fragment";case wa$1:return"Portal";case Aa$1:return"Profiler";case za$1:return"StrictMode";case Ea$1:return"Suspense";case Fa$1:return"SuspenseList"}if(typeof st=="object")switch(st.$$typeof){case Ca$1:return(st.displayName||"Context")+".Consumer";case Ba$1:return(st._context.displayName||"Context")+".Provider";case Da$1:var Mt=st.render;return st=st.displayName,st||(st=Mt.displayName||Mt.name||"",st=st!==""?"ForwardRef("+st+")":"ForwardRef"),st;case Ga$1:return Mt=st.displayName||null,Mt!==null?Mt:Qa$1(st.type)||"Memo";case Ha$1:Mt=st._payload,st=st._init;try{return Qa$1(st(Mt))}catch{}}return null}function Ra$1(st){var Mt=st.type;switch(st.tag){case 24:return"Cache";case 9:return(Mt.displayName||"Context")+".Consumer";case 10:return(Mt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return st=Mt.render,st=st.displayName||st.name||"",Mt.displayName||(st!==""?"ForwardRef("+st+")":"ForwardRef");case 7:return"Fragment";case 5:return Mt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$1(Mt);case 8:return Mt===za$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof Mt=="function")return Mt.displayName||Mt.name||null;if(typeof Mt=="string")return Mt}return null}function Sa$1(st){switch(typeof st){case"boolean":case"number":case"string":case"undefined":return st;case"object":return st;default:return""}}function Ta$1(st){var Mt=st.type;return(st=st.nodeName)&&st.toLowerCase()==="input"&&(Mt==="checkbox"||Mt==="radio")}function Ua$1(st){var Mt=Ta$1(st)?"checked":"value",nn=Object.getOwnPropertyDescriptor(st.constructor.prototype,Mt),rn=""+st[Mt];if(!st.hasOwnProperty(Mt)&&typeof nn<"u"&&typeof nn.get=="function"&&typeof nn.set=="function"){var an=nn.get,sn=nn.set;return Object.defineProperty(st,Mt,{configurable:!0,get:function(){return an.call(this)},set:function(un){rn=""+un,sn.call(this,un)}}),Object.defineProperty(st,Mt,{enumerable:nn.enumerable}),{getValue:function(){return rn},setValue:function(un){rn=""+un},stopTracking:function(){st._valueTracker=null,delete st[Mt]}}}}function Va$1(st){st._valueTracker||(st._valueTracker=Ua$1(st))}function Wa$1(st){if(!st)return!1;var Mt=st._valueTracker;if(!Mt)return!0;var nn=Mt.getValue(),rn="";return st&&(rn=Ta$1(st)?st.checked?"true":"false":st.value),st=rn,st!==nn?(Mt.setValue(st),!0):!1}function Xa$1(st){if(st=st||(typeof document<"u"?document:void 0),typeof st>"u")return null;try{return st.activeElement||st.body}catch{return st.body}}function Ya$1(st,Mt){var nn=Mt.checked;return A$1({},Mt,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:nn??st._wrapperState.initialChecked})}function Za$1(st,Mt){var nn=Mt.defaultValue==null?"":Mt.defaultValue,rn=Mt.checked!=null?Mt.checked:Mt.defaultChecked;nn=Sa$1(Mt.value!=null?Mt.value:nn),st._wrapperState={initialChecked:rn,initialValue:nn,controlled:Mt.type==="checkbox"||Mt.type==="radio"?Mt.checked!=null:Mt.value!=null}}function ab(st,Mt){Mt=Mt.checked,Mt!=null&&ta$1(st,"checked",Mt,!1)}function bb(st,Mt){ab(st,Mt);var nn=Sa$1(Mt.value),rn=Mt.type;if(nn!=null)rn==="number"?(nn===0&&st.value===""||st.value!=nn)&&(st.value=""+nn):st.value!==""+nn&&(st.value=""+nn);else if(rn==="submit"||rn==="reset"){st.removeAttribute("value");return}Mt.hasOwnProperty("value")?cb(st,Mt.type,nn):Mt.hasOwnProperty("defaultValue")&&cb(st,Mt.type,Sa$1(Mt.defaultValue)),Mt.checked==null&&Mt.defaultChecked!=null&&(st.defaultChecked=!!Mt.defaultChecked)}function db(st,Mt,nn){if(Mt.hasOwnProperty("value")||Mt.hasOwnProperty("defaultValue")){var rn=Mt.type;if(!(rn!=="submit"&&rn!=="reset"||Mt.value!==void 0&&Mt.value!==null))return;Mt=""+st._wrapperState.initialValue,nn||Mt===st.value||(st.value=Mt),st.defaultValue=Mt}nn=st.name,nn!==""&&(st.name=""),st.defaultChecked=!!st._wrapperState.initialChecked,nn!==""&&(st.name=nn)}function cb(st,Mt,nn){(Mt!=="number"||Xa$1(st.ownerDocument)!==st)&&(nn==null?st.defaultValue=""+st._wrapperState.initialValue:st.defaultValue!==""+nn&&(st.defaultValue=""+nn))}var eb=Array.isArray;function fb(st,Mt,nn,rn){if(st=st.options,Mt){Mt={};for(var an=0;an<nn.length;an++)Mt["$"+nn[an]]=!0;for(nn=0;nn<st.length;nn++)an=Mt.hasOwnProperty("$"+st[nn].value),st[nn].selected!==an&&(st[nn].selected=an),an&&rn&&(st[nn].defaultSelected=!0)}else{for(nn=""+Sa$1(nn),Mt=null,an=0;an<st.length;an++){if(st[an].value===nn){st[an].selected=!0,rn&&(st[an].defaultSelected=!0);return}Mt!==null||st[an].disabled||(Mt=st[an])}Mt!==null&&(Mt.selected=!0)}}function gb(st,Mt){if(Mt.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},Mt,{value:void 0,defaultValue:void 0,children:""+st._wrapperState.initialValue})}function hb(st,Mt){var nn=Mt.value;if(nn==null){if(nn=Mt.children,Mt=Mt.defaultValue,nn!=null){if(Mt!=null)throw Error(p$1(92));if(eb(nn)){if(1<nn.length)throw Error(p$1(93));nn=nn[0]}Mt=nn}Mt==null&&(Mt=""),nn=Mt}st._wrapperState={initialValue:Sa$1(nn)}}function ib(st,Mt){var nn=Sa$1(Mt.value),rn=Sa$1(Mt.defaultValue);nn!=null&&(nn=""+nn,nn!==st.value&&(st.value=nn),Mt.defaultValue==null&&st.defaultValue!==nn&&(st.defaultValue=nn)),rn!=null&&(st.defaultValue=""+rn)}function jb(st){var Mt=st.textContent;Mt===st._wrapperState.initialValue&&Mt!==""&&Mt!==null&&(st.value=Mt)}function kb(st){switch(st){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(st,Mt){return st==null||st==="http://www.w3.org/1999/xhtml"?kb(Mt):st==="http://www.w3.org/2000/svg"&&Mt==="foreignObject"?"http://www.w3.org/1999/xhtml":st}var mb,nb=function(st){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(Mt,nn,rn,an){MSApp.execUnsafeLocalFunction(function(){return st(Mt,nn,rn,an)})}:st}(function(st,Mt){if(st.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in st)st.innerHTML=Mt;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+Mt.valueOf().toString()+"</svg>",Mt=mb.firstChild;st.firstChild;)st.removeChild(st.firstChild);for(;Mt.firstChild;)st.appendChild(Mt.firstChild)}});function ob(st,Mt){if(Mt){var nn=st.firstChild;if(nn&&nn===st.lastChild&&nn.nodeType===3){nn.nodeValue=Mt;return}}st.textContent=Mt}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(st){qb.forEach(function(Mt){Mt=Mt+st.charAt(0).toUpperCase()+st.substring(1),pb[Mt]=pb[st]})});function rb(st,Mt,nn){return Mt==null||typeof Mt=="boolean"||Mt===""?"":nn||typeof Mt!="number"||Mt===0||pb.hasOwnProperty(st)&&pb[st]?(""+Mt).trim():Mt+"px"}function sb(st,Mt){st=st.style;for(var nn in Mt)if(Mt.hasOwnProperty(nn)){var rn=nn.indexOf("--")===0,an=rb(nn,Mt[nn],rn);nn==="float"&&(nn="cssFloat"),rn?st.setProperty(nn,an):st[nn]=an}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(st,Mt){if(Mt){if(tb[st]&&(Mt.children!=null||Mt.dangerouslySetInnerHTML!=null))throw Error(p$1(137,st));if(Mt.dangerouslySetInnerHTML!=null){if(Mt.children!=null)throw Error(p$1(60));if(typeof Mt.dangerouslySetInnerHTML!="object"||!("__html"in Mt.dangerouslySetInnerHTML))throw Error(p$1(61))}if(Mt.style!=null&&typeof Mt.style!="object")throw Error(p$1(62))}}function vb(st,Mt){if(st.indexOf("-")===-1)return typeof Mt.is=="string";switch(st){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(st){return st=st.target||st.srcElement||window,st.correspondingUseElement&&(st=st.correspondingUseElement),st.nodeType===3?st.parentNode:st}var yb=null,zb=null,Ab=null;function Bb(st){if(st=Cb(st)){if(typeof yb!="function")throw Error(p$1(280));var Mt=st.stateNode;Mt&&(Mt=Db(Mt),yb(st.stateNode,st.type,Mt))}}function Eb(st){zb?Ab?Ab.push(st):Ab=[st]:zb=st}function Fb(){if(zb){var st=zb,Mt=Ab;if(Ab=zb=null,Bb(st),Mt)for(st=0;st<Mt.length;st++)Bb(Mt[st])}}function Gb(st,Mt){return st(Mt)}function Hb(){}var Ib=!1;function Jb(st,Mt,nn){if(Ib)return st(Mt,nn);Ib=!0;try{return Gb(st,Mt,nn)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(st,Mt){var nn=st.stateNode;if(nn===null)return null;var rn=Db(nn);if(rn===null)return null;nn=rn[Mt];e:switch(Mt){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rn=!rn.disabled)||(st=st.type,rn=!(st==="button"||st==="input"||st==="select"||st==="textarea")),st=!rn;break e;default:st=!1}if(st)return null;if(nn&&typeof nn!="function")throw Error(p$1(231,Mt,typeof nn));return nn}var Lb=!1;if(ia$1)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(st,Mt,nn,rn,an,sn,un,ln,cn){var hn=Array.prototype.slice.call(arguments,3);try{Mt.apply(nn,hn)}catch(fn){this.onError(fn)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(st){Ob=!0,Pb=st}};function Tb(st,Mt,nn,rn,an,sn,un,ln,cn){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(st,Mt,nn,rn,an,sn,un,ln,cn){if(Tb.apply(this,arguments),Ob){if(Ob){var hn=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=hn)}}function Vb(st){var Mt=st,nn=st;if(st.alternate)for(;Mt.return;)Mt=Mt.return;else{st=Mt;do Mt=st,Mt.flags&4098&&(nn=Mt.return),st=Mt.return;while(st)}return Mt.tag===3?nn:null}function Wb(st){if(st.tag===13){var Mt=st.memoizedState;if(Mt===null&&(st=st.alternate,st!==null&&(Mt=st.memoizedState)),Mt!==null)return Mt.dehydrated}return null}function Xb(st){if(Vb(st)!==st)throw Error(p$1(188))}function Yb(st){var Mt=st.alternate;if(!Mt){if(Mt=Vb(st),Mt===null)throw Error(p$1(188));return Mt!==st?null:st}for(var nn=st,rn=Mt;;){var an=nn.return;if(an===null)break;var sn=an.alternate;if(sn===null){if(rn=an.return,rn!==null){nn=rn;continue}break}if(an.child===sn.child){for(sn=an.child;sn;){if(sn===nn)return Xb(an),st;if(sn===rn)return Xb(an),Mt;sn=sn.sibling}throw Error(p$1(188))}if(nn.return!==rn.return)nn=an,rn=sn;else{for(var un=!1,ln=an.child;ln;){if(ln===nn){un=!0,nn=an,rn=sn;break}if(ln===rn){un=!0,rn=an,nn=sn;break}ln=ln.sibling}if(!un){for(ln=sn.child;ln;){if(ln===nn){un=!0,nn=sn,rn=an;break}if(ln===rn){un=!0,rn=sn,nn=an;break}ln=ln.sibling}if(!un)throw Error(p$1(189))}}if(nn.alternate!==rn)throw Error(p$1(190))}if(nn.tag!==3)throw Error(p$1(188));return nn.stateNode.current===nn?st:Mt}function Zb(st){return st=Yb(st),st!==null?$b(st):null}function $b(st){if(st.tag===5||st.tag===6)return st;for(st=st.child;st!==null;){var Mt=$b(st);if(Mt!==null)return Mt;st=st.sibling}return null}var ac$1=ca$1.unstable_scheduleCallback,bc$1=ca$1.unstable_cancelCallback,cc$1=ca$1.unstable_shouldYield,dc$1=ca$1.unstable_requestPaint,B$1=ca$1.unstable_now,ec$1=ca$1.unstable_getCurrentPriorityLevel,fc$1=ca$1.unstable_ImmediatePriority,gc$1=ca$1.unstable_UserBlockingPriority,hc$1=ca$1.unstable_NormalPriority,ic$1=ca$1.unstable_LowPriority,jc$1=ca$1.unstable_IdlePriority,kc$1=null,lc$1=null;function mc$1(st){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc$1,st,void 0,(st.current.flags&128)===128)}catch{}}var oc$1=Math.clz32?Math.clz32:nc$1,pc$1=Math.log,qc$1=Math.LN2;function nc$1(st){return st>>>=0,st===0?32:31-(pc$1(st)/qc$1|0)|0}var rc$1=64,sc$1=4194304;function tc$1(st){switch(st&-st){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return st&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return st&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return st}}function uc$1(st,Mt){var nn=st.pendingLanes;if(nn===0)return 0;var rn=0,an=st.suspendedLanes,sn=st.pingedLanes,un=nn&268435455;if(un!==0){var ln=un&~an;ln!==0?rn=tc$1(ln):(sn&=un,sn!==0&&(rn=tc$1(sn)))}else un=nn&~an,un!==0?rn=tc$1(un):sn!==0&&(rn=tc$1(sn));if(rn===0)return 0;if(Mt!==0&&Mt!==rn&&!(Mt&an)&&(an=rn&-rn,sn=Mt&-Mt,an>=sn||an===16&&(sn&4194240)!==0))return Mt;if(rn&4&&(rn|=nn&16),Mt=st.entangledLanes,Mt!==0)for(st=st.entanglements,Mt&=rn;0<Mt;)nn=31-oc$1(Mt),an=1<<nn,rn|=st[nn],Mt&=~an;return rn}function vc$1(st,Mt){switch(st){case 1:case 2:case 4:return Mt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Mt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1(st,Mt){for(var nn=st.suspendedLanes,rn=st.pingedLanes,an=st.expirationTimes,sn=st.pendingLanes;0<sn;){var un=31-oc$1(sn),ln=1<<un,cn=an[un];cn===-1?(!(ln&nn)||ln&rn)&&(an[un]=vc$1(ln,Mt)):cn<=Mt&&(st.expiredLanes|=ln),sn&=~ln}}function xc$1(st){return st=st.pendingLanes&-1073741825,st!==0?st:st&1073741824?1073741824:0}function yc$1(){var st=rc$1;return rc$1<<=1,!(rc$1&4194240)&&(rc$1=64),st}function zc$1(st){for(var Mt=[],nn=0;31>nn;nn++)Mt.push(st);return Mt}function Ac$1(st,Mt,nn){st.pendingLanes|=Mt,Mt!==536870912&&(st.suspendedLanes=0,st.pingedLanes=0),st=st.eventTimes,Mt=31-oc$1(Mt),st[Mt]=nn}function Bc$1(st,Mt){var nn=st.pendingLanes&~Mt;st.pendingLanes=Mt,st.suspendedLanes=0,st.pingedLanes=0,st.expiredLanes&=Mt,st.mutableReadLanes&=Mt,st.entangledLanes&=Mt,Mt=st.entanglements;var rn=st.eventTimes;for(st=st.expirationTimes;0<nn;){var an=31-oc$1(nn),sn=1<<an;Mt[an]=0,rn[an]=-1,st[an]=-1,nn&=~sn}}function Cc$1(st,Mt){var nn=st.entangledLanes|=Mt;for(st=st.entanglements;nn;){var rn=31-oc$1(nn),an=1<<rn;an&Mt|st[rn]&Mt&&(st[rn]|=Mt),nn&=~an}}var C$1=0;function Dc$1(st){return st&=-st,1<st?4<st?st&268435455?16:536870912:4:1}var Ec$1,Fc$1,Gc$1,Hc$1,Ic$1,Jc$1=!1,Kc$1=[],Lc$1=null,Mc$1=null,Nc$1=null,Oc$1=new Map,Pc$1=new Map,Qc$1=[],Rc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$1(st,Mt){switch(st){case"focusin":case"focusout":Lc$1=null;break;case"dragenter":case"dragleave":Mc$1=null;break;case"mouseover":case"mouseout":Nc$1=null;break;case"pointerover":case"pointerout":Oc$1.delete(Mt.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$1.delete(Mt.pointerId)}}function Tc$1(st,Mt,nn,rn,an,sn){return st===null||st.nativeEvent!==sn?(st={blockedOn:Mt,domEventName:nn,eventSystemFlags:rn,nativeEvent:sn,targetContainers:[an]},Mt!==null&&(Mt=Cb(Mt),Mt!==null&&Fc$1(Mt)),st):(st.eventSystemFlags|=rn,Mt=st.targetContainers,an!==null&&Mt.indexOf(an)===-1&&Mt.push(an),st)}function Uc$1(st,Mt,nn,rn,an){switch(Mt){case"focusin":return Lc$1=Tc$1(Lc$1,st,Mt,nn,rn,an),!0;case"dragenter":return Mc$1=Tc$1(Mc$1,st,Mt,nn,rn,an),!0;case"mouseover":return Nc$1=Tc$1(Nc$1,st,Mt,nn,rn,an),!0;case"pointerover":var sn=an.pointerId;return Oc$1.set(sn,Tc$1(Oc$1.get(sn)||null,st,Mt,nn,rn,an)),!0;case"gotpointercapture":return sn=an.pointerId,Pc$1.set(sn,Tc$1(Pc$1.get(sn)||null,st,Mt,nn,rn,an)),!0}return!1}function Vc$1(st){var Mt=Wc$1(st.target);if(Mt!==null){var nn=Vb(Mt);if(nn!==null){if(Mt=nn.tag,Mt===13){if(Mt=Wb(nn),Mt!==null){st.blockedOn=Mt,Ic$1(st.priority,function(){Gc$1(nn)});return}}else if(Mt===3&&nn.stateNode.current.memoizedState.isDehydrated){st.blockedOn=nn.tag===3?nn.stateNode.containerInfo:null;return}}}st.blockedOn=null}function Xc$1(st){if(st.blockedOn!==null)return!1;for(var Mt=st.targetContainers;0<Mt.length;){var nn=Yc$1(st.domEventName,st.eventSystemFlags,Mt[0],st.nativeEvent);if(nn===null){nn=st.nativeEvent;var rn=new nn.constructor(nn.type,nn);wb=rn,nn.target.dispatchEvent(rn),wb=null}else return Mt=Cb(nn),Mt!==null&&Fc$1(Mt),st.blockedOn=nn,!1;Mt.shift()}return!0}function Zc$1(st,Mt,nn){Xc$1(st)&&nn.delete(Mt)}function $c$1(){Jc$1=!1,Lc$1!==null&&Xc$1(Lc$1)&&(Lc$1=null),Mc$1!==null&&Xc$1(Mc$1)&&(Mc$1=null),Nc$1!==null&&Xc$1(Nc$1)&&(Nc$1=null),Oc$1.forEach(Zc$1),Pc$1.forEach(Zc$1)}function ad$1(st,Mt){st.blockedOn===Mt&&(st.blockedOn=null,Jc$1||(Jc$1=!0,ca$1.unstable_scheduleCallback(ca$1.unstable_NormalPriority,$c$1)))}function bd$1(st){function Mt(an){return ad$1(an,st)}if(0<Kc$1.length){ad$1(Kc$1[0],st);for(var nn=1;nn<Kc$1.length;nn++){var rn=Kc$1[nn];rn.blockedOn===st&&(rn.blockedOn=null)}}for(Lc$1!==null&&ad$1(Lc$1,st),Mc$1!==null&&ad$1(Mc$1,st),Nc$1!==null&&ad$1(Nc$1,st),Oc$1.forEach(Mt),Pc$1.forEach(Mt),nn=0;nn<Qc$1.length;nn++)rn=Qc$1[nn],rn.blockedOn===st&&(rn.blockedOn=null);for(;0<Qc$1.length&&(nn=Qc$1[0],nn.blockedOn===null);)Vc$1(nn),nn.blockedOn===null&&Qc$1.shift()}var cd$1=ua$1.ReactCurrentBatchConfig,dd=!0;function ed$1(st,Mt,nn,rn){var an=C$1,sn=cd$1.transition;cd$1.transition=null;try{C$1=1,fd(st,Mt,nn,rn)}finally{C$1=an,cd$1.transition=sn}}function gd(st,Mt,nn,rn){var an=C$1,sn=cd$1.transition;cd$1.transition=null;try{C$1=4,fd(st,Mt,nn,rn)}finally{C$1=an,cd$1.transition=sn}}function fd(st,Mt,nn,rn){if(dd){var an=Yc$1(st,Mt,nn,rn);if(an===null)hd(st,Mt,rn,id$1,nn),Sc$1(st,rn);else if(Uc$1(an,st,Mt,nn,rn))rn.stopPropagation();else if(Sc$1(st,rn),Mt&4&&-1<Rc$1.indexOf(st)){for(;an!==null;){var sn=Cb(an);if(sn!==null&&Ec$1(sn),sn=Yc$1(st,Mt,nn,rn),sn===null&&hd(st,Mt,rn,id$1,nn),sn===an)break;an=sn}an!==null&&rn.stopPropagation()}else hd(st,Mt,rn,null,nn)}}var id$1=null;function Yc$1(st,Mt,nn,rn){if(id$1=null,st=xb(rn),st=Wc$1(st),st!==null)if(Mt=Vb(st),Mt===null)st=null;else if(nn=Mt.tag,nn===13){if(st=Wb(Mt),st!==null)return st;st=null}else if(nn===3){if(Mt.stateNode.current.memoizedState.isDehydrated)return Mt.tag===3?Mt.stateNode.containerInfo:null;st=null}else Mt!==st&&(st=null);return id$1=st,null}function jd(st){switch(st){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc$1:return 1;case gc$1:return 4;case hc$1:case ic$1:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd$1=null,ld=null,md=null;function nd$1(){if(md)return md;var st,Mt=ld,nn=Mt.length,rn,an="value"in kd$1?kd$1.value:kd$1.textContent,sn=an.length;for(st=0;st<nn&&Mt[st]===an[st];st++);var un=nn-st;for(rn=1;rn<=un&&Mt[nn-rn]===an[sn-rn];rn++);return md=an.slice(st,1<rn?1-rn:void 0)}function od(st){var Mt=st.keyCode;return"charCode"in st?(st=st.charCode,st===0&&Mt===13&&(st=13)):st=Mt,st===10&&(st=13),32<=st||st===13?st:0}function pd(){return!0}function qd(){return!1}function rd(st){function Mt(nn,rn,an,sn,un){this._reactName=nn,this._targetInst=an,this.type=rn,this.nativeEvent=sn,this.target=un,this.currentTarget=null;for(var ln in st)st.hasOwnProperty(ln)&&(nn=st[ln],this[ln]=nn?nn(sn):sn[ln]);return this.isDefaultPrevented=(sn.defaultPrevented!=null?sn.defaultPrevented:sn.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(Mt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var nn=this.nativeEvent;nn&&(nn.preventDefault?nn.preventDefault():typeof nn.returnValue!="unknown"&&(nn.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var nn=this.nativeEvent;nn&&(nn.stopPropagation?nn.stopPropagation():typeof nn.cancelBubble!="unknown"&&(nn.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),Mt}var sd$1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(st){return st.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd(sd$1),ud$1=A$1({},sd$1,{view:0,detail:0}),vd=rd(ud$1),wd$1,xd$1,yd,Ad=A$1({},ud$1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(st){return st.relatedTarget===void 0?st.fromElement===st.srcElement?st.toElement:st.fromElement:st.relatedTarget},movementX:function(st){return"movementX"in st?st.movementX:(st!==yd&&(yd&&st.type==="mousemove"?(wd$1=st.screenX-yd.screenX,xd$1=st.screenY-yd.screenY):xd$1=wd$1=0,yd=st),wd$1)},movementY:function(st){return"movementY"in st?st.movementY:xd$1}}),Bd=rd(Ad),Cd$1=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd$1),Ed$1=A$1({},ud$1,{relatedTarget:0}),Fd=rd(Ed$1),Gd=A$1({},sd$1,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id$1=A$1({},sd$1,{clipboardData:function(st){return"clipboardData"in st?st.clipboardData:window.clipboardData}}),Jd=rd(Id$1),Kd=A$1({},sd$1,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(st){var Mt=this.nativeEvent;return Mt.getModifierState?Mt.getModifierState(st):(st=Od[st])?!!Mt[st]:!1}function zd(){return Pd}var Qd=A$1({},ud$1,{key:function(st){if(st.key){var Mt=Md[st.key]||st.key;if(Mt!=="Unidentified")return Mt}return st.type==="keypress"?(st=od(st),st===13?"Enter":String.fromCharCode(st)):st.type==="keydown"||st.type==="keyup"?Nd[st.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(st){return st.type==="keypress"?od(st):0},keyCode:function(st){return st.type==="keydown"||st.type==="keyup"?st.keyCode:0},which:function(st){return st.type==="keypress"?od(st):st.type==="keydown"||st.type==="keyup"?st.keyCode:0}}),Rd$1=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud$1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd$1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(st){return"deltaX"in st?st.deltaX:"wheelDeltaX"in st?-st.wheelDeltaX:0},deltaY:function(st){return"deltaY"in st?st.deltaY:"wheelDeltaY"in st?-st.wheelDeltaY:"wheelDelta"in st?-st.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia$1&&"CompositionEvent"in window,be$1=null;ia$1&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia$1&&"TextEvent"in window&&!be$1,de$1=ia$1&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=" ",fe$1=!1;function ge$1(st,Mt){switch(st){case"keyup":return $d.indexOf(Mt.keyCode)!==-1;case"keydown":return Mt.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(st){return st=st.detail,typeof st=="object"&&"data"in st?st.data:null}var ie$1=!1;function je(st,Mt){switch(st){case"compositionend":return he$1(Mt);case"keypress":return Mt.which!==32?null:(fe$1=!0,ee$1);case"textInput":return st=Mt.data,st===ee$1&&fe$1?null:st;default:return null}}function ke$1(st,Mt){if(ie$1)return st==="compositionend"||!ae$1&&ge$1(st,Mt)?(st=nd$1(),md=ld=kd$1=null,ie$1=!1,st):null;switch(st){case"paste":return null;case"keypress":if(!(Mt.ctrlKey||Mt.altKey||Mt.metaKey)||Mt.ctrlKey&&Mt.altKey){if(Mt.char&&1<Mt.char.length)return Mt.char;if(Mt.which)return String.fromCharCode(Mt.which)}return null;case"compositionend":return de$1&&Mt.locale!=="ko"?null:Mt.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(st){var Mt=st&&st.nodeName&&st.nodeName.toLowerCase();return Mt==="input"?!!le$1[st.type]:Mt==="textarea"}function ne$1(st,Mt,nn,rn){Eb(rn),Mt=oe$1(Mt,"onChange"),0<Mt.length&&(nn=new td$1("onChange","change",null,nn,rn),st.push({event:nn,listeners:Mt}))}var pe$1=null,qe=null;function re$2(st){se$1(st,0)}function te$1(st){var Mt=ue$1(st);if(Wa$1(Mt))return st}function ve$1(st,Mt){if(st==="change")return Mt}var we$1=!1;if(ia$1){var xe$1;if(ia$1){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe=pe$1=null)}function Be$1(st){if(st.propertyName==="value"&&te$1(qe)){var Mt=[];ne$1(Mt,qe,st,xb(st)),Jb(re$2,Mt)}}function Ce$1(st,Mt,nn){st==="focusin"?(Ae$1(),pe$1=Mt,qe=nn,pe$1.attachEvent("onpropertychange",Be$1)):st==="focusout"&&Ae$1()}function De$1(st){if(st==="selectionchange"||st==="keyup"||st==="keydown")return te$1(qe)}function Ee$1(st,Mt){if(st==="click")return te$1(Mt)}function Fe$1(st,Mt){if(st==="input"||st==="change")return te$1(Mt)}function Ge(st,Mt){return st===Mt&&(st!==0||1/st===1/Mt)||st!==st&&Mt!==Mt}var He$1=typeof Object.is=="function"?Object.is:Ge;function Ie$1(st,Mt){if(He$1(st,Mt))return!0;if(typeof st!="object"||st===null||typeof Mt!="object"||Mt===null)return!1;var nn=Object.keys(st),rn=Object.keys(Mt);if(nn.length!==rn.length)return!1;for(rn=0;rn<nn.length;rn++){var an=nn[rn];if(!ja$1.call(Mt,an)||!He$1(st[an],Mt[an]))return!1}return!0}function Je(st){for(;st&&st.firstChild;)st=st.firstChild;return st}function Ke(st,Mt){var nn=Je(st);st=0;for(var rn;nn;){if(nn.nodeType===3){if(rn=st+nn.textContent.length,st<=Mt&&rn>=Mt)return{node:nn,offset:Mt-st};st=rn}e:{for(;nn;){if(nn.nextSibling){nn=nn.nextSibling;break e}nn=nn.parentNode}nn=void 0}nn=Je(nn)}}function Le$1(st,Mt){return st&&Mt?st===Mt?!0:st&&st.nodeType===3?!1:Mt&&Mt.nodeType===3?Le$1(st,Mt.parentNode):"contains"in st?st.contains(Mt):st.compareDocumentPosition?!!(st.compareDocumentPosition(Mt)&16):!1:!1}function Me$1(){for(var st=window,Mt=Xa$1();Mt instanceof st.HTMLIFrameElement;){try{var nn=typeof Mt.contentWindow.location.href=="string"}catch{nn=!1}if(nn)st=Mt.contentWindow;else break;Mt=Xa$1(st.document)}return Mt}function Ne$1(st){var Mt=st&&st.nodeName&&st.nodeName.toLowerCase();return Mt&&(Mt==="input"&&(st.type==="text"||st.type==="search"||st.type==="tel"||st.type==="url"||st.type==="password")||Mt==="textarea"||st.contentEditable==="true")}function Oe$1(st){var Mt=Me$1(),nn=st.focusedElem,rn=st.selectionRange;if(Mt!==nn&&nn&&nn.ownerDocument&&Le$1(nn.ownerDocument.documentElement,nn)){if(rn!==null&&Ne$1(nn)){if(Mt=rn.start,st=rn.end,st===void 0&&(st=Mt),"selectionStart"in nn)nn.selectionStart=Mt,nn.selectionEnd=Math.min(st,nn.value.length);else if(st=(Mt=nn.ownerDocument||document)&&Mt.defaultView||window,st.getSelection){st=st.getSelection();var an=nn.textContent.length,sn=Math.min(rn.start,an);rn=rn.end===void 0?sn:Math.min(rn.end,an),!st.extend&&sn>rn&&(an=rn,rn=sn,sn=an),an=Ke(nn,sn);var un=Ke(nn,rn);an&&un&&(st.rangeCount!==1||st.anchorNode!==an.node||st.anchorOffset!==an.offset||st.focusNode!==un.node||st.focusOffset!==un.offset)&&(Mt=Mt.createRange(),Mt.setStart(an.node,an.offset),st.removeAllRanges(),sn>rn?(st.addRange(Mt),st.extend(un.node,un.offset)):(Mt.setEnd(un.node,un.offset),st.addRange(Mt)))}}for(Mt=[],st=nn;st=st.parentNode;)st.nodeType===1&&Mt.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof nn.focus=="function"&&nn.focus(),nn=0;nn<Mt.length;nn++)st=Mt[nn],st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}var Pe$1=ia$1&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$1=null,Te$1=!1;function Ue$1(st,Mt,nn){var rn=nn.window===nn?nn.document:nn.nodeType===9?nn:nn.ownerDocument;Te$1||Qe==null||Qe!==Xa$1(rn)||(rn=Qe,"selectionStart"in rn&&Ne$1(rn)?rn={start:rn.selectionStart,end:rn.selectionEnd}:(rn=(rn.ownerDocument&&rn.ownerDocument.defaultView||window).getSelection(),rn={anchorNode:rn.anchorNode,anchorOffset:rn.anchorOffset,focusNode:rn.focusNode,focusOffset:rn.focusOffset}),Se$1&&Ie$1(Se$1,rn)||(Se$1=rn,rn=oe$1(Re$1,"onSelect"),0<rn.length&&(Mt=new td$1("onSelect","select",null,Mt,nn),st.push({event:Mt,listeners:rn}),Mt.target=Qe)))}function Ve$1(st,Mt){var nn={};return nn[st.toLowerCase()]=Mt.toLowerCase(),nn["Webkit"+st]="webkit"+Mt,nn["Moz"+st]="moz"+Mt,nn}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye={};ia$1&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(st){if(Xe$1[st])return Xe$1[st];if(!We$1[st])return st;var Mt=We$1[st],nn;for(nn in Mt)if(Mt.hasOwnProperty(nn)&&nn in Ye)return Xe$1[st]=Mt[nn];return st}var $e=Ze$1("animationend"),af$1=Ze$1("animationiteration"),bf$1=Ze$1("animationstart"),cf$1=Ze$1("transitionend"),df$1=new Map,ef$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff$1(st,Mt){df$1.set(st,Mt),fa$1(Mt,[st])}for(var gf$1=0;gf$1<ef$1.length;gf$1++){var hf$1=ef$1[gf$1],jf$1=hf$1.toLowerCase(),kf$1=hf$1[0].toUpperCase()+hf$1.slice(1);ff$1(jf$1,"on"+kf$1)}ff$1($e,"onAnimationEnd");ff$1(af$1,"onAnimationIteration");ff$1(bf$1,"onAnimationStart");ff$1("dblclick","onDoubleClick");ff$1("focusin","onFocus");ff$1("focusout","onBlur");ff$1(cf$1,"onTransitionEnd");ha$1("onMouseEnter",["mouseout","mouseover"]);ha$1("onMouseLeave",["mouseout","mouseover"]);ha$1("onPointerEnter",["pointerout","pointerover"]);ha$1("onPointerLeave",["pointerout","pointerover"]);fa$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$1("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf$1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf$1=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf$1));function nf$1(st,Mt,nn){var rn=st.type||"unknown-event";st.currentTarget=nn,Ub(rn,Mt,void 0,st),st.currentTarget=null}function se$1(st,Mt){Mt=(Mt&4)!==0;for(var nn=0;nn<st.length;nn++){var rn=st[nn],an=rn.event;rn=rn.listeners;e:{var sn=void 0;if(Mt)for(var un=rn.length-1;0<=un;un--){var ln=rn[un],cn=ln.instance,hn=ln.currentTarget;if(ln=ln.listener,cn!==sn&&an.isPropagationStopped())break e;nf$1(an,ln,hn),sn=cn}else for(un=0;un<rn.length;un++){if(ln=rn[un],cn=ln.instance,hn=ln.currentTarget,ln=ln.listener,cn!==sn&&an.isPropagationStopped())break e;nf$1(an,ln,hn),sn=cn}}}if(Qb)throw st=Rb,Qb=!1,Rb=null,st}function D$1(st,Mt){var nn=Mt[of$1];nn===void 0&&(nn=Mt[of$1]=new Set);var rn=st+"__bubble";nn.has(rn)||(pf$1(Mt,st,2,!1),nn.add(rn))}function qf$1(st,Mt,nn){var rn=0;Mt&&(rn|=4),pf$1(nn,st,rn,Mt)}var rf$1="_reactListening"+Math.random().toString(36).slice(2);function sf$1(st){if(!st[rf$1]){st[rf$1]=!0,da$1.forEach(function(nn){nn!=="selectionchange"&&(mf$1.has(nn)||qf$1(nn,!1,st),qf$1(nn,!0,st))});var Mt=st.nodeType===9?st:st.ownerDocument;Mt===null||Mt[rf$1]||(Mt[rf$1]=!0,qf$1("selectionchange",!1,Mt))}}function pf$1(st,Mt,nn,rn){switch(jd(Mt)){case 1:var an=ed$1;break;case 4:an=gd;break;default:an=fd}nn=an.bind(null,Mt,nn,st),an=void 0,!Lb||Mt!=="touchstart"&&Mt!=="touchmove"&&Mt!=="wheel"||(an=!0),rn?an!==void 0?st.addEventListener(Mt,nn,{capture:!0,passive:an}):st.addEventListener(Mt,nn,!0):an!==void 0?st.addEventListener(Mt,nn,{passive:an}):st.addEventListener(Mt,nn,!1)}function hd(st,Mt,nn,rn,an){var sn=rn;if(!(Mt&1)&&!(Mt&2)&&rn!==null)e:for(;;){if(rn===null)return;var un=rn.tag;if(un===3||un===4){var ln=rn.stateNode.containerInfo;if(ln===an||ln.nodeType===8&&ln.parentNode===an)break;if(un===4)for(un=rn.return;un!==null;){var cn=un.tag;if((cn===3||cn===4)&&(cn=un.stateNode.containerInfo,cn===an||cn.nodeType===8&&cn.parentNode===an))return;un=un.return}for(;ln!==null;){if(un=Wc$1(ln),un===null)return;if(cn=un.tag,cn===5||cn===6){rn=sn=un;continue e}ln=ln.parentNode}}rn=rn.return}Jb(function(){var hn=sn,fn=xb(nn),to=[];e:{var Xr=df$1.get(st);if(Xr!==void 0){var uo=td$1,co=st;switch(st){case"keypress":if(od(nn)===0)break e;case"keydown":case"keyup":uo=Rd$1;break;case"focusin":co="focus",uo=Fd;break;case"focusout":co="blur",uo=Fd;break;case"beforeblur":case"afterblur":uo=Fd;break;case"click":if(nn.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":uo=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":uo=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":uo=Vd;break;case $e:case af$1:case bf$1:uo=Hd;break;case cf$1:uo=Xd;break;case"scroll":uo=vd;break;case"wheel":uo=Zd;break;case"copy":case"cut":case"paste":uo=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":uo=Td}var ho=(Mt&4)!==0,e0=!ho&&st==="scroll",lo=ho?Xr!==null?Xr+"Capture":null:Xr;ho=[];for(var mo=hn,fo;mo!==null;){fo=mo;var Uo=fo.stateNode;if(fo.tag===5&&Uo!==null&&(fo=Uo,lo!==null&&(Uo=Kb(mo,lo),Uo!=null&&ho.push(tf$1(mo,Uo,fo)))),e0)break;mo=mo.return}0<ho.length&&(Xr=new uo(Xr,co,null,nn,fn),to.push({event:Xr,listeners:ho}))}}if(!(Mt&7)){e:{if(Xr=st==="mouseover"||st==="pointerover",uo=st==="mouseout"||st==="pointerout",Xr&&nn!==wb&&(co=nn.relatedTarget||nn.fromElement)&&(Wc$1(co)||co[uf$1]))break e;if((uo||Xr)&&(Xr=fn.window===fn?fn:(Xr=fn.ownerDocument)?Xr.defaultView||Xr.parentWindow:window,uo?(co=nn.relatedTarget||nn.toElement,uo=hn,co=co?Wc$1(co):null,co!==null&&(e0=Vb(co),co!==e0||co.tag!==5&&co.tag!==6)&&(co=null)):(uo=null,co=hn),uo!==co)){if(ho=Bd,Uo="onMouseLeave",lo="onMouseEnter",mo="mouse",(st==="pointerout"||st==="pointerover")&&(ho=Td,Uo="onPointerLeave",lo="onPointerEnter",mo="pointer"),e0=uo==null?Xr:ue$1(uo),fo=co==null?Xr:ue$1(co),Xr=new ho(Uo,mo+"leave",uo,nn,fn),Xr.target=e0,Xr.relatedTarget=fo,Uo=null,Wc$1(fn)===hn&&(ho=new ho(lo,mo+"enter",co,nn,fn),ho.target=fo,ho.relatedTarget=e0,Uo=ho),e0=Uo,uo&&co)t:{for(ho=uo,lo=co,mo=0,fo=ho;fo;fo=vf$1(fo))mo++;for(fo=0,Uo=lo;Uo;Uo=vf$1(Uo))fo++;for(;0<mo-fo;)ho=vf$1(ho),mo--;for(;0<fo-mo;)lo=vf$1(lo),fo--;for(;mo--;){if(ho===lo||lo!==null&&ho===lo.alternate)break t;ho=vf$1(ho),lo=vf$1(lo)}ho=null}else ho=null;uo!==null&&wf$1(to,Xr,uo,ho,!1),co!==null&&e0!==null&&wf$1(to,e0,co,ho,!0)}}e:{if(Xr=hn?ue$1(hn):window,uo=Xr.nodeName&&Xr.nodeName.toLowerCase(),uo==="select"||uo==="input"&&Xr.type==="file")var t0=ve$1;else if(me$1(Xr))if(we$1)t0=Fe$1;else{t0=De$1;var n0=Ce$1}else(uo=Xr.nodeName)&&uo.toLowerCase()==="input"&&(Xr.type==="checkbox"||Xr.type==="radio")&&(t0=Ee$1);if(t0&&(t0=t0(st,hn))){ne$1(to,t0,nn,fn);break e}n0&&n0(st,Xr,hn),st==="focusout"&&(n0=Xr._wrapperState)&&n0.controlled&&Xr.type==="number"&&cb(Xr,"number",Xr.value)}switch(n0=hn?ue$1(hn):window,st){case"focusin":(me$1(n0)||n0.contentEditable==="true")&&(Qe=n0,Re$1=hn,Se$1=null);break;case"focusout":Se$1=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(to,nn,fn);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(to,nn,fn)}var i0;if(ae$1)e:{switch(st){case"compositionstart":var a0="onCompositionStart";break e;case"compositionend":a0="onCompositionEnd";break e;case"compositionupdate":a0="onCompositionUpdate";break e}a0=void 0}else ie$1?ge$1(st,nn)&&(a0="onCompositionEnd"):st==="keydown"&&nn.keyCode===229&&(a0="onCompositionStart");a0&&(de$1&&nn.locale!=="ko"&&(ie$1||a0!=="onCompositionStart"?a0==="onCompositionEnd"&&ie$1&&(i0=nd$1()):(kd$1=fn,ld="value"in kd$1?kd$1.value:kd$1.textContent,ie$1=!0)),n0=oe$1(hn,a0),0<n0.length&&(a0=new Ld(a0,st,null,nn,fn),to.push({event:a0,listeners:n0}),i0?a0.data=i0:(i0=he$1(nn),i0!==null&&(a0.data=i0)))),(i0=ce$1?je(st,nn):ke$1(st,nn))&&(hn=oe$1(hn,"onBeforeInput"),0<hn.length&&(fn=new Ld("onBeforeInput","beforeinput",null,nn,fn),to.push({event:fn,listeners:hn}),fn.data=i0))}se$1(to,Mt)})}function tf$1(st,Mt,nn){return{instance:st,listener:Mt,currentTarget:nn}}function oe$1(st,Mt){for(var nn=Mt+"Capture",rn=[];st!==null;){var an=st,sn=an.stateNode;an.tag===5&&sn!==null&&(an=sn,sn=Kb(st,nn),sn!=null&&rn.unshift(tf$1(st,sn,an)),sn=Kb(st,Mt),sn!=null&&rn.push(tf$1(st,sn,an))),st=st.return}return rn}function vf$1(st){if(st===null)return null;do st=st.return;while(st&&st.tag!==5);return st||null}function wf$1(st,Mt,nn,rn,an){for(var sn=Mt._reactName,un=[];nn!==null&&nn!==rn;){var ln=nn,cn=ln.alternate,hn=ln.stateNode;if(cn!==null&&cn===rn)break;ln.tag===5&&hn!==null&&(ln=hn,an?(cn=Kb(nn,sn),cn!=null&&un.unshift(tf$1(nn,cn,ln))):an||(cn=Kb(nn,sn),cn!=null&&un.push(tf$1(nn,cn,ln)))),nn=nn.return}un.length!==0&&st.push({event:Mt,listeners:un})}var xf$1=/\r\n?/g,yf$1=/\u0000|\uFFFD/g;function zf$1(st){return(typeof st=="string"?st:""+st).replace(xf$1,`
`).replace(yf$1,"")}function Af$1(st,Mt,nn){if(Mt=zf$1(Mt),zf$1(st)!==Mt&&nn)throw Error(p$1(425))}function Bf$1(){}var Cf$1=null,Df$1=null;function Ef$1(st,Mt){return st==="textarea"||st==="noscript"||typeof Mt.children=="string"||typeof Mt.children=="number"||typeof Mt.dangerouslySetInnerHTML=="object"&&Mt.dangerouslySetInnerHTML!==null&&Mt.dangerouslySetInnerHTML.__html!=null}var Ff$1=typeof setTimeout=="function"?setTimeout:void 0,Gf$1=typeof clearTimeout=="function"?clearTimeout:void 0,Hf$1=typeof Promise=="function"?Promise:void 0,Jf$1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf$1<"u"?function(st){return Hf$1.resolve(null).then(st).catch(If$1)}:Ff$1;function If$1(st){setTimeout(function(){throw st})}function Kf$1(st,Mt){var nn=Mt,rn=0;do{var an=nn.nextSibling;if(st.removeChild(nn),an&&an.nodeType===8)if(nn=an.data,nn==="/$"){if(rn===0){st.removeChild(an),bd$1(Mt);return}rn--}else nn!=="$"&&nn!=="$?"&&nn!=="$!"||rn++;nn=an}while(nn);bd$1(Mt)}function Lf$1(st){for(;st!=null;st=st.nextSibling){var Mt=st.nodeType;if(Mt===1||Mt===3)break;if(Mt===8){if(Mt=st.data,Mt==="$"||Mt==="$!"||Mt==="$?")break;if(Mt==="/$")return null}}return st}function Mf$1(st){st=st.previousSibling;for(var Mt=0;st;){if(st.nodeType===8){var nn=st.data;if(nn==="$"||nn==="$!"||nn==="$?"){if(Mt===0)return st;Mt--}else nn==="/$"&&Mt++}st=st.previousSibling}return null}var Nf$1=Math.random().toString(36).slice(2),Of$1="__reactFiber$"+Nf$1,Pf$1="__reactProps$"+Nf$1,uf$1="__reactContainer$"+Nf$1,of$1="__reactEvents$"+Nf$1,Qf$1="__reactListeners$"+Nf$1,Rf$1="__reactHandles$"+Nf$1;function Wc$1(st){var Mt=st[Of$1];if(Mt)return Mt;for(var nn=st.parentNode;nn;){if(Mt=nn[uf$1]||nn[Of$1]){if(nn=Mt.alternate,Mt.child!==null||nn!==null&&nn.child!==null)for(st=Mf$1(st);st!==null;){if(nn=st[Of$1])return nn;st=Mf$1(st)}return Mt}st=nn,nn=st.parentNode}return null}function Cb(st){return st=st[Of$1]||st[uf$1],!st||st.tag!==5&&st.tag!==6&&st.tag!==13&&st.tag!==3?null:st}function ue$1(st){if(st.tag===5||st.tag===6)return st.stateNode;throw Error(p$1(33))}function Db(st){return st[Pf$1]||null}var Sf$1=[],Tf$1=-1;function Uf$1(st){return{current:st}}function E$1(st){0>Tf$1||(st.current=Sf$1[Tf$1],Sf$1[Tf$1]=null,Tf$1--)}function G$1(st,Mt){Tf$1++,Sf$1[Tf$1]=st.current,st.current=Mt}var Vf$1={},H$1=Uf$1(Vf$1),Wf$1=Uf$1(!1),Xf$1=Vf$1;function Yf$1(st,Mt){var nn=st.type.contextTypes;if(!nn)return Vf$1;var rn=st.stateNode;if(rn&&rn.__reactInternalMemoizedUnmaskedChildContext===Mt)return rn.__reactInternalMemoizedMaskedChildContext;var an={},sn;for(sn in nn)an[sn]=Mt[sn];return rn&&(st=st.stateNode,st.__reactInternalMemoizedUnmaskedChildContext=Mt,st.__reactInternalMemoizedMaskedChildContext=an),an}function Zf$1(st){return st=st.childContextTypes,st!=null}function $f$1(){E$1(Wf$1),E$1(H$1)}function ag(st,Mt,nn){if(H$1.current!==Vf$1)throw Error(p$1(168));G$1(H$1,Mt),G$1(Wf$1,nn)}function bg(st,Mt,nn){var rn=st.stateNode;if(Mt=Mt.childContextTypes,typeof rn.getChildContext!="function")return nn;rn=rn.getChildContext();for(var an in rn)if(!(an in Mt))throw Error(p$1(108,Ra$1(st)||"Unknown",an));return A$1({},nn,rn)}function cg(st){return st=(st=st.stateNode)&&st.__reactInternalMemoizedMergedChildContext||Vf$1,Xf$1=H$1.current,G$1(H$1,st),G$1(Wf$1,Wf$1.current),!0}function dg(st,Mt,nn){var rn=st.stateNode;if(!rn)throw Error(p$1(169));nn?(st=bg(st,Mt,Xf$1),rn.__reactInternalMemoizedMergedChildContext=st,E$1(Wf$1),E$1(H$1),G$1(H$1,st)):E$1(Wf$1),G$1(Wf$1,nn)}var eg=null,fg=!1,gg=!1;function hg(st){eg===null?eg=[st]:eg.push(st)}function ig(st){fg=!0,hg(st)}function jg(){if(!gg&&eg!==null){gg=!0;var st=0,Mt=C$1;try{var nn=eg;for(C$1=1;st<nn.length;st++){var rn=nn[st];do rn=rn(!0);while(rn!==null)}eg=null,fg=!1}catch(an){throw eg!==null&&(eg=eg.slice(st+1)),ac$1(fc$1,jg),an}finally{C$1=Mt,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(st,Mt){kg[lg++]=ng,kg[lg++]=mg,mg=st,ng=Mt}function ug(st,Mt,nn){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=st;var rn=rg;st=sg;var an=32-oc$1(rn)-1;rn&=~(1<<an),nn+=1;var sn=32-oc$1(Mt)+an;if(30<sn){var un=an-an%5;sn=(rn&(1<<un)-1).toString(32),rn>>=un,an-=un,rg=1<<32-oc$1(Mt)+an|nn<<an|rn,sg=sn+st}else rg=1<<sn|nn<<an|rn,sg=st}function vg(st){st.return!==null&&(tg(st,1),ug(st,1,0))}function wg(st){for(;st===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;st===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(st,Mt){var nn=Bg(5,null,null,0);nn.elementType="DELETED",nn.stateNode=Mt,nn.return=st,Mt=st.deletions,Mt===null?(st.deletions=[nn],st.flags|=16):Mt.push(nn)}function Cg(st,Mt){switch(st.tag){case 5:var nn=st.type;return Mt=Mt.nodeType!==1||nn.toLowerCase()!==Mt.nodeName.toLowerCase()?null:Mt,Mt!==null?(st.stateNode=Mt,xg=st,yg=Lf$1(Mt.firstChild),!0):!1;case 6:return Mt=st.pendingProps===""||Mt.nodeType!==3?null:Mt,Mt!==null?(st.stateNode=Mt,xg=st,yg=null,!0):!1;case 13:return Mt=Mt.nodeType!==8?null:Mt,Mt!==null?(nn=qg!==null?{id:rg,overflow:sg}:null,st.memoizedState={dehydrated:Mt,treeContext:nn,retryLane:1073741824},nn=Bg(18,null,null,0),nn.stateNode=Mt,nn.return=st,st.child=nn,xg=st,yg=null,!0):!1;default:return!1}}function Dg(st){return(st.mode&1)!==0&&(st.flags&128)===0}function Eg(st){if(I$1){var Mt=yg;if(Mt){var nn=Mt;if(!Cg(st,Mt)){if(Dg(st))throw Error(p$1(418));Mt=Lf$1(nn.nextSibling);var rn=xg;Mt&&Cg(st,Mt)?Ag(rn,nn):(st.flags=st.flags&-4097|2,I$1=!1,xg=st)}}else{if(Dg(st))throw Error(p$1(418));st.flags=st.flags&-4097|2,I$1=!1,xg=st}}}function Fg(st){for(st=st.return;st!==null&&st.tag!==5&&st.tag!==3&&st.tag!==13;)st=st.return;xg=st}function Gg(st){if(st!==xg)return!1;if(!I$1)return Fg(st),I$1=!0,!1;var Mt;if((Mt=st.tag!==3)&&!(Mt=st.tag!==5)&&(Mt=st.type,Mt=Mt!=="head"&&Mt!=="body"&&!Ef$1(st.type,st.memoizedProps)),Mt&&(Mt=yg)){if(Dg(st))throw Hg(),Error(p$1(418));for(;Mt;)Ag(st,Mt),Mt=Lf$1(Mt.nextSibling)}if(Fg(st),st.tag===13){if(st=st.memoizedState,st=st!==null?st.dehydrated:null,!st)throw Error(p$1(317));e:{for(st=st.nextSibling,Mt=0;st;){if(st.nodeType===8){var nn=st.data;if(nn==="/$"){if(Mt===0){yg=Lf$1(st.nextSibling);break e}Mt--}else nn!=="$"&&nn!=="$!"&&nn!=="$?"||Mt++}st=st.nextSibling}yg=null}}else yg=xg?Lf$1(st.stateNode.nextSibling):null;return!0}function Hg(){for(var st=yg;st;)st=Lf$1(st.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(st){zg===null?zg=[st]:zg.push(st)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(st,Mt,nn){if(st=nn.ref,st!==null&&typeof st!="function"&&typeof st!="object"){if(nn._owner){if(nn=nn._owner,nn){if(nn.tag!==1)throw Error(p$1(309));var rn=nn.stateNode}if(!rn)throw Error(p$1(147,st));var an=rn,sn=""+st;return Mt!==null&&Mt.ref!==null&&typeof Mt.ref=="function"&&Mt.ref._stringRef===sn?Mt.ref:(Mt=function(un){var ln=an.refs;un===null?delete ln[sn]:ln[sn]=un},Mt._stringRef=sn,Mt)}if(typeof st!="string")throw Error(p$1(284));if(!nn._owner)throw Error(p$1(290,st))}return st}function Mg(st,Mt){throw st=Object.prototype.toString.call(Mt),Error(p$1(31,st==="[object Object]"?"object with keys {"+Object.keys(Mt).join(", ")+"}":st))}function Ng(st){var Mt=st._init;return Mt(st._payload)}function Og(st){function Mt(lo,mo){if(st){var fo=lo.deletions;fo===null?(lo.deletions=[mo],lo.flags|=16):fo.push(mo)}}function nn(lo,mo){if(!st)return null;for(;mo!==null;)Mt(lo,mo),mo=mo.sibling;return null}function rn(lo,mo){for(lo=new Map;mo!==null;)mo.key!==null?lo.set(mo.key,mo):lo.set(mo.index,mo),mo=mo.sibling;return lo}function an(lo,mo){return lo=Pg(lo,mo),lo.index=0,lo.sibling=null,lo}function sn(lo,mo,fo){return lo.index=fo,st?(fo=lo.alternate,fo!==null?(fo=fo.index,fo<mo?(lo.flags|=2,mo):fo):(lo.flags|=2,mo)):(lo.flags|=1048576,mo)}function un(lo){return st&&lo.alternate===null&&(lo.flags|=2),lo}function ln(lo,mo,fo,Uo){return mo===null||mo.tag!==6?(mo=Qg(fo,lo.mode,Uo),mo.return=lo,mo):(mo=an(mo,fo),mo.return=lo,mo)}function cn(lo,mo,fo,Uo){var t0=fo.type;return t0===ya$1?fn(lo,mo,fo.props.children,Uo,fo.key):mo!==null&&(mo.elementType===t0||typeof t0=="object"&&t0!==null&&t0.$$typeof===Ha$1&&Ng(t0)===mo.type)?(Uo=an(mo,fo.props),Uo.ref=Lg(lo,mo,fo),Uo.return=lo,Uo):(Uo=Rg(fo.type,fo.key,fo.props,null,lo.mode,Uo),Uo.ref=Lg(lo,mo,fo),Uo.return=lo,Uo)}function hn(lo,mo,fo,Uo){return mo===null||mo.tag!==4||mo.stateNode.containerInfo!==fo.containerInfo||mo.stateNode.implementation!==fo.implementation?(mo=Sg(fo,lo.mode,Uo),mo.return=lo,mo):(mo=an(mo,fo.children||[]),mo.return=lo,mo)}function fn(lo,mo,fo,Uo,t0){return mo===null||mo.tag!==7?(mo=Tg(fo,lo.mode,Uo,t0),mo.return=lo,mo):(mo=an(mo,fo),mo.return=lo,mo)}function to(lo,mo,fo){if(typeof mo=="string"&&mo!==""||typeof mo=="number")return mo=Qg(""+mo,lo.mode,fo),mo.return=lo,mo;if(typeof mo=="object"&&mo!==null){switch(mo.$$typeof){case va$1:return fo=Rg(mo.type,mo.key,mo.props,null,lo.mode,fo),fo.ref=Lg(lo,null,mo),fo.return=lo,fo;case wa$1:return mo=Sg(mo,lo.mode,fo),mo.return=lo,mo;case Ha$1:var Uo=mo._init;return to(lo,Uo(mo._payload),fo)}if(eb(mo)||Ka$1(mo))return mo=Tg(mo,lo.mode,fo,null),mo.return=lo,mo;Mg(lo,mo)}return null}function Xr(lo,mo,fo,Uo){var t0=mo!==null?mo.key:null;if(typeof fo=="string"&&fo!==""||typeof fo=="number")return t0!==null?null:ln(lo,mo,""+fo,Uo);if(typeof fo=="object"&&fo!==null){switch(fo.$$typeof){case va$1:return fo.key===t0?cn(lo,mo,fo,Uo):null;case wa$1:return fo.key===t0?hn(lo,mo,fo,Uo):null;case Ha$1:return t0=fo._init,Xr(lo,mo,t0(fo._payload),Uo)}if(eb(fo)||Ka$1(fo))return t0!==null?null:fn(lo,mo,fo,Uo,null);Mg(lo,fo)}return null}function uo(lo,mo,fo,Uo,t0){if(typeof Uo=="string"&&Uo!==""||typeof Uo=="number")return lo=lo.get(fo)||null,ln(mo,lo,""+Uo,t0);if(typeof Uo=="object"&&Uo!==null){switch(Uo.$$typeof){case va$1:return lo=lo.get(Uo.key===null?fo:Uo.key)||null,cn(mo,lo,Uo,t0);case wa$1:return lo=lo.get(Uo.key===null?fo:Uo.key)||null,hn(mo,lo,Uo,t0);case Ha$1:var n0=Uo._init;return uo(lo,mo,fo,n0(Uo._payload),t0)}if(eb(Uo)||Ka$1(Uo))return lo=lo.get(fo)||null,fn(mo,lo,Uo,t0,null);Mg(mo,Uo)}return null}function co(lo,mo,fo,Uo){for(var t0=null,n0=null,i0=mo,a0=mo=0,s0=null;i0!==null&&a0<fo.length;a0++){i0.index>a0?(s0=i0,i0=null):s0=i0.sibling;var l0=Xr(lo,i0,fo[a0],Uo);if(l0===null){i0===null&&(i0=s0);break}st&&i0&&l0.alternate===null&&Mt(lo,i0),mo=sn(l0,mo,a0),n0===null?t0=l0:n0.sibling=l0,n0=l0,i0=s0}if(a0===fo.length)return nn(lo,i0),I$1&&tg(lo,a0),t0;if(i0===null){for(;a0<fo.length;a0++)i0=to(lo,fo[a0],Uo),i0!==null&&(mo=sn(i0,mo,a0),n0===null?t0=i0:n0.sibling=i0,n0=i0);return I$1&&tg(lo,a0),t0}for(i0=rn(lo,i0);a0<fo.length;a0++)s0=uo(i0,lo,a0,fo[a0],Uo),s0!==null&&(st&&s0.alternate!==null&&i0.delete(s0.key===null?a0:s0.key),mo=sn(s0,mo,a0),n0===null?t0=s0:n0.sibling=s0,n0=s0);return st&&i0.forEach(function(d0){return Mt(lo,d0)}),I$1&&tg(lo,a0),t0}function ho(lo,mo,fo,Uo){var t0=Ka$1(fo);if(typeof t0!="function")throw Error(p$1(150));if(fo=t0.call(fo),fo==null)throw Error(p$1(151));for(var n0=t0=null,i0=mo,a0=mo=0,s0=null,l0=fo.next();i0!==null&&!l0.done;a0++,l0=fo.next()){i0.index>a0?(s0=i0,i0=null):s0=i0.sibling;var d0=Xr(lo,i0,l0.value,Uo);if(d0===null){i0===null&&(i0=s0);break}st&&i0&&d0.alternate===null&&Mt(lo,i0),mo=sn(d0,mo,a0),n0===null?t0=d0:n0.sibling=d0,n0=d0,i0=s0}if(l0.done)return nn(lo,i0),I$1&&tg(lo,a0),t0;if(i0===null){for(;!l0.done;a0++,l0=fo.next())l0=to(lo,l0.value,Uo),l0!==null&&(mo=sn(l0,mo,a0),n0===null?t0=l0:n0.sibling=l0,n0=l0);return I$1&&tg(lo,a0),t0}for(i0=rn(lo,i0);!l0.done;a0++,l0=fo.next())l0=uo(i0,lo,a0,l0.value,Uo),l0!==null&&(st&&l0.alternate!==null&&i0.delete(l0.key===null?a0:l0.key),mo=sn(l0,mo,a0),n0===null?t0=l0:n0.sibling=l0,n0=l0);return st&&i0.forEach(function(h0){return Mt(lo,h0)}),I$1&&tg(lo,a0),t0}function e0(lo,mo,fo,Uo){if(typeof fo=="object"&&fo!==null&&fo.type===ya$1&&fo.key===null&&(fo=fo.props.children),typeof fo=="object"&&fo!==null){switch(fo.$$typeof){case va$1:e:{for(var t0=fo.key,n0=mo;n0!==null;){if(n0.key===t0){if(t0=fo.type,t0===ya$1){if(n0.tag===7){nn(lo,n0.sibling),mo=an(n0,fo.props.children),mo.return=lo,lo=mo;break e}}else if(n0.elementType===t0||typeof t0=="object"&&t0!==null&&t0.$$typeof===Ha$1&&Ng(t0)===n0.type){nn(lo,n0.sibling),mo=an(n0,fo.props),mo.ref=Lg(lo,n0,fo),mo.return=lo,lo=mo;break e}nn(lo,n0);break}else Mt(lo,n0);n0=n0.sibling}fo.type===ya$1?(mo=Tg(fo.props.children,lo.mode,Uo,fo.key),mo.return=lo,lo=mo):(Uo=Rg(fo.type,fo.key,fo.props,null,lo.mode,Uo),Uo.ref=Lg(lo,mo,fo),Uo.return=lo,lo=Uo)}return un(lo);case wa$1:e:{for(n0=fo.key;mo!==null;){if(mo.key===n0)if(mo.tag===4&&mo.stateNode.containerInfo===fo.containerInfo&&mo.stateNode.implementation===fo.implementation){nn(lo,mo.sibling),mo=an(mo,fo.children||[]),mo.return=lo,lo=mo;break e}else{nn(lo,mo);break}else Mt(lo,mo);mo=mo.sibling}mo=Sg(fo,lo.mode,Uo),mo.return=lo,lo=mo}return un(lo);case Ha$1:return n0=fo._init,e0(lo,mo,n0(fo._payload),Uo)}if(eb(fo))return co(lo,mo,fo,Uo);if(Ka$1(fo))return ho(lo,mo,fo,Uo);Mg(lo,fo)}return typeof fo=="string"&&fo!==""||typeof fo=="number"?(fo=""+fo,mo!==null&&mo.tag===6?(nn(lo,mo.sibling),mo=an(mo,fo),mo.return=lo,lo=mo):(nn(lo,mo),mo=Qg(fo,lo.mode,Uo),mo.return=lo,lo=mo),un(lo)):nn(lo,mo)}return e0}var Ug=Og(!0),Vg=Og(!1),Wg=Uf$1(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah$1(st){var Mt=Wg.current;E$1(Wg),st._currentValue=Mt}function bh$1(st,Mt,nn){for(;st!==null;){var rn=st.alternate;if((st.childLanes&Mt)!==Mt?(st.childLanes|=Mt,rn!==null&&(rn.childLanes|=Mt)):rn!==null&&(rn.childLanes&Mt)!==Mt&&(rn.childLanes|=Mt),st===nn)break;st=st.return}}function ch$1(st,Mt){Xg=st,Zg=Yg=null,st=st.dependencies,st!==null&&st.firstContext!==null&&(st.lanes&Mt&&(dh$1=!0),st.firstContext=null)}function eh$1(st){var Mt=st._currentValue;if(Zg!==st)if(st={context:st,memoizedValue:Mt,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=st,Xg.dependencies={lanes:0,firstContext:st}}else Yg=Yg.next=st;return Mt}var fh$1=null;function gh$1(st){fh$1===null?fh$1=[st]:fh$1.push(st)}function hh$1(st,Mt,nn,rn){var an=Mt.interleaved;return an===null?(nn.next=nn,gh$1(Mt)):(nn.next=an.next,an.next=nn),Mt.interleaved=nn,ih$1(st,rn)}function ih$1(st,Mt){st.lanes|=Mt;var nn=st.alternate;for(nn!==null&&(nn.lanes|=Mt),nn=st,st=st.return;st!==null;)st.childLanes|=Mt,nn=st.alternate,nn!==null&&(nn.childLanes|=Mt),nn=st,st=st.return;return nn.tag===3?nn.stateNode:null}var jh$1=!1;function kh$1(st){st.updateQueue={baseState:st.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh$1(st,Mt){st=st.updateQueue,Mt.updateQueue===st&&(Mt.updateQueue={baseState:st.baseState,firstBaseUpdate:st.firstBaseUpdate,lastBaseUpdate:st.lastBaseUpdate,shared:st.shared,effects:st.effects})}function mh$1(st,Mt){return{eventTime:st,lane:Mt,tag:0,payload:null,callback:null,next:null}}function nh$1(st,Mt,nn){var rn=st.updateQueue;if(rn===null)return null;if(rn=rn.shared,K$1&2){var an=rn.pending;return an===null?Mt.next=Mt:(Mt.next=an.next,an.next=Mt),rn.pending=Mt,ih$1(st,nn)}return an=rn.interleaved,an===null?(Mt.next=Mt,gh$1(rn)):(Mt.next=an.next,an.next=Mt),rn.interleaved=Mt,ih$1(st,nn)}function oh$1(st,Mt,nn){if(Mt=Mt.updateQueue,Mt!==null&&(Mt=Mt.shared,(nn&4194240)!==0)){var rn=Mt.lanes;rn&=st.pendingLanes,nn|=rn,Mt.lanes=nn,Cc$1(st,nn)}}function ph$1(st,Mt){var nn=st.updateQueue,rn=st.alternate;if(rn!==null&&(rn=rn.updateQueue,nn===rn)){var an=null,sn=null;if(nn=nn.firstBaseUpdate,nn!==null){do{var un={eventTime:nn.eventTime,lane:nn.lane,tag:nn.tag,payload:nn.payload,callback:nn.callback,next:null};sn===null?an=sn=un:sn=sn.next=un,nn=nn.next}while(nn!==null);sn===null?an=sn=Mt:sn=sn.next=Mt}else an=sn=Mt;nn={baseState:rn.baseState,firstBaseUpdate:an,lastBaseUpdate:sn,shared:rn.shared,effects:rn.effects},st.updateQueue=nn;return}st=nn.lastBaseUpdate,st===null?nn.firstBaseUpdate=Mt:st.next=Mt,nn.lastBaseUpdate=Mt}function qh$1(st,Mt,nn,rn){var an=st.updateQueue;jh$1=!1;var sn=an.firstBaseUpdate,un=an.lastBaseUpdate,ln=an.shared.pending;if(ln!==null){an.shared.pending=null;var cn=ln,hn=cn.next;cn.next=null,un===null?sn=hn:un.next=hn,un=cn;var fn=st.alternate;fn!==null&&(fn=fn.updateQueue,ln=fn.lastBaseUpdate,ln!==un&&(ln===null?fn.firstBaseUpdate=hn:ln.next=hn,fn.lastBaseUpdate=cn))}if(sn!==null){var to=an.baseState;un=0,fn=hn=cn=null,ln=sn;do{var Xr=ln.lane,uo=ln.eventTime;if((rn&Xr)===Xr){fn!==null&&(fn=fn.next={eventTime:uo,lane:0,tag:ln.tag,payload:ln.payload,callback:ln.callback,next:null});e:{var co=st,ho=ln;switch(Xr=Mt,uo=nn,ho.tag){case 1:if(co=ho.payload,typeof co=="function"){to=co.call(uo,to,Xr);break e}to=co;break e;case 3:co.flags=co.flags&-65537|128;case 0:if(co=ho.payload,Xr=typeof co=="function"?co.call(uo,to,Xr):co,Xr==null)break e;to=A$1({},to,Xr);break e;case 2:jh$1=!0}}ln.callback!==null&&ln.lane!==0&&(st.flags|=64,Xr=an.effects,Xr===null?an.effects=[ln]:Xr.push(ln))}else uo={eventTime:uo,lane:Xr,tag:ln.tag,payload:ln.payload,callback:ln.callback,next:null},fn===null?(hn=fn=uo,cn=to):fn=fn.next=uo,un|=Xr;if(ln=ln.next,ln===null){if(ln=an.shared.pending,ln===null)break;Xr=ln,ln=Xr.next,Xr.next=null,an.lastBaseUpdate=Xr,an.shared.pending=null}}while(!0);if(fn===null&&(cn=to),an.baseState=cn,an.firstBaseUpdate=hn,an.lastBaseUpdate=fn,Mt=an.shared.interleaved,Mt!==null){an=Mt;do un|=an.lane,an=an.next;while(an!==Mt)}else sn===null&&(an.shared.lanes=0);rh$1|=un,st.lanes=un,st.memoizedState=to}}function sh$1(st,Mt,nn){if(st=Mt.effects,Mt.effects=null,st!==null)for(Mt=0;Mt<st.length;Mt++){var rn=st[Mt],an=rn.callback;if(an!==null){if(rn.callback=null,rn=nn,typeof an!="function")throw Error(p$1(191,an));an.call(rn)}}}var th$1={},uh$1=Uf$1(th$1),vh$1=Uf$1(th$1),wh$1=Uf$1(th$1);function xh$1(st){if(st===th$1)throw Error(p$1(174));return st}function yh$1(st,Mt){switch(G$1(wh$1,Mt),G$1(vh$1,st),G$1(uh$1,th$1),st=Mt.nodeType,st){case 9:case 11:Mt=(Mt=Mt.documentElement)?Mt.namespaceURI:lb(null,"");break;default:st=st===8?Mt.parentNode:Mt,Mt=st.namespaceURI||null,st=st.tagName,Mt=lb(Mt,st)}E$1(uh$1),G$1(uh$1,Mt)}function zh$1(){E$1(uh$1),E$1(vh$1),E$1(wh$1)}function Ah$1(st){xh$1(wh$1.current);var Mt=xh$1(uh$1.current),nn=lb(Mt,st.type);Mt!==nn&&(G$1(vh$1,st),G$1(uh$1,nn))}function Bh$1(st){vh$1.current===st&&(E$1(uh$1),E$1(vh$1))}var L$1=Uf$1(0);function Ch$1(st){for(var Mt=st;Mt!==null;){if(Mt.tag===13){var nn=Mt.memoizedState;if(nn!==null&&(nn=nn.dehydrated,nn===null||nn.data==="$?"||nn.data==="$!"))return Mt}else if(Mt.tag===19&&Mt.memoizedProps.revealOrder!==void 0){if(Mt.flags&128)return Mt}else if(Mt.child!==null){Mt.child.return=Mt,Mt=Mt.child;continue}if(Mt===st)break;for(;Mt.sibling===null;){if(Mt.return===null||Mt.return===st)return null;Mt=Mt.return}Mt.sibling.return=Mt.return,Mt=Mt.sibling}return null}var Dh$1=[];function Eh$1(){for(var st=0;st<Dh$1.length;st++)Dh$1[st]._workInProgressVersionPrimary=null;Dh$1.length=0}var Fh$1=ua$1.ReactCurrentDispatcher,Gh$1=ua$1.ReactCurrentBatchConfig,Hh$1=0,M$1=null,N$1=null,O$1=null,Ih$1=!1,Jh$1=!1,Kh$1=0,Lh$1=0;function P$1(){throw Error(p$1(321))}function Mh$1(st,Mt){if(Mt===null)return!1;for(var nn=0;nn<Mt.length&&nn<st.length;nn++)if(!He$1(st[nn],Mt[nn]))return!1;return!0}function Nh$1(st,Mt,nn,rn,an,sn){if(Hh$1=sn,M$1=Mt,Mt.memoizedState=null,Mt.updateQueue=null,Mt.lanes=0,Fh$1.current=st===null||st.memoizedState===null?Oh$1:Ph$1,st=nn(rn,an),Jh$1){sn=0;do{if(Jh$1=!1,Kh$1=0,25<=sn)throw Error(p$1(301));sn+=1,O$1=N$1=null,Mt.updateQueue=null,Fh$1.current=Qh$1,st=nn(rn,an)}while(Jh$1)}if(Fh$1.current=Rh$1,Mt=N$1!==null&&N$1.next!==null,Hh$1=0,O$1=N$1=M$1=null,Ih$1=!1,Mt)throw Error(p$1(300));return st}function Sh$1(){var st=Kh$1!==0;return Kh$1=0,st}function Th$1(){var st={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=st:O$1=O$1.next=st,O$1}function Uh$1(){if(N$1===null){var st=M$1.alternate;st=st!==null?st.memoizedState:null}else st=N$1.next;var Mt=O$1===null?M$1.memoizedState:O$1.next;if(Mt!==null)O$1=Mt,N$1=st;else{if(st===null)throw Error(p$1(310));N$1=st,st={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O$1===null?M$1.memoizedState=O$1=st:O$1=O$1.next=st}return O$1}function Vh$1(st,Mt){return typeof Mt=="function"?Mt(st):Mt}function Wh$1(st){var Mt=Uh$1(),nn=Mt.queue;if(nn===null)throw Error(p$1(311));nn.lastRenderedReducer=st;var rn=N$1,an=rn.baseQueue,sn=nn.pending;if(sn!==null){if(an!==null){var un=an.next;an.next=sn.next,sn.next=un}rn.baseQueue=an=sn,nn.pending=null}if(an!==null){sn=an.next,rn=rn.baseState;var ln=un=null,cn=null,hn=sn;do{var fn=hn.lane;if((Hh$1&fn)===fn)cn!==null&&(cn=cn.next={lane:0,action:hn.action,hasEagerState:hn.hasEagerState,eagerState:hn.eagerState,next:null}),rn=hn.hasEagerState?hn.eagerState:st(rn,hn.action);else{var to={lane:fn,action:hn.action,hasEagerState:hn.hasEagerState,eagerState:hn.eagerState,next:null};cn===null?(ln=cn=to,un=rn):cn=cn.next=to,M$1.lanes|=fn,rh$1|=fn}hn=hn.next}while(hn!==null&&hn!==sn);cn===null?un=rn:cn.next=ln,He$1(rn,Mt.memoizedState)||(dh$1=!0),Mt.memoizedState=rn,Mt.baseState=un,Mt.baseQueue=cn,nn.lastRenderedState=rn}if(st=nn.interleaved,st!==null){an=st;do sn=an.lane,M$1.lanes|=sn,rh$1|=sn,an=an.next;while(an!==st)}else an===null&&(nn.lanes=0);return[Mt.memoizedState,nn.dispatch]}function Xh$1(st){var Mt=Uh$1(),nn=Mt.queue;if(nn===null)throw Error(p$1(311));nn.lastRenderedReducer=st;var rn=nn.dispatch,an=nn.pending,sn=Mt.memoizedState;if(an!==null){nn.pending=null;var un=an=an.next;do sn=st(sn,un.action),un=un.next;while(un!==an);He$1(sn,Mt.memoizedState)||(dh$1=!0),Mt.memoizedState=sn,Mt.baseQueue===null&&(Mt.baseState=sn),nn.lastRenderedState=sn}return[sn,rn]}function Yh$1(){}function Zh$1(st,Mt){var nn=M$1,rn=Uh$1(),an=Mt(),sn=!He$1(rn.memoizedState,an);if(sn&&(rn.memoizedState=an,dh$1=!0),rn=rn.queue,$h$1(ai$1.bind(null,nn,rn,st),[st]),rn.getSnapshot!==Mt||sn||O$1!==null&&O$1.memoizedState.tag&1){if(nn.flags|=2048,bi$1(9,ci$1.bind(null,nn,rn,an,Mt),void 0,null),Q$1===null)throw Error(p$1(349));Hh$1&30||di$1(nn,Mt,an)}return an}function di$1(st,Mt,nn){st.flags|=16384,st={getSnapshot:Mt,value:nn},Mt=M$1.updateQueue,Mt===null?(Mt={lastEffect:null,stores:null},M$1.updateQueue=Mt,Mt.stores=[st]):(nn=Mt.stores,nn===null?Mt.stores=[st]:nn.push(st))}function ci$1(st,Mt,nn,rn){Mt.value=nn,Mt.getSnapshot=rn,ei$1(Mt)&&fi$1(st)}function ai$1(st,Mt,nn){return nn(function(){ei$1(Mt)&&fi$1(st)})}function ei$1(st){var Mt=st.getSnapshot;st=st.value;try{var nn=Mt();return!He$1(st,nn)}catch{return!0}}function fi$1(st){var Mt=ih$1(st,1);Mt!==null&&gi$1(Mt,st,1,-1)}function hi$1(st){var Mt=Th$1();return typeof st=="function"&&(st=st()),Mt.memoizedState=Mt.baseState=st,st={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh$1,lastRenderedState:st},Mt.queue=st,st=st.dispatch=ii$1.bind(null,M$1,st),[Mt.memoizedState,st]}function bi$1(st,Mt,nn,rn){return st={tag:st,create:Mt,destroy:nn,deps:rn,next:null},Mt=M$1.updateQueue,Mt===null?(Mt={lastEffect:null,stores:null},M$1.updateQueue=Mt,Mt.lastEffect=st.next=st):(nn=Mt.lastEffect,nn===null?Mt.lastEffect=st.next=st:(rn=nn.next,nn.next=st,st.next=rn,Mt.lastEffect=st)),st}function ji$1(){return Uh$1().memoizedState}function ki$1(st,Mt,nn,rn){var an=Th$1();M$1.flags|=st,an.memoizedState=bi$1(1|Mt,nn,void 0,rn===void 0?null:rn)}function li$1(st,Mt,nn,rn){var an=Uh$1();rn=rn===void 0?null:rn;var sn=void 0;if(N$1!==null){var un=N$1.memoizedState;if(sn=un.destroy,rn!==null&&Mh$1(rn,un.deps)){an.memoizedState=bi$1(Mt,nn,sn,rn);return}}M$1.flags|=st,an.memoizedState=bi$1(1|Mt,nn,sn,rn)}function mi$1(st,Mt){return ki$1(8390656,8,st,Mt)}function $h$1(st,Mt){return li$1(2048,8,st,Mt)}function ni$1(st,Mt){return li$1(4,2,st,Mt)}function oi$1(st,Mt){return li$1(4,4,st,Mt)}function pi$1(st,Mt){if(typeof Mt=="function")return st=st(),Mt(st),function(){Mt(null)};if(Mt!=null)return st=st(),Mt.current=st,function(){Mt.current=null}}function qi$1(st,Mt,nn){return nn=nn!=null?nn.concat([st]):null,li$1(4,4,pi$1.bind(null,Mt,st),nn)}function ri$1(){}function si$1(st,Mt){var nn=Uh$1();Mt=Mt===void 0?null:Mt;var rn=nn.memoizedState;return rn!==null&&Mt!==null&&Mh$1(Mt,rn[1])?rn[0]:(nn.memoizedState=[st,Mt],st)}function ti$1(st,Mt){var nn=Uh$1();Mt=Mt===void 0?null:Mt;var rn=nn.memoizedState;return rn!==null&&Mt!==null&&Mh$1(Mt,rn[1])?rn[0]:(st=st(),nn.memoizedState=[st,Mt],st)}function ui$1(st,Mt,nn){return Hh$1&21?(He$1(nn,Mt)||(nn=yc$1(),M$1.lanes|=nn,rh$1|=nn,st.baseState=!0),Mt):(st.baseState&&(st.baseState=!1,dh$1=!0),st.memoizedState=nn)}function vi$1(st,Mt){var nn=C$1;C$1=nn!==0&&4>nn?nn:4,st(!0);var rn=Gh$1.transition;Gh$1.transition={};try{st(!1),Mt()}finally{C$1=nn,Gh$1.transition=rn}}function wi$1(){return Uh$1().memoizedState}function xi$1(st,Mt,nn){var rn=yi$1(st);if(nn={lane:rn,action:nn,hasEagerState:!1,eagerState:null,next:null},zi$1(st))Ai$1(Mt,nn);else if(nn=hh$1(st,Mt,nn,rn),nn!==null){var an=R$1();gi$1(nn,st,rn,an),Bi$1(nn,Mt,rn)}}function ii$1(st,Mt,nn){var rn=yi$1(st),an={lane:rn,action:nn,hasEagerState:!1,eagerState:null,next:null};if(zi$1(st))Ai$1(Mt,an);else{var sn=st.alternate;if(st.lanes===0&&(sn===null||sn.lanes===0)&&(sn=Mt.lastRenderedReducer,sn!==null))try{var un=Mt.lastRenderedState,ln=sn(un,nn);if(an.hasEagerState=!0,an.eagerState=ln,He$1(ln,un)){var cn=Mt.interleaved;cn===null?(an.next=an,gh$1(Mt)):(an.next=cn.next,cn.next=an),Mt.interleaved=an;return}}catch{}finally{}nn=hh$1(st,Mt,an,rn),nn!==null&&(an=R$1(),gi$1(nn,st,rn,an),Bi$1(nn,Mt,rn))}}function zi$1(st){var Mt=st.alternate;return st===M$1||Mt!==null&&Mt===M$1}function Ai$1(st,Mt){Jh$1=Ih$1=!0;var nn=st.pending;nn===null?Mt.next=Mt:(Mt.next=nn.next,nn.next=Mt),st.pending=Mt}function Bi$1(st,Mt,nn){if(nn&4194240){var rn=Mt.lanes;rn&=st.pendingLanes,nn|=rn,Mt.lanes=nn,Cc$1(st,nn)}}var Rh$1={readContext:eh$1,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh$1={readContext:eh$1,useCallback:function(st,Mt){return Th$1().memoizedState=[st,Mt===void 0?null:Mt],st},useContext:eh$1,useEffect:mi$1,useImperativeHandle:function(st,Mt,nn){return nn=nn!=null?nn.concat([st]):null,ki$1(4194308,4,pi$1.bind(null,Mt,st),nn)},useLayoutEffect:function(st,Mt){return ki$1(4194308,4,st,Mt)},useInsertionEffect:function(st,Mt){return ki$1(4,2,st,Mt)},useMemo:function(st,Mt){var nn=Th$1();return Mt=Mt===void 0?null:Mt,st=st(),nn.memoizedState=[st,Mt],st},useReducer:function(st,Mt,nn){var rn=Th$1();return Mt=nn!==void 0?nn(Mt):Mt,rn.memoizedState=rn.baseState=Mt,st={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:st,lastRenderedState:Mt},rn.queue=st,st=st.dispatch=xi$1.bind(null,M$1,st),[rn.memoizedState,st]},useRef:function(st){var Mt=Th$1();return st={current:st},Mt.memoizedState=st},useState:hi$1,useDebugValue:ri$1,useDeferredValue:function(st){return Th$1().memoizedState=st},useTransition:function(){var st=hi$1(!1),Mt=st[0];return st=vi$1.bind(null,st[1]),Th$1().memoizedState=st,[Mt,st]},useMutableSource:function(){},useSyncExternalStore:function(st,Mt,nn){var rn=M$1,an=Th$1();if(I$1){if(nn===void 0)throw Error(p$1(407));nn=nn()}else{if(nn=Mt(),Q$1===null)throw Error(p$1(349));Hh$1&30||di$1(rn,Mt,nn)}an.memoizedState=nn;var sn={value:nn,getSnapshot:Mt};return an.queue=sn,mi$1(ai$1.bind(null,rn,sn,st),[st]),rn.flags|=2048,bi$1(9,ci$1.bind(null,rn,sn,nn,Mt),void 0,null),nn},useId:function(){var st=Th$1(),Mt=Q$1.identifierPrefix;if(I$1){var nn=sg,rn=rg;nn=(rn&~(1<<32-oc$1(rn)-1)).toString(32)+nn,Mt=":"+Mt+"R"+nn,nn=Kh$1++,0<nn&&(Mt+="H"+nn.toString(32)),Mt+=":"}else nn=Lh$1++,Mt=":"+Mt+"r"+nn.toString(32)+":";return st.memoizedState=Mt},unstable_isNewReconciler:!1},Ph$1={readContext:eh$1,useCallback:si$1,useContext:eh$1,useEffect:$h$1,useImperativeHandle:qi$1,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$1,useReducer:Wh$1,useRef:ji$1,useState:function(){return Wh$1(Vh$1)},useDebugValue:ri$1,useDeferredValue:function(st){var Mt=Uh$1();return ui$1(Mt,N$1.memoizedState,st)},useTransition:function(){var st=Wh$1(Vh$1)[0],Mt=Uh$1().memoizedState;return[st,Mt]},useMutableSource:Yh$1,useSyncExternalStore:Zh$1,useId:wi$1,unstable_isNewReconciler:!1},Qh$1={readContext:eh$1,useCallback:si$1,useContext:eh$1,useEffect:$h$1,useImperativeHandle:qi$1,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$1,useReducer:Xh$1,useRef:ji$1,useState:function(){return Xh$1(Vh$1)},useDebugValue:ri$1,useDeferredValue:function(st){var Mt=Uh$1();return N$1===null?Mt.memoizedState=st:ui$1(Mt,N$1.memoizedState,st)},useTransition:function(){var st=Xh$1(Vh$1)[0],Mt=Uh$1().memoizedState;return[st,Mt]},useMutableSource:Yh$1,useSyncExternalStore:Zh$1,useId:wi$1,unstable_isNewReconciler:!1};function Ci$1(st,Mt){if(st&&st.defaultProps){Mt=A$1({},Mt),st=st.defaultProps;for(var nn in st)Mt[nn]===void 0&&(Mt[nn]=st[nn]);return Mt}return Mt}function Di$1(st,Mt,nn,rn){Mt=st.memoizedState,nn=nn(rn,Mt),nn=nn==null?Mt:A$1({},Mt,nn),st.memoizedState=nn,st.lanes===0&&(st.updateQueue.baseState=nn)}var Ei$1={isMounted:function(st){return(st=st._reactInternals)?Vb(st)===st:!1},enqueueSetState:function(st,Mt,nn){st=st._reactInternals;var rn=R$1(),an=yi$1(st),sn=mh$1(rn,an);sn.payload=Mt,nn!=null&&(sn.callback=nn),Mt=nh$1(st,sn,an),Mt!==null&&(gi$1(Mt,st,an,rn),oh$1(Mt,st,an))},enqueueReplaceState:function(st,Mt,nn){st=st._reactInternals;var rn=R$1(),an=yi$1(st),sn=mh$1(rn,an);sn.tag=1,sn.payload=Mt,nn!=null&&(sn.callback=nn),Mt=nh$1(st,sn,an),Mt!==null&&(gi$1(Mt,st,an,rn),oh$1(Mt,st,an))},enqueueForceUpdate:function(st,Mt){st=st._reactInternals;var nn=R$1(),rn=yi$1(st),an=mh$1(nn,rn);an.tag=2,Mt!=null&&(an.callback=Mt),Mt=nh$1(st,an,rn),Mt!==null&&(gi$1(Mt,st,rn,nn),oh$1(Mt,st,rn))}};function Fi$1(st,Mt,nn,rn,an,sn,un){return st=st.stateNode,typeof st.shouldComponentUpdate=="function"?st.shouldComponentUpdate(rn,sn,un):Mt.prototype&&Mt.prototype.isPureReactComponent?!Ie$1(nn,rn)||!Ie$1(an,sn):!0}function Gi$1(st,Mt,nn){var rn=!1,an=Vf$1,sn=Mt.contextType;return typeof sn=="object"&&sn!==null?sn=eh$1(sn):(an=Zf$1(Mt)?Xf$1:H$1.current,rn=Mt.contextTypes,sn=(rn=rn!=null)?Yf$1(st,an):Vf$1),Mt=new Mt(nn,sn),st.memoizedState=Mt.state!==null&&Mt.state!==void 0?Mt.state:null,Mt.updater=Ei$1,st.stateNode=Mt,Mt._reactInternals=st,rn&&(st=st.stateNode,st.__reactInternalMemoizedUnmaskedChildContext=an,st.__reactInternalMemoizedMaskedChildContext=sn),Mt}function Hi$1(st,Mt,nn,rn){st=Mt.state,typeof Mt.componentWillReceiveProps=="function"&&Mt.componentWillReceiveProps(nn,rn),typeof Mt.UNSAFE_componentWillReceiveProps=="function"&&Mt.UNSAFE_componentWillReceiveProps(nn,rn),Mt.state!==st&&Ei$1.enqueueReplaceState(Mt,Mt.state,null)}function Ii$1(st,Mt,nn,rn){var an=st.stateNode;an.props=nn,an.state=st.memoizedState,an.refs={},kh$1(st);var sn=Mt.contextType;typeof sn=="object"&&sn!==null?an.context=eh$1(sn):(sn=Zf$1(Mt)?Xf$1:H$1.current,an.context=Yf$1(st,sn)),an.state=st.memoizedState,sn=Mt.getDerivedStateFromProps,typeof sn=="function"&&(Di$1(st,Mt,sn,nn),an.state=st.memoizedState),typeof Mt.getDerivedStateFromProps=="function"||typeof an.getSnapshotBeforeUpdate=="function"||typeof an.UNSAFE_componentWillMount!="function"&&typeof an.componentWillMount!="function"||(Mt=an.state,typeof an.componentWillMount=="function"&&an.componentWillMount(),typeof an.UNSAFE_componentWillMount=="function"&&an.UNSAFE_componentWillMount(),Mt!==an.state&&Ei$1.enqueueReplaceState(an,an.state,null),qh$1(st,nn,an,rn),an.state=st.memoizedState),typeof an.componentDidMount=="function"&&(st.flags|=4194308)}function Ji$1(st,Mt){try{var nn="",rn=Mt;do nn+=Pa$1(rn),rn=rn.return;while(rn);var an=nn}catch(sn){an=`
Error generating stack: `+sn.message+`
`+sn.stack}return{value:st,source:Mt,stack:an,digest:null}}function Ki$1(st,Mt,nn){return{value:st,source:null,stack:nn??null,digest:Mt??null}}function Li$1(st,Mt){try{console.error(Mt.value)}catch(nn){setTimeout(function(){throw nn})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni$1(st,Mt,nn){nn=mh$1(-1,nn),nn.tag=3,nn.payload={element:null};var rn=Mt.value;return nn.callback=function(){Oi$1||(Oi$1=!0,Pi$1=rn),Li$1(st,Mt)},nn}function Qi$1(st,Mt,nn){nn=mh$1(-1,nn),nn.tag=3;var rn=st.type.getDerivedStateFromError;if(typeof rn=="function"){var an=Mt.value;nn.payload=function(){return rn(an)},nn.callback=function(){Li$1(st,Mt)}}var sn=st.stateNode;return sn!==null&&typeof sn.componentDidCatch=="function"&&(nn.callback=function(){Li$1(st,Mt),typeof rn!="function"&&(Ri$1===null?Ri$1=new Set([this]):Ri$1.add(this));var un=Mt.stack;this.componentDidCatch(Mt.value,{componentStack:un!==null?un:""})}),nn}function Si$1(st,Mt,nn){var rn=st.pingCache;if(rn===null){rn=st.pingCache=new Mi;var an=new Set;rn.set(Mt,an)}else an=rn.get(Mt),an===void 0&&(an=new Set,rn.set(Mt,an));an.has(nn)||(an.add(nn),st=Ti$1.bind(null,st,Mt,nn),Mt.then(st,st))}function Ui$1(st){do{var Mt;if((Mt=st.tag===13)&&(Mt=st.memoizedState,Mt=Mt!==null?Mt.dehydrated!==null:!0),Mt)return st;st=st.return}while(st!==null);return null}function Vi$1(st,Mt,nn,rn,an){return st.mode&1?(st.flags|=65536,st.lanes=an,st):(st===Mt?st.flags|=65536:(st.flags|=128,nn.flags|=131072,nn.flags&=-52805,nn.tag===1&&(nn.alternate===null?nn.tag=17:(Mt=mh$1(-1,1),Mt.tag=2,nh$1(nn,Mt,1))),nn.lanes|=1),st)}var Wi$1=ua$1.ReactCurrentOwner,dh$1=!1;function Xi$1(st,Mt,nn,rn){Mt.child=st===null?Vg(Mt,null,nn,rn):Ug(Mt,st.child,nn,rn)}function Yi$1(st,Mt,nn,rn,an){nn=nn.render;var sn=Mt.ref;return ch$1(Mt,an),rn=Nh$1(st,Mt,nn,rn,sn,an),nn=Sh$1(),st!==null&&!dh$1?(Mt.updateQueue=st.updateQueue,Mt.flags&=-2053,st.lanes&=~an,Zi$1(st,Mt,an)):(I$1&&nn&&vg(Mt),Mt.flags|=1,Xi$1(st,Mt,rn,an),Mt.child)}function $i$1(st,Mt,nn,rn,an){if(st===null){var sn=nn.type;return typeof sn=="function"&&!aj(sn)&&sn.defaultProps===void 0&&nn.compare===null&&nn.defaultProps===void 0?(Mt.tag=15,Mt.type=sn,bj(st,Mt,sn,rn,an)):(st=Rg(nn.type,null,rn,Mt,Mt.mode,an),st.ref=Mt.ref,st.return=Mt,Mt.child=st)}if(sn=st.child,!(st.lanes&an)){var un=sn.memoizedProps;if(nn=nn.compare,nn=nn!==null?nn:Ie$1,nn(un,rn)&&st.ref===Mt.ref)return Zi$1(st,Mt,an)}return Mt.flags|=1,st=Pg(sn,rn),st.ref=Mt.ref,st.return=Mt,Mt.child=st}function bj(st,Mt,nn,rn,an){if(st!==null){var sn=st.memoizedProps;if(Ie$1(sn,rn)&&st.ref===Mt.ref)if(dh$1=!1,Mt.pendingProps=rn=sn,(st.lanes&an)!==0)st.flags&131072&&(dh$1=!0);else return Mt.lanes=st.lanes,Zi$1(st,Mt,an)}return cj(st,Mt,nn,rn,an)}function dj(st,Mt,nn){var rn=Mt.pendingProps,an=rn.children,sn=st!==null?st.memoizedState:null;if(rn.mode==="hidden")if(!(Mt.mode&1))Mt.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=nn;else{if(!(nn&1073741824))return st=sn!==null?sn.baseLanes|nn:nn,Mt.lanes=Mt.childLanes=1073741824,Mt.memoizedState={baseLanes:st,cachePool:null,transitions:null},Mt.updateQueue=null,G$1(ej,fj),fj|=st,null;Mt.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn=sn!==null?sn.baseLanes:nn,G$1(ej,fj),fj|=rn}else sn!==null?(rn=sn.baseLanes|nn,Mt.memoizedState=null):rn=nn,G$1(ej,fj),fj|=rn;return Xi$1(st,Mt,an,nn),Mt.child}function gj(st,Mt){var nn=Mt.ref;(st===null&&nn!==null||st!==null&&st.ref!==nn)&&(Mt.flags|=512,Mt.flags|=2097152)}function cj(st,Mt,nn,rn,an){var sn=Zf$1(nn)?Xf$1:H$1.current;return sn=Yf$1(Mt,sn),ch$1(Mt,an),nn=Nh$1(st,Mt,nn,rn,sn,an),rn=Sh$1(),st!==null&&!dh$1?(Mt.updateQueue=st.updateQueue,Mt.flags&=-2053,st.lanes&=~an,Zi$1(st,Mt,an)):(I$1&&rn&&vg(Mt),Mt.flags|=1,Xi$1(st,Mt,nn,an),Mt.child)}function hj(st,Mt,nn,rn,an){if(Zf$1(nn)){var sn=!0;cg(Mt)}else sn=!1;if(ch$1(Mt,an),Mt.stateNode===null)ij(st,Mt),Gi$1(Mt,nn,rn),Ii$1(Mt,nn,rn,an),rn=!0;else if(st===null){var un=Mt.stateNode,ln=Mt.memoizedProps;un.props=ln;var cn=un.context,hn=nn.contextType;typeof hn=="object"&&hn!==null?hn=eh$1(hn):(hn=Zf$1(nn)?Xf$1:H$1.current,hn=Yf$1(Mt,hn));var fn=nn.getDerivedStateFromProps,to=typeof fn=="function"||typeof un.getSnapshotBeforeUpdate=="function";to||typeof un.UNSAFE_componentWillReceiveProps!="function"&&typeof un.componentWillReceiveProps!="function"||(ln!==rn||cn!==hn)&&Hi$1(Mt,un,rn,hn),jh$1=!1;var Xr=Mt.memoizedState;un.state=Xr,qh$1(Mt,rn,un,an),cn=Mt.memoizedState,ln!==rn||Xr!==cn||Wf$1.current||jh$1?(typeof fn=="function"&&(Di$1(Mt,nn,fn,rn),cn=Mt.memoizedState),(ln=jh$1||Fi$1(Mt,nn,ln,rn,Xr,cn,hn))?(to||typeof un.UNSAFE_componentWillMount!="function"&&typeof un.componentWillMount!="function"||(typeof un.componentWillMount=="function"&&un.componentWillMount(),typeof un.UNSAFE_componentWillMount=="function"&&un.UNSAFE_componentWillMount()),typeof un.componentDidMount=="function"&&(Mt.flags|=4194308)):(typeof un.componentDidMount=="function"&&(Mt.flags|=4194308),Mt.memoizedProps=rn,Mt.memoizedState=cn),un.props=rn,un.state=cn,un.context=hn,rn=ln):(typeof un.componentDidMount=="function"&&(Mt.flags|=4194308),rn=!1)}else{un=Mt.stateNode,lh$1(st,Mt),ln=Mt.memoizedProps,hn=Mt.type===Mt.elementType?ln:Ci$1(Mt.type,ln),un.props=hn,to=Mt.pendingProps,Xr=un.context,cn=nn.contextType,typeof cn=="object"&&cn!==null?cn=eh$1(cn):(cn=Zf$1(nn)?Xf$1:H$1.current,cn=Yf$1(Mt,cn));var uo=nn.getDerivedStateFromProps;(fn=typeof uo=="function"||typeof un.getSnapshotBeforeUpdate=="function")||typeof un.UNSAFE_componentWillReceiveProps!="function"&&typeof un.componentWillReceiveProps!="function"||(ln!==to||Xr!==cn)&&Hi$1(Mt,un,rn,cn),jh$1=!1,Xr=Mt.memoizedState,un.state=Xr,qh$1(Mt,rn,un,an);var co=Mt.memoizedState;ln!==to||Xr!==co||Wf$1.current||jh$1?(typeof uo=="function"&&(Di$1(Mt,nn,uo,rn),co=Mt.memoizedState),(hn=jh$1||Fi$1(Mt,nn,hn,rn,Xr,co,cn)||!1)?(fn||typeof un.UNSAFE_componentWillUpdate!="function"&&typeof un.componentWillUpdate!="function"||(typeof un.componentWillUpdate=="function"&&un.componentWillUpdate(rn,co,cn),typeof un.UNSAFE_componentWillUpdate=="function"&&un.UNSAFE_componentWillUpdate(rn,co,cn)),typeof un.componentDidUpdate=="function"&&(Mt.flags|=4),typeof un.getSnapshotBeforeUpdate=="function"&&(Mt.flags|=1024)):(typeof un.componentDidUpdate!="function"||ln===st.memoizedProps&&Xr===st.memoizedState||(Mt.flags|=4),typeof un.getSnapshotBeforeUpdate!="function"||ln===st.memoizedProps&&Xr===st.memoizedState||(Mt.flags|=1024),Mt.memoizedProps=rn,Mt.memoizedState=co),un.props=rn,un.state=co,un.context=cn,rn=hn):(typeof un.componentDidUpdate!="function"||ln===st.memoizedProps&&Xr===st.memoizedState||(Mt.flags|=4),typeof un.getSnapshotBeforeUpdate!="function"||ln===st.memoizedProps&&Xr===st.memoizedState||(Mt.flags|=1024),rn=!1)}return jj(st,Mt,nn,rn,sn,an)}function jj(st,Mt,nn,rn,an,sn){gj(st,Mt);var un=(Mt.flags&128)!==0;if(!rn&&!un)return an&&dg(Mt,nn,!1),Zi$1(st,Mt,sn);rn=Mt.stateNode,Wi$1.current=Mt;var ln=un&&typeof nn.getDerivedStateFromError!="function"?null:rn.render();return Mt.flags|=1,st!==null&&un?(Mt.child=Ug(Mt,st.child,null,sn),Mt.child=Ug(Mt,null,ln,sn)):Xi$1(st,Mt,ln,sn),Mt.memoizedState=rn.state,an&&dg(Mt,nn,!0),Mt.child}function kj(st){var Mt=st.stateNode;Mt.pendingContext?ag(st,Mt.pendingContext,Mt.pendingContext!==Mt.context):Mt.context&&ag(st,Mt.context,!1),yh$1(st,Mt.containerInfo)}function lj(st,Mt,nn,rn,an){return Ig(),Jg(an),Mt.flags|=256,Xi$1(st,Mt,nn,rn),Mt.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(st){return{baseLanes:st,cachePool:null,transitions:null}}function oj(st,Mt,nn){var rn=Mt.pendingProps,an=L$1.current,sn=!1,un=(Mt.flags&128)!==0,ln;if((ln=un)||(ln=st!==null&&st.memoizedState===null?!1:(an&2)!==0),ln?(sn=!0,Mt.flags&=-129):(st===null||st.memoizedState!==null)&&(an|=1),G$1(L$1,an&1),st===null)return Eg(Mt),st=Mt.memoizedState,st!==null&&(st=st.dehydrated,st!==null)?(Mt.mode&1?st.data==="$!"?Mt.lanes=8:Mt.lanes=1073741824:Mt.lanes=1,null):(un=rn.children,st=rn.fallback,sn?(rn=Mt.mode,sn=Mt.child,un={mode:"hidden",children:un},!(rn&1)&&sn!==null?(sn.childLanes=0,sn.pendingProps=un):sn=pj(un,rn,0,null),st=Tg(st,rn,nn,null),sn.return=Mt,st.return=Mt,sn.sibling=st,Mt.child=sn,Mt.child.memoizedState=nj(nn),Mt.memoizedState=mj,st):qj(Mt,un));if(an=st.memoizedState,an!==null&&(ln=an.dehydrated,ln!==null))return rj(st,Mt,un,rn,ln,an,nn);if(sn){sn=rn.fallback,un=Mt.mode,an=st.child,ln=an.sibling;var cn={mode:"hidden",children:rn.children};return!(un&1)&&Mt.child!==an?(rn=Mt.child,rn.childLanes=0,rn.pendingProps=cn,Mt.deletions=null):(rn=Pg(an,cn),rn.subtreeFlags=an.subtreeFlags&14680064),ln!==null?sn=Pg(ln,sn):(sn=Tg(sn,un,nn,null),sn.flags|=2),sn.return=Mt,rn.return=Mt,rn.sibling=sn,Mt.child=rn,rn=sn,sn=Mt.child,un=st.child.memoizedState,un=un===null?nj(nn):{baseLanes:un.baseLanes|nn,cachePool:null,transitions:un.transitions},sn.memoizedState=un,sn.childLanes=st.childLanes&~nn,Mt.memoizedState=mj,rn}return sn=st.child,st=sn.sibling,rn=Pg(sn,{mode:"visible",children:rn.children}),!(Mt.mode&1)&&(rn.lanes=nn),rn.return=Mt,rn.sibling=null,st!==null&&(nn=Mt.deletions,nn===null?(Mt.deletions=[st],Mt.flags|=16):nn.push(st)),Mt.child=rn,Mt.memoizedState=null,rn}function qj(st,Mt){return Mt=pj({mode:"visible",children:Mt},st.mode,0,null),Mt.return=st,st.child=Mt}function sj(st,Mt,nn,rn){return rn!==null&&Jg(rn),Ug(Mt,st.child,null,nn),st=qj(Mt,Mt.pendingProps.children),st.flags|=2,Mt.memoizedState=null,st}function rj(st,Mt,nn,rn,an,sn,un){if(nn)return Mt.flags&256?(Mt.flags&=-257,rn=Ki$1(Error(p$1(422))),sj(st,Mt,un,rn)):Mt.memoizedState!==null?(Mt.child=st.child,Mt.flags|=128,null):(sn=rn.fallback,an=Mt.mode,rn=pj({mode:"visible",children:rn.children},an,0,null),sn=Tg(sn,an,un,null),sn.flags|=2,rn.return=Mt,sn.return=Mt,rn.sibling=sn,Mt.child=rn,Mt.mode&1&&Ug(Mt,st.child,null,un),Mt.child.memoizedState=nj(un),Mt.memoizedState=mj,sn);if(!(Mt.mode&1))return sj(st,Mt,un,null);if(an.data==="$!"){if(rn=an.nextSibling&&an.nextSibling.dataset,rn)var ln=rn.dgst;return rn=ln,sn=Error(p$1(419)),rn=Ki$1(sn,rn,void 0),sj(st,Mt,un,rn)}if(ln=(un&st.childLanes)!==0,dh$1||ln){if(rn=Q$1,rn!==null){switch(un&-un){case 4:an=2;break;case 16:an=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:an=32;break;case 536870912:an=268435456;break;default:an=0}an=an&(rn.suspendedLanes|un)?0:an,an!==0&&an!==sn.retryLane&&(sn.retryLane=an,ih$1(st,an),gi$1(rn,st,an,-1))}return tj(),rn=Ki$1(Error(p$1(421))),sj(st,Mt,un,rn)}return an.data==="$?"?(Mt.flags|=128,Mt.child=st.child,Mt=uj.bind(null,st),an._reactRetry=Mt,null):(st=sn.treeContext,yg=Lf$1(an.nextSibling),xg=Mt,I$1=!0,zg=null,st!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=st.id,sg=st.overflow,qg=Mt),Mt=qj(Mt,rn.children),Mt.flags|=4096,Mt)}function vj(st,Mt,nn){st.lanes|=Mt;var rn=st.alternate;rn!==null&&(rn.lanes|=Mt),bh$1(st.return,Mt,nn)}function wj(st,Mt,nn,rn,an){var sn=st.memoizedState;sn===null?st.memoizedState={isBackwards:Mt,rendering:null,renderingStartTime:0,last:rn,tail:nn,tailMode:an}:(sn.isBackwards=Mt,sn.rendering=null,sn.renderingStartTime=0,sn.last=rn,sn.tail=nn,sn.tailMode=an)}function xj(st,Mt,nn){var rn=Mt.pendingProps,an=rn.revealOrder,sn=rn.tail;if(Xi$1(st,Mt,rn.children,nn),rn=L$1.current,rn&2)rn=rn&1|2,Mt.flags|=128;else{if(st!==null&&st.flags&128)e:for(st=Mt.child;st!==null;){if(st.tag===13)st.memoizedState!==null&&vj(st,nn,Mt);else if(st.tag===19)vj(st,nn,Mt);else if(st.child!==null){st.child.return=st,st=st.child;continue}if(st===Mt)break e;for(;st.sibling===null;){if(st.return===null||st.return===Mt)break e;st=st.return}st.sibling.return=st.return,st=st.sibling}rn&=1}if(G$1(L$1,rn),!(Mt.mode&1))Mt.memoizedState=null;else switch(an){case"forwards":for(nn=Mt.child,an=null;nn!==null;)st=nn.alternate,st!==null&&Ch$1(st)===null&&(an=nn),nn=nn.sibling;nn=an,nn===null?(an=Mt.child,Mt.child=null):(an=nn.sibling,nn.sibling=null),wj(Mt,!1,an,nn,sn);break;case"backwards":for(nn=null,an=Mt.child,Mt.child=null;an!==null;){if(st=an.alternate,st!==null&&Ch$1(st)===null){Mt.child=an;break}st=an.sibling,an.sibling=nn,nn=an,an=st}wj(Mt,!0,nn,null,sn);break;case"together":wj(Mt,!1,null,null,void 0);break;default:Mt.memoizedState=null}return Mt.child}function ij(st,Mt){!(Mt.mode&1)&&st!==null&&(st.alternate=null,Mt.alternate=null,Mt.flags|=2)}function Zi$1(st,Mt,nn){if(st!==null&&(Mt.dependencies=st.dependencies),rh$1|=Mt.lanes,!(nn&Mt.childLanes))return null;if(st!==null&&Mt.child!==st.child)throw Error(p$1(153));if(Mt.child!==null){for(st=Mt.child,nn=Pg(st,st.pendingProps),Mt.child=nn,nn.return=Mt;st.sibling!==null;)st=st.sibling,nn=nn.sibling=Pg(st,st.pendingProps),nn.return=Mt;nn.sibling=null}return Mt.child}function yj(st,Mt,nn){switch(Mt.tag){case 3:kj(Mt),Ig();break;case 5:Ah$1(Mt);break;case 1:Zf$1(Mt.type)&&cg(Mt);break;case 4:yh$1(Mt,Mt.stateNode.containerInfo);break;case 10:var rn=Mt.type._context,an=Mt.memoizedProps.value;G$1(Wg,rn._currentValue),rn._currentValue=an;break;case 13:if(rn=Mt.memoizedState,rn!==null)return rn.dehydrated!==null?(G$1(L$1,L$1.current&1),Mt.flags|=128,null):nn&Mt.child.childLanes?oj(st,Mt,nn):(G$1(L$1,L$1.current&1),st=Zi$1(st,Mt,nn),st!==null?st.sibling:null);G$1(L$1,L$1.current&1);break;case 19:if(rn=(nn&Mt.childLanes)!==0,st.flags&128){if(rn)return xj(st,Mt,nn);Mt.flags|=128}if(an=Mt.memoizedState,an!==null&&(an.rendering=null,an.tail=null,an.lastEffect=null),G$1(L$1,L$1.current),rn)break;return null;case 22:case 23:return Mt.lanes=0,dj(st,Mt,nn)}return Zi$1(st,Mt,nn)}var zj,Aj,Bj,Cj;zj=function(st,Mt){for(var nn=Mt.child;nn!==null;){if(nn.tag===5||nn.tag===6)st.appendChild(nn.stateNode);else if(nn.tag!==4&&nn.child!==null){nn.child.return=nn,nn=nn.child;continue}if(nn===Mt)break;for(;nn.sibling===null;){if(nn.return===null||nn.return===Mt)return;nn=nn.return}nn.sibling.return=nn.return,nn=nn.sibling}};Aj=function(){};Bj=function(st,Mt,nn,rn){var an=st.memoizedProps;if(an!==rn){st=Mt.stateNode,xh$1(uh$1.current);var sn=null;switch(nn){case"input":an=Ya$1(st,an),rn=Ya$1(st,rn),sn=[];break;case"select":an=A$1({},an,{value:void 0}),rn=A$1({},rn,{value:void 0}),sn=[];break;case"textarea":an=gb(st,an),rn=gb(st,rn),sn=[];break;default:typeof an.onClick!="function"&&typeof rn.onClick=="function"&&(st.onclick=Bf$1)}ub(nn,rn);var un;nn=null;for(hn in an)if(!rn.hasOwnProperty(hn)&&an.hasOwnProperty(hn)&&an[hn]!=null)if(hn==="style"){var ln=an[hn];for(un in ln)ln.hasOwnProperty(un)&&(nn||(nn={}),nn[un]="")}else hn!=="dangerouslySetInnerHTML"&&hn!=="children"&&hn!=="suppressContentEditableWarning"&&hn!=="suppressHydrationWarning"&&hn!=="autoFocus"&&(ea$1.hasOwnProperty(hn)?sn||(sn=[]):(sn=sn||[]).push(hn,null));for(hn in rn){var cn=rn[hn];if(ln=an!=null?an[hn]:void 0,rn.hasOwnProperty(hn)&&cn!==ln&&(cn!=null||ln!=null))if(hn==="style")if(ln){for(un in ln)!ln.hasOwnProperty(un)||cn&&cn.hasOwnProperty(un)||(nn||(nn={}),nn[un]="");for(un in cn)cn.hasOwnProperty(un)&&ln[un]!==cn[un]&&(nn||(nn={}),nn[un]=cn[un])}else nn||(sn||(sn=[]),sn.push(hn,nn)),nn=cn;else hn==="dangerouslySetInnerHTML"?(cn=cn?cn.__html:void 0,ln=ln?ln.__html:void 0,cn!=null&&ln!==cn&&(sn=sn||[]).push(hn,cn)):hn==="children"?typeof cn!="string"&&typeof cn!="number"||(sn=sn||[]).push(hn,""+cn):hn!=="suppressContentEditableWarning"&&hn!=="suppressHydrationWarning"&&(ea$1.hasOwnProperty(hn)?(cn!=null&&hn==="onScroll"&&D$1("scroll",st),sn||ln===cn||(sn=[])):(sn=sn||[]).push(hn,cn))}nn&&(sn=sn||[]).push("style",nn);var hn=sn;(Mt.updateQueue=hn)&&(Mt.flags|=4)}};Cj=function(st,Mt,nn,rn){nn!==rn&&(Mt.flags|=4)};function Dj(st,Mt){if(!I$1)switch(st.tailMode){case"hidden":Mt=st.tail;for(var nn=null;Mt!==null;)Mt.alternate!==null&&(nn=Mt),Mt=Mt.sibling;nn===null?st.tail=null:nn.sibling=null;break;case"collapsed":nn=st.tail;for(var rn=null;nn!==null;)nn.alternate!==null&&(rn=nn),nn=nn.sibling;rn===null?Mt||st.tail===null?st.tail=null:st.tail.sibling=null:rn.sibling=null}}function S$1(st){var Mt=st.alternate!==null&&st.alternate.child===st.child,nn=0,rn=0;if(Mt)for(var an=st.child;an!==null;)nn|=an.lanes|an.childLanes,rn|=an.subtreeFlags&14680064,rn|=an.flags&14680064,an.return=st,an=an.sibling;else for(an=st.child;an!==null;)nn|=an.lanes|an.childLanes,rn|=an.subtreeFlags,rn|=an.flags,an.return=st,an=an.sibling;return st.subtreeFlags|=rn,st.childLanes=nn,Mt}function Ej(st,Mt,nn){var rn=Mt.pendingProps;switch(wg(Mt),Mt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(Mt),null;case 1:return Zf$1(Mt.type)&&$f$1(),S$1(Mt),null;case 3:return rn=Mt.stateNode,zh$1(),E$1(Wf$1),E$1(H$1),Eh$1(),rn.pendingContext&&(rn.context=rn.pendingContext,rn.pendingContext=null),(st===null||st.child===null)&&(Gg(Mt)?Mt.flags|=4:st===null||st.memoizedState.isDehydrated&&!(Mt.flags&256)||(Mt.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(st,Mt),S$1(Mt),null;case 5:Bh$1(Mt);var an=xh$1(wh$1.current);if(nn=Mt.type,st!==null&&Mt.stateNode!=null)Bj(st,Mt,nn,rn,an),st.ref!==Mt.ref&&(Mt.flags|=512,Mt.flags|=2097152);else{if(!rn){if(Mt.stateNode===null)throw Error(p$1(166));return S$1(Mt),null}if(st=xh$1(uh$1.current),Gg(Mt)){rn=Mt.stateNode,nn=Mt.type;var sn=Mt.memoizedProps;switch(rn[Of$1]=Mt,rn[Pf$1]=sn,st=(Mt.mode&1)!==0,nn){case"dialog":D$1("cancel",rn),D$1("close",rn);break;case"iframe":case"object":case"embed":D$1("load",rn);break;case"video":case"audio":for(an=0;an<lf$1.length;an++)D$1(lf$1[an],rn);break;case"source":D$1("error",rn);break;case"img":case"image":case"link":D$1("error",rn),D$1("load",rn);break;case"details":D$1("toggle",rn);break;case"input":Za$1(rn,sn),D$1("invalid",rn);break;case"select":rn._wrapperState={wasMultiple:!!sn.multiple},D$1("invalid",rn);break;case"textarea":hb(rn,sn),D$1("invalid",rn)}ub(nn,sn),an=null;for(var un in sn)if(sn.hasOwnProperty(un)){var ln=sn[un];un==="children"?typeof ln=="string"?rn.textContent!==ln&&(sn.suppressHydrationWarning!==!0&&Af$1(rn.textContent,ln,st),an=["children",ln]):typeof ln=="number"&&rn.textContent!==""+ln&&(sn.suppressHydrationWarning!==!0&&Af$1(rn.textContent,ln,st),an=["children",""+ln]):ea$1.hasOwnProperty(un)&&ln!=null&&un==="onScroll"&&D$1("scroll",rn)}switch(nn){case"input":Va$1(rn),db(rn,sn,!0);break;case"textarea":Va$1(rn),jb(rn);break;case"select":case"option":break;default:typeof sn.onClick=="function"&&(rn.onclick=Bf$1)}rn=an,Mt.updateQueue=rn,rn!==null&&(Mt.flags|=4)}else{un=an.nodeType===9?an:an.ownerDocument,st==="http://www.w3.org/1999/xhtml"&&(st=kb(nn)),st==="http://www.w3.org/1999/xhtml"?nn==="script"?(st=un.createElement("div"),st.innerHTML="<script><\/script>",st=st.removeChild(st.firstChild)):typeof rn.is=="string"?st=un.createElement(nn,{is:rn.is}):(st=un.createElement(nn),nn==="select"&&(un=st,rn.multiple?un.multiple=!0:rn.size&&(un.size=rn.size))):st=un.createElementNS(st,nn),st[Of$1]=Mt,st[Pf$1]=rn,zj(st,Mt,!1,!1),Mt.stateNode=st;e:{switch(un=vb(nn,rn),nn){case"dialog":D$1("cancel",st),D$1("close",st),an=rn;break;case"iframe":case"object":case"embed":D$1("load",st),an=rn;break;case"video":case"audio":for(an=0;an<lf$1.length;an++)D$1(lf$1[an],st);an=rn;break;case"source":D$1("error",st),an=rn;break;case"img":case"image":case"link":D$1("error",st),D$1("load",st),an=rn;break;case"details":D$1("toggle",st),an=rn;break;case"input":Za$1(st,rn),an=Ya$1(st,rn),D$1("invalid",st);break;case"option":an=rn;break;case"select":st._wrapperState={wasMultiple:!!rn.multiple},an=A$1({},rn,{value:void 0}),D$1("invalid",st);break;case"textarea":hb(st,rn),an=gb(st,rn),D$1("invalid",st);break;default:an=rn}ub(nn,an),ln=an;for(sn in ln)if(ln.hasOwnProperty(sn)){var cn=ln[sn];sn==="style"?sb(st,cn):sn==="dangerouslySetInnerHTML"?(cn=cn?cn.__html:void 0,cn!=null&&nb(st,cn)):sn==="children"?typeof cn=="string"?(nn!=="textarea"||cn!=="")&&ob(st,cn):typeof cn=="number"&&ob(st,""+cn):sn!=="suppressContentEditableWarning"&&sn!=="suppressHydrationWarning"&&sn!=="autoFocus"&&(ea$1.hasOwnProperty(sn)?cn!=null&&sn==="onScroll"&&D$1("scroll",st):cn!=null&&ta$1(st,sn,cn,un))}switch(nn){case"input":Va$1(st),db(st,rn,!1);break;case"textarea":Va$1(st),jb(st);break;case"option":rn.value!=null&&st.setAttribute("value",""+Sa$1(rn.value));break;case"select":st.multiple=!!rn.multiple,sn=rn.value,sn!=null?fb(st,!!rn.multiple,sn,!1):rn.defaultValue!=null&&fb(st,!!rn.multiple,rn.defaultValue,!0);break;default:typeof an.onClick=="function"&&(st.onclick=Bf$1)}switch(nn){case"button":case"input":case"select":case"textarea":rn=!!rn.autoFocus;break e;case"img":rn=!0;break e;default:rn=!1}}rn&&(Mt.flags|=4)}Mt.ref!==null&&(Mt.flags|=512,Mt.flags|=2097152)}return S$1(Mt),null;case 6:if(st&&Mt.stateNode!=null)Cj(st,Mt,st.memoizedProps,rn);else{if(typeof rn!="string"&&Mt.stateNode===null)throw Error(p$1(166));if(nn=xh$1(wh$1.current),xh$1(uh$1.current),Gg(Mt)){if(rn=Mt.stateNode,nn=Mt.memoizedProps,rn[Of$1]=Mt,(sn=rn.nodeValue!==nn)&&(st=xg,st!==null))switch(st.tag){case 3:Af$1(rn.nodeValue,nn,(st.mode&1)!==0);break;case 5:st.memoizedProps.suppressHydrationWarning!==!0&&Af$1(rn.nodeValue,nn,(st.mode&1)!==0)}sn&&(Mt.flags|=4)}else rn=(nn.nodeType===9?nn:nn.ownerDocument).createTextNode(rn),rn[Of$1]=Mt,Mt.stateNode=rn}return S$1(Mt),null;case 13:if(E$1(L$1),rn=Mt.memoizedState,st===null||st.memoizedState!==null&&st.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&Mt.mode&1&&!(Mt.flags&128))Hg(),Ig(),Mt.flags|=98560,sn=!1;else if(sn=Gg(Mt),rn!==null&&rn.dehydrated!==null){if(st===null){if(!sn)throw Error(p$1(318));if(sn=Mt.memoizedState,sn=sn!==null?sn.dehydrated:null,!sn)throw Error(p$1(317));sn[Of$1]=Mt}else Ig(),!(Mt.flags&128)&&(Mt.memoizedState=null),Mt.flags|=4;S$1(Mt),sn=!1}else zg!==null&&(Fj(zg),zg=null),sn=!0;if(!sn)return Mt.flags&65536?Mt:null}return Mt.flags&128?(Mt.lanes=nn,Mt):(rn=rn!==null,rn!==(st!==null&&st.memoizedState!==null)&&rn&&(Mt.child.flags|=8192,Mt.mode&1&&(st===null||L$1.current&1?T$1===0&&(T$1=3):tj())),Mt.updateQueue!==null&&(Mt.flags|=4),S$1(Mt),null);case 4:return zh$1(),Aj(st,Mt),st===null&&sf$1(Mt.stateNode.containerInfo),S$1(Mt),null;case 10:return ah$1(Mt.type._context),S$1(Mt),null;case 17:return Zf$1(Mt.type)&&$f$1(),S$1(Mt),null;case 19:if(E$1(L$1),sn=Mt.memoizedState,sn===null)return S$1(Mt),null;if(rn=(Mt.flags&128)!==0,un=sn.rendering,un===null)if(rn)Dj(sn,!1);else{if(T$1!==0||st!==null&&st.flags&128)for(st=Mt.child;st!==null;){if(un=Ch$1(st),un!==null){for(Mt.flags|=128,Dj(sn,!1),rn=un.updateQueue,rn!==null&&(Mt.updateQueue=rn,Mt.flags|=4),Mt.subtreeFlags=0,rn=nn,nn=Mt.child;nn!==null;)sn=nn,st=rn,sn.flags&=14680066,un=sn.alternate,un===null?(sn.childLanes=0,sn.lanes=st,sn.child=null,sn.subtreeFlags=0,sn.memoizedProps=null,sn.memoizedState=null,sn.updateQueue=null,sn.dependencies=null,sn.stateNode=null):(sn.childLanes=un.childLanes,sn.lanes=un.lanes,sn.child=un.child,sn.subtreeFlags=0,sn.deletions=null,sn.memoizedProps=un.memoizedProps,sn.memoizedState=un.memoizedState,sn.updateQueue=un.updateQueue,sn.type=un.type,st=un.dependencies,sn.dependencies=st===null?null:{lanes:st.lanes,firstContext:st.firstContext}),nn=nn.sibling;return G$1(L$1,L$1.current&1|2),Mt.child}st=st.sibling}sn.tail!==null&&B$1()>Gj&&(Mt.flags|=128,rn=!0,Dj(sn,!1),Mt.lanes=4194304)}else{if(!rn)if(st=Ch$1(un),st!==null){if(Mt.flags|=128,rn=!0,nn=st.updateQueue,nn!==null&&(Mt.updateQueue=nn,Mt.flags|=4),Dj(sn,!0),sn.tail===null&&sn.tailMode==="hidden"&&!un.alternate&&!I$1)return S$1(Mt),null}else 2*B$1()-sn.renderingStartTime>Gj&&nn!==1073741824&&(Mt.flags|=128,rn=!0,Dj(sn,!1),Mt.lanes=4194304);sn.isBackwards?(un.sibling=Mt.child,Mt.child=un):(nn=sn.last,nn!==null?nn.sibling=un:Mt.child=un,sn.last=un)}return sn.tail!==null?(Mt=sn.tail,sn.rendering=Mt,sn.tail=Mt.sibling,sn.renderingStartTime=B$1(),Mt.sibling=null,nn=L$1.current,G$1(L$1,rn?nn&1|2:nn&1),Mt):(S$1(Mt),null);case 22:case 23:return Hj(),rn=Mt.memoizedState!==null,st!==null&&st.memoizedState!==null!==rn&&(Mt.flags|=8192),rn&&Mt.mode&1?fj&1073741824&&(S$1(Mt),Mt.subtreeFlags&6&&(Mt.flags|=8192)):S$1(Mt),null;case 24:return null;case 25:return null}throw Error(p$1(156,Mt.tag))}function Ij(st,Mt){switch(wg(Mt),Mt.tag){case 1:return Zf$1(Mt.type)&&$f$1(),st=Mt.flags,st&65536?(Mt.flags=st&-65537|128,Mt):null;case 3:return zh$1(),E$1(Wf$1),E$1(H$1),Eh$1(),st=Mt.flags,st&65536&&!(st&128)?(Mt.flags=st&-65537|128,Mt):null;case 5:return Bh$1(Mt),null;case 13:if(E$1(L$1),st=Mt.memoizedState,st!==null&&st.dehydrated!==null){if(Mt.alternate===null)throw Error(p$1(340));Ig()}return st=Mt.flags,st&65536?(Mt.flags=st&-65537|128,Mt):null;case 19:return E$1(L$1),null;case 4:return zh$1(),null;case 10:return ah$1(Mt.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(st,Mt){var nn=st.ref;if(nn!==null)if(typeof nn=="function")try{nn(null)}catch(rn){W$1(st,Mt,rn)}else nn.current=null}function Mj(st,Mt,nn){try{nn()}catch(rn){W$1(st,Mt,rn)}}var Nj=!1;function Oj(st,Mt){if(Cf$1=dd,st=Me$1(),Ne$1(st)){if("selectionStart"in st)var nn={start:st.selectionStart,end:st.selectionEnd};else e:{nn=(nn=st.ownerDocument)&&nn.defaultView||window;var rn=nn.getSelection&&nn.getSelection();if(rn&&rn.rangeCount!==0){nn=rn.anchorNode;var an=rn.anchorOffset,sn=rn.focusNode;rn=rn.focusOffset;try{nn.nodeType,sn.nodeType}catch{nn=null;break e}var un=0,ln=-1,cn=-1,hn=0,fn=0,to=st,Xr=null;t:for(;;){for(var uo;to!==nn||an!==0&&to.nodeType!==3||(ln=un+an),to!==sn||rn!==0&&to.nodeType!==3||(cn=un+rn),to.nodeType===3&&(un+=to.nodeValue.length),(uo=to.firstChild)!==null;)Xr=to,to=uo;for(;;){if(to===st)break t;if(Xr===nn&&++hn===an&&(ln=un),Xr===sn&&++fn===rn&&(cn=un),(uo=to.nextSibling)!==null)break;to=Xr,Xr=to.parentNode}to=uo}nn=ln===-1||cn===-1?null:{start:ln,end:cn}}else nn=null}nn=nn||{start:0,end:0}}else nn=null;for(Df$1={focusedElem:st,selectionRange:nn},dd=!1,V$1=Mt;V$1!==null;)if(Mt=V$1,st=Mt.child,(Mt.subtreeFlags&1028)!==0&&st!==null)st.return=Mt,V$1=st;else for(;V$1!==null;){Mt=V$1;try{var co=Mt.alternate;if(Mt.flags&1024)switch(Mt.tag){case 0:case 11:case 15:break;case 1:if(co!==null){var ho=co.memoizedProps,e0=co.memoizedState,lo=Mt.stateNode,mo=lo.getSnapshotBeforeUpdate(Mt.elementType===Mt.type?ho:Ci$1(Mt.type,ho),e0);lo.__reactInternalSnapshotBeforeUpdate=mo}break;case 3:var fo=Mt.stateNode.containerInfo;fo.nodeType===1?fo.textContent="":fo.nodeType===9&&fo.documentElement&&fo.removeChild(fo.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(Uo){W$1(Mt,Mt.return,Uo)}if(st=Mt.sibling,st!==null){st.return=Mt.return,V$1=st;break}V$1=Mt.return}return co=Nj,Nj=!1,co}function Pj(st,Mt,nn){var rn=Mt.updateQueue;if(rn=rn!==null?rn.lastEffect:null,rn!==null){var an=rn=rn.next;do{if((an.tag&st)===st){var sn=an.destroy;an.destroy=void 0,sn!==void 0&&Mj(Mt,nn,sn)}an=an.next}while(an!==rn)}}function Qj(st,Mt){if(Mt=Mt.updateQueue,Mt=Mt!==null?Mt.lastEffect:null,Mt!==null){var nn=Mt=Mt.next;do{if((nn.tag&st)===st){var rn=nn.create;nn.destroy=rn()}nn=nn.next}while(nn!==Mt)}}function Rj(st){var Mt=st.ref;if(Mt!==null){var nn=st.stateNode;switch(st.tag){case 5:st=nn;break;default:st=nn}typeof Mt=="function"?Mt(st):Mt.current=st}}function Sj(st){var Mt=st.alternate;Mt!==null&&(st.alternate=null,Sj(Mt)),st.child=null,st.deletions=null,st.sibling=null,st.tag===5&&(Mt=st.stateNode,Mt!==null&&(delete Mt[Of$1],delete Mt[Pf$1],delete Mt[of$1],delete Mt[Qf$1],delete Mt[Rf$1])),st.stateNode=null,st.return=null,st.dependencies=null,st.memoizedProps=null,st.memoizedState=null,st.pendingProps=null,st.stateNode=null,st.updateQueue=null}function Tj(st){return st.tag===5||st.tag===3||st.tag===4}function Uj(st){e:for(;;){for(;st.sibling===null;){if(st.return===null||Tj(st.return))return null;st=st.return}for(st.sibling.return=st.return,st=st.sibling;st.tag!==5&&st.tag!==6&&st.tag!==18;){if(st.flags&2||st.child===null||st.tag===4)continue e;st.child.return=st,st=st.child}if(!(st.flags&2))return st.stateNode}}function Vj(st,Mt,nn){var rn=st.tag;if(rn===5||rn===6)st=st.stateNode,Mt?nn.nodeType===8?nn.parentNode.insertBefore(st,Mt):nn.insertBefore(st,Mt):(nn.nodeType===8?(Mt=nn.parentNode,Mt.insertBefore(st,nn)):(Mt=nn,Mt.appendChild(st)),nn=nn._reactRootContainer,nn!=null||Mt.onclick!==null||(Mt.onclick=Bf$1));else if(rn!==4&&(st=st.child,st!==null))for(Vj(st,Mt,nn),st=st.sibling;st!==null;)Vj(st,Mt,nn),st=st.sibling}function Wj(st,Mt,nn){var rn=st.tag;if(rn===5||rn===6)st=st.stateNode,Mt?nn.insertBefore(st,Mt):nn.appendChild(st);else if(rn!==4&&(st=st.child,st!==null))for(Wj(st,Mt,nn),st=st.sibling;st!==null;)Wj(st,Mt,nn),st=st.sibling}var X$1=null,Xj=!1;function Yj(st,Mt,nn){for(nn=nn.child;nn!==null;)Zj(st,Mt,nn),nn=nn.sibling}function Zj(st,Mt,nn){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc$1,nn)}catch{}switch(nn.tag){case 5:U$1||Lj(nn,Mt);case 6:var rn=X$1,an=Xj;X$1=null,Yj(st,Mt,nn),X$1=rn,Xj=an,X$1!==null&&(Xj?(st=X$1,nn=nn.stateNode,st.nodeType===8?st.parentNode.removeChild(nn):st.removeChild(nn)):X$1.removeChild(nn.stateNode));break;case 18:X$1!==null&&(Xj?(st=X$1,nn=nn.stateNode,st.nodeType===8?Kf$1(st.parentNode,nn):st.nodeType===1&&Kf$1(st,nn),bd$1(st)):Kf$1(X$1,nn.stateNode));break;case 4:rn=X$1,an=Xj,X$1=nn.stateNode.containerInfo,Xj=!0,Yj(st,Mt,nn),X$1=rn,Xj=an;break;case 0:case 11:case 14:case 15:if(!U$1&&(rn=nn.updateQueue,rn!==null&&(rn=rn.lastEffect,rn!==null))){an=rn=rn.next;do{var sn=an,un=sn.destroy;sn=sn.tag,un!==void 0&&(sn&2||sn&4)&&Mj(nn,Mt,un),an=an.next}while(an!==rn)}Yj(st,Mt,nn);break;case 1:if(!U$1&&(Lj(nn,Mt),rn=nn.stateNode,typeof rn.componentWillUnmount=="function"))try{rn.props=nn.memoizedProps,rn.state=nn.memoizedState,rn.componentWillUnmount()}catch(ln){W$1(nn,Mt,ln)}Yj(st,Mt,nn);break;case 21:Yj(st,Mt,nn);break;case 22:nn.mode&1?(U$1=(rn=U$1)||nn.memoizedState!==null,Yj(st,Mt,nn),U$1=rn):Yj(st,Mt,nn);break;default:Yj(st,Mt,nn)}}function ak(st){var Mt=st.updateQueue;if(Mt!==null){st.updateQueue=null;var nn=st.stateNode;nn===null&&(nn=st.stateNode=new Kj),Mt.forEach(function(rn){var an=bk.bind(null,st,rn);nn.has(rn)||(nn.add(rn),rn.then(an,an))})}}function ck(st,Mt){var nn=Mt.deletions;if(nn!==null)for(var rn=0;rn<nn.length;rn++){var an=nn[rn];try{var sn=st,un=Mt,ln=un;e:for(;ln!==null;){switch(ln.tag){case 5:X$1=ln.stateNode,Xj=!1;break e;case 3:X$1=ln.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=ln.stateNode.containerInfo,Xj=!0;break e}ln=ln.return}if(X$1===null)throw Error(p$1(160));Zj(sn,un,an),X$1=null,Xj=!1;var cn=an.alternate;cn!==null&&(cn.return=null),an.return=null}catch(hn){W$1(an,Mt,hn)}}if(Mt.subtreeFlags&12854)for(Mt=Mt.child;Mt!==null;)dk(Mt,st),Mt=Mt.sibling}function dk(st,Mt){var nn=st.alternate,rn=st.flags;switch(st.tag){case 0:case 11:case 14:case 15:if(ck(Mt,st),ek(st),rn&4){try{Pj(3,st,st.return),Qj(3,st)}catch(ho){W$1(st,st.return,ho)}try{Pj(5,st,st.return)}catch(ho){W$1(st,st.return,ho)}}break;case 1:ck(Mt,st),ek(st),rn&512&&nn!==null&&Lj(nn,nn.return);break;case 5:if(ck(Mt,st),ek(st),rn&512&&nn!==null&&Lj(nn,nn.return),st.flags&32){var an=st.stateNode;try{ob(an,"")}catch(ho){W$1(st,st.return,ho)}}if(rn&4&&(an=st.stateNode,an!=null)){var sn=st.memoizedProps,un=nn!==null?nn.memoizedProps:sn,ln=st.type,cn=st.updateQueue;if(st.updateQueue=null,cn!==null)try{ln==="input"&&sn.type==="radio"&&sn.name!=null&&ab(an,sn),vb(ln,un);var hn=vb(ln,sn);for(un=0;un<cn.length;un+=2){var fn=cn[un],to=cn[un+1];fn==="style"?sb(an,to):fn==="dangerouslySetInnerHTML"?nb(an,to):fn==="children"?ob(an,to):ta$1(an,fn,to,hn)}switch(ln){case"input":bb(an,sn);break;case"textarea":ib(an,sn);break;case"select":var Xr=an._wrapperState.wasMultiple;an._wrapperState.wasMultiple=!!sn.multiple;var uo=sn.value;uo!=null?fb(an,!!sn.multiple,uo,!1):Xr!==!!sn.multiple&&(sn.defaultValue!=null?fb(an,!!sn.multiple,sn.defaultValue,!0):fb(an,!!sn.multiple,sn.multiple?[]:"",!1))}an[Pf$1]=sn}catch(ho){W$1(st,st.return,ho)}}break;case 6:if(ck(Mt,st),ek(st),rn&4){if(st.stateNode===null)throw Error(p$1(162));an=st.stateNode,sn=st.memoizedProps;try{an.nodeValue=sn}catch(ho){W$1(st,st.return,ho)}}break;case 3:if(ck(Mt,st),ek(st),rn&4&&nn!==null&&nn.memoizedState.isDehydrated)try{bd$1(Mt.containerInfo)}catch(ho){W$1(st,st.return,ho)}break;case 4:ck(Mt,st),ek(st);break;case 13:ck(Mt,st),ek(st),an=st.child,an.flags&8192&&(sn=an.memoizedState!==null,an.stateNode.isHidden=sn,!sn||an.alternate!==null&&an.alternate.memoizedState!==null||(fk=B$1())),rn&4&&ak(st);break;case 22:if(fn=nn!==null&&nn.memoizedState!==null,st.mode&1?(U$1=(hn=U$1)||fn,ck(Mt,st),U$1=hn):ck(Mt,st),ek(st),rn&8192){if(hn=st.memoizedState!==null,(st.stateNode.isHidden=hn)&&!fn&&st.mode&1)for(V$1=st,fn=st.child;fn!==null;){for(to=V$1=fn;V$1!==null;){switch(Xr=V$1,uo=Xr.child,Xr.tag){case 0:case 11:case 14:case 15:Pj(4,Xr,Xr.return);break;case 1:Lj(Xr,Xr.return);var co=Xr.stateNode;if(typeof co.componentWillUnmount=="function"){rn=Xr,nn=Xr.return;try{Mt=rn,co.props=Mt.memoizedProps,co.state=Mt.memoizedState,co.componentWillUnmount()}catch(ho){W$1(rn,nn,ho)}}break;case 5:Lj(Xr,Xr.return);break;case 22:if(Xr.memoizedState!==null){gk(to);continue}}uo!==null?(uo.return=Xr,V$1=uo):gk(to)}fn=fn.sibling}e:for(fn=null,to=st;;){if(to.tag===5){if(fn===null){fn=to;try{an=to.stateNode,hn?(sn=an.style,typeof sn.setProperty=="function"?sn.setProperty("display","none","important"):sn.display="none"):(ln=to.stateNode,cn=to.memoizedProps.style,un=cn!=null&&cn.hasOwnProperty("display")?cn.display:null,ln.style.display=rb("display",un))}catch(ho){W$1(st,st.return,ho)}}}else if(to.tag===6){if(fn===null)try{to.stateNode.nodeValue=hn?"":to.memoizedProps}catch(ho){W$1(st,st.return,ho)}}else if((to.tag!==22&&to.tag!==23||to.memoizedState===null||to===st)&&to.child!==null){to.child.return=to,to=to.child;continue}if(to===st)break e;for(;to.sibling===null;){if(to.return===null||to.return===st)break e;fn===to&&(fn=null),to=to.return}fn===to&&(fn=null),to.sibling.return=to.return,to=to.sibling}}break;case 19:ck(Mt,st),ek(st),rn&4&&ak(st);break;case 21:break;default:ck(Mt,st),ek(st)}}function ek(st){var Mt=st.flags;if(Mt&2){try{e:{for(var nn=st.return;nn!==null;){if(Tj(nn)){var rn=nn;break e}nn=nn.return}throw Error(p$1(160))}switch(rn.tag){case 5:var an=rn.stateNode;rn.flags&32&&(ob(an,""),rn.flags&=-33);var sn=Uj(st);Wj(st,sn,an);break;case 3:case 4:var un=rn.stateNode.containerInfo,ln=Uj(st);Vj(st,ln,un);break;default:throw Error(p$1(161))}}catch(cn){W$1(st,st.return,cn)}st.flags&=-3}Mt&4096&&(st.flags&=-4097)}function hk(st,Mt,nn){V$1=st,ik(st)}function ik(st,Mt,nn){for(var rn=(st.mode&1)!==0;V$1!==null;){var an=V$1,sn=an.child;if(an.tag===22&&rn){var un=an.memoizedState!==null||Jj;if(!un){var ln=an.alternate,cn=ln!==null&&ln.memoizedState!==null||U$1;ln=Jj;var hn=U$1;if(Jj=un,(U$1=cn)&&!hn)for(V$1=an;V$1!==null;)un=V$1,cn=un.child,un.tag===22&&un.memoizedState!==null?jk(an):cn!==null?(cn.return=un,V$1=cn):jk(an);for(;sn!==null;)V$1=sn,ik(sn),sn=sn.sibling;V$1=an,Jj=ln,U$1=hn}kk(st)}else an.subtreeFlags&8772&&sn!==null?(sn.return=an,V$1=sn):kk(st)}}function kk(st){for(;V$1!==null;){var Mt=V$1;if(Mt.flags&8772){var nn=Mt.alternate;try{if(Mt.flags&8772)switch(Mt.tag){case 0:case 11:case 15:U$1||Qj(5,Mt);break;case 1:var rn=Mt.stateNode;if(Mt.flags&4&&!U$1)if(nn===null)rn.componentDidMount();else{var an=Mt.elementType===Mt.type?nn.memoizedProps:Ci$1(Mt.type,nn.memoizedProps);rn.componentDidUpdate(an,nn.memoizedState,rn.__reactInternalSnapshotBeforeUpdate)}var sn=Mt.updateQueue;sn!==null&&sh$1(Mt,sn,rn);break;case 3:var un=Mt.updateQueue;if(un!==null){if(nn=null,Mt.child!==null)switch(Mt.child.tag){case 5:nn=Mt.child.stateNode;break;case 1:nn=Mt.child.stateNode}sh$1(Mt,un,nn)}break;case 5:var ln=Mt.stateNode;if(nn===null&&Mt.flags&4){nn=ln;var cn=Mt.memoizedProps;switch(Mt.type){case"button":case"input":case"select":case"textarea":cn.autoFocus&&nn.focus();break;case"img":cn.src&&(nn.src=cn.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(Mt.memoizedState===null){var hn=Mt.alternate;if(hn!==null){var fn=hn.memoizedState;if(fn!==null){var to=fn.dehydrated;to!==null&&bd$1(to)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U$1||Mt.flags&512&&Rj(Mt)}catch(Xr){W$1(Mt,Mt.return,Xr)}}if(Mt===st){V$1=null;break}if(nn=Mt.sibling,nn!==null){nn.return=Mt.return,V$1=nn;break}V$1=Mt.return}}function gk(st){for(;V$1!==null;){var Mt=V$1;if(Mt===st){V$1=null;break}var nn=Mt.sibling;if(nn!==null){nn.return=Mt.return,V$1=nn;break}V$1=Mt.return}}function jk(st){for(;V$1!==null;){var Mt=V$1;try{switch(Mt.tag){case 0:case 11:case 15:var nn=Mt.return;try{Qj(4,Mt)}catch(cn){W$1(Mt,nn,cn)}break;case 1:var rn=Mt.stateNode;if(typeof rn.componentDidMount=="function"){var an=Mt.return;try{rn.componentDidMount()}catch(cn){W$1(Mt,an,cn)}}var sn=Mt.return;try{Rj(Mt)}catch(cn){W$1(Mt,sn,cn)}break;case 5:var un=Mt.return;try{Rj(Mt)}catch(cn){W$1(Mt,un,cn)}}}catch(cn){W$1(Mt,Mt.return,cn)}if(Mt===st){V$1=null;break}var ln=Mt.sibling;if(ln!==null){ln.return=Mt.return,V$1=ln;break}V$1=Mt.return}}var lk=Math.ceil,mk=ua$1.ReactCurrentDispatcher,nk=ua$1.ReactCurrentOwner,ok=ua$1.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf$1(0),T$1=0,pk=null,rh$1=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi$1=!1,Pi$1=null,Ri$1=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$1&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi$1(st){return st.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc$1()),Bk):(st=C$1,st!==0||(st=window.event,st=st===void 0?16:jd(st.type)),st):1}function gi$1(st,Mt,nn,rn){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac$1(st,nn,rn),(!(K$1&2)||st!==Q$1)&&(st===Q$1&&(!(K$1&2)&&(qk|=nn),T$1===4&&Ck(st,Z$1)),Dk(st,rn),nn===1&&K$1===0&&!(Mt.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(st,Mt){var nn=st.callbackNode;wc$1(st,Mt);var rn=uc$1(st,st===Q$1?Z$1:0);if(rn===0)nn!==null&&bc$1(nn),st.callbackNode=null,st.callbackPriority=0;else if(Mt=rn&-rn,st.callbackPriority!==Mt){if(nn!=null&&bc$1(nn),Mt===1)st.tag===0?ig(Ek.bind(null,st)):hg(Ek.bind(null,st)),Jf$1(function(){!(K$1&6)&&jg()}),nn=null;else{switch(Dc$1(rn)){case 1:nn=fc$1;break;case 4:nn=gc$1;break;case 16:nn=hc$1;break;case 536870912:nn=jc$1;break;default:nn=hc$1}nn=Fk(nn,Gk.bind(null,st))}st.callbackPriority=Mt,st.callbackNode=nn}}function Gk(st,Mt){if(Ak=-1,Bk=0,K$1&6)throw Error(p$1(327));var nn=st.callbackNode;if(Hk()&&st.callbackNode!==nn)return null;var rn=uc$1(st,st===Q$1?Z$1:0);if(rn===0)return null;if(rn&30||rn&st.expiredLanes||Mt)Mt=Ik(st,rn);else{Mt=rn;var an=K$1;K$1|=2;var sn=Jk();(Q$1!==st||Z$1!==Mt)&&(uk=null,Gj=B$1()+500,Kk(st,Mt));do try{Lk();break}catch(ln){Mk(st,ln)}while(!0);$g(),mk.current=sn,K$1=an,Y$1!==null?Mt=0:(Q$1=null,Z$1=0,Mt=T$1)}if(Mt!==0){if(Mt===2&&(an=xc$1(st),an!==0&&(rn=an,Mt=Nk(st,an))),Mt===1)throw nn=pk,Kk(st,0),Ck(st,rn),Dk(st,B$1()),nn;if(Mt===6)Ck(st,rn);else{if(an=st.current.alternate,!(rn&30)&&!Ok(an)&&(Mt=Ik(st,rn),Mt===2&&(sn=xc$1(st),sn!==0&&(rn=sn,Mt=Nk(st,sn))),Mt===1))throw nn=pk,Kk(st,0),Ck(st,rn),Dk(st,B$1()),nn;switch(st.finishedWork=an,st.finishedLanes=rn,Mt){case 0:case 1:throw Error(p$1(345));case 2:Pk(st,tk,uk);break;case 3:if(Ck(st,rn),(rn&130023424)===rn&&(Mt=fk+500-B$1(),10<Mt)){if(uc$1(st,0)!==0)break;if(an=st.suspendedLanes,(an&rn)!==rn){R$1(),st.pingedLanes|=st.suspendedLanes&an;break}st.timeoutHandle=Ff$1(Pk.bind(null,st,tk,uk),Mt);break}Pk(st,tk,uk);break;case 4:if(Ck(st,rn),(rn&4194240)===rn)break;for(Mt=st.eventTimes,an=-1;0<rn;){var un=31-oc$1(rn);sn=1<<un,un=Mt[un],un>an&&(an=un),rn&=~sn}if(rn=an,rn=B$1()-rn,rn=(120>rn?120:480>rn?480:1080>rn?1080:1920>rn?1920:3e3>rn?3e3:4320>rn?4320:1960*lk(rn/1960))-rn,10<rn){st.timeoutHandle=Ff$1(Pk.bind(null,st,tk,uk),rn);break}Pk(st,tk,uk);break;case 5:Pk(st,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(st,B$1()),st.callbackNode===nn?Gk.bind(null,st):null}function Nk(st,Mt){var nn=sk;return st.current.memoizedState.isDehydrated&&(Kk(st,Mt).flags|=256),st=Ik(st,Mt),st!==2&&(Mt=tk,tk=nn,Mt!==null&&Fj(Mt)),st}function Fj(st){tk===null?tk=st:tk.push.apply(tk,st)}function Ok(st){for(var Mt=st;;){if(Mt.flags&16384){var nn=Mt.updateQueue;if(nn!==null&&(nn=nn.stores,nn!==null))for(var rn=0;rn<nn.length;rn++){var an=nn[rn],sn=an.getSnapshot;an=an.value;try{if(!He$1(sn(),an))return!1}catch{return!1}}}if(nn=Mt.child,Mt.subtreeFlags&16384&&nn!==null)nn.return=Mt,Mt=nn;else{if(Mt===st)break;for(;Mt.sibling===null;){if(Mt.return===null||Mt.return===st)return!0;Mt=Mt.return}Mt.sibling.return=Mt.return,Mt=Mt.sibling}}return!0}function Ck(st,Mt){for(Mt&=~rk,Mt&=~qk,st.suspendedLanes|=Mt,st.pingedLanes&=~Mt,st=st.expirationTimes;0<Mt;){var nn=31-oc$1(Mt),rn=1<<nn;st[nn]=-1,Mt&=~rn}}function Ek(st){if(K$1&6)throw Error(p$1(327));Hk();var Mt=uc$1(st,0);if(!(Mt&1))return Dk(st,B$1()),null;var nn=Ik(st,Mt);if(st.tag!==0&&nn===2){var rn=xc$1(st);rn!==0&&(Mt=rn,nn=Nk(st,rn))}if(nn===1)throw nn=pk,Kk(st,0),Ck(st,Mt),Dk(st,B$1()),nn;if(nn===6)throw Error(p$1(345));return st.finishedWork=st.current.alternate,st.finishedLanes=Mt,Pk(st,tk,uk),Dk(st,B$1()),null}function Qk(st,Mt){var nn=K$1;K$1|=1;try{return st(Mt)}finally{K$1=nn,K$1===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(st){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var Mt=K$1;K$1|=1;var nn=ok.transition,rn=C$1;try{if(ok.transition=null,C$1=1,st)return st()}finally{C$1=rn,ok.transition=nn,K$1=Mt,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(st,Mt){st.finishedWork=null,st.finishedLanes=0;var nn=st.timeoutHandle;if(nn!==-1&&(st.timeoutHandle=-1,Gf$1(nn)),Y$1!==null)for(nn=Y$1.return;nn!==null;){var rn=nn;switch(wg(rn),rn.tag){case 1:rn=rn.type.childContextTypes,rn!=null&&$f$1();break;case 3:zh$1(),E$1(Wf$1),E$1(H$1),Eh$1();break;case 5:Bh$1(rn);break;case 4:zh$1();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah$1(rn.type._context);break;case 22:case 23:Hj()}nn=nn.return}if(Q$1=st,Y$1=st=Pg(st.current,null),Z$1=fj=Mt,T$1=0,pk=null,rk=qk=rh$1=0,tk=sk=null,fh$1!==null){for(Mt=0;Mt<fh$1.length;Mt++)if(nn=fh$1[Mt],rn=nn.interleaved,rn!==null){nn.interleaved=null;var an=rn.next,sn=nn.pending;if(sn!==null){var un=sn.next;sn.next=an,rn.next=un}nn.pending=rn}fh$1=null}return st}function Mk(st,Mt){do{var nn=Y$1;try{if($g(),Fh$1.current=Rh$1,Ih$1){for(var rn=M$1.memoizedState;rn!==null;){var an=rn.queue;an!==null&&(an.pending=null),rn=rn.next}Ih$1=!1}if(Hh$1=0,O$1=N$1=M$1=null,Jh$1=!1,Kh$1=0,nk.current=null,nn===null||nn.return===null){T$1=1,pk=Mt,Y$1=null;break}e:{var sn=st,un=nn.return,ln=nn,cn=Mt;if(Mt=Z$1,ln.flags|=32768,cn!==null&&typeof cn=="object"&&typeof cn.then=="function"){var hn=cn,fn=ln,to=fn.tag;if(!(fn.mode&1)&&(to===0||to===11||to===15)){var Xr=fn.alternate;Xr?(fn.updateQueue=Xr.updateQueue,fn.memoizedState=Xr.memoizedState,fn.lanes=Xr.lanes):(fn.updateQueue=null,fn.memoizedState=null)}var uo=Ui$1(un);if(uo!==null){uo.flags&=-257,Vi$1(uo,un,ln,sn,Mt),uo.mode&1&&Si$1(sn,hn,Mt),Mt=uo,cn=hn;var co=Mt.updateQueue;if(co===null){var ho=new Set;ho.add(cn),Mt.updateQueue=ho}else co.add(cn);break e}else{if(!(Mt&1)){Si$1(sn,hn,Mt),tj();break e}cn=Error(p$1(426))}}else if(I$1&&ln.mode&1){var e0=Ui$1(un);if(e0!==null){!(e0.flags&65536)&&(e0.flags|=256),Vi$1(e0,un,ln,sn,Mt),Jg(Ji$1(cn,ln));break e}}sn=cn=Ji$1(cn,ln),T$1!==4&&(T$1=2),sk===null?sk=[sn]:sk.push(sn),sn=un;do{switch(sn.tag){case 3:sn.flags|=65536,Mt&=-Mt,sn.lanes|=Mt;var lo=Ni$1(sn,cn,Mt);ph$1(sn,lo);break e;case 1:ln=cn;var mo=sn.type,fo=sn.stateNode;if(!(sn.flags&128)&&(typeof mo.getDerivedStateFromError=="function"||fo!==null&&typeof fo.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(fo)))){sn.flags|=65536,Mt&=-Mt,sn.lanes|=Mt;var Uo=Qi$1(sn,ln,Mt);ph$1(sn,Uo);break e}}sn=sn.return}while(sn!==null)}Sk(nn)}catch(t0){Mt=t0,Y$1===nn&&nn!==null&&(Y$1=nn=nn.return);continue}break}while(!0)}function Jk(){var st=mk.current;return mk.current=Rh$1,st===null?Rh$1:st}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q$1===null||!(rh$1&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(st,Mt){var nn=K$1;K$1|=2;var rn=Jk();(Q$1!==st||Z$1!==Mt)&&(uk=null,Kk(st,Mt));do try{Tk();break}catch(an){Mk(st,an)}while(!0);if($g(),K$1=nn,mk.current=rn,Y$1!==null)throw Error(p$1(261));return Q$1=null,Z$1=0,T$1}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc$1();)Uk(Y$1)}function Uk(st){var Mt=Vk(st.alternate,st,fj);st.memoizedProps=st.pendingProps,Mt===null?Sk(st):Y$1=Mt,nk.current=null}function Sk(st){var Mt=st;do{var nn=Mt.alternate;if(st=Mt.return,Mt.flags&32768){if(nn=Ij(nn,Mt),nn!==null){nn.flags&=32767,Y$1=nn;return}if(st!==null)st.flags|=32768,st.subtreeFlags=0,st.deletions=null;else{T$1=6,Y$1=null;return}}else if(nn=Ej(nn,Mt,fj),nn!==null){Y$1=nn;return}if(Mt=Mt.sibling,Mt!==null){Y$1=Mt;return}Y$1=Mt=st}while(Mt!==null);T$1===0&&(T$1=5)}function Pk(st,Mt,nn){var rn=C$1,an=ok.transition;try{ok.transition=null,C$1=1,Wk(st,Mt,nn,rn)}finally{ok.transition=an,C$1=rn}return null}function Wk(st,Mt,nn,rn){do Hk();while(wk!==null);if(K$1&6)throw Error(p$1(327));nn=st.finishedWork;var an=st.finishedLanes;if(nn===null)return null;if(st.finishedWork=null,st.finishedLanes=0,nn===st.current)throw Error(p$1(177));st.callbackNode=null,st.callbackPriority=0;var sn=nn.lanes|nn.childLanes;if(Bc$1(st,sn),st===Q$1&&(Y$1=Q$1=null,Z$1=0),!(nn.subtreeFlags&2064)&&!(nn.flags&2064)||vk||(vk=!0,Fk(hc$1,function(){return Hk(),null})),sn=(nn.flags&15990)!==0,nn.subtreeFlags&15990||sn){sn=ok.transition,ok.transition=null;var un=C$1;C$1=1;var ln=K$1;K$1|=4,nk.current=null,Oj(st,nn),dk(nn,st),Oe$1(Df$1),dd=!!Cf$1,Df$1=Cf$1=null,st.current=nn,hk(nn),dc$1(),K$1=ln,C$1=un,ok.transition=sn}else st.current=nn;if(vk&&(vk=!1,wk=st,xk=an),sn=st.pendingLanes,sn===0&&(Ri$1=null),mc$1(nn.stateNode),Dk(st,B$1()),Mt!==null)for(rn=st.onRecoverableError,nn=0;nn<Mt.length;nn++)an=Mt[nn],rn(an.value,{componentStack:an.stack,digest:an.digest});if(Oi$1)throw Oi$1=!1,st=Pi$1,Pi$1=null,st;return xk&1&&st.tag!==0&&Hk(),sn=st.pendingLanes,sn&1?st===zk?yk++:(yk=0,zk=st):yk=0,jg(),null}function Hk(){if(wk!==null){var st=Dc$1(xk),Mt=ok.transition,nn=C$1;try{if(ok.transition=null,C$1=16>st?16:st,wk===null)var rn=!1;else{if(st=wk,wk=null,xk=0,K$1&6)throw Error(p$1(331));var an=K$1;for(K$1|=4,V$1=st.current;V$1!==null;){var sn=V$1,un=sn.child;if(V$1.flags&16){var ln=sn.deletions;if(ln!==null){for(var cn=0;cn<ln.length;cn++){var hn=ln[cn];for(V$1=hn;V$1!==null;){var fn=V$1;switch(fn.tag){case 0:case 11:case 15:Pj(8,fn,sn)}var to=fn.child;if(to!==null)to.return=fn,V$1=to;else for(;V$1!==null;){fn=V$1;var Xr=fn.sibling,uo=fn.return;if(Sj(fn),fn===hn){V$1=null;break}if(Xr!==null){Xr.return=uo,V$1=Xr;break}V$1=uo}}}var co=sn.alternate;if(co!==null){var ho=co.child;if(ho!==null){co.child=null;do{var e0=ho.sibling;ho.sibling=null,ho=e0}while(ho!==null)}}V$1=sn}}if(sn.subtreeFlags&2064&&un!==null)un.return=sn,V$1=un;else e:for(;V$1!==null;){if(sn=V$1,sn.flags&2048)switch(sn.tag){case 0:case 11:case 15:Pj(9,sn,sn.return)}var lo=sn.sibling;if(lo!==null){lo.return=sn.return,V$1=lo;break e}V$1=sn.return}}var mo=st.current;for(V$1=mo;V$1!==null;){un=V$1;var fo=un.child;if(un.subtreeFlags&2064&&fo!==null)fo.return=un,V$1=fo;else e:for(un=mo;V$1!==null;){if(ln=V$1,ln.flags&2048)try{switch(ln.tag){case 0:case 11:case 15:Qj(9,ln)}}catch(t0){W$1(ln,ln.return,t0)}if(ln===un){V$1=null;break e}var Uo=ln.sibling;if(Uo!==null){Uo.return=ln.return,V$1=Uo;break e}V$1=ln.return}}if(K$1=an,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc$1,st)}catch{}rn=!0}return rn}finally{C$1=nn,ok.transition=Mt}}return!1}function Xk(st,Mt,nn){Mt=Ji$1(nn,Mt),Mt=Ni$1(st,Mt,1),st=nh$1(st,Mt,1),Mt=R$1(),st!==null&&(Ac$1(st,1,Mt),Dk(st,Mt))}function W$1(st,Mt,nn){if(st.tag===3)Xk(st,st,nn);else for(;Mt!==null;){if(Mt.tag===3){Xk(Mt,st,nn);break}else if(Mt.tag===1){var rn=Mt.stateNode;if(typeof Mt.type.getDerivedStateFromError=="function"||typeof rn.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(rn))){st=Ji$1(nn,st),st=Qi$1(Mt,st,1),Mt=nh$1(Mt,st,1),st=R$1(),Mt!==null&&(Ac$1(Mt,1,st),Dk(Mt,st));break}}Mt=Mt.return}}function Ti$1(st,Mt,nn){var rn=st.pingCache;rn!==null&&rn.delete(Mt),Mt=R$1(),st.pingedLanes|=st.suspendedLanes&nn,Q$1===st&&(Z$1&nn)===nn&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-fk?Kk(st,0):rk|=nn),Dk(st,Mt)}function Yk(st,Mt){Mt===0&&(st.mode&1?(Mt=sc$1,sc$1<<=1,!(sc$1&130023424)&&(sc$1=4194304)):Mt=1);var nn=R$1();st=ih$1(st,Mt),st!==null&&(Ac$1(st,Mt,nn),Dk(st,nn))}function uj(st){var Mt=st.memoizedState,nn=0;Mt!==null&&(nn=Mt.retryLane),Yk(st,nn)}function bk(st,Mt){var nn=0;switch(st.tag){case 13:var rn=st.stateNode,an=st.memoizedState;an!==null&&(nn=an.retryLane);break;case 19:rn=st.stateNode;break;default:throw Error(p$1(314))}rn!==null&&rn.delete(Mt),Yk(st,nn)}var Vk;Vk=function(st,Mt,nn){if(st!==null)if(st.memoizedProps!==Mt.pendingProps||Wf$1.current)dh$1=!0;else{if(!(st.lanes&nn)&&!(Mt.flags&128))return dh$1=!1,yj(st,Mt,nn);dh$1=!!(st.flags&131072)}else dh$1=!1,I$1&&Mt.flags&1048576&&ug(Mt,ng,Mt.index);switch(Mt.lanes=0,Mt.tag){case 2:var rn=Mt.type;ij(st,Mt),st=Mt.pendingProps;var an=Yf$1(Mt,H$1.current);ch$1(Mt,nn),an=Nh$1(null,Mt,rn,st,an,nn);var sn=Sh$1();return Mt.flags|=1,typeof an=="object"&&an!==null&&typeof an.render=="function"&&an.$$typeof===void 0?(Mt.tag=1,Mt.memoizedState=null,Mt.updateQueue=null,Zf$1(rn)?(sn=!0,cg(Mt)):sn=!1,Mt.memoizedState=an.state!==null&&an.state!==void 0?an.state:null,kh$1(Mt),an.updater=Ei$1,Mt.stateNode=an,an._reactInternals=Mt,Ii$1(Mt,rn,st,nn),Mt=jj(null,Mt,rn,!0,sn,nn)):(Mt.tag=0,I$1&&sn&&vg(Mt),Xi$1(null,Mt,an,nn),Mt=Mt.child),Mt;case 16:rn=Mt.elementType;e:{switch(ij(st,Mt),st=Mt.pendingProps,an=rn._init,rn=an(rn._payload),Mt.type=rn,an=Mt.tag=Zk(rn),st=Ci$1(rn,st),an){case 0:Mt=cj(null,Mt,rn,st,nn);break e;case 1:Mt=hj(null,Mt,rn,st,nn);break e;case 11:Mt=Yi$1(null,Mt,rn,st,nn);break e;case 14:Mt=$i$1(null,Mt,rn,Ci$1(rn.type,st),nn);break e}throw Error(p$1(306,rn,""))}return Mt;case 0:return rn=Mt.type,an=Mt.pendingProps,an=Mt.elementType===rn?an:Ci$1(rn,an),cj(st,Mt,rn,an,nn);case 1:return rn=Mt.type,an=Mt.pendingProps,an=Mt.elementType===rn?an:Ci$1(rn,an),hj(st,Mt,rn,an,nn);case 3:e:{if(kj(Mt),st===null)throw Error(p$1(387));rn=Mt.pendingProps,sn=Mt.memoizedState,an=sn.element,lh$1(st,Mt),qh$1(Mt,rn,null,nn);var un=Mt.memoizedState;if(rn=un.element,sn.isDehydrated)if(sn={element:rn,isDehydrated:!1,cache:un.cache,pendingSuspenseBoundaries:un.pendingSuspenseBoundaries,transitions:un.transitions},Mt.updateQueue.baseState=sn,Mt.memoizedState=sn,Mt.flags&256){an=Ji$1(Error(p$1(423)),Mt),Mt=lj(st,Mt,rn,nn,an);break e}else if(rn!==an){an=Ji$1(Error(p$1(424)),Mt),Mt=lj(st,Mt,rn,nn,an);break e}else for(yg=Lf$1(Mt.stateNode.containerInfo.firstChild),xg=Mt,I$1=!0,zg=null,nn=Vg(Mt,null,rn,nn),Mt.child=nn;nn;)nn.flags=nn.flags&-3|4096,nn=nn.sibling;else{if(Ig(),rn===an){Mt=Zi$1(st,Mt,nn);break e}Xi$1(st,Mt,rn,nn)}Mt=Mt.child}return Mt;case 5:return Ah$1(Mt),st===null&&Eg(Mt),rn=Mt.type,an=Mt.pendingProps,sn=st!==null?st.memoizedProps:null,un=an.children,Ef$1(rn,an)?un=null:sn!==null&&Ef$1(rn,sn)&&(Mt.flags|=32),gj(st,Mt),Xi$1(st,Mt,un,nn),Mt.child;case 6:return st===null&&Eg(Mt),null;case 13:return oj(st,Mt,nn);case 4:return yh$1(Mt,Mt.stateNode.containerInfo),rn=Mt.pendingProps,st===null?Mt.child=Ug(Mt,null,rn,nn):Xi$1(st,Mt,rn,nn),Mt.child;case 11:return rn=Mt.type,an=Mt.pendingProps,an=Mt.elementType===rn?an:Ci$1(rn,an),Yi$1(st,Mt,rn,an,nn);case 7:return Xi$1(st,Mt,Mt.pendingProps,nn),Mt.child;case 8:return Xi$1(st,Mt,Mt.pendingProps.children,nn),Mt.child;case 12:return Xi$1(st,Mt,Mt.pendingProps.children,nn),Mt.child;case 10:e:{if(rn=Mt.type._context,an=Mt.pendingProps,sn=Mt.memoizedProps,un=an.value,G$1(Wg,rn._currentValue),rn._currentValue=un,sn!==null)if(He$1(sn.value,un)){if(sn.children===an.children&&!Wf$1.current){Mt=Zi$1(st,Mt,nn);break e}}else for(sn=Mt.child,sn!==null&&(sn.return=Mt);sn!==null;){var ln=sn.dependencies;if(ln!==null){un=sn.child;for(var cn=ln.firstContext;cn!==null;){if(cn.context===rn){if(sn.tag===1){cn=mh$1(-1,nn&-nn),cn.tag=2;var hn=sn.updateQueue;if(hn!==null){hn=hn.shared;var fn=hn.pending;fn===null?cn.next=cn:(cn.next=fn.next,fn.next=cn),hn.pending=cn}}sn.lanes|=nn,cn=sn.alternate,cn!==null&&(cn.lanes|=nn),bh$1(sn.return,nn,Mt),ln.lanes|=nn;break}cn=cn.next}}else if(sn.tag===10)un=sn.type===Mt.type?null:sn.child;else if(sn.tag===18){if(un=sn.return,un===null)throw Error(p$1(341));un.lanes|=nn,ln=un.alternate,ln!==null&&(ln.lanes|=nn),bh$1(un,nn,Mt),un=sn.sibling}else un=sn.child;if(un!==null)un.return=sn;else for(un=sn;un!==null;){if(un===Mt){un=null;break}if(sn=un.sibling,sn!==null){sn.return=un.return,un=sn;break}un=un.return}sn=un}Xi$1(st,Mt,an.children,nn),Mt=Mt.child}return Mt;case 9:return an=Mt.type,rn=Mt.pendingProps.children,ch$1(Mt,nn),an=eh$1(an),rn=rn(an),Mt.flags|=1,Xi$1(st,Mt,rn,nn),Mt.child;case 14:return rn=Mt.type,an=Ci$1(rn,Mt.pendingProps),an=Ci$1(rn.type,an),$i$1(st,Mt,rn,an,nn);case 15:return bj(st,Mt,Mt.type,Mt.pendingProps,nn);case 17:return rn=Mt.type,an=Mt.pendingProps,an=Mt.elementType===rn?an:Ci$1(rn,an),ij(st,Mt),Mt.tag=1,Zf$1(rn)?(st=!0,cg(Mt)):st=!1,ch$1(Mt,nn),Gi$1(Mt,rn,an),Ii$1(Mt,rn,an,nn),jj(null,Mt,rn,!0,st,nn);case 19:return xj(st,Mt,nn);case 22:return dj(st,Mt,nn)}throw Error(p$1(156,Mt.tag))};function Fk(st,Mt){return ac$1(st,Mt)}function $k(st,Mt,nn,rn){this.tag=st,this.key=nn,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=Mt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rn,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(st,Mt,nn,rn){return new $k(st,Mt,nn,rn)}function aj(st){return st=st.prototype,!(!st||!st.isReactComponent)}function Zk(st){if(typeof st=="function")return aj(st)?1:0;if(st!=null){if(st=st.$$typeof,st===Da$1)return 11;if(st===Ga$1)return 14}return 2}function Pg(st,Mt){var nn=st.alternate;return nn===null?(nn=Bg(st.tag,Mt,st.key,st.mode),nn.elementType=st.elementType,nn.type=st.type,nn.stateNode=st.stateNode,nn.alternate=st,st.alternate=nn):(nn.pendingProps=Mt,nn.type=st.type,nn.flags=0,nn.subtreeFlags=0,nn.deletions=null),nn.flags=st.flags&14680064,nn.childLanes=st.childLanes,nn.lanes=st.lanes,nn.child=st.child,nn.memoizedProps=st.memoizedProps,nn.memoizedState=st.memoizedState,nn.updateQueue=st.updateQueue,Mt=st.dependencies,nn.dependencies=Mt===null?null:{lanes:Mt.lanes,firstContext:Mt.firstContext},nn.sibling=st.sibling,nn.index=st.index,nn.ref=st.ref,nn}function Rg(st,Mt,nn,rn,an,sn){var un=2;if(rn=st,typeof st=="function")aj(st)&&(un=1);else if(typeof st=="string")un=5;else e:switch(st){case ya$1:return Tg(nn.children,an,sn,Mt);case za$1:un=8,an|=8;break;case Aa$1:return st=Bg(12,nn,Mt,an|2),st.elementType=Aa$1,st.lanes=sn,st;case Ea$1:return st=Bg(13,nn,Mt,an),st.elementType=Ea$1,st.lanes=sn,st;case Fa$1:return st=Bg(19,nn,Mt,an),st.elementType=Fa$1,st.lanes=sn,st;case Ia$1:return pj(nn,an,sn,Mt);default:if(typeof st=="object"&&st!==null)switch(st.$$typeof){case Ba$1:un=10;break e;case Ca$1:un=9;break e;case Da$1:un=11;break e;case Ga$1:un=14;break e;case Ha$1:un=16,rn=null;break e}throw Error(p$1(130,st==null?st:typeof st,""))}return Mt=Bg(un,nn,Mt,an),Mt.elementType=st,Mt.type=rn,Mt.lanes=sn,Mt}function Tg(st,Mt,nn,rn){return st=Bg(7,st,rn,Mt),st.lanes=nn,st}function pj(st,Mt,nn,rn){return st=Bg(22,st,rn,Mt),st.elementType=Ia$1,st.lanes=nn,st.stateNode={isHidden:!1},st}function Qg(st,Mt,nn){return st=Bg(6,st,null,Mt),st.lanes=nn,st}function Sg(st,Mt,nn){return Mt=Bg(4,st.children!==null?st.children:[],st.key,Mt),Mt.lanes=nn,Mt.stateNode={containerInfo:st.containerInfo,pendingChildren:null,implementation:st.implementation},Mt}function al$1(st,Mt,nn,rn,an){this.tag=Mt,this.containerInfo=st,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=rn,this.onRecoverableError=an,this.mutableSourceEagerHydrationData=null}function bl$1(st,Mt,nn,rn,an,sn,un,ln,cn){return st=new al$1(st,Mt,nn,ln,cn),Mt===1?(Mt=1,sn===!0&&(Mt|=8)):Mt=0,sn=Bg(3,null,null,Mt),st.current=sn,sn.stateNode=st,sn.memoizedState={element:rn,isDehydrated:nn,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh$1(sn),st}function cl$1(st,Mt,nn){var rn=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$1,key:rn==null?null:""+rn,children:st,containerInfo:Mt,implementation:nn}}function dl$1(st){if(!st)return Vf$1;st=st._reactInternals;e:{if(Vb(st)!==st||st.tag!==1)throw Error(p$1(170));var Mt=st;do{switch(Mt.tag){case 3:Mt=Mt.stateNode.context;break e;case 1:if(Zf$1(Mt.type)){Mt=Mt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}Mt=Mt.return}while(Mt!==null);throw Error(p$1(171))}if(st.tag===1){var nn=st.type;if(Zf$1(nn))return bg(st,nn,Mt)}return Mt}function el$1(st,Mt,nn,rn,an,sn,un,ln,cn){return st=bl$1(nn,rn,!0,st,an,sn,un,ln,cn),st.context=dl$1(null),nn=st.current,rn=R$1(),an=yi$1(nn),sn=mh$1(rn,an),sn.callback=Mt??null,nh$1(nn,sn,an),st.current.lanes=an,Ac$1(st,an,rn),Dk(st,rn),st}function fl$1(st,Mt,nn,rn){var an=Mt.current,sn=R$1(),un=yi$1(an);return nn=dl$1(nn),Mt.context===null?Mt.context=nn:Mt.pendingContext=nn,Mt=mh$1(sn,un),Mt.payload={element:st},rn=rn===void 0?null:rn,rn!==null&&(Mt.callback=rn),st=nh$1(an,Mt,un),st!==null&&(gi$1(st,an,un,sn),oh$1(st,an,un)),un}function gl$1(st){if(st=st.current,!st.child)return null;switch(st.child.tag){case 5:return st.child.stateNode;default:return st.child.stateNode}}function hl$1(st,Mt){if(st=st.memoizedState,st!==null&&st.dehydrated!==null){var nn=st.retryLane;st.retryLane=nn!==0&&nn<Mt?nn:Mt}}function il$1(st,Mt){hl$1(st,Mt),(st=st.alternate)&&hl$1(st,Mt)}function jl$1(){return null}var kl$1=typeof reportError=="function"?reportError:function(st){console.error(st)};function ll$1(st){this._internalRoot=st}ml$1.prototype.render=ll$1.prototype.render=function(st){var Mt=this._internalRoot;if(Mt===null)throw Error(p$1(409));fl$1(st,Mt,null,null)};ml$1.prototype.unmount=ll$1.prototype.unmount=function(){var st=this._internalRoot;if(st!==null){this._internalRoot=null;var Mt=st.containerInfo;Rk(function(){fl$1(null,st,null,null)}),Mt[uf$1]=null}};function ml$1(st){this._internalRoot=st}ml$1.prototype.unstable_scheduleHydration=function(st){if(st){var Mt=Hc$1();st={blockedOn:null,target:st,priority:Mt};for(var nn=0;nn<Qc$1.length&&Mt!==0&&Mt<Qc$1[nn].priority;nn++);Qc$1.splice(nn,0,st),nn===0&&Vc$1(st)}};function nl$1(st){return!(!st||st.nodeType!==1&&st.nodeType!==9&&st.nodeType!==11)}function ol$1(st){return!(!st||st.nodeType!==1&&st.nodeType!==9&&st.nodeType!==11&&(st.nodeType!==8||st.nodeValue!==" react-mount-point-unstable "))}function pl$1(){}function ql$1(st,Mt,nn,rn,an){if(an){if(typeof rn=="function"){var sn=rn;rn=function(){var hn=gl$1(un);sn.call(hn)}}var un=el$1(Mt,rn,st,0,null,!1,!1,"",pl$1);return st._reactRootContainer=un,st[uf$1]=un.current,sf$1(st.nodeType===8?st.parentNode:st),Rk(),un}for(;an=st.lastChild;)st.removeChild(an);if(typeof rn=="function"){var ln=rn;rn=function(){var hn=gl$1(cn);ln.call(hn)}}var cn=bl$1(st,0,!1,null,null,!1,!1,"",pl$1);return st._reactRootContainer=cn,st[uf$1]=cn.current,sf$1(st.nodeType===8?st.parentNode:st),Rk(function(){fl$1(Mt,cn,nn,rn)}),cn}function rl$1(st,Mt,nn,rn,an){var sn=nn._reactRootContainer;if(sn){var un=sn;if(typeof an=="function"){var ln=an;an=function(){var cn=gl$1(un);ln.call(cn)}}fl$1(Mt,un,st,an)}else un=ql$1(nn,Mt,st,an,rn);return gl$1(un)}Ec$1=function(st){switch(st.tag){case 3:var Mt=st.stateNode;if(Mt.current.memoizedState.isDehydrated){var nn=tc$1(Mt.pendingLanes);nn!==0&&(Cc$1(Mt,nn|1),Dk(Mt,B$1()),!(K$1&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var rn=ih$1(st,1);if(rn!==null){var an=R$1();gi$1(rn,st,1,an)}}),il$1(st,1)}};Fc$1=function(st){if(st.tag===13){var Mt=ih$1(st,134217728);if(Mt!==null){var nn=R$1();gi$1(Mt,st,134217728,nn)}il$1(st,134217728)}};Gc$1=function(st){if(st.tag===13){var Mt=yi$1(st),nn=ih$1(st,Mt);if(nn!==null){var rn=R$1();gi$1(nn,st,Mt,rn)}il$1(st,Mt)}};Hc$1=function(){return C$1};Ic$1=function(st,Mt){var nn=C$1;try{return C$1=st,Mt()}finally{C$1=nn}};yb=function(st,Mt,nn){switch(Mt){case"input":if(bb(st,nn),Mt=nn.name,nn.type==="radio"&&Mt!=null){for(nn=st;nn.parentNode;)nn=nn.parentNode;for(nn=nn.querySelectorAll("input[name="+JSON.stringify(""+Mt)+'][type="radio"]'),Mt=0;Mt<nn.length;Mt++){var rn=nn[Mt];if(rn!==st&&rn.form===st.form){var an=Db(rn);if(!an)throw Error(p$1(90));Wa$1(rn),bb(rn,an)}}}break;case"textarea":ib(st,nn);break;case"select":Mt=nn.value,Mt!=null&&fb(st,!!nn.multiple,Mt,!1)}};Gb=Qk;Hb=Rk;var sl$1={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl$1={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul$1={bundleType:tl$1.bundleType,version:tl$1.version,rendererPackageName:tl$1.rendererPackageName,rendererConfig:tl$1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(st){return st=Zb(st),st===null?null:st.stateNode},findFiberByHostInstance:tl$1.findFiberByHostInstance||jl$1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl$1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl$1.isDisabled&&vl$1.supportsFiber)try{kc$1=vl$1.inject(ul$1),lc$1=vl$1}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl$1;reactDom_production_min.createPortal=function(st,Mt){var nn=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl$1(Mt))throw Error(p$1(200));return cl$1(st,Mt,null,nn)};reactDom_production_min.createRoot=function(st,Mt){if(!nl$1(st))throw Error(p$1(299));var nn=!1,rn="",an=kl$1;return Mt!=null&&(Mt.unstable_strictMode===!0&&(nn=!0),Mt.identifierPrefix!==void 0&&(rn=Mt.identifierPrefix),Mt.onRecoverableError!==void 0&&(an=Mt.onRecoverableError)),Mt=bl$1(st,1,!1,null,null,nn,!1,rn,an),st[uf$1]=Mt.current,sf$1(st.nodeType===8?st.parentNode:st),new ll$1(Mt)};reactDom_production_min.findDOMNode=function(st){if(st==null)return null;if(st.nodeType===1)return st;var Mt=st._reactInternals;if(Mt===void 0)throw typeof st.render=="function"?Error(p$1(188)):(st=Object.keys(st).join(","),Error(p$1(268,st)));return st=Zb(Mt),st=st===null?null:st.stateNode,st};reactDom_production_min.flushSync=function(st){return Rk(st)};reactDom_production_min.hydrate=function(st,Mt,nn){if(!ol$1(Mt))throw Error(p$1(200));return rl$1(null,st,Mt,!0,nn)};reactDom_production_min.hydrateRoot=function(st,Mt,nn){if(!nl$1(st))throw Error(p$1(405));var rn=nn!=null&&nn.hydratedSources||null,an=!1,sn="",un=kl$1;if(nn!=null&&(nn.unstable_strictMode===!0&&(an=!0),nn.identifierPrefix!==void 0&&(sn=nn.identifierPrefix),nn.onRecoverableError!==void 0&&(un=nn.onRecoverableError)),Mt=el$1(Mt,null,st,1,nn??null,an,!1,sn,un),st[uf$1]=Mt.current,sf$1(st),rn)for(st=0;st<rn.length;st++)nn=rn[st],an=nn._getVersion,an=an(nn._source),Mt.mutableSourceEagerHydrationData==null?Mt.mutableSourceEagerHydrationData=[nn,an]:Mt.mutableSourceEagerHydrationData.push(nn,an);return new ml$1(Mt)};reactDom_production_min.render=function(st,Mt,nn){if(!ol$1(Mt))throw Error(p$1(200));return rl$1(null,st,Mt,!1,nn)};reactDom_production_min.unmountComponentAtNode=function(st){if(!ol$1(st))throw Error(p$1(40));return st._reactRootContainer?(Rk(function(){rl$1(null,null,st,!1,function(){st._reactRootContainer=null,st[uf$1]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(st,Mt,nn,rn){if(!ol$1(nn))throw Error(p$1(200));if(st==null||st._reactInternals===void 0)throw Error(p$1(38));return rl$1(st,Mt,nn,!1,rn)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(st){console.error(st)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(st){for(var Mt=1;Mt<arguments.length;Mt++){var nn=arguments[Mt];for(var rn in nn)Object.prototype.hasOwnProperty.call(nn,rn)&&(st[rn]=nn[rn])}return st},_extends$1.apply(this,arguments)}var Action;(function(st){st.Pop="POP",st.Push="PUSH",st.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(st){st===void 0&&(st={});function Mt(rn,an){let{pathname:sn,search:un,hash:ln}=rn.location;return createLocation("",{pathname:sn,search:un,hash:ln},an.state&&an.state.usr||null,an.state&&an.state.key||"default")}function nn(rn,an){return typeof an=="string"?an:createPath(an)}return getUrlBasedHistory(Mt,nn,null,st)}function invariant(st,Mt){if(st===!1||st===null||typeof st>"u")throw new Error(Mt)}function warning(st,Mt){if(!st){typeof console<"u"&&console.warn(Mt);try{throw new Error(Mt)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(st,Mt){return{usr:st.state,key:st.key,idx:Mt}}function createLocation(st,Mt,nn,rn){return nn===void 0&&(nn=null),_extends$1({pathname:typeof st=="string"?st:st.pathname,search:"",hash:""},typeof Mt=="string"?parsePath(Mt):Mt,{state:nn,key:Mt&&Mt.key||rn||createKey()})}function createPath(st){let{pathname:Mt="/",search:nn="",hash:rn=""}=st;return nn&&nn!=="?"&&(Mt+=nn.charAt(0)==="?"?nn:"?"+nn),rn&&rn!=="#"&&(Mt+=rn.charAt(0)==="#"?rn:"#"+rn),Mt}function parsePath(st){let Mt={};if(st){let nn=st.indexOf("#");nn>=0&&(Mt.hash=st.substr(nn),st=st.substr(0,nn));let rn=st.indexOf("?");rn>=0&&(Mt.search=st.substr(rn),st=st.substr(0,rn)),st&&(Mt.pathname=st)}return Mt}function getUrlBasedHistory(st,Mt,nn,rn){rn===void 0&&(rn={});let{window:an=document.defaultView,v5Compat:sn=!1}=rn,un=an.history,ln=Action.Pop,cn=null,hn=fn();hn==null&&(hn=0,un.replaceState(_extends$1({},un.state,{idx:hn}),""));function fn(){return(un.state||{idx:null}).idx}function to(){ln=Action.Pop;let e0=fn(),lo=e0==null?null:e0-hn;hn=e0,cn&&cn({action:ln,location:ho.location,delta:lo})}function Xr(e0,lo){ln=Action.Push;let mo=createLocation(ho.location,e0,lo);hn=fn()+1;let fo=getHistoryState(mo,hn),Uo=ho.createHref(mo);try{un.pushState(fo,"",Uo)}catch(t0){if(t0 instanceof DOMException&&t0.name==="DataCloneError")throw t0;an.location.assign(Uo)}sn&&cn&&cn({action:ln,location:ho.location,delta:1})}function uo(e0,lo){ln=Action.Replace;let mo=createLocation(ho.location,e0,lo);hn=fn();let fo=getHistoryState(mo,hn),Uo=ho.createHref(mo);un.replaceState(fo,"",Uo),sn&&cn&&cn({action:ln,location:ho.location,delta:0})}function co(e0){let lo=an.location.origin!=="null"?an.location.origin:an.location.href,mo=typeof e0=="string"?e0:createPath(e0);return mo=mo.replace(/ $/,"%20"),invariant(lo,"No window.location.(origin|href) available to create URL for href: "+mo),new URL(mo,lo)}let ho={get action(){return ln},get location(){return st(an,un)},listen(e0){if(cn)throw new Error("A history only accepts one active listener");return an.addEventListener(PopStateEventType,to),cn=e0,()=>{an.removeEventListener(PopStateEventType,to),cn=null}},createHref(e0){return Mt(an,e0)},createURL:co,encodeLocation(e0){let lo=co(e0);return{pathname:lo.pathname,search:lo.search,hash:lo.hash}},push:Xr,replace:uo,go(e0){return un.go(e0)}};return ho}var ResultType;(function(st){st.data="data",st.deferred="deferred",st.redirect="redirect",st.error="error"})(ResultType||(ResultType={}));function matchRoutes(st,Mt,nn){return nn===void 0&&(nn="/"),matchRoutesImpl(st,Mt,nn,!1)}function matchRoutesImpl(st,Mt,nn,rn){let an=typeof Mt=="string"?parsePath(Mt):Mt,sn=stripBasename(an.pathname||"/",nn);if(sn==null)return null;let un=flattenRoutes(st);rankRouteBranches(un);let ln=null;for(let cn=0;ln==null&&cn<un.length;++cn){let hn=decodePath(sn);ln=matchRouteBranch(un[cn],hn,rn)}return ln}function flattenRoutes(st,Mt,nn,rn){Mt===void 0&&(Mt=[]),nn===void 0&&(nn=[]),rn===void 0&&(rn="");let an=(sn,un,ln)=>{let cn={relativePath:ln===void 0?sn.path||"":ln,caseSensitive:sn.caseSensitive===!0,childrenIndex:un,route:sn};cn.relativePath.startsWith("/")&&(invariant(cn.relativePath.startsWith(rn),'Absolute route path "'+cn.relativePath+'" nested under path '+('"'+rn+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),cn.relativePath=cn.relativePath.slice(rn.length));let hn=joinPaths([rn,cn.relativePath]),fn=nn.concat(cn);sn.children&&sn.children.length>0&&(invariant(sn.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+hn+'".')),flattenRoutes(sn.children,Mt,fn,hn)),!(sn.path==null&&!sn.index)&&Mt.push({path:hn,score:computeScore(hn,sn.index),routesMeta:fn})};return st.forEach((sn,un)=>{var ln;if(sn.path===""||!((ln=sn.path)!=null&&ln.includes("?")))an(sn,un);else for(let cn of explodeOptionalSegments(sn.path))an(sn,un,cn)}),Mt}function explodeOptionalSegments(st){let Mt=st.split("/");if(Mt.length===0)return[];let[nn,...rn]=Mt,an=nn.endsWith("?"),sn=nn.replace(/\?$/,"");if(rn.length===0)return an?[sn,""]:[sn];let un=explodeOptionalSegments(rn.join("/")),ln=[];return ln.push(...un.map(cn=>cn===""?sn:[sn,cn].join("/"))),an&&ln.push(...un),ln.map(cn=>st.startsWith("/")&&cn===""?"/":cn)}function rankRouteBranches(st){st.sort((Mt,nn)=>Mt.score!==nn.score?nn.score-Mt.score:compareIndexes(Mt.routesMeta.map(rn=>rn.childrenIndex),nn.routesMeta.map(rn=>rn.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=st=>st==="*";function computeScore(st,Mt){let nn=st.split("/"),rn=nn.length;return nn.some(isSplat)&&(rn+=splatPenalty),Mt&&(rn+=indexRouteValue),nn.filter(an=>!isSplat(an)).reduce((an,sn)=>an+(paramRe.test(sn)?dynamicSegmentValue:sn===""?emptySegmentValue:staticSegmentValue),rn)}function compareIndexes(st,Mt){return st.length===Mt.length&&st.slice(0,-1).every((rn,an)=>rn===Mt[an])?st[st.length-1]-Mt[Mt.length-1]:0}function matchRouteBranch(st,Mt,nn){let{routesMeta:rn}=st,an={},sn="/",un=[];for(let ln=0;ln<rn.length;++ln){let cn=rn[ln],hn=ln===rn.length-1,fn=sn==="/"?Mt:Mt.slice(sn.length)||"/",to=matchPath({path:cn.relativePath,caseSensitive:cn.caseSensitive,end:hn},fn),Xr=cn.route;if(!to&&hn&&nn&&!rn[rn.length-1].route.index&&(to=matchPath({path:cn.relativePath,caseSensitive:cn.caseSensitive,end:!1},fn)),!to)return null;Object.assign(an,to.params),un.push({params:an,pathname:joinPaths([sn,to.pathname]),pathnameBase:normalizePathname(joinPaths([sn,to.pathnameBase])),route:Xr}),to.pathnameBase!=="/"&&(sn=joinPaths([sn,to.pathnameBase]))}return un}function matchPath(st,Mt){typeof st=="string"&&(st={path:st,caseSensitive:!1,end:!0});let[nn,rn]=compilePath(st.path,st.caseSensitive,st.end),an=Mt.match(nn);if(!an)return null;let sn=an[0],un=sn.replace(/(.)\/+$/,"$1"),ln=an.slice(1);return{params:rn.reduce((hn,fn,to)=>{let{paramName:Xr,isOptional:uo}=fn;if(Xr==="*"){let ho=ln[to]||"";un=sn.slice(0,sn.length-ho.length).replace(/(.)\/+$/,"$1")}const co=ln[to];return uo&&!co?hn[Xr]=void 0:hn[Xr]=(co||"").replace(/%2F/g,"/"),hn},{}),pathname:sn,pathnameBase:un,pattern:st}}function compilePath(st,Mt,nn){Mt===void 0&&(Mt=!1),nn===void 0&&(nn=!0),warning(st==="*"||!st.endsWith("*")||st.endsWith("/*"),'Route path "'+st+'" will be treated as if it were '+('"'+st.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+st.replace(/\*$/,"/*")+'".'));let rn=[],an="^"+st.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(un,ln,cn)=>(rn.push({paramName:ln,isOptional:cn!=null}),cn?"/?([^\\/]+)?":"/([^\\/]+)"));return st.endsWith("*")?(rn.push({paramName:"*"}),an+=st==="*"||st==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):nn?an+="\\/*$":st!==""&&st!=="/"&&(an+="(?:(?=\\/|$))"),[new RegExp(an,Mt?void 0:"i"),rn]}function decodePath(st){try{return st.split("/").map(Mt=>decodeURIComponent(Mt).replace(/\//g,"%2F")).join("/")}catch(Mt){return warning(!1,'The URL path "'+st+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+Mt+").")),st}}function stripBasename(st,Mt){if(Mt==="/")return st;if(!st.toLowerCase().startsWith(Mt.toLowerCase()))return null;let nn=Mt.endsWith("/")?Mt.length-1:Mt.length,rn=st.charAt(nn);return rn&&rn!=="/"?null:st.slice(nn)||"/"}function resolvePath(st,Mt){Mt===void 0&&(Mt="/");let{pathname:nn,search:rn="",hash:an=""}=typeof st=="string"?parsePath(st):st;return{pathname:nn?nn.startsWith("/")?nn:resolvePathname(nn,Mt):Mt,search:normalizeSearch(rn),hash:normalizeHash(an)}}function resolvePathname(st,Mt){let nn=Mt.replace(/\/+$/,"").split("/");return st.split("/").forEach(an=>{an===".."?nn.length>1&&nn.pop():an!=="."&&nn.push(an)}),nn.length>1?nn.join("/"):"/"}function getInvalidPathError(st,Mt,nn,rn){return"Cannot include a '"+st+"' character in a manually specified "+("`to."+Mt+"` field ["+JSON.stringify(rn)+"].  Please separate it out to the ")+("`to."+nn+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(st){return st.filter((Mt,nn)=>nn===0||Mt.route.path&&Mt.route.path.length>0)}function getResolveToMatches(st,Mt){let nn=getPathContributingMatches(st);return Mt?nn.map((rn,an)=>an===nn.length-1?rn.pathname:rn.pathnameBase):nn.map(rn=>rn.pathnameBase)}function resolveTo(st,Mt,nn,rn){rn===void 0&&(rn=!1);let an;typeof st=="string"?an=parsePath(st):(an=_extends$1({},st),invariant(!an.pathname||!an.pathname.includes("?"),getInvalidPathError("?","pathname","search",an)),invariant(!an.pathname||!an.pathname.includes("#"),getInvalidPathError("#","pathname","hash",an)),invariant(!an.search||!an.search.includes("#"),getInvalidPathError("#","search","hash",an)));let sn=st===""||an.pathname==="",un=sn?"/":an.pathname,ln;if(un==null)ln=nn;else{let to=Mt.length-1;if(!rn&&un.startsWith("..")){let Xr=un.split("/");for(;Xr[0]==="..";)Xr.shift(),to-=1;an.pathname=Xr.join("/")}ln=to>=0?Mt[to]:"/"}let cn=resolvePath(an,ln),hn=un&&un!=="/"&&un.endsWith("/"),fn=(sn||un===".")&&nn.endsWith("/");return!cn.pathname.endsWith("/")&&(hn||fn)&&(cn.pathname+="/"),cn}const joinPaths=st=>st.join("/").replace(/\/\/+/g,"/"),normalizePathname=st=>st.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=st=>!st||st==="?"?"":st.startsWith("?")?st:"?"+st,normalizeHash=st=>!st||st==="#"?"":st.startsWith("#")?st:"#"+st;function isRouteErrorResponse(st){return st!=null&&typeof st.status=="number"&&typeof st.statusText=="string"&&typeof st.internal=="boolean"&&"data"in st}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(st){for(var Mt=1;Mt<arguments.length;Mt++){var nn=arguments[Mt];for(var rn in nn)Object.prototype.hasOwnProperty.call(nn,rn)&&(st[rn]=nn[rn])}return st},_extends.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(st){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(st)}function useNavigate(){let{isDataRoute:st}=reactExports.useContext(RouteContext);return st?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let st=reactExports.useContext(DataRouterContext),{basename:Mt,future:nn,navigator:rn}=reactExports.useContext(NavigationContext),{matches:an}=reactExports.useContext(RouteContext),{pathname:sn}=useLocation(),un=JSON.stringify(getResolveToMatches(an,nn.v7_relativeSplatPath)),ln=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{ln.current=!0}),reactExports.useCallback(function(hn,fn){if(fn===void 0&&(fn={}),!ln.current)return;if(typeof hn=="number"){rn.go(hn);return}let to=resolveTo(hn,JSON.parse(un),sn,fn.relative==="path");st==null&&Mt!=="/"&&(to.pathname=to.pathname==="/"?Mt:joinPaths([Mt,to.pathname])),(fn.replace?rn.replace:rn.push)(to,fn.state,fn)},[Mt,rn,un,sn,st])}function useRoutes(st,Mt){return useRoutesImpl(st,Mt)}function useRoutesImpl(st,Mt,nn,rn){useInRouterContext()||invariant(!1);let{navigator:an}=reactExports.useContext(NavigationContext),{matches:sn}=reactExports.useContext(RouteContext),un=sn[sn.length-1],ln=un?un.params:{};un&&un.pathname;let cn=un?un.pathnameBase:"/";un&&un.route;let hn=useLocation(),fn;if(Mt){var to;let e0=typeof Mt=="string"?parsePath(Mt):Mt;cn==="/"||(to=e0.pathname)!=null&&to.startsWith(cn)||invariant(!1),fn=e0}else fn=hn;let Xr=fn.pathname||"/",uo=Xr;if(cn!=="/"){let e0=cn.replace(/^\//,"").split("/");uo="/"+Xr.replace(/^\//,"").split("/").slice(e0.length).join("/")}let co=matchRoutes(st,{pathname:uo}),ho=_renderMatches(co&&co.map(e0=>Object.assign({},e0,{params:Object.assign({},ln,e0.params),pathname:joinPaths([cn,an.encodeLocation?an.encodeLocation(e0.pathname).pathname:e0.pathname]),pathnameBase:e0.pathnameBase==="/"?cn:joinPaths([cn,an.encodeLocation?an.encodeLocation(e0.pathnameBase).pathname:e0.pathnameBase])})),sn,nn,rn);return Mt&&ho?reactExports.createElement(LocationContext.Provider,{value:{location:_extends({pathname:"/",search:"",hash:"",state:null,key:"default"},fn),navigationType:Action.Pop}},ho):ho}function DefaultErrorComponent(){let st=useRouteError(),Mt=isRouteErrorResponse(st)?st.status+" "+st.statusText:st instanceof Error?st.message:JSON.stringify(st),nn=st instanceof Error?st.stack:null,an={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},Mt),nn?reactExports.createElement("pre",{style:an},nn):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(Mt){super(Mt),this.state={location:Mt.location,revalidation:Mt.revalidation,error:Mt.error}}static getDerivedStateFromError(Mt){return{error:Mt}}static getDerivedStateFromProps(Mt,nn){return nn.location!==Mt.location||nn.revalidation!=="idle"&&Mt.revalidation==="idle"?{error:Mt.error,location:Mt.location,revalidation:Mt.revalidation}:{error:Mt.error!==void 0?Mt.error:nn.error,location:nn.location,revalidation:Mt.revalidation||nn.revalidation}}componentDidCatch(Mt,nn){console.error("React Router caught the following error during render",Mt,nn)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(st){let{routeContext:Mt,match:nn,children:rn}=st,an=reactExports.useContext(DataRouterContext);return an&&an.static&&an.staticContext&&(nn.route.errorElement||nn.route.ErrorBoundary)&&(an.staticContext._deepestRenderedBoundaryId=nn.route.id),reactExports.createElement(RouteContext.Provider,{value:Mt},rn)}function _renderMatches(st,Mt,nn,rn){var an;if(Mt===void 0&&(Mt=[]),nn===void 0&&(nn=null),rn===void 0&&(rn=null),st==null){var sn;if(!nn)return null;if(nn.errors)st=nn.matches;else if((sn=rn)!=null&&sn.v7_partialHydration&&Mt.length===0&&!nn.initialized&&nn.matches.length>0)st=nn.matches;else return null}let un=st,ln=(an=nn)==null?void 0:an.errors;if(ln!=null){let fn=un.findIndex(to=>to.route.id&&(ln==null?void 0:ln[to.route.id])!==void 0);fn>=0||invariant(!1),un=un.slice(0,Math.min(un.length,fn+1))}let cn=!1,hn=-1;if(nn&&rn&&rn.v7_partialHydration)for(let fn=0;fn<un.length;fn++){let to=un[fn];if((to.route.HydrateFallback||to.route.hydrateFallbackElement)&&(hn=fn),to.route.id){let{loaderData:Xr,errors:uo}=nn,co=to.route.loader&&Xr[to.route.id]===void 0&&(!uo||uo[to.route.id]===void 0);if(to.route.lazy||co){cn=!0,hn>=0?un=un.slice(0,hn+1):un=[un[0]];break}}}return un.reduceRight((fn,to,Xr)=>{let uo,co=!1,ho=null,e0=null;nn&&(uo=ln&&to.route.id?ln[to.route.id]:void 0,ho=to.route.errorElement||defaultErrorElement,cn&&(hn<0&&Xr===0?(co=!0,e0=null):hn===Xr&&(co=!0,e0=to.route.hydrateFallbackElement||null)));let lo=Mt.concat(un.slice(0,Xr+1)),mo=()=>{let fo;return uo?fo=ho:co?fo=e0:to.route.Component?fo=reactExports.createElement(to.route.Component,null):to.route.element?fo=to.route.element:fo=fn,reactExports.createElement(RenderedRoute,{match:to,routeContext:{outlet:fn,matches:lo,isDataRoute:nn!=null},children:fo})};return nn&&(to.route.ErrorBoundary||to.route.errorElement||Xr===0)?reactExports.createElement(RenderErrorBoundary,{location:nn.location,revalidation:nn.revalidation,component:ho,error:uo,children:mo(),routeContext:{outlet:null,matches:lo,isDataRoute:!0}}):mo()},null)}var DataRouterHook$1=function(st){return st.UseBlocker="useBlocker",st.UseRevalidator="useRevalidator",st.UseNavigateStable="useNavigate",st}(DataRouterHook$1||{}),DataRouterStateHook$1=function(st){return st.UseBlocker="useBlocker",st.UseLoaderData="useLoaderData",st.UseActionData="useActionData",st.UseRouteError="useRouteError",st.UseNavigation="useNavigation",st.UseRouteLoaderData="useRouteLoaderData",st.UseMatches="useMatches",st.UseRevalidator="useRevalidator",st.UseNavigateStable="useNavigate",st.UseRouteId="useRouteId",st}(DataRouterStateHook$1||{});function useDataRouterContext(st){let Mt=reactExports.useContext(DataRouterContext);return Mt||invariant(!1),Mt}function useDataRouterState(st){let Mt=reactExports.useContext(DataRouterStateContext);return Mt||invariant(!1),Mt}function useRouteContext(st){let Mt=reactExports.useContext(RouteContext);return Mt||invariant(!1),Mt}function useCurrentRouteId(st){let Mt=useRouteContext(),nn=Mt.matches[Mt.matches.length-1];return nn.route.id||invariant(!1),nn.route.id}function useRouteError(){var st;let Mt=reactExports.useContext(RouteErrorContext),nn=useDataRouterState(DataRouterStateHook$1.UseRouteError),rn=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return Mt!==void 0?Mt:(st=nn.errors)==null?void 0:st[rn]}function useNavigateStable(){let{router:st}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),Mt=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),nn=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{nn.current=!0}),reactExports.useCallback(function(an,sn){sn===void 0&&(sn={}),nn.current&&(typeof an=="number"?st.navigate(an):st.navigate(an,_extends({fromRouteId:Mt},sn)))},[st,Mt])}function Route(st){invariant(!1)}function Router(st){let{basename:Mt="/",children:nn=null,location:rn,navigationType:an=Action.Pop,navigator:sn,static:un=!1,future:ln}=st;useInRouterContext()&&invariant(!1);let cn=Mt.replace(/^\/*/,"/"),hn=reactExports.useMemo(()=>({basename:cn,navigator:sn,static:un,future:_extends({v7_relativeSplatPath:!1},ln)}),[cn,ln,sn,un]);typeof rn=="string"&&(rn=parsePath(rn));let{pathname:fn="/",search:to="",hash:Xr="",state:uo=null,key:co="default"}=rn,ho=reactExports.useMemo(()=>{let e0=stripBasename(fn,cn);return e0==null?null:{location:{pathname:e0,search:to,hash:Xr,state:uo,key:co},navigationType:an}},[cn,fn,to,Xr,uo,co,an]);return ho==null?null:reactExports.createElement(NavigationContext.Provider,{value:hn},reactExports.createElement(LocationContext.Provider,{children:nn,value:ho}))}function Routes(st){let{children:Mt,location:nn}=st;return useRoutes(createRoutesFromChildren(Mt),nn)}new Promise(()=>{});function createRoutesFromChildren(st,Mt){Mt===void 0&&(Mt=[]);let nn=[];return reactExports.Children.forEach(st,(rn,an)=>{if(!reactExports.isValidElement(rn))return;let sn=[...Mt,an];if(rn.type===reactExports.Fragment){nn.push.apply(nn,createRoutesFromChildren(rn.props.children,sn));return}rn.type!==Route&&invariant(!1),!rn.props.index||!rn.props.children||invariant(!1);let un={id:rn.props.id||sn.join("-"),caseSensitive:rn.props.caseSensitive,element:rn.props.element,Component:rn.props.Component,index:rn.props.index,path:rn.props.path,loader:rn.props.loader,action:rn.props.action,errorElement:rn.props.errorElement,ErrorBoundary:rn.props.ErrorBoundary,hasErrorBoundary:rn.props.ErrorBoundary!=null||rn.props.errorElement!=null,shouldRevalidate:rn.props.shouldRevalidate,handle:rn.props.handle,lazy:rn.props.lazy};rn.props.children&&(un.children=createRoutesFromChildren(rn.props.children,sn)),nn.push(un)}),nn}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(st){let{basename:Mt,children:nn,future:rn,window:an}=st,sn=reactExports.useRef();sn.current==null&&(sn.current=createBrowserHistory({window:an,v5Compat:!0}));let un=sn.current,[ln,cn]=reactExports.useState({action:un.action,location:un.location}),{v7_startTransition:hn}=rn||{},fn=reactExports.useCallback(to=>{hn&&startTransitionImpl?startTransitionImpl(()=>cn(to)):cn(to)},[cn,hn]);return reactExports.useLayoutEffect(()=>un.listen(fn),[un,fn]),reactExports.createElement(Router,{basename:Mt,children:nn,location:ln.location,navigationType:ln.action,navigator:un,future:rn})}var DataRouterHook;(function(st){st.UseScrollRestoration="useScrollRestoration",st.UseSubmit="useSubmit",st.UseSubmitFetcher="useSubmitFetcher",st.UseFetcher="useFetcher",st.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(st){st.UseFetcher="useFetcher",st.UseFetchers="useFetchers",st.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var t=function(st,Mt){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nn,rn){nn.__proto__=rn}||function(nn,rn){for(var an in rn)rn.hasOwnProperty(an)&&(nn[an]=rn[an])})(st,Mt)};function e(st,Mt){function nn(){this.constructor=st}t(st,Mt),st.prototype=Mt===null?Object.create(Mt):(nn.prototype=Mt.prototype,new nn)}function n(st,Mt,nn,rn){return new(nn||(nn=Promise))(function(an,sn){function un(hn){try{cn(rn.next(hn))}catch(fn){sn(fn)}}function ln(hn){try{cn(rn.throw(hn))}catch(fn){sn(fn)}}function cn(hn){hn.done?an(hn.value):new nn(function(fn){fn(hn.value)}).then(un,ln)}cn((rn=rn.apply(st,[])).next())})}function r(st,Mt){var nn,rn,an,sn,un={label:0,sent:function(){if(1&an[0])throw an[1];return an[1]},trys:[],ops:[]};return sn={next:ln(0),throw:ln(1),return:ln(2)},typeof Symbol=="function"&&(sn[Symbol.iterator]=function(){return this}),sn;function ln(cn){return function(hn){return function(fn){if(nn)throw new TypeError("Generator is already executing.");for(;un;)try{if(nn=1,rn&&(an=2&fn[0]?rn.return:fn[0]?rn.throw||((an=rn.return)&&an.call(rn),0):rn.next)&&!(an=an.call(rn,fn[1])).done)return an;switch(rn=0,an&&(fn=[2&fn[0],an.value]),fn[0]){case 0:case 1:an=fn;break;case 4:return un.label++,{value:fn[1],done:!1};case 5:un.label++,rn=fn[1],fn=[0];continue;case 7:fn=un.ops.pop(),un.trys.pop();continue;default:if(!(an=(an=un.trys).length>0&&an[an.length-1])&&(fn[0]===6||fn[0]===2)){un=0;continue}if(fn[0]===3&&(!an||fn[1]>an[0]&&fn[1]<an[3])){un.label=fn[1];break}if(fn[0]===6&&un.label<an[1]){un.label=an[1],an=fn;break}if(an&&un.label<an[2]){un.label=an[2],un.ops.push(fn);break}an[2]&&un.ops.pop(),un.trys.pop();continue}fn=Mt.call(st,un)}catch(to){fn=[6,to],rn=0}finally{nn=an=0}if(5&fn[0])throw fn[1];return{value:fn[0]?fn[1]:void 0,done:!0}}([cn,hn])}}}var o=function(){function st(Mt){this.global=Mt,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return st.prototype.setPlatform=function(Mt,nn){this.platform!=null&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+nn+"."),this.platformName=Mt,this.platform=nn},st.prototype.registerFlag=function(Mt,nn,rn){if(this.flagRegistry[Mt]={evaluationFn:nn,setHook:rn},this.urlFlags[Mt]!=null){var an=this.urlFlags[Mt];console.warn("Setting feature override from URL "+Mt+": "+an+"."),this.set(Mt,an)}},st.prototype.get=function(Mt){return Mt in this.flags?this.flags[Mt]:(this.flags[Mt]=this.evaluateFlag(Mt),this.flags[Mt])},st.prototype.getNumber=function(Mt){return this.get(Mt)},st.prototype.getBool=function(Mt){return this.get(Mt)},st.prototype.getFlags=function(){return this.flags},Object.defineProperty(st.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),st.prototype.set=function(Mt,nn){if(this.flagRegistry[Mt]==null)throw new Error("Cannot set flag "+Mt+" as it has not been registered.");this.flags[Mt]=nn,this.flagRegistry[Mt].setHook!=null&&this.flagRegistry[Mt].setHook(nn)},st.prototype.evaluateFlag=function(Mt){if(this.flagRegistry[Mt]==null)throw new Error("Cannot evaluate flag '"+Mt+"': no evaluation function found.");return this.flagRegistry[Mt].evaluationFn()},st.prototype.setFlags=function(Mt){this.flags=Object.assign({},Mt)},st.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},st.prototype.populateURLFlags=function(){var Mt=this;if(this.global!==void 0&&this.global.location!==void 0&&this.global.location.search!==void 0){var nn,rn,an=(nn=this.global.location.search,rn={},nn.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(sn){for(var un=[],ln=1;ln<arguments.length;ln++)un[ln-1]=arguments[ln];return a(rn,un[0],un[1]),un.join("=")}),rn);"tfjsflags"in an&&an.tfjsflags.split(",").forEach(function(sn){var un=sn.split(":"),ln=un[0],cn=un[1];Mt.urlFlags[ln]=function(hn,fn){if((fn=fn.toLowerCase())==="true"||fn==="false")return fn==="true";if(""+ +fn===fn)return+fn;throw new Error("Could not parse value flag value "+fn+" for flag "+hn+".")}(ln,cn)})}},st}();function a(st,Mt,nn){st[decodeURIComponent(Mt)]=decodeURIComponent(nn||"")}function i$1(){return s}var s=null,u=new Map,c=new Map;function l(st,Mt){var nn=g(st,Mt);return u.get(nn)}function h$1(st){return c.get(st)}function f(st){for(var Mt=u.entries(),nn=[];;){var rn=Mt.next(),an=rn.done,sn=rn.value;if(an)break;var un=sn[0],ln=sn[1];un.split("_")[0]===st&&nn.push(ln)}return nn}function d(st){var Mt=st.kernelName,nn=st.backendName,rn=g(Mt,nn);if(u.has(rn))throw new Error("The kernel '"+Mt+"' for backend '"+nn+"' is already registered");u.set(rn,st)}function p(st){var Mt=st.kernelName;c.has(Mt)&&console.warn("Overriding the gradient for '"+Mt+"'"),c.set(Mt,st)}function g(st,Mt){return Mt+"_"+st}function x(st,Mt,nn){return Math.max(st,Math.min(Mt,nn))}function b(st){return st%2==0?st:st+1}function w$1(st){for(var Mt=0,nn=0;nn<st.length;nn++)Mt+=st[nn];return Mt}function C(st,Mt){if(!st)throw new Error(typeof Mt=="string"?Mt:Mt())}function E(st,Mt,nn){nn===void 0&&(nn=""),C(S(st,Mt),function(){return nn+" Shapes "+st+" and "+Mt+" must match"})}function R(st){C(st!=null,function(){return"The input to the tensor constructor must be a non-null value."})}function I(st,Mt,nn){if(Mt===void 0&&(Mt=[]),nn===void 0&&(nn=!1),Mt==null&&(Mt=[]),Array.isArray(st)||V(st)&&!nn)for(var rn=0;rn<st.length;++rn)I(st[rn],Mt,nn);else Mt.push(st);return Mt}function k(st){if(st.length===0)return 1;for(var Mt=st[0],nn=1;nn<st.length;nn++)Mt*=st[nn];return Mt}function S(st,Mt){if(st===Mt)return!0;if(st==null||Mt==null||st.length!==Mt.length)return!1;for(var nn=0;nn<st.length;nn++)if(st[nn]!==Mt[nn])return!1;return!0}function A(st){return st%1==0}function D(st){if(Math.tanh!=null)return Math.tanh(st);if(st===1/0)return 1;if(st===-1/0)return-1;var Mt=Math.exp(2*st);return(Mt-1)/(Mt+1)}function T(st){var Mt=Math.ceil(Math.sqrt(st));return[Mt,Math.ceil(st/Mt)]}function N(st,Mt){return Mt<=st.length?st:st+" ".repeat(Mt-st.length)}function F(st,Mt,nn){return Mt===void 0&&(Mt=function(rn){return 0}),new Promise(function(rn,an){var sn=0,un=function(){if(st())rn();else{sn++;var ln=Mt(sn);nn!=null&&sn>=nn?an():setTimeout(un,ln)}};un()})}function _(st,Mt){for(var nn=1,rn=-1,an=0;an<st.length;++an)if(st[an]>=0)nn*=st[an];else if(st[an]===-1){if(rn!==-1)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+rn+" and dim "+an);rn=an}else if(st[an]<0)throw Error("Shapes can not be < 0. Found "+st[an]+" at dim "+an);if(rn===-1){if(Mt>0&&Mt!==nn)throw Error("Size("+Mt+") must match the product of shape "+st);return st}if(nn===0)throw Error("Cannot infer the missing size in ["+st+"] when there are 0 elements");if(Mt%nn!=0)throw Error("The implicit shape can't be a fractional number. Got "+Mt+" / "+nn);var sn=st.slice();return sn[rn]=Mt/nn,sn}function O(st,Mt){var nn=Mt.length;return C((st=st==null?Mt.map(function(rn,an){return an}):[].concat(st)).every(function(rn){return rn>=-nn&&rn<nn}),function(){return"All values in axis param must be in range [-"+nn+", "+nn+") but got axis "+st}),C(st.every(function(rn){return A(rn)}),function(){return"All values in axis param must be integers but got axis "+st}),st.map(function(rn){return rn<0?nn+rn:rn})}function M(st,Mt){for(var nn=[],rn=[],an=Mt!=null&&Array.isArray(Mt)&&Mt.length===0,sn=Mt==null||an?null:O(Mt,st).sort(),un=0,ln=0;ln<st.length;++ln){if(sn!=null){if(sn[un]===ln&&st[ln]!==1)throw new Error("Can't squeeze axis "+ln+" since its dim '"+st[ln]+"' is not 1");(sn[un]==null||sn[un]>ln)&&st[ln]===1&&(nn.push(st[ln]),rn.push(ln)),sn[un]<=ln&&un++}st[ln]!==1&&(nn.push(st[ln]),rn.push(ln))}return{newShape:nn,keptDims:rn}}function B(st,Mt){var nn=null;if(st==null||st==="float32")nn=new Float32Array(Mt);else if(st==="int32")nn=new Int32Array(Mt);else{if(st!=="bool")throw new Error("Unknown data type "+st);nn=new Uint8Array(Mt)}return nn}function P(st,Mt){var nn=null;if(st==null||st==="float32")nn=new Float32Array(Mt);else if(st==="int32")nn=new Int32Array(Mt);else if(st==="bool")nn=new Uint8Array(Mt);else{if(st!=="string")throw new Error("Unknown data type "+st);nn=new Array(Mt)}return nn}function L(st,Mt){for(var nn=0;nn<st.length;nn++){var rn=st[nn];if(isNaN(rn)||!isFinite(rn))throw Error("A tensor of type "+Mt+" being uploaded contains "+rn+".")}}function W(st){return st==="bool"||st==="complex64"||st==="float32"||st==="int32"||st==="string"}function U(st,Mt){return Mt!=="complex64"&&(Mt!=="float32"||st==="complex64")&&(Mt!=="int32"||st==="float32"||st==="complex64")&&(Mt!=="bool"||st!=="bool")}function V(st){return st instanceof Float32Array||st instanceof Int32Array||st instanceof Uint8Array}function z(st){if(st==="float32"||st==="int32")return 4;if(st==="complex64")return 8;if(st==="bool")return 1;throw new Error("Unknown dtype "+st)}function G(st){if(st==null)return 0;var Mt=0;return st.forEach(function(nn){return Mt+=nn.length}),Mt}function H(st){return typeof st=="string"||st instanceof String}function q(st){return typeof st=="boolean"}function K(st){return typeof st=="number"}function j(st){return Array.isArray(st)?j(st[0]):st instanceof Float32Array?"float32":st instanceof Int32Array||st instanceof Uint8Array?"int32":K(st)?"float32":H(st)?"string":q(st)?"bool":"float32"}function X(st){return!!(st&&st.constructor&&st.call&&st.apply)}function Y(st,Mt){for(var nn=Mt;nn<st;++nn)if(st%nn==0)return nn;return st}function $(st){var Mt=st.length;if(Mt<2)return[];var nn=new Array(Mt-1);nn[Mt-2]=st[Mt-1];for(var rn=Mt-3;rn>=0;--rn)nn[rn]=nn[rn+1]*st[rn+1];return nn}function Q(st,Mt,nn){if(Mt==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(st)&&(st=I(st)),nn&&L(st,Mt),function(sn,un){return sn instanceof Float32Array&&un==="float32"||sn instanceof Int32Array&&un==="int32"||sn instanceof Uint8Array&&un==="bool"}(st,Mt))return st;if(Mt==null||Mt==="float32"||Mt==="complex64")return new Float32Array(st);if(Mt==="int32")return new Int32Array(st);if(Mt==="bool"){for(var rn=new Uint8Array(st.length),an=0;an<rn.length;++an)Math.round(st[an])!==0&&(rn[an]=1);return rn}throw new Error("Unknown data type "+Mt)}function J(st,Mt){if(st.length===0)return Mt[0];var nn=st.reduce(function(rn,an){return rn*an});if(nn===0)return[];if(nn!==Mt.length)throw new Error("["+st+"] does not match the input size.");return function rn(an,sn,un){var ln=new Array;if(sn.length===1)for(var cn=sn[0],hn=0;hn<cn;hn++)ln[hn]=un[an+hn];else{cn=sn[0];var fn=sn.slice(1),to=fn.reduce(function(Xr,uo){return Xr*uo});for(hn=0;hn<cn;hn++)ln[hn]=rn(an+hn*to,fn,un)}return ln}(0,st,Mt)}function Z(st,Mt){for(var nn=tt(st,Mt),rn=0;rn<nn.length;rn++)nn[rn]=1;return nn}function tt(st,Mt){if(Mt==null||Mt==="float32"||Mt==="complex64")return new Float32Array(st);if(Mt==="int32")return new Int32Array(st);if(Mt==="bool")return new Uint8Array(st);throw new Error("Unknown data type "+Mt)}function et(){return i$1().platform.now()}function nt(st){st.forEach(function(Mt){C(Number.isInteger(Mt)&&Mt>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+st+"]."})})}function rt(st,Mt){return Mt===void 0&&(Mt="utf-8"),Mt=Mt||"utf-8",i$1().platform.encode(st,Mt)}function ot(st,Mt){return Mt===void 0&&(Mt="utf-8"),Mt=Mt||"utf-8",i$1().platform.decode(st,Mt)}function at(st,Mt,nn){if(Mt===0)return 0;if(Mt===1)return st[0];for(var rn=st[st.length-1],an=0;an<st.length-1;++an)rn+=nn[an]*st[an];return rn}function it(st,Mt,nn){if(Mt===0)return[];if(Mt===1)return[st];for(var rn=new Array(Mt),an=0;an<rn.length-1;++an)rn[an]=Math.floor(st/nn[an]),st-=rn[an]*nn[an];return rn[rn.length-1]=st,rn}var ut=function(){function st(Mt,nn){this.backendTimer=Mt,this.logger=nn,nn==null&&(this.logger=new ct)}return st.prototype.profileKernel=function(Mt,nn,rn){var an,sn=this,un=this.backendTimer.time(function(){an=rn()});return an.forEach(function(ln){ln.data().then(function(cn){(function(hn,fn,to){if(fn!=="float32")return!1;for(var Xr=0;Xr<hn.length;Xr++){var uo=hn[Xr];if(isNaN(uo)||!isFinite(uo))return console.warn("Found "+uo+" in the result of '"+to+"'"),!0}})(cn,ln.dtype,Mt),un.then(function(hn){var fn="";hn.getExtraProfileInfo!=null&&(fn=hn.getExtraProfileInfo()),sn.logger.logKernelProfile(Mt,ln,cn,hn.kernelMs,nn,fn)})})}),an},st}(),ct=function(){function st(){}return st.prototype.logKernelProfile=function(Mt,nn,rn,an,sn,un){var ln=typeof an=="number"?N(an+"ms",9):an.error,cn=N(Mt,25),hn=nn.rank,fn=nn.size,to=N(nn.shape.toString(),14),Xr="";for(var uo in sn){var co=sn[uo].shape||nn.shape,ho=co.length;Xr+=uo+": "+ho+"D "+(ho>0?co:"")+" "}console.log("%c"+cn+"	%c"+ln+"	%c"+hn+"D "+to+"	%c"+fn+"	%c"+Xr+"	%c"+un,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},st}(),lt=20,ht=3,ft=7;function dt(st,Mt,nn,rn){var an=$(Mt),sn=function(hn,fn,to,Xr){var uo=k(fn),co=Xr[Xr.length-1],ho=new Array(co).fill(0),e0=fn.length,lo=to==="complex64"?mt(hn):hn;if(e0>1)for(var mo=0;mo<uo/co;mo++)for(var fo=mo*co,Uo=0;Uo<co;Uo++)ho[Uo]=Math.max(ho[Uo],pt(lo[fo+Uo],0,to).length);return ho}(st,Mt,nn,an),un=Mt.length,ln=function hn(fn,to,Xr,uo,co,ho){ho===void 0&&(ho=!0);var e0=Xr==="complex64"?2:1,lo=to[0],mo=to.length;if(mo===0)return Xr==="complex64"?[pt(mt(fn)[0],0,Xr)]:Xr==="bool"?[vt(fn[0])]:[fn[0].toString()];if(mo===1){if(lo>lt){var fo=ht*e0,Uo=Array.from(fn.slice(0,fo)),t0=Array.from(fn.slice((lo-ht)*e0,lo*e0));return Xr==="complex64"&&(Uo=mt(Uo),t0=mt(t0)),["["+Uo.map(function(m0,u0){return pt(m0,co[u0],Xr)}).join(", ")+", ..., "+t0.map(function(m0,u0){return pt(m0,co[lo-ht+u0],Xr)}).join(", ")+"]"]}return["["+(Xr==="complex64"?mt(fn):Array.from(fn)).map(function(m0,u0){return pt(m0,co[u0],Xr)}).join(", ")+"]"]}var n0=to.slice(1),i0=uo.slice(1),a0=uo[0]*e0,s0=[];if(lo>lt){for(var l0=0;l0<ht;l0++){var d0=(h0=l0*a0)+a0;s0.push.apply(s0,hn(fn.slice(h0,d0),n0,Xr,i0,co,!1))}for(s0.push("..."),l0=lo-ht;l0<lo;l0++)d0=(h0=l0*a0)+a0,s0.push.apply(s0,hn(fn.slice(h0,d0),n0,Xr,i0,co,l0===lo-1))}else for(l0=0;l0<lo;l0++){var h0;d0=(h0=l0*a0)+a0,s0.push.apply(s0,hn(fn.slice(h0,d0),n0,Xr,i0,co,l0===lo-1))}var v0=mo===2?",":"";for(s0[0]="["+s0[0]+v0,l0=1;l0<s0.length-1;l0++)s0[l0]=" "+s0[l0]+v0;var g0=`,
`;for(l0=2;l0<mo;l0++)g0+=`
`;return s0[s0.length-1]=" "+s0[s0.length-1]+"]"+(ho?"":g0),s0}(st,Mt,nn,an,sn),cn=["Tensor"];return rn&&(cn.push("  dtype: "+nn),cn.push("  rank: "+un),cn.push("  shape: ["+Mt+"]"),cn.push("  values:")),cn.push(ln.map(function(hn){return"    "+hn}).join(`
`)),cn.join(`
`)}function pt(st,Mt,nn){return N(Array.isArray(st)?parseFloat(st[0].toFixed(ft))+" + "+parseFloat(st[1].toFixed(ft))+"j":H(st)?"'"+st+"'":nn==="bool"?vt(st):parseFloat(st.toFixed(ft)).toString(),Mt)}function vt(st){return st===0?"false":"true"}function mt(st){for(var Mt=[],nn=0;nn<st.length;nn+=2)Mt.push([st[nn],st[nn+1]]);return Mt}var gt=function(){function st(Mt,nn,rn){var an=this;if(this.dtype=nn,this.shape=Mt.slice(),this.size=k(Mt),rn!=null){var sn=rn.length;C(sn===this.size,function(){return"Length of values '"+sn+"' does not match the size inferred by the shape '"+an.size+"'."})}if(nn==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=rn||P(nn,this.size),this.strides=$(Mt)}return st.prototype.set=function(Mt){for(var nn=this,rn=[],an=1;an<arguments.length;an++)rn[an-1]=arguments[an];rn.length===0&&(rn=[0]),C(rn.length===this.rank,function(){return"The number of provided coordinates ("+rn.length+") must match the rank ("+nn.rank+")"});var sn=this.locToIndex(rn);this.values[sn]=Mt},st.prototype.get=function(){for(var Mt=[],nn=0;nn<arguments.length;nn++)Mt[nn]=arguments[nn];Mt.length===0&&(Mt=[0]);for(var rn=0,an=0,sn=Mt;an<sn.length;an++){var un=sn[an];if(un<0||un>=this.shape[rn]){var ln="Requested out of range element at "+Mt+".   Buffer shape="+this.shape;throw new Error(ln)}rn++}for(var cn=Mt[Mt.length-1],hn=0;hn<Mt.length-1;++hn)cn+=this.strides[hn]*Mt[hn];return this.values[cn]},st.prototype.locToIndex=function(Mt){if(this.rank===0)return 0;if(this.rank===1)return Mt[0];for(var nn=Mt[Mt.length-1],rn=0;rn<Mt.length-1;++rn)nn+=this.strides[rn]*Mt[rn];return nn},st.prototype.indexToLoc=function(Mt){if(this.rank===0)return[];if(this.rank===1)return[Mt];for(var nn=new Array(this.shape.length),rn=0;rn<nn.length-1;++rn)nn[rn]=Math.floor(Mt/this.strides[rn]),Mt-=nn[rn]*this.strides[rn];return nn[nn.length-1]=Mt,nn},Object.defineProperty(st.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),st.prototype.toTensor=function(){return yt().makeTensor(this.values,this.shape,this.dtype)},st}(),yt=null,xt=null,bt=null,wt=function(){function st(Mt,nn,rn,an){this.kept=!1,this.isDisposedInternal=!1,this.shape=Mt.slice(),this.dtype=nn||"float32",this.size=k(Mt),this.strides=$(Mt),this.dataId=rn,this.id=an,this.rankType=this.rank<5?this.rank.toString():"higher"}return st.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},st.prototype.asScalar=function(){return this.throwIfDisposed(),C(this.size===1,function(){return"The array must have only 1 element."}),this.reshape([])},st.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},st.prototype.as2D=function(Mt,nn){return this.throwIfDisposed(),this.reshape([Mt,nn])},st.prototype.as3D=function(Mt,nn,rn){return this.throwIfDisposed(),this.reshape([Mt,nn,rn])},st.prototype.as4D=function(Mt,nn,rn,an){return this.throwIfDisposed(),this.reshape([Mt,nn,rn,an])},st.prototype.as5D=function(Mt,nn,rn,an,sn){return this.throwIfDisposed(),this.reshape([Mt,nn,rn,an,sn])},st.prototype.asType=function(Mt){return this.throwIfDisposed(),xt.cast(this,Mt)},Object.defineProperty(st.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),st.prototype.buffer=function(){return n(this,void 0,void 0,function(){var Mt;return r(this,function(nn){switch(nn.label){case 0:return[4,this.data()];case 1:return Mt=nn.sent(),[2,xt.buffer(this.shape,this.dtype,Mt)]}})})},st.prototype.bufferSync=function(){return xt.buffer(this.shape,this.dtype,this.dataSync())},st.prototype.array=function(){return n(this,void 0,void 0,function(){var Mt;return r(this,function(nn){switch(nn.label){case 0:return[4,this.data()];case 1:return Mt=nn.sent(),[2,J(this.shape,Mt)]}})})},st.prototype.arraySync=function(){return J(this.shape,this.dataSync())},st.prototype.data=function(){return n(this,void 0,void 0,function(){var Mt,nn;return r(this,function(rn){switch(rn.label){case 0:return this.throwIfDisposed(),Mt=yt().read(this.dataId),this.dtype!=="string"?[3,2]:[4,Mt];case 1:nn=rn.sent();try{return[2,nn.map(function(an){return ot(an)})]}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}rn.label=2;case 2:return[2,Mt]}})})},st.prototype.dataSync=function(){this.throwIfDisposed();var Mt=yt().readSync(this.dataId);if(this.dtype==="string")try{return Mt.map(function(nn){return ot(nn)})}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return Mt},st.prototype.bytes=function(){return n(this,void 0,void 0,function(){var Mt;return r(this,function(nn){switch(nn.label){case 0:return this.throwIfDisposed(),[4,yt().read(this.dataId)];case 1:return Mt=nn.sent(),this.dtype==="string"?[2,Mt]:[2,new Uint8Array(Mt.buffer)]}})})},st.prototype.dispose=function(){this.isDisposed||(yt().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(st.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),st.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},st.prototype.toFloat=function(){return this.asType("float32")},st.prototype.toInt=function(){return this.asType("int32")},st.prototype.toBool=function(){return this.asType("bool")},st.prototype.print=function(Mt){return Mt===void 0&&(Mt=!1),xt.print(this,Mt)},st.prototype.reshape=function(Mt){return this.throwIfDisposed(),xt.reshape(this,Mt)},st.prototype.reshapeAs=function(Mt){return this.throwIfDisposed(),this.reshape(Mt.shape)},st.prototype.expandDims=function(Mt){return Mt===void 0&&(Mt=0),xt.expandDims(this,Mt)},st.prototype.cumsum=function(Mt,nn,rn){return Mt===void 0&&(Mt=0),nn===void 0&&(nn=!1),rn===void 0&&(rn=!1),xt.cumsum(this,Mt,nn,rn)},st.prototype.squeeze=function(Mt){return this.throwIfDisposed(),xt.squeeze(this,Mt)},st.prototype.clone=function(){return this.throwIfDisposed(),xt.clone(this)},st.prototype.oneHot=function(Mt,nn,rn){return this.throwIfDisposed(),xt.oneHot(this,Mt,nn,rn)},st.prototype.toString=function(Mt){return Mt===void 0&&(Mt=!1),dt(this.dataSync(),this.shape,this.dtype,Mt)},st.prototype.tile=function(Mt){return this.throwIfDisposed(),xt.tile(this,Mt)},st.prototype.gather=function(Mt,nn){return nn===void 0&&(nn=0),this.throwIfDisposed(),xt.gather(this,Mt,nn)},st.prototype.matMul=function(Mt,nn,rn){return nn===void 0&&(nn=!1),rn===void 0&&(rn=!1),this.throwIfDisposed(),xt.matMul(this,Mt,nn,rn)},st.prototype.dot=function(Mt){return this.throwIfDisposed(),xt.dot(this,Mt)},st.prototype.norm=function(Mt,nn,rn){return Mt===void 0&&(Mt="euclidean"),nn===void 0&&(nn=null),rn===void 0&&(rn=!1),this.throwIfDisposed(),xt.norm(this,Mt,nn,rn)},st.prototype.slice=function(Mt,nn){return this.throwIfDisposed(),xt.slice(this,Mt,nn)},st.prototype.reverse=function(Mt){return this.throwIfDisposed(),xt.reverse(this,Mt)},st.prototype.concat=function(Mt,nn){return nn===void 0&&(nn=0),this.throwIfDisposed(),Mt instanceof st&&(Mt=[Mt]),xt.concat([this].concat(Mt),nn)},st.prototype.split=function(Mt,nn){return nn===void 0&&(nn=0),this.throwIfDisposed(),xt.split(this,Mt,nn)},st.prototype.stack=function(Mt,nn){return nn===void 0&&(nn=0),xt.stack([this,Mt],nn)},st.prototype.unstack=function(Mt){return Mt===void 0&&(Mt=0),xt.unstack(this,Mt)},st.prototype.pad=function(Mt,nn){return nn===void 0&&(nn=0),xt.pad(this,Mt,nn)},st.prototype.batchNormalization=function(Mt,nn,rn,an,sn){return rn===void 0&&(rn=.001),bt("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(Mt,nn,sn,an,rn)},st.prototype.batchNorm=function(Mt,nn,rn,an,sn){return sn===void 0&&(sn=.001),this.throwIfDisposed(),xt.batchNorm(this,Mt,nn,rn,an,sn)},st.prototype.all=function(Mt,nn){return Mt===void 0&&(Mt=null),nn===void 0&&(nn=!1),this.throwIfDisposed(),xt.all(this,Mt,nn)},st.prototype.any=function(Mt,nn){return Mt===void 0&&(Mt=null),nn===void 0&&(nn=!1),this.throwIfDisposed(),xt.any(this,Mt,nn)},st.prototype.logSumExp=function(Mt,nn){return Mt===void 0&&(Mt=null),nn===void 0&&(nn=!1),this.throwIfDisposed(),xt.logSumExp(this,Mt,nn)},st.prototype.sum=function(Mt,nn){return Mt===void 0&&(Mt=null),nn===void 0&&(nn=!1),this.throwIfDisposed(),xt.sum(this,Mt,nn)},st.prototype.prod=function(Mt,nn){return Mt===void 0&&(Mt=null),nn===void 0&&(nn=!1),this.throwIfDisposed(),xt.prod(this,Mt,nn)},st.prototype.mean=function(Mt,nn){return Mt===void 0&&(Mt=null),nn===void 0&&(nn=!1),this.throwIfDisposed(),xt.mean(this,Mt,nn)},st.prototype.min=function(Mt,nn){return Mt===void 0&&(Mt=null),nn===void 0&&(nn=!1),this.throwIfDisposed(),xt.min(this,Mt,nn)},st.prototype.max=function(Mt,nn){return Mt===void 0&&(Mt=null),nn===void 0&&(nn=!1),this.throwIfDisposed(),xt.max(this,Mt,nn)},st.prototype.argMin=function(Mt){return Mt===void 0&&(Mt=null),this.throwIfDisposed(),xt.argMin(this,Mt)},st.prototype.argMax=function(Mt){return Mt===void 0&&(Mt=null),this.throwIfDisposed(),xt.argMax(this,Mt)},st.prototype.cast=function(Mt){return this.throwIfDisposed(),xt.cast(this,Mt)},st.prototype.add=function(Mt){return this.throwIfDisposed(),xt.add(this,Mt)},st.prototype.addStrict=function(Mt){return this.throwIfDisposed(),xt.addStrict(this,Mt)},st.prototype.atan2=function(Mt){return this.throwIfDisposed(),xt.atan2(this,Mt)},st.prototype.sub=function(Mt){return this.throwIfDisposed(),xt.sub(this,Mt)},st.prototype.subStrict=function(Mt){return this.throwIfDisposed(),xt.subStrict(this,Mt)},st.prototype.pow=function(Mt){return this.throwIfDisposed(),xt.pow(this,Mt)},st.prototype.powStrict=function(Mt){return this.throwIfDisposed(),xt.powStrict(this,Mt)},st.prototype.mul=function(Mt){return this.throwIfDisposed(),xt.mul(this,Mt)},st.prototype.mulStrict=function(Mt){return this.throwIfDisposed(),xt.mulStrict(this,Mt)},st.prototype.div=function(Mt){return this.throwIfDisposed(),xt.div(this,Mt)},st.prototype.divNoNan=function(Mt){return this.throwIfDisposed(),xt.divNoNan(this,Mt)},st.prototype.floorDiv=function(Mt){return this.throwIfDisposed(),xt.floorDiv(this,Mt)},st.prototype.divStrict=function(Mt){return this.throwIfDisposed(),xt.divStrict(this,Mt)},st.prototype.minimum=function(Mt){return this.throwIfDisposed(),xt.minimum(this,Mt)},st.prototype.minimumStrict=function(Mt){return this.throwIfDisposed(),xt.minimumStrict(this,Mt)},st.prototype.maximum=function(Mt){return this.throwIfDisposed(),xt.maximum(this,Mt)},st.prototype.maximumStrict=function(Mt){return this.throwIfDisposed(),xt.maximumStrict(this,Mt)},st.prototype.mod=function(Mt){return this.throwIfDisposed(),xt.mod(this,Mt)},st.prototype.modStrict=function(Mt){return this.throwIfDisposed(),xt.modStrict(this,Mt)},st.prototype.squaredDifferenceStrict=function(Mt){return this.throwIfDisposed(),xt.squaredDifferenceStrict(this,Mt)},st.prototype.transpose=function(Mt){return this.throwIfDisposed(),xt.transpose(this,Mt)},st.prototype.notEqual=function(Mt){return this.throwIfDisposed(),xt.notEqual(this,Mt)},st.prototype.notEqualStrict=function(Mt){return this.throwIfDisposed(),xt.notEqualStrict(this,Mt)},st.prototype.less=function(Mt){return this.throwIfDisposed(),xt.less(this,Mt)},st.prototype.lessStrict=function(Mt){return this.throwIfDisposed(),xt.lessStrict(this,Mt)},st.prototype.equal=function(Mt){return this.throwIfDisposed(),xt.equal(this,Mt)},st.prototype.equalStrict=function(Mt){return this.throwIfDisposed(),xt.equalStrict(this,Mt)},st.prototype.lessEqual=function(Mt){return this.throwIfDisposed(),xt.lessEqual(this,Mt)},st.prototype.lessEqualStrict=function(Mt){return this.throwIfDisposed(),xt.lessEqualStrict(this,Mt)},st.prototype.greater=function(Mt){return this.throwIfDisposed(),xt.greater(this,Mt)},st.prototype.greaterStrict=function(Mt){return this.throwIfDisposed(),xt.greaterStrict(this,Mt)},st.prototype.greaterEqual=function(Mt){return this.throwIfDisposed(),xt.greaterEqual(this,Mt)},st.prototype.greaterEqualStrict=function(Mt){return this.throwIfDisposed(),xt.greaterEqualStrict(this,Mt)},st.prototype.logicalAnd=function(Mt){return this.throwIfDisposed(),xt.logicalAnd(this,Mt)},st.prototype.logicalOr=function(Mt){return this.throwIfDisposed(),xt.logicalOr(this,Mt)},st.prototype.logicalNot=function(){return this.throwIfDisposed(),xt.logicalNot(this)},st.prototype.logicalXor=function(Mt){return this.throwIfDisposed(),xt.logicalXor(this,Mt)},st.prototype.where=function(Mt,nn){return this.throwIfDisposed(),xt.where(Mt,this,nn)},st.prototype.neg=function(){return this.throwIfDisposed(),xt.neg(this)},st.prototype.ceil=function(){return this.throwIfDisposed(),xt.ceil(this)},st.prototype.floor=function(){return this.throwIfDisposed(),xt.floor(this)},st.prototype.sign=function(){return this.throwIfDisposed(),xt.sign(this)},st.prototype.isNaN=function(){return this.throwIfDisposed(),xt.isNaN(this)},st.prototype.isInf=function(){return this.throwIfDisposed(),xt.isInf(this)},st.prototype.isFinite=function(){return this.throwIfDisposed(),xt.isFinite(this)},st.prototype.exp=function(){return this.throwIfDisposed(),xt.exp(this)},st.prototype.expm1=function(){return this.throwIfDisposed(),xt.expm1(this)},st.prototype.log=function(){return this.throwIfDisposed(),xt.log(this)},st.prototype.log1p=function(){return this.throwIfDisposed(),xt.log1p(this)},st.prototype.sqrt=function(){return this.throwIfDisposed(),xt.sqrt(this)},st.prototype.rsqrt=function(){return this.throwIfDisposed(),xt.rsqrt(this)},st.prototype.square=function(){return this.throwIfDisposed(),xt.square(this)},st.prototype.reciprocal=function(){return this.throwIfDisposed(),xt.reciprocal(this)},st.prototype.abs=function(){return this.throwIfDisposed(),xt.abs(this)},st.prototype.clipByValue=function(Mt,nn){return this.throwIfDisposed(),xt.clipByValue(this,Mt,nn)},st.prototype.relu=function(){return this.throwIfDisposed(),xt.relu(this)},st.prototype.relu6=function(){return this.throwIfDisposed(),xt.relu6(this)},st.prototype.elu=function(){return this.throwIfDisposed(),xt.elu(this)},st.prototype.selu=function(){return this.throwIfDisposed(),xt.selu(this)},st.prototype.leakyRelu=function(Mt){return Mt===void 0&&(Mt=.2),this.throwIfDisposed(),xt.leakyRelu(this,Mt)},st.prototype.prelu=function(Mt){return this.throwIfDisposed(),xt.prelu(this,Mt)},st.prototype.sigmoid=function(){return this.throwIfDisposed(),xt.sigmoid(this)},st.prototype.logSigmoid=function(){return this.throwIfDisposed(),xt.logSigmoid(this)},st.prototype.softplus=function(){return this.throwIfDisposed(),xt.softplus(this)},st.prototype.zerosLike=function(){return this.throwIfDisposed(),xt.zerosLike(this)},st.prototype.onesLike=function(){return this.throwIfDisposed(),xt.onesLike(this)},st.prototype.sin=function(){return this.throwIfDisposed(),xt.sin(this)},st.prototype.cos=function(){return this.throwIfDisposed(),xt.cos(this)},st.prototype.tan=function(){return this.throwIfDisposed(),xt.tan(this)},st.prototype.asin=function(){return this.throwIfDisposed(),xt.asin(this)},st.prototype.acos=function(){return this.throwIfDisposed(),xt.acos(this)},st.prototype.atan=function(){return this.throwIfDisposed(),xt.atan(this)},st.prototype.sinh=function(){return this.throwIfDisposed(),xt.sinh(this)},st.prototype.cosh=function(){return this.throwIfDisposed(),xt.cosh(this)},st.prototype.tanh=function(){return this.throwIfDisposed(),xt.tanh(this)},st.prototype.asinh=function(){return this.throwIfDisposed(),xt.asinh(this)},st.prototype.acosh=function(){return this.throwIfDisposed(),xt.acosh(this)},st.prototype.atanh=function(){return this.throwIfDisposed(),xt.atanh(this)},st.prototype.erf=function(){return this.throwIfDisposed(),xt.erf(this)},st.prototype.round=function(){return this.throwIfDisposed(),xt.round(this)},st.prototype.step=function(Mt){return Mt===void 0&&(Mt=0),this.throwIfDisposed(),xt.step(this,Mt)},st.prototype.softmax=function(Mt){return Mt===void 0&&(Mt=-1),this.throwIfDisposed(),xt.softmax(this,Mt)},st.prototype.logSoftmax=function(Mt){return Mt===void 0&&(Mt=-1),this.throwIfDisposed(),xt.logSoftmax(this,Mt)},st.prototype.resizeBilinear=function(Mt,nn){return nn===void 0&&(nn=!1),this.throwIfDisposed(),xt.image.resizeBilinear(this,Mt,nn)},st.prototype.resizeNearestNeighbor=function(Mt,nn){return nn===void 0&&(nn=!1),this.throwIfDisposed(),xt.image.resizeNearestNeighbor(this,Mt,nn)},st.prototype.conv1d=function(Mt,nn,rn,an,sn,un){return an===void 0&&(an="NWC"),sn===void 0&&(sn=1),this.throwIfDisposed(),xt.conv1d(this,Mt,nn,rn,an,sn,un)},st.prototype.conv2d=function(Mt,nn,rn,an,sn,un){return an===void 0&&(an="NHWC"),sn===void 0&&(sn=[1,1]),this.throwIfDisposed(),xt.conv2d(this,Mt,nn,rn,an,sn,un)},st.prototype.conv2dTranspose=function(Mt,nn,rn,an,sn){return this.throwIfDisposed(),xt.conv2dTranspose(this,Mt,nn,rn,an,sn)},st.prototype.depthwiseConv2D=function(Mt,nn,rn,an,sn,un){return an===void 0&&(an="NHWC"),sn===void 0&&(sn=[1,1]),this.throwIfDisposed(),xt.depthwiseConv2d(this,Mt,nn,rn,an,sn,un)},st.prototype.separableConv2d=function(Mt,nn,rn,an,sn,un){return sn===void 0&&(sn=[1,1]),un===void 0&&(un="NHWC"),this.throwIfDisposed(),xt.separableConv2d(this,Mt,nn,rn,an,sn,un)},st.prototype.avgPool=function(Mt,nn,rn,an){return this.throwIfDisposed(),xt.avgPool(this,Mt,nn,rn,an)},st.prototype.maxPool=function(Mt,nn,rn,an){return this.throwIfDisposed(),xt.maxPool(this,Mt,nn,rn,an)},st.prototype.localResponseNormalization=function(Mt,nn,rn,an){return Mt===void 0&&(Mt=5),nn===void 0&&(nn=1),rn===void 0&&(rn=1),an===void 0&&(an=.5),xt.localResponseNormalization(this,Mt,nn,rn,an)},st.prototype.pool=function(Mt,nn,rn,an,sn){return this.throwIfDisposed(),xt.pool(this,Mt,nn,rn,an,sn)},st.prototype.variable=function(Mt,nn,rn){return Mt===void 0&&(Mt=!0),this.throwIfDisposed(),yt().makeVariable(this,Mt,nn,rn)},st.prototype.unsortedSegmentSum=function(Mt,nn){return this.throwIfDisposed(),xt.unsortedSegmentSum(this,Mt,nn)},st.prototype.batchToSpaceND=function(Mt,nn){return this.throwIfDisposed(),xt.batchToSpaceND(this,Mt,nn)},st.prototype.spaceToBatchND=function(Mt,nn){return this.throwIfDisposed(),xt.spaceToBatchND(this,Mt,nn)},st.prototype.topk=function(Mt,nn){return Mt===void 0&&(Mt=1),nn===void 0&&(nn=!0),this.throwIfDisposed(),xt.topk(this,Mt,nn)},st.prototype.stridedSlice=function(Mt,nn,rn,an,sn,un,ln,cn){return an===void 0&&(an=0),sn===void 0&&(sn=0),un===void 0&&(un=0),ln===void 0&&(ln=0),cn===void 0&&(cn=0),this.throwIfDisposed(),xt.stridedSlice(this,Mt,nn,rn,an,sn,un,ln,cn)},st.prototype.depthToSpace=function(Mt,nn){return this.throwIfDisposed(),xt.depthToSpace(this,Mt,nn)},st.prototype.fft=function(){return this.throwIfDisposed(),xt.spectral.fft(this)},st.prototype.ifft=function(){return this.throwIfDisposed(),xt.spectral.ifft(this)},st.prototype.rfft=function(){return this.throwIfDisposed(),xt.spectral.rfft(this)},st.prototype.irfft=function(){return this.throwIfDisposed(),xt.spectral.irfft(this)},st}();Object.defineProperty(wt,Symbol.hasInstance,{value:function(st){return!!st&&st.dataId!=null&&st.shape!=null&&st.dtype!=null}});var Ct,Et,Rt,It,kt,St=function(st){function Mt(nn,rn,an,sn){var un=st.call(this,nn.shape,nn.dtype,nn.dataId,sn)||this;return un.trainable=rn,un.name=an,un}return e(Mt,st),Mt.prototype.assign=function(nn){if(nn.dtype!==this.dtype)throw new Error("dtype of the new value ("+nn.dtype+") and previous value ("+this.dtype+") must match");if(!S(nn.shape,this.shape))throw new Error("shape of the new value ("+nn.shape+") and previous value ("+this.shape+") must match");yt().disposeTensor(this),this.dataId=nn.dataId,yt().incRef(this,null)},Mt.prototype.dispose=function(){yt().disposeVariable(this),this.isDisposedInternal=!0},Mt}(wt);Object.defineProperty(St,Symbol.hasInstance,{value:function(st){return st instanceof wt&&st.assign!=null&&st.assign instanceof Function}}),function(st){st.R0="R0",st.R1="R1",st.R2="R2",st.R3="R3",st.R4="R4",st.R5="R5",st.R6="R6"}(Ct||(Ct={})),function(st){st.float32="float32",st.int32="int32",st.bool="int32",st.complex64="complex64"}(Et||(Et={})),function(st){st.float32="float32",st.int32="int32",st.bool="bool",st.complex64="complex64"}(Rt||(Rt={})),function(st){st.float32="float32",st.int32="float32",st.bool="float32",st.complex64="complex64"}(It||(It={})),function(st){st.float32="complex64",st.int32="complex64",st.bool="complex64",st.complex64="complex64"}(kt||(kt={}));var At={float32:It,int32:Et,bool:Rt,complex64:kt};function Dt(st,Mt){if(st==="string"||Mt==="string"){if(st==="string"&&Mt==="string")return"string";throw new Error("Can not upcast "+st+" with "+Mt)}return At[st][Mt]}function Tt(st){return Dt(st,"int32")}function Nt(st,Mt){if(st.dtype===Mt.dtype)return[st,Mt];var nn=Dt(st.dtype,Mt.dtype);return[st.cast(nn),Mt.cast(nn)]}function Ft(st,Mt){C(st.dtype===Mt.dtype,function(){return"The dtypes of the first("+st.dtype+") and second("+Mt.dtype+") input must match"})}function _t(st){var Mt=[];return function nn(rn,an,sn){if(rn!=null){if(rn instanceof wt)return void an.push(rn);if(un=rn,!(!Array.isArray(un)&&typeof un!="object")){var un,ln=rn;for(var cn in ln){var hn=ln[cn];sn.has(hn)||(sn.add(hn),nn(hn,an,sn))}}}}(st,Mt,new Set),Mt}var Ot,Bt=function(){function st(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return st.prototype.dispose=function(){for(var Mt in this.registeredVariables)this.registeredVariables[Mt].dispose()},st}(),Pt=function(){function st(Mt){this.ENV=Mt,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Bt}return st.prototype.ready=function(){return n(this,void 0,void 0,function(){var Mt,nn,rn;return r(this,function(an){switch(an.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then(function(){})];if(this.backendInstance!=null)return[2];Mt=this.getSortedBackends(),nn=0,an.label=1;case 1:return nn<Mt.length?(rn=Mt[nn],[4,this.initializeBackend(rn).success]):[3,5];case 2:return an.sent()?[4,this.setBackend(rn)]:[3,4];case 3:return an.sent(),[2];case 4:return nn++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(st.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var Mt=this.initializeBackendsAndReturnBest(),nn=Mt.name;if(Mt.asyncInit)throw new Error("The highest priority backend '"+nn+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(nn)}return this.backendInstance},enumerable:!0,configurable:!0}),st.prototype.backendNames=function(){return Object.keys(this.registryFactory)},st.prototype.findBackend=function(Mt){return!(Mt in this.registry)&&(!(Mt in this.registryFactory)||this.initializeBackend(Mt).asyncInit)?null:this.registry[Mt]},st.prototype.findBackendFactory=function(Mt){return Mt in this.registryFactory?this.registryFactory[Mt].factory:null},st.prototype.registerBackend=function(Mt,nn,rn){return rn===void 0&&(rn=1),Mt in this.registryFactory?(console.warn(Mt+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[Mt]={factory:nn,priority:rn},!0)},st.prototype.setBackend=function(Mt){return n(this,void 0,void 0,function(){var nn,rn,an;return r(this,function(sn){switch(sn.label){case 0:if(this.registryFactory[Mt]==null)throw new Error("Backend name '"+Mt+"' not found in registry");return this.backendName=Mt,this.registry[Mt]!=null?[3,4]:(this.backendInstance=null,nn=this.initializeBackend(Mt),rn=nn.success,nn.asyncInit?[4,rn]:[3,2]);case 1:return an=sn.sent(),[3,3];case 2:an=rn,sn.label=3;case 3:if(!an)return[2,!1];sn.label=4;case 4:return this.backendInstance=this.registry[Mt],this.setupRegisteredKernels(),this.profiler=new ut(this.backendInstance),[2,!0]}})})},st.prototype.setupRegisteredKernels=function(){var Mt=this;f(this.backendName).forEach(function(nn){nn.setupFunc!=null&&nn.setupFunc(Mt.backendInstance)})},st.prototype.disposeRegisteredKernels=function(Mt){var nn=this;f(Mt).forEach(function(rn){rn.disposeFunc!=null&&rn.disposeFunc(nn.registry[Mt])})},st.prototype.initializeBackend=function(Mt){var nn=this,rn=this.registryFactory[Mt];if(rn==null)throw new Error("Cannot initialize backend "+Mt+", no registration found.");try{var an=rn.factory();if(Promise.resolve(an)===an){var sn=++this.pendingBackendInitId,un=an.then(function(ln){return!(sn<nn.pendingBackendInitId)&&(nn.registry[Mt]=ln,nn.pendingBackendInit=null,!0)}).catch(function(ln){return!(sn<nn.pendingBackendInitId)&&(nn.pendingBackendInit=null,console.warn("Initialization of backend "+Mt+" failed"),console.warn(ln.stack||ln.message),!1)});return this.pendingBackendInit=un,{success:un,asyncInit:!0}}return this.registry[Mt]=an,{success:!0,asyncInit:!1}}catch(ln){return console.warn("Initialization of backend "+Mt+" failed"),console.warn(ln.stack||ln.message),{success:!1,asyncInit:!1}}},st.prototype.removeBackend=function(Mt){if(!(Mt in this.registryFactory))throw new Error(Mt+" backend not found in registry");this.backendName===Mt&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,Mt in this.registry&&(this.disposeRegisteredKernels(Mt),this.registry[Mt].dispose(),delete this.registry[Mt]),delete this.registryFactory[Mt],this.backendName===Mt&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},st.prototype.getSortedBackends=function(){var Mt=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(nn,rn){return Mt.registryFactory[rn].priority-Mt.registryFactory[nn].priority})},st.prototype.initializeBackendsAndReturnBest=function(){for(var Mt=this.getSortedBackends(),nn=0;nn<Mt.length;nn++){var rn=Mt[nn],an=this.initializeBackend(rn),sn=an.success,un=an.asyncInit;if(un||sn)return{name:rn,asyncInit:un}}throw new Error("Could not initialize any backends, all backend initializations failed.")},st.prototype.moveData=function(Mt,nn){var rn=this.state.tensorInfo.get(nn),an=rn.backend,sn=this.readSync(nn);an.disposeData(nn),rn.backend=Mt,Mt.move(nn,sn,rn.shape,rn.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},st.prototype.tidy=function(Mt,nn){var rn,an=this,sn=null;if(nn==null){if(typeof Mt!="function")throw new Error("Please provide a function to tidy()");nn=Mt}else{if(typeof Mt!="string"&&!(Mt instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof nn!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");sn=Mt}return this.scopedRun(function(){return an.startScope(sn)},function(){return an.endScope(rn)},function(){return(rn=nn())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),rn})},st.prototype.scopedRun=function(Mt,nn,rn){Mt();try{var an=rn();return nn(),an}catch(sn){throw nn(),sn}},st.prototype.nextTensorId=function(){return st.nextTensorId++},st.prototype.nextVariableId=function(){return st.nextVariableId++},st.prototype.clone=function(Mt){var nn=this.makeTensorFromDataId(Mt.dataId,Mt.shape,Mt.dtype),rn={x:Mt};return this.addTapeNode(this.state.activeScope.name,rn,[nn],function(an){return{x:function(){return an.toFloat()}}},[]),nn},st.prototype.runKernel=function(Mt,nn,rn,an,sn){return this.runKernelFunc(null,nn,null,Mt,rn,an,sn)},st.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},st.prototype.checkKernelForMemLeak=function(Mt,nn,rn){var an=this.backend.numDataIds(),sn=0;rn.forEach(function(cn){sn+=cn.dtype==="complex64"?3:1});var un=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],ln=an-nn-sn-un;if(ln>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+ln+" data ids) after running '"+Mt+"'")},st.prototype.runKernelFunc=function(Mt,nn,rn,an,sn,un,ln){var cn,hn=this;un===void 0&&(un=[]),ln===void 0&&(ln=[]);var fn=[],to=this.isTapeOn();an==null&&(an=this.state.activeScope!=null?this.state.activeScope.name:"");var Xr,uo=function(mo){to&&(fn=mo.map(function(fo){return hn.keep(hn.clone(fo))}))},co=this.state.numBytes,ho=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var e0,lo=l(an,this.backendName);return Xr=lo!=null?function(){var mo=hn.backend.numDataIds();e0=lo.kernelFunc({inputs:nn,attrs:sn,backend:hn.backend});var fo=Array.isArray(e0)?e0:[e0];hn.shouldCheckForMemLeaks()&&hn.checkKernelForMemLeak(an,mo,fo);var Uo=fo.map(function(n0){var i0=n0.dataId,a0=n0.shape,s0=n0.dtype;return hn.makeTensorFromDataId(i0,a0,s0)}),t0=Uo.filter(function(n0,i0){return ln[i0]});return uo((un||[]).slice().concat(t0)),Uo}:function(){var mo=hn.backend.numDataIds();e0=hn.tidy(function(){return Mt(hn.backend,uo)});var fo=Array.isArray(e0)?e0:[e0];return hn.shouldCheckForMemLeaks()&&hn.checkKernelForMemLeak(an,mo,fo),fo},this.scopedRun(function(){return hn.state.kernelDepth++},function(){return hn.state.kernelDepth--},function(){cn=hn.ENV.getBool("DEBUG")?hn.profiler.profileKernel(an,nn,function(){return Xr()}):Xr()}),to&&this.addTapeNode(an,nn,cn,rn,fn),this.state.profiling&&this.state.activeProfile.kernels.push({name:an,bytesAdded:this.state.numBytes-co,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-ho,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(nn).map(function(mo){return nn[mo].shape}),outputShapes:cn.map(function(mo){return mo.shape})}),Array.isArray(e0)?cn:cn[0]},st.prototype.makeTensor=function(Mt,nn,rn,an){if(Mt==null)throw new Error("Values passed to engine.makeTensor() are null");rn=rn||"float32",an=an||this.backend;var sn=Mt;rn==="string"&&H(Mt[0])&&(sn=Mt.map(function(fn){return rt(fn)}));var un=an.write(sn,nn,rn),ln=new wt(nn,rn,un,this.nextTensorId());if(this.incRef(ln,an),rn==="string"){var cn=this.state.tensorInfo.get(un),hn=G(sn);this.state.numBytes+=hn-cn.bytes,cn.bytes=hn}return ln},st.prototype.makeTensorFromDataId=function(Mt,nn,rn,an){var sn=new wt(nn,rn=rn||"float32",Mt,this.nextTensorId());return this.incRef(sn,an),sn},st.prototype.makeVariable=function(Mt,nn,rn,an){nn===void 0&&(nn=!0),rn=rn||this.nextVariableId().toString(),an!=null&&an!==Mt.dtype&&(Mt=Mt.asType(an));var sn=new St(Mt,nn,rn,this.nextTensorId());if(this.state.registeredVariables[sn.name]!=null)throw new Error("Variable with name "+sn.name+" was already registered");return this.state.registeredVariables[sn.name]=sn,this.incRef(sn,this.backend),sn},st.prototype.incRef=function(Mt,nn){var rn=this.state.tensorInfo.has(Mt.dataId)?this.state.tensorInfo.get(Mt.dataId).refCount:0;if(this.state.numTensors++,Mt.dtype==="string"&&this.state.numStringTensors++,rn===0){this.state.numDataBuffers++;var an=0;Mt.dtype!=="complex64"&&Mt.dtype!=="string"&&(an=Mt.size*z(Mt.dtype)),this.state.tensorInfo.set(Mt.dataId,{backend:nn||this.backend,dtype:Mt.dtype,shape:Mt.shape,bytes:an,refCount:0}),this.state.numBytes+=an}this.state.tensorInfo.get(Mt.dataId).refCount++,Mt instanceof St||this.track(Mt)},st.prototype.disposeTensor=function(Mt){if(this.state.tensorInfo.has(Mt.dataId)){this.state.numTensors--,Mt.dtype==="string"&&this.state.numStringTensors--;var nn=this.state.tensorInfo.get(Mt.dataId);nn.refCount<=1?(Mt.dtype!=="complex64"&&(this.state.numBytes-=nn.bytes),this.state.numDataBuffers--,nn.backend.disposeData(Mt.dataId),this.state.tensorInfo.delete(Mt.dataId)):this.state.tensorInfo.get(Mt.dataId).refCount--}},st.prototype.disposeVariables=function(){for(var Mt in this.state.registeredVariables){var nn=this.state.registeredVariables[Mt];this.disposeVariable(nn)}},st.prototype.disposeVariable=function(Mt){this.disposeTensor(Mt),this.state.registeredVariables[Mt.name]!=null&&delete this.state.registeredVariables[Mt.name]},st.prototype.memory=function(){var Mt=this.backend.memory();return Mt.numTensors=this.state.numTensors,Mt.numDataBuffers=this.state.numDataBuffers,Mt.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(Mt.unreliable=!0,Mt.reasons==null&&(Mt.reasons=[]),Mt.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),Mt},st.prototype.profile=function(Mt){return n(this,void 0,void 0,function(){var nn,rn;return r(this,function(an){return this.state.profiling=!0,nn=this.state.numBytes,rn=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=Mt(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(sn){return sn.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-nn,this.state.activeProfile.newTensors=this.state.numTensors-rn,[2,this.state.activeProfile]})})},st.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},st.prototype.addTapeNode=function(Mt,nn,rn,an,sn){var un=this,ln={id:this.state.nextTapeNodeId++,kernelName:Mt,inputs:nn,outputs:rn,saved:sn},cn=h$1(Mt);cn!=null&&(an=cn.gradFunc),an!=null&&(ln.gradient=function(hn){return hn=hn.map(function(fn,to){if(fn==null){var Xr=rn[to],uo=tt(Xr.size,Xr.dtype);return un.makeTensor(uo,Xr.shape,Xr.dtype)}return fn}),an(hn.length>1?hn:hn[0],sn)}),this.state.activeTape.push(ln)},st.prototype.keep=function(Mt){return Mt.kept=!0,Mt},st.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},st.prototype.endTape=function(){this.state.gradientDepth--},st.prototype.startScope=function(Mt){var nn={track:[],name:"unnamed scope",id:this.state.nextScopeId++};Mt&&(nn.name=Mt),this.state.scopeStack.push(nn),this.state.activeScope=nn},st.prototype.endScope=function(Mt){for(var nn=this,rn=_t(Mt),an=new Set(rn.map(function(cn){return cn.id})),sn=0;sn<this.state.activeScope.track.length;sn++){var un=this.state.activeScope.track[sn];un.kept||an.has(un.id)||un.dispose()}var ln=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],rn.forEach(function(cn){cn.kept||cn.scopeId!==ln.id||nn.track(cn)})},st.prototype.gradients=function(Mt,nn,rn,an){var sn=this;if(an===void 0&&(an=!1),C(nn.length>0,function(){return"gradients() received an empty list of xs."}),rn!=null&&rn.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+rn.dtype+"'");var un=this.scopedRun(function(){return sn.startTape()},function(){return sn.endTape()},function(){return sn.tidy("forward",Mt)});C(un instanceof wt,function(){return"The result y returned by f() must be a tensor."});var ln=function(cn,hn,fn){for(var to={},Xr={},uo=0;uo<hn.length;uo++)to[hn[uo].id]=!0;for(uo=0;uo<cn.length;uo++){var co=(n0=cn[uo]).inputs;for(var ho in co){for(var e0=co[ho],lo=!1,mo=0;mo<hn.length;mo++)if(to[e0.id]){n0.outputs.forEach(function(l0){return to[l0.id]=!0}),lo=!0,Xr[n0.id]=!0;break}if(lo)break}}var fo={};fo[fn.id]=!0;var Uo={};for(uo=cn.length-1;uo>=0;uo--)for(co=(n0=cn[uo]).inputs,mo=0;mo<n0.outputs.length;mo++)if(fo[n0.outputs[mo].id]){for(var ho in co)fo[co[ho].id]=!0,Uo[n0.id]=!0;break}var t0=[];for(uo=0;uo<cn.length;uo++){var n0;if(Xr[(n0=cn[uo]).id]&&Uo[n0.id]){var i0={};for(var ho in n0.inputs){var a0=n0.inputs[ho];to[a0.id]&&(i0[ho]=a0)}var s0=Object.assign({},n0);s0.inputs=i0,s0.outputs=n0.outputs,t0.push(s0)}}return t0}(this.state.activeTape,nn,un);if(!an&&ln.length===0&&nn.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var cn,hn,fn={};fn[un.id]=rn??(cn=un.shape,hn=Z(k(cn),"float32"),Lt.makeTensor(hn,cn,"float32")),function(Xr,uo,co){for(var ho=function(lo){var mo=uo[lo],fo=[];if(mo.outputs.forEach(function(i0){var a0=Xr[i0.id];a0!=null?fo.push(a0):fo.push(null)}),mo.gradient==null)throw new Error("Cannot compute gradient: gradient function not found for "+mo.kernelName+".");var Uo=mo.gradient(fo),t0=function(i0){if(!(i0 in Uo))throw new Error("Cannot backprop through input "+i0+". Available gradients found: "+Object.keys(Uo)+".");var a0=co(function(){return Uo[i0]()});if(a0.dtype!=="float32")throw new Error("Error in gradient for op "+mo.kernelName+". The gradient of input "+i0+" must have 'float32' dtype, but has '"+a0.dtype+"'");var s0=mo.inputs[i0];if(!S(a0.shape,s0.shape))throw new Error("Error in gradient for op "+mo.kernelName+". The gradient of input '"+i0+"' has shape '"+a0.shape+"', which does not match the shape of the input '"+s0.shape+"'");if(Xr[s0.id]==null)Xr[s0.id]=a0;else{var l0=Xr[s0.id];Xr[s0.id]=l0.add(a0),l0.dispose()}};for(var n0 in mo.inputs)t0(n0)},e0=uo.length-1;e0>=0;e0--)ho(e0)}(fn,ln,function(Xr){return sn.tidy(Xr)});var to=nn.map(function(Xr){return fn[Xr.id]});return sn.state.gradientDepth===0&&(sn.state.activeTape.forEach(function(Xr){for(var uo=0,co=Xr.saved;uo<co.length;uo++)co[uo].dispose()}),sn.state.activeTape=null),{value:un,grads:to}})},st.prototype.customGrad=function(Mt){var nn=this;return C(X(Mt),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var rn,an=[],sn=0;sn<arguments.length;sn++)an[sn]=arguments[sn];C(an.every(function(ln){return ln instanceof wt}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var un={};return an.forEach(function(ln,cn){un[cn]=ln}),nn.runKernelFunc(function(ln,cn){return C((rn=Mt.apply(void 0,an.concat([cn]))).value instanceof wt,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),C(X(rn.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),rn.value},un,function(ln,cn){var hn=rn.gradFunc(ln,cn),fn=Array.isArray(hn)?hn:[hn];C(fn.length===an.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),C(fn.every(function(Xr){return Xr instanceof wt}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var to={};return fn.forEach(function(Xr,uo){to[uo]=function(){return Xr}}),to})}},st.prototype.readSync=function(Mt){return this.state.tensorInfo.get(Mt).backend.readSync(Mt)},st.prototype.read=function(Mt){return this.state.tensorInfo.get(Mt).backend.read(Mt)},st.prototype.time=function(Mt){return n(this,void 0,void 0,function(){var nn,rn;return r(this,function(an){switch(an.label){case 0:return nn=et(),[4,this.backend.time(Mt)];case 1:return(rn=an.sent()).wallMs=et()-nn,[2,rn]}})})},st.prototype.track=function(Mt){return this.state.activeScope!=null&&(Mt.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(Mt)),Mt},Object.defineProperty(st.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),st.prototype.reset=function(){for(var Mt in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Bt,this.registry)this.disposeRegisteredKernels(Mt),this.registry[Mt].dispose(),delete this.registry[Mt];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},st.nextTensorId=0,st.nextVariableId=0,st}(),Lt=function(){var st=function(){if(Ot==null){var nn=void 0;if(typeof window<"u")nn=window;else if(typeof global<"u")nn=global;else if(typeof process<"u")nn=process;else{if(typeof self>"u")throw new Error("Could not find a global object");nn=self}Ot=nn}return Ot}();if(st._tfengine==null){var Mt=new o(st);st._tfengine=new Pt(Mt)}return function(nn){s=nn}(st._tfengine.ENV),yt=function(){return st._tfengine},st._tfengine}();function Wt(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var Ut=i$1();Ut.registerFlag("DEBUG",function(){return!1},function(st){st&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),Ut.registerFlag("IS_BROWSER",function(){return Wt()}),Ut.registerFlag("IS_NODE",function(){return typeof process<"u"&&process.versions!==void 0&&process.versions.node!==void 0}),Ut.registerFlag("IS_CHROME",function(){return typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),Ut.registerFlag("PROD",function(){return!1}),Ut.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return Ut.getBool("DEBUG")}),Ut.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),Ut.registerFlag("IS_TEST",function(){return!1});var Vt,zt,Gt,Ht={},qt={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Kt(st,Mt){Ht[st]=Mt}function jt(st){st in Ht||(Ht[st]=function(nn){if(nn!==1&&nn!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var rn=function(an){if(typeof OffscreenCanvas<"u"&&an===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(nn);return rn.addEventListener("webglcontextlost",function(an){an.preventDefault(),delete Ht[nn]},!1),nn===1?rn.getContext("webgl",qt)||rn.getContext("experimental-webgl",qt):rn.getContext("webgl2",qt)}(st));var Mt=Ht[st];return Mt.isContextLost()?(delete Ht[st],jt(st)):(Mt.disable(Mt.DEPTH_TEST),Mt.disable(Mt.STENCIL_TEST),Mt.disable(Mt.BLEND),Mt.disable(Mt.DITHER),Mt.disable(Mt.POLYGON_OFFSET_FILL),Mt.disable(Mt.SAMPLE_COVERAGE),Mt.enable(Mt.SCISSOR_TEST),Mt.enable(Mt.CULL_FACE),Mt.cullFace(Mt.BACK),Ht[st])}function Xt(st,Mt){return[Mt,st]}function Yt(st){var Mt=k(st);return T(Math.ceil(Mt/4))}function $t(st,Mt){return[Math.max(1,Math.ceil(Mt/2)),Math.max(1,Math.ceil(st/2))]}function Qt(st,Mt){var nn,rn,an,sn,un,ln,cn,hn,fn,to=st;return i$1().getNumber("WEBGL_VERSION")===2?(nn=to.R32F,rn=to.R16F,an=to.RGBA16F,sn=to.RGBA32F,un=to.RED,ln=4,cn=1,hn=to.HALF_FLOAT,fn=to.FLOAT):(nn=st.RGBA,rn=st.RGBA,an=st.RGBA,sn=to.RGBA,un=st.RGBA,ln=4,cn=4,hn=Mt!=null?Mt.HALF_FLOAT_OES:null,fn=st.FLOAT),{internalFormatFloat:nn,internalFormatHalfFloat:rn,internalFormatPackedHalfFloat:an,internalFormatPackedFloat:sn,textureFormatFloat:un,downloadTextureFormat:st.RGBA,downloadUnpackNumChannels:ln,defaultNumChannels:cn,textureTypeHalfFloat:hn,textureTypeFloat:fn}}function Jt(st,Mt,nn){var rn=nn();return Mt&&function(an){var sn=an.getError();if(sn!==an.NO_ERROR)throw new Error("WebGL Error: "+ne(an,sn))}(st),rn}(function(st){st[st.DENSE=0]="DENSE",st[st.SHARED_BATCH=1]="SHARED_BATCH"})(Vt||(Vt={})),function(st){st[st.RENDER=0]="RENDER",st[st.UPLOAD=1]="UPLOAD",st[st.PIXELS=2]="PIXELS",st[st.DOWNLOAD=3]="DOWNLOAD"}(zt||(zt={})),function(st){st[st.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",st[st.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",st[st.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",st[st.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",st[st.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Gt||(Gt={}));var Zt=596e-10,te=65504;function ee(st){return!!(i$1().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||st===0||Zt<Math.abs(st)&&Math.abs(st)<te)}function ne(st,Mt){switch(Mt){case st.NO_ERROR:return"NO_ERROR";case st.INVALID_ENUM:return"INVALID_ENUM";case st.INVALID_VALUE:return"INVALID_VALUE";case st.INVALID_OPERATION:return"INVALID_OPERATION";case st.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case st.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case st.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+Mt}}function re$1(st,Mt,nn){return ke(st,Mt,function(){return st.getExtension(nn)},'Extension "'+nn+'" not supported on this browser.')}function oe(st,Mt,nn){var rn=ke(st,Mt,function(){return st.createShader(st.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(Jt(st,Mt,function(){return st.shaderSource(rn,nn)}),Jt(st,Mt,function(){return st.compileShader(rn)}),st.getShaderParameter(rn,st.COMPILE_STATUS)===!1)throw console.log(st.getShaderInfoLog(rn)),new Error("Failed to compile vertex shader.");return rn}function ae(st,Mt,nn){var rn=ke(st,Mt,function(){return st.createShader(st.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(Jt(st,Mt,function(){return st.shaderSource(rn,nn)}),Jt(st,Mt,function(){return st.compileShader(rn)}),st.getShaderParameter(rn,st.COMPILE_STATUS)===!1)throw function(an,sn){var un=ue.exec(sn);if(un==null)return console.log("Couldn't parse line number in error: "+sn),void console.log(an);for(var ln=+un[1],cn=an.split(`
`),hn=cn.length.toString().length+2,fn=cn.map(function(e0,lo){return N((lo+1).toString(),hn)+e0}),to=0,Xr=0;Xr<fn.length;Xr++)to=Math.max(fn[Xr].length,to);var uo=fn.slice(0,ln-1),co=fn.slice(ln-1,ln),ho=fn.slice(ln);console.log(uo.join(`
`)),console.log(sn.split(`
`)[0]),console.log("%c "+N(co[0],to),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(ho.join(`
`))}(nn,st.getShaderInfoLog(rn)),new Error("Failed to compile fragment shader.");return rn}var ie,se,ue=/ERROR: [0-9]+:([0-9]+):/g;function ce(st,Mt){return ke(st,Mt,function(){return st.createProgram()},"Unable to create WebGLProgram.")}function le(st,Mt,nn){if(Jt(st,Mt,function(){return st.linkProgram(nn)}),st.getProgramParameter(nn,st.LINK_STATUS)===!1)throw console.log(st.getProgramInfoLog(nn)),new Error("Failed to link vertex and fragment shaders.")}function he(st,Mt,nn){if(Jt(st,Mt,function(){return st.validateProgram(nn)}),st.getProgramParameter(nn,st.VALIDATE_STATUS)===!1)throw console.log(st.getProgramInfoLog(nn)),new Error("Shader program validation failed.")}function fe(st,Mt,nn){var rn=ke(st,Mt,function(){return st.createBuffer()},"Unable to create WebGLBuffer");return Jt(st,Mt,function(){return st.bindBuffer(st.ARRAY_BUFFER,rn)}),Jt(st,Mt,function(){return st.bufferData(st.ARRAY_BUFFER,nn,st.STATIC_DRAW)}),rn}function de(st,Mt,nn){var rn=ke(st,Mt,function(){return st.createBuffer()},"Unable to create WebGLBuffer");return Jt(st,Mt,function(){return st.bindBuffer(st.ELEMENT_ARRAY_BUFFER,rn)}),Jt(st,Mt,function(){return st.bufferData(st.ELEMENT_ARRAY_BUFFER,nn,st.STATIC_DRAW)}),rn}function pe(st,Mt){return ke(st,Mt,function(){return st.createTexture()},"Unable to create WebGLTexture.")}function ve(st,Mt){var nn=i$1().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(st<=0||Mt<=0){var rn="["+st+"x"+Mt+"]";throw new Error("Requested texture size "+rn+" is invalid.")}if(st>nn||Mt>nn)throw rn="["+st+"x"+Mt+"]",new Error("Requested texture size "+rn+" greater than WebGL maximum on this browser / GPU "+("["+nn+"x"+nn+"]")+".")}function me(st,Mt){return ke(st,Mt,function(){return st.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function ge(st,Mt,nn,rn,an,sn,un,ln){var cn=st.getAttribLocation(nn,rn);return cn!==-1&&(Jt(st,Mt,function(){return st.bindBuffer(st.ARRAY_BUFFER,an)}),Jt(st,Mt,function(){return st.vertexAttribPointer(cn,sn,st.FLOAT,!1,un,ln)}),Jt(st,Mt,function(){return st.enableVertexAttribArray(cn)}),!0)}function ye(st,Mt,nn,rn){Se(st,rn),Jt(st,Mt,function(){return st.activeTexture(st.TEXTURE0+rn)}),Jt(st,Mt,function(){return st.bindTexture(st.TEXTURE_2D,nn)})}function xe(st,Mt,nn,rn){return ke(st,Mt,function(){return st.getUniformLocation(nn,rn)},'uniform "'+rn+'" not present in program.')}function be(st,Mt,nn){return st.getUniformLocation(Mt,nn)}function we(st,Mt,nn,rn,an,sn){Jt(st,Mt,function(){return ye(st,Mt,rn,sn)}),Jt(st,Mt,function(){return st.uniform1i(an,sn)})}function Ce(st,Mt,nn,rn){Jt(st,Mt,function(){return st.bindFramebuffer(st.FRAMEBUFFER,rn)}),Jt(st,Mt,function(){return st.framebufferTexture2D(st.FRAMEBUFFER,st.COLOR_ATTACHMENT0,st.TEXTURE_2D,nn,0)})}function Ee(st,Mt,nn){Jt(st,Mt,function(){return st.bindFramebuffer(st.FRAMEBUFFER,nn)}),Jt(st,Mt,function(){return st.framebufferTexture2D(st.FRAMEBUFFER,st.COLOR_ATTACHMENT0,st.TEXTURE_2D,null,0)})}function Re(st){var Mt=st.checkFramebufferStatus(st.FRAMEBUFFER);if(Mt!==st.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+Ie(st,Mt))}function Ie(st,Mt){switch(Mt){case st.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case st.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case st.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case st.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+Mt}}function ke(st,Mt,nn,rn){var an=Jt(st,Mt,function(){return nn()});if(an==null)throw new Error(rn);return an}function Se(st,Mt){var nn=st.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,rn=Mt+st.TEXTURE0;if(rn<st.TEXTURE0||rn>nn)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+nn+"]")+".")}function Ae(st,Mt){return Mt===void 0&&(Mt=2),k(st.slice(0,st.length-Mt))}function De(st){if(st.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[st.length>1?st[st.length-2]:1,st[st.length-1]]}function Te(st){var Mt=[1,1,1];return st.length===0||st.length===1&&st[0]===1||(Mt=[Ae(st)].concat(De(st))),Mt}function Ne(st,Mt){var nn;Mt===void 0&&(Mt=!1);var rn=i$1().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(Mt&&(rn*=2,(st=st.map(function(hn,fn){return fn>=st.length-2?b(st[fn]):st[fn]})).length===1&&(st=[2,st[0]])),st.length!==2){var an=M(st);st=an.newShape}var sn=k(st);if(st.length<=1&&sn<=rn)return[1,sn];if(st.length===2&&st[0]<=rn&&st[1]<=rn)return st;if(st.length===3&&st[0]*st[1]<=rn&&st[2]<=rn)return[st[0]*st[1],st[2]];if(st.length===3&&st[0]<=rn&&st[1]*st[2]<=rn)return[st[0],st[1]*st[2]];if(st.length===4&&st[0]*st[1]*st[2]<=rn&&st[3]<=rn)return[st[0]*st[1]*st[2],st[3]];if(st.length===4&&st[0]<=rn&&st[1]*st[2]*st[3]<=rn)return[st[0],st[1]*st[2]*st[3]];if(Mt){var un=Ae(st),ln=2,cn=2;return st.length&&(ln=(nn=De(st))[0],cn=nn[1]),T(sn=un*(ln/2)*(cn/2)).map(function(hn){return 2*hn})}return T(sn)}function Fe(st){return st%2==0}function _e(st,Mt){if(S(st=st.slice(-2),Mt=Mt.slice(-2))||!st.length||!Mt.length||st[0]===0||st[1]===0||Mt[0]===0||Mt[1]===0)return!0;if(st.length!==Mt.length){var nn=st.slice(-1)[0],rn=Mt.slice(-1)[0];if(nn===rn||Fe(nn)&&Fe(rn)&&(st[0]===1||Mt[0]===1))return!0}return st[1]===Mt[1]&&Fe(st[0])&&Fe(Mt[0])}function Oe(st){if(ie==null){var Mt=jt(st);ie=Mt.getParameter(Mt.MAX_TEXTURE_SIZE)}return ie}function Me(st){if(se==null){var Mt=jt(st);se=Mt.getParameter(Mt.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,se)}function Be(st){if(st===0)return 0;var Mt=jt(st);return Pe(Mt,"EXT_disjoint_timer_query_webgl2")&&st===2?2:Pe(Mt,"EXT_disjoint_timer_query")?1:0}function Pe(st,Mt){return st.getExtension(Mt)!=null}function Le(st){try{if(jt(st)!=null)return!0}catch{return!1}return!1}function We(st){if(st===0)return!1;var Mt=jt(st);if(st===1){if(!Pe(Mt,"OES_texture_float"))return!1}else if(!Pe(Mt,"EXT_color_buffer_float"))return!1;return Ve(Mt)}function Ue(st){if(st===0)return!1;var Mt=jt(st);if(st!==1){if(Pe(Mt,"EXT_color_buffer_float"))return Ve(Mt);if(Pe(Mt,"EXT_color_buffer_half_float")){var nn=Mt.getExtension("EXT_color_buffer_half_float");return function(rn,an){var sn=Qt(rn,an),un=rn.createTexture();rn.bindTexture(rn.TEXTURE_2D,un),rn.texImage2D(rn.TEXTURE_2D,0,sn.internalFormatHalfFloat,1,1,0,sn.textureFormatFloat,sn.textureTypeHalfFloat,null);var ln=rn.createFramebuffer();rn.bindFramebuffer(rn.FRAMEBUFFER,ln),rn.framebufferTexture2D(rn.FRAMEBUFFER,rn.COLOR_ATTACHMENT0,rn.TEXTURE_2D,un,0);var cn=rn.checkFramebufferStatus(rn.FRAMEBUFFER)===rn.FRAMEBUFFER_COMPLETE;return rn.bindTexture(rn.TEXTURE_2D,null),rn.bindFramebuffer(rn.FRAMEBUFFER,null),rn.deleteTexture(un),rn.deleteFramebuffer(ln),cn}(Mt,nn)}return!1}return!!Pe(Mt,"OES_texture_float")&&!!Pe(Mt,"WEBGL_color_buffer_float")&&Ve(Mt)}function Ve(st){var Mt=Qt(st),nn=st.createTexture();st.bindTexture(st.TEXTURE_2D,nn),st.texImage2D(st.TEXTURE_2D,0,Mt.internalFormatFloat,1,1,0,Mt.textureFormatFloat,Mt.textureTypeFloat,null);var rn=st.createFramebuffer();st.bindFramebuffer(st.FRAMEBUFFER,rn),st.framebufferTexture2D(st.FRAMEBUFFER,st.COLOR_ATTACHMENT0,st.TEXTURE_2D,nn,0);var an=st.checkFramebufferStatus(st.FRAMEBUFFER)===st.FRAMEBUFFER_COMPLETE;return st.bindTexture(st.TEXTURE_2D,null),st.bindFramebuffer(st.FRAMEBUFFER,null),st.deleteTexture(nn),st.deleteFramebuffer(rn),an}function ze(st){return st===2&&jt(st).fenceSync!=null}var He=i$1();function Xe(st){i$1().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(st+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Ze(st,Mt){return Lt.tidy(st,Mt)}function tn(st){_t(st).forEach(function(Mt){return Mt.dispose()})}function en(st){return Lt.keep(st)}function dn(){for(var st=[],Mt=0;Mt<arguments.length;Mt++)st[Mt]=arguments[Mt];i$1().getBool("IS_TEST")||console.warn.apply(console,st)}function pn(st,Mt){var nn=st;if(V(st))return Mt==="string"?[]:[st.length];if(!Array.isArray(st))return[];for(var rn=[];Array.isArray(nn)||V(nn)&&Mt!=="string";)rn.push(nn.length),nn=nn[0];return Array.isArray(st)&&i$1().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function an(sn,un,ln){if(ln=ln||[],!Array.isArray(sn)&&!V(sn))return void C(un.length===0,function(){return"Element arr["+ln.join("][")+"] is a primitive, but should be an array/TypedArray of "+un[0]+" elements"});C(un.length>0,function(){return"Element arr["+ln.join("][")+"] should be a primitive, but is an array of "+sn.length+" elements"}),C(sn.length===un[0],function(){return"Element arr["+ln.join("][")+"] should have "+un[0]+" elements, but has "+sn.length+" elements"});for(var cn=un.slice(1),hn=0;hn<sn.length;++hn)an(sn[hn],cn,ln.concat(hn))}(st,rn,[]),rn}function vn(st,Mt,nn,rn){if(st!=null&&(st!=="numeric"&&st!==Mt||st==="numeric"&&Mt==="string"))throw new Error("Argument '"+nn+"' passed to '"+rn+"' must be "+st+" tensor, but got "+Mt+" tensor")}function mn(st,Mt,nn,rn){if(rn===void 0&&(rn="numeric"),st instanceof wt)return vn(rn,st.dtype,Mt,nn),st;var an=j(st);if(an!=="string"&&["bool","int32","float32"].indexOf(rn)>=0&&(an=rn),vn(rn,an,Mt,nn),st==null||!V(st)&&!Array.isArray(st)&&typeof st!="number"&&typeof st!="boolean"&&typeof st!="string"){var sn=st==null?"null":st.constructor.name;throw new Error("Argument '"+Mt+"' passed to '"+nn+"' must be a Tensor or TensorLike, but got '"+sn+"'")}var un=pn(st,an);V(st)||Array.isArray(st)||(st=[st]);var ln=an!=="string"?Q(st,an,i$1().getBool("DEBUG")):I(st,[],!0);return Lt.makeTensor(ln,un,an)}function gn(st,Mt,nn,rn){if(rn===void 0&&(rn="numeric"),!Array.isArray(st))throw new Error("Argument "+Mt+" passed to "+nn+" must be a `Tensor[]` or `TensorLike[]`");return st.map(function(an,sn){return mn(an,Mt+"["+sn+"]",nn)},rn)}function yn(st,Mt){for(var nn=0;nn<st.length;++nn)if(st[st.length-nn-1]!==Mt-1-nn)return!1;return!0}function xn(st,Mt,nn){for(var rn=st.length+Mt.length,an=[],sn=0,un=0,ln=0;ln<rn;ln++)nn.indexOf(ln)===-1?an.push(st[sn++]):an.push(Mt[un++]);return an}function bn(st,Mt){for(var nn=[],rn=st.length,an=0;an<rn;an++)Mt.indexOf(an)===-1&&nn.push(st[an]);return[nn,Mt.map(function(sn){return st[sn]})]}function wn(st,Mt){return xn(st,Mt.map(function(nn){return 1}),Mt)}function Cn(st,Mt,nn){C(yn(Mt,nn),function(){return st+" supports only inner-most axes for now. Got axes "+Mt+" and rank-"+nn+" input."})}function En(st,Mt){if(yn(st,Mt))return null;for(var nn=[],rn=0;rn<Mt;++rn)st.indexOf(rn)===-1&&nn.push(rn);return st.forEach(function(an){return nn.push(an)}),nn}function Rn(st){return st.map(function(Mt,nn){return[nn,Mt]}).sort(function(Mt,nn){return Mt[1]-nn[1]}).map(function(Mt){return Mt[0]})}function In(st,Mt){for(var nn=[],rn=Mt-st;rn<Mt;++rn)nn.push(rn);return nn}function kn(st,Mt){var nn=st[0].length;st.forEach(function(an,sn){C(an.length===nn,function(){return"Error in concat"+nn+"D: rank of tensors["+sn+"] must be the same as the rank of the rest ("+nn+")"})}),C(Mt>=0&&Mt<nn,function(){return"Error in concat"+nn+"D: axis must be between 0 and "+(nn-1)+"."});var rn=st[0];st.forEach(function(an,sn){for(var un=0;un<nn;un++)C(un===Mt||an[un]===rn[un],function(){return"Error in concat"+nn+"D: Shape of tensors["+sn+"] ("+an+") does not match the shape of the rest ("+rn+") along the non-concatenated axis "+sn+"."})})}function Sn(st,Mt){for(var nn=st[0].slice(),rn=1;rn<st.length;rn++)nn[Mt]+=st[rn][Mt];return nn}function An(st){var Mt=Object.keys(st);if(Mt.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+Mt.length+" keys.");var nn=Mt[0],rn=st[nn];nn.endsWith("_")&&(nn=nn.substring(0,nn.length-1));var an=function(){for(var sn=[],un=0;un<arguments.length;un++)sn[un]=arguments[un];Lt.startScope(nn);try{var ln=rn.apply(void 0,sn);return ln instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Lt.endScope(ln),ln}catch(cn){throw Lt.endScope(null),cn}};return Object.defineProperty(an,"name",{value:nn,configurable:!0}),an}He.registerFlag("HAS_WEBGL",function(){return He.getNumber("WEBGL_VERSION")>0}),He.registerFlag("WEBGL_VERSION",function(){return Le(2)?2:Le(1)?1:0}),He.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return He.get("WEBGL_VERSION")===2}),He.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),He.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),He.registerFlag("WEBGL_PACK",function(){return He.getBool("HAS_WEBGL")}),He.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_PACK_CLIP",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),He.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_PACK_REDUCE",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_LAZILY_UNPACK",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_CONV_IM2COL",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return Oe(He.getNumber("WEBGL_VERSION"))}),He.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return Me(He.getNumber("WEBGL_VERSION"))}),He.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var st=He.getNumber("WEBGL_VERSION");return st===0?0:Be(st)}),He.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return He.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(st=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(st)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(st.substr(0,4))));var st}),He.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return We(He.getNumber("WEBGL_VERSION"))}),He.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!He.getBool("WEBGL_FORCE_F16_TEXTURES")&&He.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),He.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return Ue(He.getNumber("WEBGL_VERSION"))}),He.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return ze(He.getNumber("WEBGL_VERSION"))}),He.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return He.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),bt=Xe;var Dn=An({complex_:function(st,Mt){var nn=mn(st,"real","complex"),rn=mn(Mt,"imag","complex");return E(nn.shape,rn.shape,"real and imag shapes, "+nn.shape+" and "+rn.shape+", must match in call to tf.complex()."),Lt.runKernelFunc(function(an){return an.complex(nn,rn)},{$real:nn,$imag:rn})}}),Tn=An({real_:function(st){var Mt=mn(st,"input","real");return Lt.runKernelFunc(function(nn){return nn.real(Mt)},{$input:Mt})}}),Nn=An({imag_:function(st){var Mt=mn(st,"input","imag");return Lt.runKernelFunc(function(nn){return nn.imag(Mt)},{$input:Mt})}});function Fn(st,Mt,nn){return _n(st,Mt,pn(st,nn),nn)}function _n(st,Mt,nn,rn){if(rn==null&&(rn=j(st)),rn==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!V(st)&&!Array.isArray(st)&&typeof st!="number"&&typeof st!="boolean"&&typeof st!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(Mt!=null){nt(Mt);var an=k(Mt),sn=k(nn);C(an===sn,function(){return"Based on the provided shape, ["+Mt+"], the tensor should have "+an+" values but has "+sn});for(var un=0;un<nn.length;++un){var ln=nn[un],cn=un!==nn.length-1||ln!==k(Mt.slice(un));C(nn[un]===Mt[un]||!cn,function(){return"Error creating a new Tensor. Inferred shape ("+nn+") does not match the provided shape ("+Mt+"). "})}}return V(st)||Array.isArray(st)||(st=[st]),Mt=Mt||nn,st=rn!=="string"?Q(st,rn,i$1().getBool("DEBUG")):I(st,[],!0),Lt.makeTensor(st,Mt,rn)}function On(st,Mt){if((V(st)&&Mt!=="string"||Array.isArray(st))&&Mt!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(Mt==="string"&&V(st)&&!(st instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return _n(st,[],[],Mt)}function Mn(st,Mt){R(st);var nn=pn(st,Mt);if(nn.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return _n(st,null,nn,Mt)}function Bn(st,Mt,nn){if(R(st),Mt!=null&&Mt.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var rn=pn(st,nn);if(rn.length!==2&&rn.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(rn.length===1&&Mt==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return _n(st,Mt,rn,nn)}function Pn(st,Mt,nn){if(R(st),Mt!=null&&Mt.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var rn=pn(st,nn);if(rn.length!==3&&rn.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(rn.length===1&&Mt==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return _n(st,Mt,rn,nn)}function Ln(st,Mt,nn){if(R(st),Mt!=null&&Mt.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var rn=pn(st,nn);if(rn.length!==4&&rn.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(rn.length===1&&Mt==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return _n(st,Mt,rn,nn)}function Wn(st,Mt,nn){if(R(st),Mt!=null&&Mt.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var rn=pn(st,nn);if(rn.length!==5&&rn.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(rn.length===1&&Mt==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return _n(st,Mt,rn,nn)}function Un(st,Mt,nn){if(R(st),Mt!=null&&Mt.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var rn=pn(st,nn);if(rn.length!==6&&rn.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(rn.length===1&&Mt==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return _n(st,Mt=Mt||rn,rn,nn)}function Vn(st,Mt,nn,rn){return Mt===void 0&&(Mt=!0),Lt.makeVariable(st,Mt,nn,rn)}function zn(st,Mt){if(Mt===void 0&&(Mt="float32"),Mt==="complex64"){var nn=zn(st,"float32"),rn=Gn(st,"float32");return Dn(nn,rn)}var an=Z(k(st),Mt);return Lt.makeTensor(an,st,Mt)}function Gn(st,Mt){if(Mt===void 0&&(Mt="float32"),Mt==="complex64"){var nn=Gn(st,"float32"),rn=Gn(st,"float32");return Dn(nn,rn)}var an=tt(k(st),Mt);return Lt.makeTensor(an,st,Mt)}function Hn(st,Mt,nn){return Lt.runKernelFunc(function(rn){return rn.fill(st,Mt,nn)},{})}function qn(st,Mt,nn){if(nn<=0)throw new Error("The number of values should be positive.");return Lt.runKernelFunc(function(rn){return rn.linspace(st,Mt,nn)},{})}function Kn(st,Mt,nn,rn){if(nn===void 0&&(nn=1),rn===void 0&&(rn="float32"),nn===0)throw new Error("Cannot have a step of zero");if(st===Mt||st<Mt&&nn<0||Mt<st&&nn>1)return Gn([0],rn);var an=tt(Math.abs(Math.ceil((Mt-st)/nn)),rn);Mt<st&&nn===1&&(nn=-1),an[0]=st;for(var sn=1;sn<an.length;sn++)an[sn]=an[sn-1]+nn;return Mn(an,rn)}var jn=An({onesLike_:function(st){var Mt=mn(st,"x","onesLike");if(Mt.dtype==="complex64"){var nn=jn(Tn(Mt)),rn=Xn(Nn(Mt));return Dn(nn,rn)}return Lt.runKernelFunc(function(an){return an.onesLike(Mt)},{$x:Mt},function(an,sn){return{$x:function(){return Xn(an)}}})}}),Xn=An({zerosLike_:function(st){var Mt=mn(st,"x","zerosLike");return Lt.runKernelFunc(function(nn){return nn.zerosLike(Mt)},{$x:Mt},function(nn,rn){return{$x:function(){return Xn(nn)}}})}}),Yn=An({concat_:function(st,Mt){Mt===void 0&&(Mt=0),C(st.length>=1,function(){return"Pass at least one tensor to concat"});var nn=gn(st,"tensors","concat");nn[0].dtype==="complex64"&&nn.forEach(function(ln){if(ln.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+ln.dtype+". ")}),Mt=O(Mt,nn[0].shape)[0];var rn=Sn(nn.map(function(ln){return ln.shape}),Mt);if(k(rn)===0)return Fn([],rn);if((nn=nn.filter(function(ln){return ln.size>0})).length===1)return nn[0];var an=nn.map(function(ln){return ln.shape});kn(an,Mt);var sn=nn,un={axis:Mt};return Lt.runKernelFunc(function(ln){return ln.concat(nn,Mt)},sn,function(ln){var cn=an.map(function(hn){return hn[Mt]});return tr(ln,cn,Mt).map(function(hn){return function(){return hn}})},"Concat",un)}}),$n=An({concat1d_:function(st){return Yn(st,0)}}),Qn=An({concat2d_:function(st,Mt){return Yn(st,Mt)}}),Jn=An({concat3d_:function(st,Mt){return Yn(st,Mt)}}),Zn=An({concat4d_:function(st,Mt){return Yn(st,Mt)}}),tr=An({split_:function(st,Mt,nn){nn===void 0&&(nn=0);var rn,an=mn(st,"x","split");return nn=O(nn,an.shape)[0],typeof Mt=="number"?(C(an.shape[nn]%Mt==0,function(){return"Number of splits must evenly divide the axis."}),rn=new Array(Mt).fill(an.shape[nn]/Mt)):(C(an.shape[nn]===Mt.reduce(function(sn,un){return sn+un}),function(){return"The sum of sizes must match the size of the axis dimension."}),rn=Mt),Lt.runKernelFunc(function(sn){return sn.split(an,rn,nn)},{$x:an},function(sn){return{$x:function(){return Yn(sn,nn)}}})}});function er(st,Mt){return st(Mt={exports:{}},Mt.exports),Mt.exports}var nr=er(function(st){(function(Mt,nn,rn){function an(ln){var cn,hn=this,fn=(cn=4022871197,function(to){to=to.toString();for(var Xr=0;Xr<to.length;Xr++){var uo=.02519603282416938*(cn+=to.charCodeAt(Xr));uo-=cn=uo>>>0,cn=(uo*=cn)>>>0,cn+=4294967296*(uo-=cn)}return 23283064365386963e-26*(cn>>>0)});hn.next=function(){var to=2091639*hn.s0+23283064365386963e-26*hn.c;return hn.s0=hn.s1,hn.s1=hn.s2,hn.s2=to-(hn.c=0|to)},hn.c=1,hn.s0=fn(" "),hn.s1=fn(" "),hn.s2=fn(" "),hn.s0-=fn(ln),hn.s0<0&&(hn.s0+=1),hn.s1-=fn(ln),hn.s1<0&&(hn.s1+=1),hn.s2-=fn(ln),hn.s2<0&&(hn.s2+=1),fn=null}function sn(ln,cn){return cn.c=ln.c,cn.s0=ln.s0,cn.s1=ln.s1,cn.s2=ln.s2,cn}function un(ln,cn){var hn=new an(ln),fn=cn&&cn.state,to=hn.next;return to.int32=function(){return 4294967296*hn.next()|0},to.double=function(){return to()+11102230246251565e-32*(2097152*to()|0)},to.quick=to,fn&&(typeof fn=="object"&&sn(fn,hn),to.state=function(){return sn(hn,{})}),to}nn&&nn.exports?nn.exports=un:this.alea=un})(0,st)}),rr=er(function(st){(function(Mt,nn,rn){function an(ln){var cn=this,hn="";cn.x=0,cn.y=0,cn.z=0,cn.w=0,cn.next=function(){var to=cn.x^cn.x<<11;return cn.x=cn.y,cn.y=cn.z,cn.z=cn.w,cn.w^=cn.w>>>19^to^to>>>8},ln===(0|ln)?cn.x=ln:hn+=ln;for(var fn=0;fn<hn.length+64;fn++)cn.x^=0|hn.charCodeAt(fn),cn.next()}function sn(ln,cn){return cn.x=ln.x,cn.y=ln.y,cn.z=ln.z,cn.w=ln.w,cn}function un(ln,cn){var hn=new an(ln),fn=cn&&cn.state,to=function(){return(hn.next()>>>0)/4294967296};return to.double=function(){do var Xr=((hn.next()>>>11)+(hn.next()>>>0)/4294967296)/2097152;while(Xr===0);return Xr},to.int32=hn.next,to.quick=to,fn&&(typeof fn=="object"&&sn(fn,hn),to.state=function(){return sn(hn,{})}),to}nn&&nn.exports?nn.exports=un:this.xor128=un})(0,st)}),or=er(function(st){(function(Mt,nn,rn){function an(ln){var cn=this,hn="";cn.next=function(){var to=cn.x^cn.x>>>2;return cn.x=cn.y,cn.y=cn.z,cn.z=cn.w,cn.w=cn.v,(cn.d=cn.d+362437|0)+(cn.v=cn.v^cn.v<<4^to^to<<1)|0},cn.x=0,cn.y=0,cn.z=0,cn.w=0,cn.v=0,ln===(0|ln)?cn.x=ln:hn+=ln;for(var fn=0;fn<hn.length+64;fn++)cn.x^=0|hn.charCodeAt(fn),fn==hn.length&&(cn.d=cn.x<<10^cn.x>>>4),cn.next()}function sn(ln,cn){return cn.x=ln.x,cn.y=ln.y,cn.z=ln.z,cn.w=ln.w,cn.v=ln.v,cn.d=ln.d,cn}function un(ln,cn){var hn=new an(ln),fn=cn&&cn.state,to=function(){return(hn.next()>>>0)/4294967296};return to.double=function(){do var Xr=((hn.next()>>>11)+(hn.next()>>>0)/4294967296)/2097152;while(Xr===0);return Xr},to.int32=hn.next,to.quick=to,fn&&(typeof fn=="object"&&sn(fn,hn),to.state=function(){return sn(hn,{})}),to}nn&&nn.exports?nn.exports=un:this.xorwow=un})(0,st)}),ar=er(function(st){(function(Mt,nn,rn){function an(ln){var cn=this;cn.next=function(){var hn,fn,to=cn.x,Xr=cn.i;return hn=to[Xr],fn=(hn^=hn>>>7)^hn<<24,fn^=(hn=to[Xr+1&7])^hn>>>10,fn^=(hn=to[Xr+3&7])^hn>>>3,fn^=(hn=to[Xr+4&7])^hn<<7,hn=to[Xr+7&7],fn^=(hn^=hn<<13)^hn<<9,to[Xr]=fn,cn.i=Xr+1&7,fn},function(hn,fn){var to,Xr=[];if(fn===(0|fn))Xr[0]=fn;else for(fn=""+fn,to=0;to<fn.length;++to)Xr[7&to]=Xr[7&to]<<15^fn.charCodeAt(to)+Xr[to+1&7]<<13;for(;Xr.length<8;)Xr.push(0);for(to=0;to<8&&Xr[to]===0;++to);for(to==8?Xr[7]=-1:Xr[to],hn.x=Xr,hn.i=0,to=256;to>0;--to)hn.next()}(cn,ln)}function sn(ln,cn){return cn.x=ln.x.slice(),cn.i=ln.i,cn}function un(ln,cn){ln==null&&(ln=+new Date);var hn=new an(ln),fn=cn&&cn.state,to=function(){return(hn.next()>>>0)/4294967296};return to.double=function(){do var Xr=((hn.next()>>>11)+(hn.next()>>>0)/4294967296)/2097152;while(Xr===0);return Xr},to.int32=hn.next,to.quick=to,fn&&(fn.x&&sn(fn,hn),to.state=function(){return sn(hn,{})}),to}nn&&nn.exports?nn.exports=un:this.xorshift7=un})(0,st)}),ir=er(function(st){(function(Mt,nn,rn){function an(ln){var cn=this;cn.next=function(){var hn,fn,to=cn.w,Xr=cn.X,uo=cn.i;return cn.w=to=to+1640531527|0,fn=Xr[uo+34&127],hn=Xr[uo=uo+1&127],fn^=fn<<13,hn^=hn<<17,fn^=fn>>>15,hn^=hn>>>12,fn=Xr[uo]=fn^hn,cn.i=uo,fn+(to^to>>>16)|0},function(hn,fn){var to,Xr,uo,co,ho,e0=[],lo=128;for(fn===(0|fn)?(Xr=fn,fn=null):(fn+="\0",Xr=0,lo=Math.max(lo,fn.length)),uo=0,co=-32;co<lo;++co)fn&&(Xr^=fn.charCodeAt((co+32)%fn.length)),co===0&&(ho=Xr),Xr^=Xr<<10,Xr^=Xr>>>15,Xr^=Xr<<4,Xr^=Xr>>>13,co>=0&&(ho=ho+1640531527|0,uo=(to=e0[127&co]^=Xr+ho)==0?uo+1:0);for(uo>=128&&(e0[127&(fn&&fn.length||0)]=-1),uo=127,co=512;co>0;--co)Xr=e0[uo+34&127],to=e0[uo=uo+1&127],Xr^=Xr<<13,to^=to<<17,Xr^=Xr>>>15,to^=to>>>12,e0[uo]=Xr^to;hn.w=ho,hn.X=e0,hn.i=uo}(cn,ln)}function sn(ln,cn){return cn.i=ln.i,cn.w=ln.w,cn.X=ln.X.slice(),cn}function un(ln,cn){ln==null&&(ln=+new Date);var hn=new an(ln),fn=cn&&cn.state,to=function(){return(hn.next()>>>0)/4294967296};return to.double=function(){do var Xr=((hn.next()>>>11)+(hn.next()>>>0)/4294967296)/2097152;while(Xr===0);return Xr},to.int32=hn.next,to.quick=to,fn&&(fn.X&&sn(fn,hn),to.state=function(){return sn(hn,{})}),to}nn&&nn.exports?nn.exports=un:this.xor4096=un})(0,st)}),sr=er(function(st){(function(Mt,nn,rn){function an(ln){var cn=this,hn="";cn.next=function(){var to=cn.b,Xr=cn.c,uo=cn.d,co=cn.a;return to=to<<25^to>>>7^Xr,Xr=Xr-uo|0,uo=uo<<24^uo>>>8^co,co=co-to|0,cn.b=to=to<<20^to>>>12^Xr,cn.c=Xr=Xr-uo|0,cn.d=uo<<16^Xr>>>16^co,cn.a=co-to|0},cn.a=0,cn.b=0,cn.c=-1640531527,cn.d=1367130551,ln===Math.floor(ln)?(cn.a=ln/4294967296|0,cn.b=0|ln):hn+=ln;for(var fn=0;fn<hn.length+20;fn++)cn.b^=0|hn.charCodeAt(fn),cn.next()}function sn(ln,cn){return cn.a=ln.a,cn.b=ln.b,cn.c=ln.c,cn.d=ln.d,cn}function un(ln,cn){var hn=new an(ln),fn=cn&&cn.state,to=function(){return(hn.next()>>>0)/4294967296};return to.double=function(){do var Xr=((hn.next()>>>11)+(hn.next()>>>0)/4294967296)/2097152;while(Xr===0);return Xr},to.int32=hn.next,to.quick=to,fn&&(typeof fn=="object"&&sn(fn,hn),to.state=function(){return sn(hn,{})}),to}nn&&nn.exports?nn.exports=un:this.tychei=un})(0,st)}),ur=er(function(st){(function(Mt,nn){var rn,an=this,sn=256,un=6,ln="random",cn=nn.pow(sn,un),hn=nn.pow(2,52),fn=2*hn,to=sn-1;function Xr(lo,mo,fo){var Uo=[],t0=ho(function a0(s0,l0){var d0,h0=[],v0=typeof s0;if(l0&&v0=="object")for(d0 in s0)try{h0.push(a0(s0[d0],l0-1))}catch{}return h0.length?h0:v0=="string"?s0:s0+"\0"}((mo=mo==1?{entropy:!0}:mo||{}).entropy?[lo,e0(Mt)]:lo??function(){try{var a0;return rn&&(a0=rn.randomBytes)?a0=a0(sn):(a0=new Uint8Array(sn),(an.crypto||an.msCrypto).getRandomValues(a0)),e0(a0)}catch{var s0=an.navigator,l0=s0&&s0.plugins;return[+new Date,an,l0,an.screen,e0(Mt)]}}(),3),Uo),n0=new uo(Uo),i0=function(){for(var a0=n0.g(un),s0=cn,l0=0;a0<hn;)a0=(a0+l0)*sn,s0*=sn,l0=n0.g(1);for(;a0>=fn;)a0/=2,s0/=2,l0>>>=1;return(a0+l0)/s0};return i0.int32=function(){return 0|n0.g(4)},i0.quick=function(){return n0.g(4)/4294967296},i0.double=i0,ho(e0(n0.S),Mt),(mo.pass||fo||function(a0,s0,l0,d0){return d0&&(d0.S&&co(d0,n0),a0.state=function(){return co(n0,{})}),l0?(nn[ln]=a0,s0):a0})(i0,t0,"global"in mo?mo.global:this==nn,mo.state)}function uo(lo){var mo,fo=lo.length,Uo=this,t0=0,n0=Uo.i=Uo.j=0,i0=Uo.S=[];for(fo||(lo=[fo++]);t0<sn;)i0[t0]=t0++;for(t0=0;t0<sn;t0++)i0[t0]=i0[n0=to&n0+lo[t0%fo]+(mo=i0[t0])],i0[n0]=mo;(Uo.g=function(a0){for(var s0,l0=0,d0=Uo.i,h0=Uo.j,v0=Uo.S;a0--;)s0=v0[d0=to&d0+1],l0=l0*sn+v0[to&(v0[d0]=v0[h0=to&h0+s0])+(v0[h0]=s0)];return Uo.i=d0,Uo.j=h0,l0})(sn)}function co(lo,mo){return mo.i=lo.i,mo.j=lo.j,mo.S=lo.S.slice(),mo}function ho(lo,mo){for(var fo,Uo=lo+"",t0=0;t0<Uo.length;)mo[to&t0]=to&(fo^=19*mo[to&t0])+Uo.charCodeAt(t0++);return e0(mo)}function e0(lo){return String.fromCharCode.apply(0,lo)}if(nn["seed"+ln]=Xr,ho(nn.random(),Mt),st.exports){st.exports=Xr;try{rn=require("crypto")}catch{}}})([],Math)});ur.alea=nr,ur.xor128=rr,ur.xorwow=or,ur.xorshift7=ar,ur.xor4096=ir,ur.tychei=sr;var cr=ur.alea,lr=function(){function st(Mt,nn,rn,an,sn){this.mean=Mt,this.stdDev=nn,this.dtype=rn,this.nextVal=NaN,this.truncated=an,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var un=sn||Math.random();this.random=cr(un.toString())}return st.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var Mt=this.nextVal;return this.nextVal=NaN,Mt}for(var nn,rn,an=!1;!an;){var sn=void 0,un=void 0,ln=void 0;do ln=(sn=2*this.random()-1)*sn+(un=2*this.random()-1)*un;while(ln>=1||ln===0);var cn=Math.sqrt(-2*Math.log(ln)/ln);nn=this.mean+this.stdDev*sn*cn,rn=this.mean+this.stdDev*un*cn,this.truncated&&!this.isValidTruncated(nn)||(an=!0)}return this.truncated&&!this.isValidTruncated(rn)||(this.nextVal=this.convertValue(rn)),this.convertValue(nn)},st.prototype.convertValue=function(Mt){return this.dtype==null||this.dtype==="float32"?Mt:Math.round(Mt)},st.prototype.isValidTruncated=function(Mt){return Mt<=this.upper&&Mt>=this.lower},st}(),hr=function(){function st(Mt,nn,rn,an){this.alpha=Mt,this.beta=1/nn,this.dtype=rn;var sn=an||Math.random();this.randu=cr(sn.toString()),this.randn=new lr(0,1,rn,!1,this.randu()),this.d=Mt<1?Mt+2/3:Mt-1/3,this.c=1/Math.sqrt(9*this.d)}return st.prototype.nextValue=function(){for(var Mt,nn,rn,an,sn,un;;){do an=this.randn.nextValue(),un=1+this.c*an;while(un<=0);if(un*=un*un,nn=1-.331*(Mt=an*an)*Mt,rn=.5*Mt+this.d*(1-un+Math.log(un)),(sn=this.randu())<nn||Math.log(sn)<rn)break}return un=1/this.beta*this.d*un,this.alpha<1&&(un*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(un)},st.prototype.convertValue=function(Mt){return this.dtype==="float32"?Mt:Math.round(Mt)},st}(),fr$1=function(){function st(Mt,nn,rn,an){var sn=this;if(Mt===void 0&&(Mt=0),nn===void 0&&(nn=1),this.canReturnFloat=function(){return sn.dtype==null||sn.dtype==="float32"},this.min=Mt,this.range=nn-Mt,this.dtype=rn,an==null&&(an=Math.random()),typeof an=="number"&&(an=an.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+Mt+" - "+nn+" <= 1 and dtype is not float");this.random=cr(an)}return st.prototype.convertValue=function(Mt){return this.canReturnFloat()?Mt:Math.round(Mt)},st.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},st}();function dr(st,Mt,nn){return Mt===void 0&&(Mt="float32"),Mt=Mt||"float32",nt(st),new gt(st,Mt,nn)}function pr(st,Mt){Mt===void 0&&(Mt=!1),console.log(st.toString(Mt))}var vr=An({batchToSpaceND_:function(st,Mt,nn){var rn=mn(st,"x","batchToSpaceND"),an=Mt.reduce(function(sn,un){return sn*un});return C(rn.rank>=1+Mt.length,function(){return"input rank is "+rn.rank+" but should be > than blockShape.length "+Mt.length}),C(nn.length===Mt.length,function(){return"crops.length is "+nn.length+" but should be equal to blockShape.length  "+Mt.length}),C(rn.shape[0]%an==0,function(){return"input tensor batch is "+rn.shape[0]+" but is not divisible by the product of the elements of blockShape "+Mt.join(" * ")+" === "+an}),Lt.runKernelFunc(function(sn){return sn.batchToSpaceND(rn,Mt,nn)},{$x:rn},function(sn){return{$x:function(){return sn.spaceToBatchND(Mt,nn)}}})}}),mr=An({broadcastTo_:function(st,Mt){var nn=mn(st,"broadcastTo","x"),rn=nn.shape;if(Mt.some(function(cn){return!(cn>0)||cn%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+Mt+"].");if(Mt.length<nn.rank)throw new Error("broadcastTo(): shape.length="+Mt.length+" < input.rank="+nn.rank+".");if(Mt.length>nn.rank){for(var an=nn.shape.slice();an.length<Mt.length;)an.unshift(1);nn=nn.reshape(an)}for(var sn=Array.from(Mt),un=Mt.length-1;un>=0;un--)if(nn.shape[un]===Mt[un])sn[un]=1;else if(nn.shape[un]!==1)throw new Error("broadcastTo(): ["+rn+"] cannot be broadcast to ["+Mt+"].");var ln=sn.map(function(cn,hn){return cn>1?hn:-1}).filter(function(cn){return cn>=0});return ln.length===0?nn.clone():Lt.runKernelFunc(function(cn){return cn.tile(nn,sn)},{input:nn},function(cn){return{input:function(){return cn.sum(ln,!0)}}})}}),gr=An({cast_:function(st,Mt){var nn=mn(st,"x","cast");if(!W(Mt))throw new Error("Failed to cast to unknown dtype "+Mt);if(Mt==="string"&&nn.dtype!=="string"||Mt!=="string"&&nn.dtype==="string")throw new Error("Only strings can be casted to strings");var rn={dtype:Mt};return Lt.runKernelFunc(function(an){return an.cast(nn,Mt)},{x:nn},function(an){return{x:function(){return an.clone()}}},"Cast",rn)}}),yr=An({clone_:function(st){var Mt=mn(st,"x","clone",null);return Lt.runKernelFunc(function(){return Lt.makeTensorFromDataId(Mt.dataId,Mt.shape,Mt.dtype)},{$x:Mt},function(nn){return{$x:function(){return nn.toFloat()}}})}}),xr=An({cumsum_:function(st,Mt,nn,rn){Mt===void 0&&(Mt=0),nn===void 0&&(nn=!1),rn===void 0&&(rn=!1);var an=mn(st,"x","cumsum"),sn=En([Mt|=0],an.rank),un=an;sn!=null&&(un=an.transpose(sn));var ln=In(1,an.rank)[0],cn=Lt.runKernelFunc(function(hn){return hn.cumsum(un,ln,nn,rn)},{permutedX:un},function(hn){return{permutedX:function(){return hn.cumsum(Mt,nn,!rn)}}});return sn!=null&&(cn=cn.transpose(sn)),cn}}),br=An({depthToSpace_:function(st,Mt,nn){nn===void 0&&(nn="NHWC");var rn=mn(st,"x","depthToSpace"),an=nn==="NHWC"?rn.shape[1]:rn.shape[2],sn=nn==="NHWC"?rn.shape[2]:rn.shape[3],un=nn==="NHWC"?rn.shape[3]:rn.shape[1];return C(an*Mt>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+an+" and "+Mt+`  for depthToSpace with input shape
      `+rn.shape}),C(sn*Mt>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+sn+" and "+Mt+` for depthToSpace with input shape
          `+rn.shape}),C(un%(Mt*Mt)==0,function(){return"Dimension size must be evenly divisible by "+Mt*Mt+" but is "+un+" for depthToSpace with input shape "+rn.shape}),Lt.runKernelFunc(function(ln){return ln.depthToSpace(rn,Mt,nn)},{$x:rn})}}),wr=An({expandDims_:function(st,Mt){Mt===void 0&&(Mt=0);var nn=mn(st,"x","expandDims",null);C(Mt<=nn.rank,function(){return"Axis must be <= rank of the tensor"});var rn=nn.shape.slice();return Mt<0&&(C(-(nn.rank+1)<=Mt,function(){return"Axis must be in the interval ["+-(nn.rank+1)+", "+nn.rank+"]"}),Mt=nn.rank+Mt+1),rn.splice(Mt,0,1),Or(nn,rn)}}),Cr=An({eye_:function(st,Mt,nn,rn){rn===void 0&&(rn="float32"),Mt==null&&(Mt=st);for(var an=dr([st,Mt],rn),sn=st<=Mt?st:Mt,un=0;un<sn;++un)an.set(1,un,un);var ln=an.toTensor().as2D(st,Mt);if(nn==null)return ln;if(nn.length===1)return Lr(wr(ln,0),[nn[0],1,1]);if(nn.length===2)return Lr(wr(wr(ln,0),0),[nn[0],nn[1],1,1]);if(nn.length===3)return Lr(wr(wr(wr(ln,0),0),0),[nn[0],nn[1],nn[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+nn.length+"D.")}}),Er=An({multinomial_:function(st,Mt,nn,rn){rn===void 0&&(rn=!1);var an=mn(st,"logits","multinomial"),sn=an.size,un=an.rank;if(sn<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+sn+".");if(un>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+un);nn=nn||Math.random();var ln=un===1?an.as2D(1,-1):an,cn=Lt.runKernelFunc(function(hn){return hn.multinomial(ln,rn,Mt,nn)},{logits2D:ln});return un===1?cn.as1D():cn}}),Rr=An({oneHot_:function(st,Mt,nn,rn){if(nn===void 0&&(nn=1),rn===void 0&&(rn=0),Mt<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+Mt);var an=mn(st,"indices","oneHot","int32"),sn=an.shape.concat([Mt]);return an=an.flatten(),Lt.runKernelFunc(function(un){return un.oneHot(an,Mt,nn,rn)},{$indices:an},function(un){return{$indices:function(){return Gn(an.shape,"float32")}}}).reshape(sn)}}),Ir=An({pad_:function(st,Mt,nn){nn===void 0&&(nn=0);var rn=mn(st,"x","pad");if(rn.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var an={paddings:Mt,constantValue:nn};return Lt.runKernelFunc(function(sn){return sn.pad(rn,Mt,nn)},{x:rn},function(sn){var un=Mt.map(function(ln){return ln[0]});return{x:function(){return sn.slice(un,rn.shape)}}},"PadV2",an)}}),kr=An({pad1d_:function(st,Mt,nn){return nn===void 0&&(nn=0),C(Mt.length===2,function(){return"Invalid number of paddings. Must be length of 2."}),Ir(st,[Mt],nn)}}),Sr=An({pad2d_:function(st,Mt,nn){return nn===void 0&&(nn=0),C(Mt.length===2&&Mt[0].length===2&&Mt[1].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Ir(st,Mt,nn)}}),Ar=An({pad3d_:function(st,Mt,nn){return nn===void 0&&(nn=0),C(Mt.length===3&&Mt[0].length===2&&Mt[1].length===2&&Mt[2].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Ir(st,Mt,nn)}}),Dr=An({pad4d_:function(st,Mt,nn){return nn===void 0&&(nn=0),C(Mt.length===4&&Mt[0].length===2&&Mt[1].length===2&&Mt[2].length===2&&Mt[3].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Ir(st,Mt,nn)}}),Tr=An({rand_:function(st,Mt,nn){var rn=k(st),an=null;if(nn==null||nn==="float32")an=new Float32Array(rn);else if(nn==="int32")an=new Int32Array(rn);else{if(nn!=="bool")throw new Error("Unknown data type "+nn);an=new Uint8Array(rn)}for(var sn=0;sn<rn;sn++)an[sn]=Mt();return Lt.makeTensor(an,st,nn)}}),Nr=An({randomNormal_:function(st,Mt,nn,rn,an){if(Mt===void 0&&(Mt=0),nn===void 0&&(nn=1),rn!=null&&rn==="bool")throw new Error("Unsupported data type "+rn);for(var sn=new lr(Mt,nn,rn,!1,an),un=dr(st,rn),ln=0;ln<un.values.length;ln++)un.values[ln]=sn.nextValue();return un.toTensor()}}),Fr=An({randomGamma_:function(st,Mt,nn,rn,an){if(nn===void 0&&(nn=1),rn===void 0&&(rn="float32"),nn==null&&(nn=1),rn==null&&(rn="float32"),rn!=="float32"&&rn!=="int32")throw new Error("Unsupported data type "+rn);for(var sn=new hr(Mt,nn,rn,an),un=dr(st,rn),ln=0;ln<un.values.length;ln++)un.values[ln]=sn.nextValue();return un.toTensor()}}),_r=An({randomUniform_:function(st,Mt,nn,rn,an){Mt===void 0&&(Mt=0),nn===void 0&&(nn=1),rn===void 0&&(rn="float32");for(var sn=dr(st,rn),un=new fr$1(Mt,nn,null,an),ln=0;ln<sn.values.length;ln++)sn.values[ln]=un.nextValue();return sn.toTensor()}}),Or=An({reshape_:function(st,Mt){var nn=mn(st,"x","reshape",null);Mt=_(Mt,nn.size),C(nn.size===k(Mt),function(){return"new shape and old shape must have the same number of elements."});var rn={shape:Mt};return Lt.runKernelFunc(function(an){return an.reshape(nn,Mt)},{x:nn},function(an){return{x:function(){return an.reshape(nn.shape)}}},"Reshape",rn)}}),Mr=An({spaceToBatchND_:function(st,Mt,nn){var rn=mn(st,"x","spaceToBatchND");return C(rn.rank>=1+Mt.length,function(){return"input rank "+rn.rank+" should be > than [blockShape] "+Mt.length}),C(nn.length===Mt.length,function(){return"paddings.shape[0] "+nn.length+" must be equal to [blockShape] "+Mt.length}),C(rn.shape.reduce(function(an,sn,un){return un>0&&un<=Mt.length?an&&(sn+nn[un-1][0]+nn[un-1][1])%Mt[un-1]==0:an},!0),function(){return"input spatial dimensions "+rn.shape.slice(1)+" with paddings "+nn.toString()+" must be divisible by blockShapes "+Mt.toString()}),Lt.runKernelFunc(function(an){return an.spaceToBatchND(rn,Mt,nn)},{$x:rn},function(an){return{$x:function(){return an.batchToSpaceND(Mt,nn)}}})}}),Br=An({squeeze_:function(st,Mt){var nn=mn(st,"x","squeeze");return Or(nn,M(nn.shape,Mt).newShape)}}),Pr=An({stack_:function(st,Mt){Mt===void 0&&(Mt=0);var nn=gn(st,"tensors","stack");if(C(nn.length>=1,function(){return"Pass at least one tensor to tf.stack"}),nn.length===1)return nn[0].expandDims(Mt);var rn=nn[0].rank,an=nn[0].shape,sn=nn[0].dtype;C(Mt<=rn,function(){return"Axis must be <= rank of the tensor"}),nn.forEach(function(ln){E(an,ln.shape,"All tensors passed to stack must have matching shapes")}),nn.forEach(function(ln){C(sn===ln.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var un=nn.map(function(ln){return ln.expandDims(Mt)});return Yn(un,Mt)}}),Lr=An({tile_:function(st,Mt){var nn=mn(st,"x","tile",null);C(nn.rank===Mt.length,function(){return"Error in transpose: rank of input "+nn.rank+" must match length of reps "+Mt+"."});var rn=[nn],an={reps:Mt};return Lt.runKernelFunc(function(sn,un){var ln=sn.tile(nn,Mt);return un([nn]),ln},{x:nn},function(sn,un){var ln=un[0];return{x:function(){var cn=Xn(ln);if(ln.rank===1)for(var hn=0;hn<Mt[0];++hn)cn=cn.add(sn.slice([hn*ln.shape[0]],[ln.shape[0]]));else if(ln.rank===2)for(hn=0;hn<Mt[0];++hn)for(var fn=0;fn<Mt[1];++fn)cn=cn.add(sn.slice([hn*ln.shape[0],fn*ln.shape[1]],[ln.shape[0],ln.shape[1]]));else if(ln.rank===3)for(hn=0;hn<Mt[0];++hn)for(fn=0;fn<Mt[1];++fn)for(var to=0;to<Mt[2];++to)cn=cn.add(sn.slice([hn*ln.shape[0],fn*ln.shape[1],to*ln.shape[2]],[ln.shape[0],ln.shape[1],ln.shape[2]]));else{if(ln.rank!==4)throw new Error("Gradient for tile operation is not implemented for rank-"+ln.rank+" tensors yet.");for(hn=0;hn<Mt[0];++hn)for(fn=0;fn<Mt[1];++fn)for(to=0;to<Mt[2];++to)for(var Xr=0;Xr<Mt[3];++Xr)cn=cn.add(sn.slice([hn*ln.shape[0],fn*ln.shape[1],to*ln.shape[2],Xr*ln.shape[3]],[ln.shape[0],ln.shape[1],ln.shape[2],ln.shape[3]]))}return cn}}},"Tile",an,rn)}}),Wr=An({truncatedNormal_:function(st,Mt,nn,rn,an){if(Mt===void 0&&(Mt=0),nn===void 0&&(nn=1),rn!=null&&rn==="bool")throw new Error("Unsupported data type "+rn);for(var sn=new lr(Mt,nn,rn,!0,an),un=dr(st,rn),ln=0;ln<un.values.length;ln++)un.values[ln]=sn.nextValue();return un.toTensor()}}),Ur=An({unstack_:function(st,Mt){Mt===void 0&&(Mt=0),Mt=Mt||0;var nn=mn(st,"x","unstack");C(Mt>=-nn.shape.length&&Mt<nn.shape.length,function(){return"Axis = "+Mt+" is not in [-"+nn.shape.length+", "+nn.shape.length+")"}),Mt<0&&(Mt+=nn.shape.length);var rn={axis:Mt};return Lt.runKernelFunc(function(an){return an.unstack(nn,Mt)},{x:nn},function(an){return{x:function(){return Pr(an,Mt)}}},"Unpack",rn)}}),Vr=function(st,Mt){return n(this,void 0,void 0,function(){var nn,rn,an,sn,un,ln,cn,hn,fn,to;return r(this,function(Xr){switch(Xr.label){case 0:return nn=mn(st,"x","setdiff1d"),rn=mn(Mt,"y","setdiff1d"),C(nn.dtype===rn.dtype,function(){return"x and y should have the same dtype, but got x ("+nn.dtype+") and y ("+rn.dtype+")."}),C(nn.rank===1,function(){return"x should be 1D tensor, but got x ("+nn.shape+")."}),C(rn.rank===1,function(){return"y should be 1D tensor, but got y ("+rn.shape+")."}),[4,nn.data()];case 1:return an=Xr.sent(),[4,rn.data()];case 2:for(sn=Xr.sent(),un=new Set(sn),ln=0,fn=0;fn<an.length;fn++)un.has(an[fn])||ln++;for(cn=new gt([ln],nn.dtype),hn=new gt([ln],"int32"),fn=0,to=0;fn<an.length;fn++)un.has(an[fn])||(cn.values[to]=an[fn],hn.values[to]=fn,to++);return[2,[cn.toTensor(),hn.toTensor()]]}})})};function zr(st,Mt,nn,rn){rn===void 0&&(rn=!0);var an=[];if(rn)(an=an.concat(Mt.slice(0))).push(st[0]/nn),an=an.concat(st.slice(1));else{an=an.concat(st[0]);for(var sn=Mt.length,un=0;un<sn;++un)an=an.concat([st[un+1]/Mt[un],Mt[un]]);an=an.concat(st.slice(sn+1))}return an}function Gr(st,Mt,nn){nn===void 0&&(nn=!0);var rn=[];if(nn){rn.push(Mt);for(var an=Mt+1;an<st;++an)an<=2*Mt?(rn.push(an),rn.push(an-(Mt+1))):rn.push(an)}else{var sn=[],un=[];for(an=1;an<st;++an)an>=2*Mt+1||an%2==1?un.push(an):sn.push(an);rn.push.apply(rn,sn),rn.push(0),rn.push.apply(rn,un)}return rn}function Hr(st,Mt,nn,rn){rn===void 0&&(rn=!0);var an=[];rn?an.push(st[0]/nn):an.push(st[0]*nn);for(var sn=1;sn<st.length;++sn)sn<=Mt.length?rn?an.push(Mt[sn-1]*st[sn]):an.push(st[sn]/Mt[sn-1]):an.push(st[sn]);return an}function qr(st,Mt){for(var nn=[0],rn=0;rn<Mt;++rn)nn.push(st[rn][0]);return nn}function Kr(st,Mt,nn){for(var rn=st.slice(0,1),an=0;an<nn;++an)rn.push(st[an+1]-Mt[an][0]-Mt[an][1]);return rn}function jr(st,Mt){if(st.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+st.rank+".");if(Mt.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+Mt.rank+".");if(Mt.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+Mt.dtype+".");if(Mt.shape[Mt.rank-1]>st.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+Mt.shape[Mt.rank-1]+" vs. "+st.rank);if(st.size===0)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+st.shape+".");for(var nn=Mt.shape,rn=nn[nn.length-1],an=1,sn=0;sn<nn.length-1;++sn)an*=nn[sn];var un=st.shape,ln=nn.slice();ln.pop();var cn=1;for(sn=rn;sn<st.rank;++sn)cn*=un[sn],ln.push(un[sn]);var hn=$(st.shape).map(function(fn){return fn/cn}).concat([1]).slice(0,rn);return[ln,an,cn,hn]}var Yr=30;function $r(st){return st<=Yr?st:Y(st,Math.floor(Math.sqrt(st)))}function Qr(st,Mt,nn){var rn=Mt.rank>1?Mt.shape[Mt.rank-1]:1,an=Mt.rank>1?Mt.rank-1:1,sn="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+nn.shape+", indices.shape: "+Mt.shape+", shape: "+st+", sliceDim: "+rn+", and batchDim: "+an+".";if(nn.rank<an)throw new Error(sn+" update.rank < "+an+". ");if(st.length<rn+(nn.rank-an))throw new Error(sn+" Output shape length < "+(rn+(nn.rank-an)));if(nn.rank!==an+st.length-rn)throw new Error(sn+" update.rank != "+(an+st.length-rn));for(var un=0;un<an;++un)if(nn.shape[un]!==Mt.shape[un])throw new Error(sn+" updates.shape["+un+"] ("+nn.shape[un]+") != indices.shape["+un+"] ("+Mt.shape[un]+").");for(un=0;un<nn.rank-an;++un)if(nn.shape[un+an]!==st[un+rn])throw new Error(sn+" updates.shape["+(un+an)+"] ("+nn.shape[un+an]+") != shape["+(un+an)+"] ("+st[un+an]+")")}function Jr(st,Mt,nn){if(Mt.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+Mt.rank+".");if(st.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+st.rank+".");if(Mt.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+Mt.dtype);if(nn.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+nn);if(nn.length===0){if(Mt.size===0)throw new Error("Indices specified for empty output. indices shape: "+Mt.shape);if(st.size===0)throw new Error("Updates specified for empty output. updates shape: "+st.shape)}Qr(nn,Mt,st)}function Zr(st,Mt,nn){for(var rn=Mt.shape.length,an=rn>1?Mt.shape[rn-1]:1,sn=nn.length,un=1,ln=an;ln<sn;++ln)un*=nn[ln];var cn=an<1?1:an;return{sliceRank:an,numUpdates:k(Mt.shape)/cn,sliceSize:un,strides:$(nn.slice(0,an)).concat([1]),outputSize:k(nn)}}function eo(st,Mt,nn){C(st.rank===Mt.length,function(){return"Error in slice"+st.rank+"D: Length of begin "+Mt+" must match the rank of the array ("+st.rank+")."}),C(st.rank===nn.length,function(){return"Error in slice"+st.rank+"D: Length of size "+nn+" must match the rank of the array ("+st.rank+")."});for(var rn=function(sn){C(Mt[sn]+nn[sn]<=st.shape[sn],function(){return"Error in slice"+st.rank+"D: begin["+sn+"] + size["+sn+"] ("+(Mt[sn]+nn[sn])+") would overflow input.shape["+sn+"] ("+st.shape[sn]+")"})},an=0;an<st.rank;++an)rn(an)}function no(st){for(var Mt=[],nn=0;st>0;)1&st&&Mt.push(nn),st/=2,nn++;return Mt}function ro(st,Mt,nn){for(var rn=[],an=0;an<st.length;an++)rn[an]=Math.ceil((Mt[an]-st[an])/nn[an]);return rn}function oo(st,Mt,nn,rn,an){var sn=Mt[an],un=nn[an]||1;(st&1<<an||sn==null)&&(sn=un>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var ln=rn[an];return sn<0&&(sn+=ln),sn=x(0,sn,ln-1)}function ao(st,Mt,nn,rn,an){var sn=Mt[an],un=nn[an]||1;(st&1<<an||sn==null)&&(sn=un>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var ln=rn[an];return sn<0&&(sn+=ln),sn=un>0?x(0,sn,ln):x(-1,sn,ln-1)}function io(st,Mt,nn){for(var rn=nn.length,an=0;an<nn.length;an++)if(nn[an]>1){rn=an;break}for(an=rn+1;an<nn.length;an++)if(Mt[an]>0||nn[an]!==st[an])return!1;return!0}function so(st,Mt){for(var nn=st.length>0?st[st.length-1]:1,rn=0;rn<st.length-1;rn++)nn+=st[rn]*Mt[rn];return nn}function po(st,Mt){C(X(st),function(){return"The f passed in variableGrads(f) must be a function"}),C(Mt==null||Array.isArray(Mt)&&Mt.every(function(fn){return fn instanceof St}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var nn=Mt!=null;if(!nn)for(var rn in Mt=[],Lt.registeredVariables)Mt.push(Lt.registeredVariables[rn]);var an=nn?Mt.filter(function(fn){return!fn.trainable}):null,sn=Mt.length;C((Mt=Mt.filter(function(fn){return fn.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+sn+" variables is trainable."});var un=Lt.gradients(st,Mt,null,!0),ln=un.value,cn=un.grads;C(cn.some(function(fn){return fn!=null}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),C(ln.rank===0,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+ln.rank+" tensor"});var hn={};return Mt.forEach(function(fn,to){cn[to]!=null&&(hn[fn.name]=cn[to])}),an!=null&&an.forEach(function(fn){return hn[fn.name]=null}),{value:ln,grads:hn}}function vo(st){return Lt.customGrad(st)}var go=An({softmax_:function(st,Mt){Mt===void 0&&(Mt=-1);var nn=mn(st,"logits","softmax","float32");if(Mt===-1&&(Mt=nn.rank-1),Mt!==nn.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+nn.rank+" and dim was "+Mt);return Lt.runKernelFunc(function(rn,an){var sn=rn.softmax(nn,Mt);return an([sn]),sn},{logits:nn},function(rn,an){var sn=an[0],un=rn.mul(sn);return{logits:function(){return un.sub(un.sum([Mt],!0).mul(sn))}}},"Softmax",{dim:Mt},[],[!0])}}),yo=An({logSoftmax_:function(st,Mt){Mt===void 0&&(Mt=-1);var nn=mn(st,"logits","logSoftmax");if(Mt===-1&&(Mt=nn.rank-1),Mt!==nn.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+nn.rank+" and axis was "+Mt);return vo(function(rn,an){var sn=rn.max(Mt,!0),un=rn.sub(sn),ln=un.toFloat().sub(un.exp().sum(Mt,!0).log());return an([ln]),{value:ln,gradFunc:function(cn,hn){var fn=hn[0].exp();return cn.sub(cn.sum(Mt,!0).mul(fn))}}})(nn)}}),xo=function(){function st(Mt,nn){this.backend=Mt,this.dataMover=nn,this.data=new WeakMap,this.dataIdsCount=0}return st.prototype.get=function(Mt){return this.data.has(Mt)||this.dataMover.moveData(this.backend,Mt),this.data.get(Mt)},st.prototype.set=function(Mt,nn){this.dataIdsCount++,this.data.set(Mt,nn)},st.prototype.has=function(Mt){return this.data.has(Mt)},st.prototype.delete=function(Mt){return this.dataIdsCount--,this.data.delete(Mt)},st.prototype.numDataIds=function(){return this.dataIdsCount},st}(),bo=function(){function st(){}return st.prototype.time=function(Mt){return wo("time")},st.prototype.read=function(Mt){return wo("read")},st.prototype.readSync=function(Mt){return wo("readSync")},st.prototype.numDataIds=function(){return wo("numDataIds")},st.prototype.disposeData=function(Mt){return wo("disposeData")},st.prototype.write=function(Mt,nn,rn){return wo("write")},st.prototype.move=function(Mt,nn,rn,an){return wo("move")},st.prototype.memory=function(){return wo("memory")},st.prototype.floatPrecision=function(){return wo("floatPrecision")},st.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},st.prototype.batchMatMul=function(Mt,nn,rn,an){return wo("batchMatMul")},st.prototype.fusedBatchMatMul=function(Mt){return Mt.a,Mt.b,Mt.transposeA,Mt.transposeB,Mt.bias,Mt.activation,Mt.preluActivationWeights,wo("fusedBatchMatMul")},st.prototype.slice=function(Mt,nn,rn){return wo("slice")},st.prototype.stridedSlice=function(Mt,nn,rn,an){return wo("stridedSlice")},st.prototype.unstack=function(Mt,nn){return wo("unstack")},st.prototype.reverse=function(Mt,nn){return wo("reverse")},st.prototype.concat=function(Mt,nn){return wo("concat")},st.prototype.neg=function(Mt){return wo("neg")},st.prototype.add=function(Mt,nn){return wo("add")},st.prototype.addN=function(Mt){return wo("addN")},st.prototype.subtract=function(Mt,nn){return wo("subtract")},st.prototype.multiply=function(Mt,nn){return wo("multiply")},st.prototype.realDivide=function(Mt,nn){return wo("realDivide")},st.prototype.floorDiv=function(Mt,nn){return wo("floorDiv")},st.prototype.sum=function(Mt,nn){return wo("sum")},st.prototype.prod=function(Mt,nn){return wo("prod")},st.prototype.unsortedSegmentSum=function(Mt,nn,rn){return wo("unsortedSegmentSum")},st.prototype.argMin=function(Mt,nn){return wo("argMin")},st.prototype.argMax=function(Mt,nn){return wo("argMax")},st.prototype.equal=function(Mt,nn){return wo("equal")},st.prototype.notEqual=function(Mt,nn){return wo("notEqual")},st.prototype.less=function(Mt,nn){return wo("less")},st.prototype.lessEqual=function(Mt,nn){return wo("lessEqual")},st.prototype.greater=function(Mt,nn){return wo("greater")},st.prototype.greaterEqual=function(Mt,nn){return wo("greaterEqual")},st.prototype.logicalNot=function(Mt){return wo("logicalNot")},st.prototype.logicalAnd=function(Mt,nn){return wo("logicalAnd")},st.prototype.logicalOr=function(Mt,nn){return wo("logicalOr")},st.prototype.where=function(Mt){return wo("where")},st.prototype.select=function(Mt,nn,rn){return wo("select")},st.prototype.topk=function(Mt,nn,rn){return wo("topk")},st.prototype.min=function(Mt,nn){return wo("min")},st.prototype.minimum=function(Mt,nn){return wo("minimum")},st.prototype.mod=function(Mt,nn){return wo("mod")},st.prototype.max=function(Mt,nn){return wo("max")},st.prototype.maximum=function(Mt,nn){return wo("maximum")},st.prototype.all=function(Mt,nn){return wo("all")},st.prototype.any=function(Mt,nn){return wo("any")},st.prototype.squaredDifference=function(Mt,nn){return wo("squaredDifference")},st.prototype.ceil=function(Mt){return wo("ceil")},st.prototype.floor=function(Mt){return wo("floor")},st.prototype.round=function(Mt){return wo("round")},st.prototype.sign=function(Mt){return wo("sign")},st.prototype.isNaN=function(Mt){return wo("isNaN")},st.prototype.isInf=function(Mt){return wo("isInf")},st.prototype.isFinite=function(Mt){return wo("isFinite")},st.prototype.pow=function(Mt,nn){return wo("pow")},st.prototype.exp=function(Mt){return wo("exp")},st.prototype.expm1=function(Mt){return wo("expm1")},st.prototype.softmax=function(Mt,nn){return wo("softmax")},st.prototype.log=function(Mt){return wo("log")},st.prototype.log1p=function(Mt){return wo("log1p")},st.prototype.sqrt=function(Mt){return wo("sqrt")},st.prototype.rsqrt=function(Mt){return wo("rsqrt")},st.prototype.square=function(Mt){return wo("square")},st.prototype.reciprocal=function(Mt){return wo("reciprocal")},st.prototype.relu=function(Mt){return wo("relu")},st.prototype.relu6=function(Mt){return wo("relu6")},st.prototype.prelu=function(Mt,nn){return wo("prelu")},st.prototype.elu=function(Mt){return wo("elu")},st.prototype.eluDer=function(Mt,nn){return wo("eluDer")},st.prototype.selu=function(Mt){return wo("selu")},st.prototype.int=function(Mt){return wo("int")},st.prototype.clip=function(Mt,nn,rn){return wo("clip")},st.prototype.abs=function(Mt){return wo("abs")},st.prototype.complexAbs=function(Mt){return wo("complexAbs")},st.prototype.sigmoid=function(Mt){return wo("sigmoid")},st.prototype.softplus=function(Mt){return wo("softplus")},st.prototype.sin=function(Mt){return wo("sin")},st.prototype.cos=function(Mt){return wo("cos")},st.prototype.tan=function(Mt){return wo("tan")},st.prototype.asin=function(Mt){return wo("asin")},st.prototype.acos=function(Mt){return wo("acos")},st.prototype.atan=function(Mt){return wo("atan")},st.prototype.atan2=function(Mt,nn){return wo("atan2")},st.prototype.sinh=function(Mt){return wo("sinh")},st.prototype.cosh=function(Mt){return wo("cosh")},st.prototype.tanh=function(Mt){return wo("tanh")},st.prototype.asinh=function(Mt){return wo("asinh")},st.prototype.acosh=function(Mt){return wo("acosh")},st.prototype.atanh=function(Mt){return wo("atanh")},st.prototype.erf=function(Mt){return wo("erf")},st.prototype.step=function(Mt,nn){return wo("step")},st.prototype.fusedConv2d=function(Mt){return Mt.input,Mt.filter,Mt.convInfo,Mt.bias,Mt.activation,Mt.preluActivationWeights,wo("fusedConv2d")},st.prototype.conv2d=function(Mt,nn,rn){return wo("conv2d")},st.prototype.conv2dDerInput=function(Mt,nn,rn){return wo("conv2dDerInput")},st.prototype.conv2dDerFilter=function(Mt,nn,rn){return wo("conv2dDerFilter")},st.prototype.fusedDepthwiseConv2D=function(Mt){return Mt.input,Mt.filter,Mt.convInfo,Mt.bias,Mt.activation,Mt.preluActivationWeights,wo("fusedDepthwiseConv2D")},st.prototype.depthwiseConv2D=function(Mt,nn,rn){return wo("depthwiseConv2D")},st.prototype.depthwiseConv2DDerInput=function(Mt,nn,rn){return wo("depthwiseConv2DDerInput")},st.prototype.depthwiseConv2DDerFilter=function(Mt,nn,rn){return wo("depthwiseConv2DDerFilter")},st.prototype.conv3d=function(Mt,nn,rn){return wo("conv3d")},st.prototype.conv3dDerInput=function(Mt,nn,rn){return wo("conv3dDerInput")},st.prototype.conv3dDerFilter=function(Mt,nn,rn){return wo("conv3dDerFilter")},st.prototype.maxPool=function(Mt,nn){return wo("maxPool")},st.prototype.maxPoolBackprop=function(Mt,nn,rn,an){return wo("maxPoolBackprop")},st.prototype.avgPool=function(Mt,nn){return wo("avgPool")},st.prototype.avgPoolBackprop=function(Mt,nn,rn){return wo("avgPoolBackprop")},st.prototype.avgPool3d=function(Mt,nn){return wo("avgPool3d")},st.prototype.avgPool3dBackprop=function(Mt,nn,rn){return wo("avgPool3dBackprop")},st.prototype.maxPool3d=function(Mt,nn){return wo("maxPool3d")},st.prototype.maxPool3dBackprop=function(Mt,nn,rn,an){return wo("maxPool3dBackprop")},st.prototype.reshape=function(Mt,nn){return wo("reshape")},st.prototype.cast=function(Mt,nn){return wo("cast")},st.prototype.tile=function(Mt,nn){return wo("tile")},st.prototype.pad=function(Mt,nn,rn){return wo("pad")},st.prototype.transpose=function(Mt,nn){return wo("transpose")},st.prototype.gather=function(Mt,nn,rn){return wo("gather")},st.prototype.gatherND=function(Mt,nn){return wo("gatherND")},st.prototype.scatterND=function(Mt,nn,rn){return wo("scatterND")},st.prototype.batchToSpaceND=function(Mt,nn,rn){return wo("batchToSpaceND")},st.prototype.spaceToBatchND=function(Mt,nn,rn){return wo("spaceToBatchND")},st.prototype.resizeBilinear=function(Mt,nn,rn,an){return wo("resizeBilinear")},st.prototype.resizeBilinearBackprop=function(Mt,nn,rn){return wo("resizeBilinearBackprop")},st.prototype.resizeNearestNeighbor=function(Mt,nn,rn,an){return wo("resizeNearestNeighbor")},st.prototype.resizeNearestNeighborBackprop=function(Mt,nn,rn){return wo("resizeNearestNeighborBackprop")},st.prototype.batchNormalization=function(Mt,nn,rn,an,sn,un){return wo("batchNormalization")},st.prototype.localResponseNormalization4D=function(Mt,nn,rn,an,sn){return wo("localResponseNormalization4D")},st.prototype.LRNGrad=function(Mt,nn,rn,an,sn,un,ln){return wo("LRNGrad")},st.prototype.multinomial=function(Mt,nn,rn,an){return wo("multinomial")},st.prototype.oneHot=function(Mt,nn,rn,an){return wo("oneHot")},st.prototype.cumsum=function(Mt,nn,rn,an){return wo("cumsum")},st.prototype.nonMaxSuppression=function(Mt,nn,rn,an,sn){return wo("nonMaxSuppression")},st.prototype.fft=function(Mt){return wo("fft")},st.prototype.ifft=function(Mt){return wo("ifft")},st.prototype.complex=function(Mt,nn){return wo("complex")},st.prototype.real=function(Mt){return wo("real")},st.prototype.imag=function(Mt){return wo("imag")},st.prototype.cropAndResize=function(Mt,nn,rn,an,sn,un){return wo("cropAndResize")},st.prototype.depthToSpace=function(Mt,nn,rn){return wo("depthToSpace")},st.prototype.split=function(Mt,nn,rn){return wo("split")},st.prototype.sparseToDense=function(Mt,nn,rn,an){return wo("sparseToDense")},st.prototype.diag=function(Mt){return wo("diag")},st.prototype.fill=function(Mt,nn,rn){return wo("fill")},st.prototype.onesLike=function(Mt){return wo("onesLike")},st.prototype.zerosLike=function(Mt){return wo("zerosLike")},st.prototype.linspace=function(Mt,nn,rn){return wo("linspace")},st.prototype.dispose=function(){return wo("dispose")},st}();function wo(st){throw new Error("'"+st+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function Co(st,Mt){for(var nn=st.length,rn=[],an=0;an<nn;an++){var sn=nn-1-an,un=st[sn]||1;(Mt[Mt.length-1-an]||1)>1&&un===1&&rn.unshift(sn)}return rn}function Eo(st,Mt){for(var nn=[],rn=0;rn<Mt.length;rn++){var an=st[st.length-rn-1],sn=Mt.length-rn-1,un=Mt[sn];(an==null||an===1&&un>1)&&nn.unshift(sn)}return nn}function Ro(st,Mt){for(var nn=[],rn=Math.max(st.length,Mt.length),an=0;an<rn;an++){var sn=st[st.length-an-1];sn==null&&(sn=1);var un=Mt[Mt.length-an-1];if(un==null&&(un=1),sn===1)nn.unshift(un);else if(un===1)nn.unshift(sn);else{if(sn!==un)throw Error("Operands could not be broadcast together with shapes "+st+" and "+Mt+".");nn.unshift(sn)}}return nn}function Io(st,Mt,nn,rn,an,sn,un){un===void 0&&(un="channelsLast");var ln,cn=To(Mt),hn=cn[0],fn=cn[1];if(un==="channelsLast")ln=[hn,fn,st[3],st[3]];else{if(un!=="channelsFirst")throw new Error("Unknown dataFormat "+un);ln=[hn,fn,st[1],st[1]]}return So(st,ln,nn,rn,an,sn,!1,un)}function ko(st,Mt,nn,rn,an,sn,un){un===void 0&&(un="NDHWC");var ln,cn,hn=No(Mt),fn=hn[0],to=hn[1],Xr=hn[2];if(un==="NDHWC")cn="channelsLast",ln=[fn,to,Xr,st[4],st[4]];else{if(un!=="NCDHW")throw new Error("Unknown dataFormat "+un);cn="channelsFirst",ln=[fn,to,Xr,st[1],st[1]]}return Ao(st,ln,nn,rn,an,!1,cn,sn)}function So(st,Mt,nn,rn,an,sn,un,ln){un===void 0&&(un=!1),ln===void 0&&(ln="channelsLast");var cn=[-1,-1,-1,-1],hn=cn[0],fn=cn[1],to=cn[2],Xr=cn[3];if(ln==="channelsLast")hn=st[0],fn=st[1],to=st[2],Xr=st[3];else{if(ln!=="channelsFirst")throw new Error("Unknown dataFormat "+ln);hn=st[0],Xr=st[1],fn=st[2],to=st[3]}var uo,co=Mt[0],ho=Mt[1],e0=Mt[3],lo=To(nn),mo=lo[0],fo=lo[1],Uo=To(rn),t0=Uo[0],n0=Uo[1],i0=Fo(co,t0),a0=Fo(ho,n0),s0=function(g0,m0,u0,c0,r0,o0,f0,p0){var y0,x0,k0;if(typeof g0=="number"){y0={top:g0,bottom:g0,left:g0,right:g0,type:g0===0?"VALID":"NUMBER"};var b0=function(S0,T0,C0,w0,I0){w0==null&&(w0=Do(S0,T0,C0));var $0=S0[0],B0=S0[1],M0=_o(($0-T0+2*w0)/C0+1,I0);C(A(M0),function(){return"The output # of rows ("+M0+") must be an integer. Change the stride and/or zero pad parameters"});var D0=_o((B0-T0+2*w0)/C0+1,I0);return C(A(D0),function(){return"The output # of columns ("+D0+") must be an integer. Change the stride and/or zero pad parameters"}),[M0,D0]}([m0,u0],o0,c0,g0,p0);x0=b0[0],k0=b0[1]}else if(g0==="same"){x0=Math.ceil(m0/c0),k0=Math.ceil(u0/r0);var E0=Math.max(0,(x0-1)*c0+o0-m0),_0=Math.max(0,(k0-1)*r0+f0-u0),A0=Math.floor(E0/2),P0=E0-A0,R0=Math.floor(_0/2);y0={top:A0,bottom:P0,left:R0,right:_0-R0,type:"SAME"}}else{if(g0!=="valid")throw Error("Unknown padding parameter: "+g0);y0={top:0,bottom:0,left:0,right:0,type:"VALID"},x0=Math.ceil((m0-o0+1)/c0),k0=Math.ceil((u0-f0+1)/r0)}return{padInfo:y0,outHeight:x0,outWidth:k0}}(an,fn,to,mo,fo,i0,a0,sn),l0=s0.padInfo,d0=s0.outHeight,h0=s0.outWidth,v0=un?e0*Xr:e0;return ln==="channelsFirst"?uo=[hn,v0,d0,h0]:ln==="channelsLast"&&(uo=[hn,d0,h0,v0]),{batchSize:hn,dataFormat:ln,inHeight:fn,inWidth:to,inChannels:Xr,outHeight:d0,outWidth:h0,outChannels:v0,padInfo:l0,strideHeight:mo,strideWidth:fo,filterHeight:co,filterWidth:ho,effectiveFilterHeight:i0,effectiveFilterWidth:a0,dilationHeight:t0,dilationWidth:n0,inShape:st,outShape:uo,filterShape:Mt}}function Ao(st,Mt,nn,rn,an,sn,un,ln){sn===void 0&&(sn=!1),un===void 0&&(un="channelsLast");var cn=[-1,-1,-1,-1,-1],hn=cn[0],fn=cn[1],to=cn[2],Xr=cn[3],uo=cn[4];if(un==="channelsLast")hn=st[0],fn=st[1],to=st[2],Xr=st[3],uo=st[4];else{if(un!=="channelsFirst")throw new Error("Unknown dataFormat "+un);hn=st[0],uo=st[1],fn=st[2],to=st[3],Xr=st[4]}var co,ho=Mt[0],e0=Mt[1],lo=Mt[2],mo=Mt[4],fo=No(nn),Uo=fo[0],t0=fo[1],n0=fo[2],i0=No(rn),a0=i0[0],s0=i0[1],l0=i0[2],d0=Fo(ho,a0),h0=Fo(e0,s0),v0=Fo(lo,l0),g0=function(f0,p0,y0,x0,k0,b0,E0,_0,A0,P0,R0){var S0,T0,C0,w0;if(typeof f0=="number"){S0={top:f0,bottom:f0,left:f0,right:f0,front:f0,back:f0,type:f0===0?"VALID":"NUMBER"};var I0=function(L0,O0,z0,j0,W0,H0){W0==null&&(W0=Do(L0,O0,j0));var U0=L0[0],J0=L0[1],Z0=L0[2],X0=_o((U0-O0+2*W0)/j0+1,H0);C(A(X0),function(){return"The output # of depths ("+X0+") must be an integer. Change the stride and/or zero pad parameters"});var K0=_o((J0-O0+2*W0)/j0+1,H0);C(A(K0),function(){return"The output # of rows ("+K0+") must be an integer. Change the stride and/or zero pad parameters"});var Y0=_o((Z0-O0+2*W0)/j0+1,H0);return C(A(Y0),function(){return"The output # of columns ("+Y0+") must be an integer. Change the stride and/or zero pad parameters"}),[X0,K0,Y0,z0]}([p0,y0,x0,1],_0,1,k0,f0,R0);T0=I0[0],C0=I0[1],w0=I0[2]}else if(f0==="same"){T0=Math.ceil(p0/k0),C0=Math.ceil(y0/b0),w0=Math.ceil(x0/E0);var $0=(T0-1)*k0+_0-p0,B0=(C0-1)*b0+A0-y0,M0=(w0-1)*E0+P0-x0,D0=Math.floor($0/2),G0=$0-D0,F0=Math.floor(B0/2),V0=B0-F0,N0=Math.floor(M0/2);S0={top:F0,bottom:V0,left:N0,right:M0-N0,front:D0,back:G0,type:"SAME"}}else{if(f0!=="valid")throw Error("Unknown padding parameter: "+f0);S0={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},T0=Math.ceil((p0-_0+1)/k0),C0=Math.ceil((y0-A0+1)/b0),w0=Math.ceil((x0-P0+1)/E0)}return{padInfo:S0,outDepth:T0,outHeight:C0,outWidth:w0}}(an,fn,to,Xr,Uo,t0,n0,d0,h0,v0,ln),m0=g0.padInfo,u0=g0.outDepth,c0=g0.outHeight,r0=g0.outWidth,o0=sn?mo*uo:mo;return un==="channelsFirst"?co=[hn,o0,u0,c0,r0]:un==="channelsLast"&&(co=[hn,u0,c0,r0,o0]),{batchSize:hn,dataFormat:un,inDepth:fn,inHeight:to,inWidth:Xr,inChannels:uo,outDepth:u0,outHeight:c0,outWidth:r0,outChannels:o0,padInfo:m0,strideDepth:Uo,strideHeight:t0,strideWidth:n0,filterDepth:ho,filterHeight:e0,filterWidth:lo,effectiveFilterDepth:d0,effectiveFilterHeight:h0,effectiveFilterWidth:v0,dilationDepth:a0,dilationHeight:s0,dilationWidth:l0,inShape:st,outShape:co,filterShape:Mt}}function Do(st,Mt,nn,rn){rn===void 0&&(rn=1);var an=Fo(Mt,rn);return Math.floor((st[0]*(nn-1)-nn+an)/2)}function To(st){return typeof st=="number"?[st,st,st]:st.length===2?[st[0],st[1],1]:st}function No(st){return typeof st=="number"?[st,st,st]:st}function Fo(st,Mt){return Mt<=1?st:st+(st-1)*(Mt-1)}function _o(st,Mt){if(!Mt)return st;switch(Mt){case"round":return Math.round(st);case"ceil":return Math.ceil(st);case"floor":return Math.floor(st);default:throw new Error("Unknown roundingMode "+Mt)}}function Oo(st){var Mt=To(st),nn=Mt[0],rn=Mt[1],an=Mt[2];return nn===1&&rn===1&&an===1}function Mo(st,Mt){return Oo(st)||Oo(Mt)}function Bo(st){if(st==="NHWC")return"channelsLast";if(st==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+st)}function Po(st,Mt,nn){if(Mt==="complex64"){if(st.dtype==="complex64")return st.clone();var rn=Gn(st.shape),an=st.toFloat(),sn=nn.complex(an,rn);return rn.dispose(),an.dispose(),sn}if(!U(st.dtype,Mt))return Lt.makeTensorFromDataId(st.dataId,st.shape,Mt);if(st.dtype==="complex64"){var un=nn.real(st);return sn=un.cast(Mt),un.dispose(),sn}if(Mt==="int32")return nn.int(st);if(Mt==="bool"){var ln=On(0,st.dtype);return sn=nn.notEqual(st,ln),ln.dispose(),sn}throw new Error("Error in Cast: failed to cast "+st.dtype+" to "+Mt)}function Lo(st,Mt){return Lt.makeTensorFromDataId(st.dataId,Mt,st.dtype)}function Wo(st,Mt,nn){var rn=(Mt-st)/(nn-1),an=tt(nn,"float32");an[0]=st;for(var sn=1;sn<an.length;sn++)an[sn]=an[sn-1]+rn;return Mn(an,"float32")}function Vo(st,Mt){if(st.length!==Mt.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+st.length+", imag: "+Mt.length+".");for(var nn=new Float32Array(2*st.length),rn=0;rn<nn.length;rn+=2)nn[rn]=st[rn/2],nn[rn+1]=Mt[rn/2];return nn}function zo(st,Mt){return{real:st[2*Mt],imag:st[2*Mt+1]}}function Go(st,Mt,nn,rn){st[2*rn]=Mt,st[2*rn+1]=nn}function Ho(st,Mt,nn){var rn=(nn?2:-2)*Math.PI*(st/Mt);return{real:Math.cos(rn),imag:Math.sin(rn)}}function qo(st,Mt,nn){var rn=function(sn,un,ln){return function(cn,hn,fn){for(var to=0,Xr=cn.length,uo=0,co=!1;to<Xr;){var ho=fn(hn,cn[uo=to+(Xr-to>>>1)]);ho>0?to=uo+1:(Xr=uo,co=!ho)}return co?to:-to-1}(sn,un,ln||Ko)}(st,Mt,nn),an=rn<0?-(rn+1):rn;st.splice(an,0,Mt)}function Ko(st,Mt){return st>Mt?1:st<Mt?-1:0}function jo(st,Mt,nn,rn,an){return Yo(st,Mt,nn,rn,an,0).selectedIndices}function Xo(st,Mt,nn,rn,an,sn){var un=Yo(st,Mt,nn,rn,an,sn);return un.numValidOutputs.dispose(),{selectedIndices:un.selectedIndices,selectedScores:un.selectedScores}}function Yo(st,Mt,nn,rn,an,sn,un,ln){ln===void 0&&(ln=!1);for(var cn=Array.from(Mt).map(function(Uo,t0){return{score:Uo,boxIndex:t0,suppressBeginIndex:0}}).filter(function(Uo){return Uo.score>an}).sort(Jo),hn=sn>0?-.5/sn:0,fn=[],to=[];fn.length<nn&&cn.length>0;){var Xr=cn.pop(),uo=Xr.score,co=Xr.boxIndex,ho=Xr.suppressBeginIndex;if(uo<an)break;for(var e0=!1,lo=fn.length-1;lo>=ho;--lo){var mo=$o(st,co,fn[lo]);if(mo>=rn){e0=!0;break}if(Xr.score=Xr.score*Qo(rn,hn,mo),Xr.score<=an)break}Xr.suppressBeginIndex=fn.length,e0||(Xr.score===uo?(fn.push(co),to.push(Xr.score)):Xr.score>an&&qo(cn,Xr,Jo))}var fo=fn.length;return ln&&(fn.fill(0,fo),to.fill(0,fo)),{selectedIndices:Mn(fn,"int32"),selectedScores:Mn(to,"float32"),numValidOutputs:On(fo,"int32")}}function $o(st,Mt,nn){var rn=st.subarray(4*Mt,4*Mt+4),an=st.subarray(4*nn,4*nn+4),sn=Math.min(rn[0],rn[2]),un=Math.min(rn[1],rn[3]),ln=Math.max(rn[0],rn[2]),cn=Math.max(rn[1],rn[3]),hn=Math.min(an[0],an[2]),fn=Math.min(an[1],an[3]),to=Math.max(an[0],an[2]),Xr=Math.max(an[1],an[3]),uo=(ln-sn)*(cn-un),co=(to-hn)*(Xr-fn);if(uo<=0||co<=0)return 0;var ho=Math.max(sn,hn),e0=Math.max(un,fn),lo=Math.min(ln,to),mo=Math.min(cn,Xr),fo=Math.max(lo-ho,0)*Math.max(mo-e0,0);return fo/(uo+co-fo)}function Qo(st,Mt,nn){var rn=Math.exp(Mt*nn*nn);return nn<=st?rn:0}function Jo(st,Mt){return st.score-Mt.score||st.score===Mt.score&&Mt.boxIndex-st.boxIndex}function Zo(st,Mt,nn){var rn=new Array(st.rank).fill(0),an=st.shape.slice();return Mt.map(function(sn){an[nn]=sn;var un=st.slice(rn,an);return rn[nn]+=sn,un})}function ta(st,Mt){for(var nn=new Array(st.rank),rn=0;rn<nn.length;rn++)nn[rn]=st.shape[rn]*Mt[rn];var an=dr(nn,st.dtype);for(rn=0;rn<an.values.length;++rn){for(var sn=an.indexToLoc(rn),un=new Array(st.rank),ln=0;ln<un.length;ln++)un[ln]=sn[ln]%st.shape[ln];var cn=st.locToIndex(un);an.values[rn]=st.values[cn]}return an.toTensor()}function ea(st,Mt,nn,rn,an){for(var sn=Mt[Mt.length-1],un=[st.length/sn,sn],ln=un[0],cn=un[1],hn=B(nn,ln*rn),fn=B("int32",ln*rn),to=0;to<ln;to++){for(var Xr=to*cn,uo=st.subarray(Xr,Xr+cn),co=[],ho=0;ho<uo.length;ho++)co.push({value:uo[ho],index:ho});co.sort(function(Uo,t0){return t0.value-Uo.value});var e0=to*rn,lo=hn.subarray(e0,e0+rn),mo=fn.subarray(e0,e0+rn);for(ho=0;ho<rn;ho++)lo[ho]=co[ho].value,mo[ho]=co[ho].index}var fo=Mt.slice();return fo[fo.length-1]=rn,[Fn(hn,fo,nn),Fn(fn,fo,"int32")]}function na(st,Mt){for(var nn=[],rn=0;rn<Mt.length;rn++)Mt[rn]&&nn.push(rn);var an=dr(st,"int32"),sn=dr([nn.length,st.length],"int32");for(rn=0;rn<nn.length;rn++){var un=an.indexToLoc(nn[rn]),ln=rn*st.length;sn.values.set(un,ln)}return sn.toTensor()}var ra=function(st,Mt){this.outputShape=[],this.outputShape=st,this.variableNames=Mt.map(function(an,sn){return"T"+sn});var nn=[];this.variableNames.forEach(function(an){nn.push("float v"+an+" = get"+an+"AtOutCoords();")});var rn=this.variableNames.map(function(an){return"v"+an}).join(" + ");this.userCode=`
      void main() {
        `+nn.join(`
        `)+`

        float result = `+rn+`;
        setOutput(result);
      }
    `},oa=function(st,Mt){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=st,this.variableNames=Mt.map(function(an,sn){return"T"+sn});var nn=[];this.variableNames.forEach(function(an){nn.push("vec4 v"+an+" = get"+an+"AtOutCoords();")});var rn=this.variableNames.map(function(an){return"v"+an}).join(" + ");this.userCode=`
      void main() {
        `+nn.join(`
        `)+`

        vec4 result = `+rn+`;
        setOutput(result);
      }
    `},aa=function(st,Mt,nn){this.variableNames=["A"];var rn=st.windowSize,an=st.batchSize,sn=st.inSize,un=Math.ceil(sn/rn);nn||this.variableNames.push("bestIndicesA"),this.outputShape=[an,un];var ln=Mt==="max"?">":"<",cn=nn?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+rn+`;

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < `+rn+`; i++) {
          int inIdx = `+cn+`;
          float candidate = getA(batch, inIdx);
          if (candidate `+ln+` bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `};function ia(st,Mt){return["x","y","z","w","u","v"].slice(0,Mt).map(function(nn){return st+"."+nn})}function sa(st,Mt){return Mt===1?[st]:ia(st,Mt)}function ua(){var st,Mt,nn,rn,an,sn,un,ln,cn,hn;return i$1().getNumber("WEBGL_VERSION")===2?(st="#version 300 es",Mt="in",nn="out",rn="in",an="texture",sn="outputColor",un="out vec4 outputColor;",ln=`
      bool isnan_custom(float val) {
        return (val > 0.0 || val < 0.0) ? false : val != 0.0;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,cn="",hn=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(st="",Mt="attribute",nn="varying",rn="varying",an="texture2D",sn="gl_FragColor",un="",ln=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,cn=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,hn=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:st,attribute:Mt,varyingVs:nn,varyingFs:rn,texture2D:an,output:sn,defineOutput:un,defineSpecialNaN:ln,defineSpecialInf:cn,defineRound:hn}}function ca(st,Mt,nn){nn===void 0&&(nn="index");var rn=$(Mt);return rn.map(function(an,sn){return"int "+st[sn]+" = "+nn+" / "+an+"; "+(sn===rn.length-1?"int "+st[sn+1]+" = "+nn+" - "+st[sn]+" * "+an:"index -= "+st[sn]+" * "+an)+";"}).join("")}function la(st){var Mt=$(st).map(function(nn){return nn.toString()});return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * `+Mt[0]+" + coords.y * "+Mt[1]+` + coords.z;
  }
`}var ha=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;function fa(st,Mt,nn,rn){var an=[];st.forEach(function(uo){var co=k(uo.shapeInfo.logicalShape);uo.shapeInfo.isUniform?an.push("uniform float "+uo.name+(co>1?"["+co+"]":"")+";"):(an.push("uniform sampler2D "+uo.name+";"),an.push("uniform int offset"+uo.name+";"))});var sn,un,ln=an.join(`
`),cn=st.map(function(uo){return function(co,ho,e0){e0===void 0&&(e0=!1);var lo="";lo+=e0?pa(co):da(co);var mo=co.shapeInfo.logicalShape,fo=ho.logicalShape;return mo.length<=fo.length&&(lo+=e0?function(Uo,t0){var n0,i0=Uo.name,a0=i0.charAt(0).toUpperCase()+i0.slice(1),s0="get"+a0+"AtOutCoords",l0=Uo.shapeInfo.logicalShape.length,d0=t0.logicalShape.length,h0=Co(Uo.shapeInfo.logicalShape,t0.logicalShape),v0=wa(d0),g0=d0-l0,m0=["x","y","z","w","u","v"];n0=l0===0?"":d0<2&&h0.length>=1?"coords = 0;":h0.map(function(y0){return"coords."+m0[y0+g0]+" = 0;"}).join(`
`);var u0="";u0=d0<2&&l0>0?"coords":Uo.shapeInfo.logicalShape.map(function(y0,x0){return"coords."+m0[x0+g0]}).join(", ");var c0="return outputValue;",r0=k(Uo.shapeInfo.logicalShape)===1,o0=k(t0.logicalShape)===1;if(l0!==1||r0||o0){if(r0&&!o0)c0=d0===1?`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:`
        return vec4(outputValue.x);
      `;else if(h0.length){var f0=l0-2,p0=l0-1;h0.indexOf(f0)>-1&&h0.indexOf(p0)>-1?c0="return vec4(outputValue.x);":h0.indexOf(f0)>-1?c0="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":h0.indexOf(p0)>-1&&(c0="return vec4(outputValue.xx, outputValue.zz);")}}else c0=`
      return vec4(outputValue.xy, outputValue.xy);
    `;return`
    vec4 `+s0+`() {
      `+v0+` coords = getOutputCoords();
      `+n0+`
      vec4 outputValue = get`+a0+"("+u0+`);
      `+c0+`
    }
  `}(co,ho):function(Uo,t0){var n0=Uo.name,i0=n0.charAt(0).toUpperCase()+n0.slice(1),a0="get"+i0+"AtOutCoords",s0=t0.texShape,l0=Uo.shapeInfo.texShape,d0=Uo.shapeInfo.logicalShape.length,h0=t0.logicalShape.length;if(!Uo.shapeInfo.isUniform&&d0===h0&&Uo.shapeInfo.flatOffset==null&&S(l0,s0))return`
      float `+a0+`() {
        return sampleTexture(`+n0+`, resultUV);
      }
    `;var v0,g0=wa(h0),m0=Co(Uo.shapeInfo.logicalShape,t0.logicalShape),u0=h0-d0,c0=["x","y","z","w","u","v"];v0=d0===0?"":h0<2&&m0.length>=1?"coords = 0;":m0.map(function(o0){return"coords."+c0[o0+u0]+" = 0;"}).join(`
`);var r0="";return r0=h0<2&&d0>0?"coords":Uo.shapeInfo.logicalShape.map(function(o0,f0){return"coords."+c0[f0+u0]}).join(", "),`
    float `+a0+`() {
      `+g0+` coords = getOutputCoords();
      `+v0+`
      return get`+i0+"("+r0+`);
    }
  `}(co,ho)),lo}(uo,Mt,rn)}).join(`
`),hn=Mt.texShape,fn=ua(),to=function(uo){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return `+uo.texture2D+`(textureSampler, uv).r;
    }
  `}(fn),Xr=function(uo){return uo.version+`
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    `+uo.varyingFs+` vec2 resultUV;
    `+uo.defineOutput+`
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    `+uo.defineSpecialNaN+`
    `+uo.defineSpecialInf+`
    `+uo.defineRound+`

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    `+va+`
    `+ma+`
    `+ga+`
  `}(fn);return Mt.isPacked?(sn=function(uo,co){switch(uo.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(Uo,t0){var n0=[Math.ceil(t0[0]/2),Math.ceil(t0[1]/2)];return n0[0]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * `+n0[1]+`.0);
      }
    `:n0[1]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * `+n0[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+n0[0]+", "+n0[1]+`));
      return 2 * (resTexRC.x * `+n0[1]+` + resTexRC.y);
    }
  `}(0,co);case 2:return function(Uo,t0){var n0=[Math.ceil(t0[0]/2),Math.ceil(t0[1]/2)];if(S(Uo,t0))return`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(`+n0[0]+", "+n0[1]+`));
      }
    `;var i0=Math.ceil(Uo[1]/2);return`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+n0[0]+", "+n0[1]+`));

      int index = resTexRC.x * `+n0[1]+` + resTexRC.y;
      int r = 2 * (index / `+i0+`);
      int c = imod(index, `+i0+`) * 2;

      return ivec2(r, c);
    }
  `}(uo,co);case 3:return ho=uo,e0=co,lo=[Math.ceil(e0[0]/2),Math.ceil(e0[1]/2)],mo=Math.ceil(ho[2]/2),fo=mo*Math.ceil(ho[1]/2),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+lo[0]+", "+lo[1]+`));
      int index = resTexRC.x * `+lo[1]+` + resTexRC.y;

      int b = index / `+fo+`;
      index -= b * `+fo+`;

      int r = 2 * (index / `+mo+`);
      int c = imod(index, `+mo+`) * 2;

      return ivec3(b, r, c);
    }
  `;default:return function(Uo,t0){for(var n0=[Math.ceil(t0[0]/2),Math.ceil(t0[1]/2)],i0=Math.ceil(Uo[Uo.length-1]/2),a0=i0*Math.ceil(Uo[Uo.length-2]/2),s0=a0,l0="",d0="b, r, c",h0=2;h0<Uo.length-1;h0++)s0*=Uo[Uo.length-h0-1],l0=`
      int b`+h0+" = index / "+s0+`;
      index -= b`+h0+" * "+s0+`;
    `+l0,d0="b"+h0+", "+d0;return`
    ivec`+Uo.length+` getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+n0[0]+", "+n0[1]+`));
      int index = resTexRC.x * `+n0[1]+` + resTexRC.y;

      `+l0+`

      int b = index / `+a0+`;
      index -= b * `+a0+`;

      int r = 2 * (index / `+i0+`);
      int c = imod(index, `+i0+`) * 2;

      return ivec`+Uo.length+"("+d0+`);
    }
  `}(uo,co)}var ho,e0,lo,mo,fo}(Mt.logicalShape,hn),un=function(uo){return`
    void setOutput(vec4 val) {
      `+uo.output+` = val;
    }
  `}(fn)):(sn=function(uo,co){switch(uo.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(lo,mo){return mo[0]===1?`
      int getOutputCoords() {
        return int(resultUV.x * `+mo[1]+`.0);
      }
    `:mo[1]===1?`
      int getOutputCoords() {
        return int(resultUV.y * `+mo[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+mo[0]+", "+mo[1]+`));
      return resTexRC.x * `+mo[1]+` + resTexRC.y;
    }
  `}(0,co);case 2:return function(lo,mo){return S(lo,mo)?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(`+mo[0]+", "+mo[1]+`));
      }
    `:lo[1]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+mo[0]+", "+mo[1]+`));
        int index = resTexRC.x * `+mo[1]+` + resTexRC.y;
        return ivec2(index, 0);
      }
    `:lo[0]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+mo[0]+", "+mo[1]+`));
        int index = resTexRC.x * `+mo[1]+` + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+mo[0]+", "+mo[1]+`));
      int index = resTexRC.x * `+mo[1]+` + resTexRC.y;
      int r = index / `+lo[1]+`;
      int c = index - r * `+lo[1]+`;
      return ivec2(r, c);
    }
  `}(uo,co);case 3:return ho=co,e0=ca(["r","c","d"],uo),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+ho[0]+", "+ho[1]+`));
      int index = resTexRC.x * `+ho[1]+` + resTexRC.y;
      `+e0+`
      return ivec3(r, c, d);
    }
  `;case 4:return function(lo,mo){var fo=ca(["r","c","d","d2"],lo);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+mo[0]+", "+mo[1]+`));
      int index = resTexRC.x * `+mo[1]+` + resTexRC.y;
      `+fo+`
      return ivec4(r, c, d, d2);
    }
  `}(uo,co);case 5:return function(lo,mo){var fo=ca(["r","c","d","d2","d3"],lo);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(`+mo[0]+`,
                             `+mo[1]+`));

      int index = resTexRC.x * `+mo[1]+` + resTexRC.y;

      `+fo+`

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}(uo,co);case 6:return function(lo,mo){var fo=ca(["r","c","d","d2","d3","d4"],lo);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+mo[0]+", "+mo[1]+`));
      int index = resTexRC.x * `+mo[1]+` + resTexRC.y;

      `+fo+`

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}(uo,co);default:throw new Error(uo.length+"-D output sampling is not yet supported")}var ho,e0}(Mt.logicalShape,hn),un=function(uo){return`
    void setOutput(float val) {
      `+uo.output+` = vec4(val, 0, 0, 0);
    }
  `}(fn)),rn&&(Xr+=ya),[Xr,to,un,ln,sn,cn,nn].join(`
`)}function da(st){var Mt=st.shapeInfo.logicalShape;switch(Mt.length){case 0:return function(nn){var rn=nn.name,an="get"+rn.charAt(0).toUpperCase()+rn.slice(1);if(nn.shapeInfo.isUniform)return"float "+an+"() {return "+rn+";}";var sn=nn.shapeInfo.texShape,un=sn[0],ln=sn[1];if(un===1&&ln===1)return`
      float `+an+`() {
        return sampleTexture(`+rn+`, halfCR);
      }
    `;var cn=nn.shapeInfo.texShape,hn=cn[0],fn=cn[1],to=xa(rn);return`
    float `+an+`() {
      vec2 uv = uvFromFlat(`+hn+", "+fn+", "+to+`);
      return sampleTexture(`+rn+`, uv);
    }
  `}(st);case 1:return function(nn){var rn=nn.name,an="get"+rn.charAt(0).toUpperCase()+rn.slice(1);if(nn.shapeInfo.isUniform)return`
      float `+an+`(int index) {
        `+ba(nn)+`
      }
    `;var sn=nn.shapeInfo.texShape,un=sn[0],ln=sn[1];if(ln===1&&un===1)return`
      float `+an+`(int index) {
        return sampleTexture(`+rn+`, halfCR);
      }
    `;var cn=xa(rn);return ln===1?`
      float `+an+`(int index) {
        vec2 uv = vec2(0.5, (float(index + `+cn+") + 0.5) / "+un+`.0);
        return sampleTexture(`+rn+`, uv);
      }
    `:un===1?`
      float `+an+`(int index) {
        vec2 uv = vec2((float(index + `+cn+") + 0.5) / "+ln+`.0, 0.5);
        return sampleTexture(`+rn+`, uv);
      }
    `:`
    float `+an+`(int index) {
      vec2 uv = uvFromFlat(`+un+", "+ln+", index + "+cn+`);
      return sampleTexture(`+rn+`, uv);
    }
  `}(st);case 2:return function(nn){var rn=nn.shapeInfo.logicalShape,an=nn.name,sn="get"+an.charAt(0).toUpperCase()+an.slice(1),un=nn.shapeInfo.texShape;if(un!=null&&S(rn,un)){var ln=un[0],cn=un[1];return`
    float `+sn+`(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(`+cn+".0, "+ln+`.0);
      return sampleTexture(`+an+`, uv);
    }
  `}var hn=M(rn),fn=hn.newShape,to=hn.keptDims,Xr=fn;if(Xr.length<rn.length){var uo=Ca(nn,Xr);return`
      `+da(uo)+`
      float `+sn+`(int row, int col) {
        return `+sn+"("+Ea(["row","col"],to)+`);
      }
    `}if(nn.shapeInfo.isUniform)return`
      float `+sn+`(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(`+rn[1]+`, 1)));
        `+ba(nn)+`
      }
    `;var co=un[0],ho=un[1],e0=xa(an);return ho===1?`
    float `+sn+`(int row, int col) {
      float index = dot(vec3(row, col, `+e0+"), vec3("+rn[1]+`, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / `+co+`.0);
      return sampleTexture(`+an+`, uv);
    }
  `:co===1?`
    float `+sn+`(int row, int col) {
      float index = dot(vec3(row, col, `+e0+"), vec3("+rn[1]+`, 1, 1));
      vec2 uv = vec2((index + 0.5) / `+ho+`.0, 0.5);
      return sampleTexture(`+an+`, uv);
    }
  `:`
  float `+sn+`(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * `+rn[1]+" + col + "+e0+`;
    vec2 uv = uvFromFlat(`+co+", "+ho+`, index);
    return sampleTexture(`+an+`, uv);
  }
`}(st);case 3:return function(nn){var rn=nn.shapeInfo.logicalShape,an=nn.name,sn="get"+an.charAt(0).toUpperCase()+an.slice(1),un=rn[1]*rn[2],ln=rn[2],cn=M(rn),hn=cn.newShape,fn=cn.keptDims,to=hn;if(to.length<rn.length){var Xr=Ca(nn,to);return`
        `+da(Xr)+`
        float `+sn+`(int row, int col, int depth) {
          return `+sn+"("+Ea(["row","col","depth"],fn)+`);
        }
      `}if(nn.shapeInfo.isUniform)return`
      float `+sn+`(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(`+un+", "+ln+`, 1)));
        `+ba(nn)+`
      }
    `;var uo=nn.shapeInfo.texShape,co=uo[0],ho=uo[1],e0=nn.shapeInfo.flatOffset;if(ho===un&&e0==null)return`
        float `+sn+`(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(`+ln+`, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(`+ho+".0, "+co+`.0);
          return sampleTexture(`+an+`, uv);
        }
      `;if(ho===ln&&e0==null)return`
    float `+sn+`(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(`+rn[1]+`, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+ho+".0, "+co+`.0);
      return sampleTexture(`+an+`, uv);
    }
  `;var lo=xa(an);return`
      float `+sn+`(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * `+un+" + col * "+ln+" + depth + "+lo+`;
        vec2 uv = uvFromFlat(`+co+", "+ho+`, index);
        return sampleTexture(`+an+`, uv);
      }
  `}(st);case 4:return function(nn){var rn=nn.shapeInfo.logicalShape,an=nn.name,sn="get"+an.charAt(0).toUpperCase()+an.slice(1),un=rn[3],ln=rn[2]*un,cn=rn[1]*ln,hn=M(rn),fn=hn.newShape,to=hn.keptDims;if(fn.length<rn.length){var Xr=Ca(nn,fn);return`
      `+da(Xr)+`
      float `+sn+`(int row, int col, int depth, int depth2) {
        return `+sn+"("+Ea(["row","col","depth","depth2"],to)+`);
      }
    `}if(nn.shapeInfo.isUniform)return`
      float `+sn+`(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(`+cn+", "+ln+", "+un+`, 1)));
        `+ba(nn)+`
      }
    `;var uo=nn.shapeInfo.flatOffset,co=nn.shapeInfo.texShape,ho=co[0],e0=co[1];if(e0===cn&&uo==null)return`
      float `+sn+`(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(`+ln+", "+un+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+e0+".0, "+ho+`.0);
        return sampleTexture(`+an+`, uv);
      }
    `;if(e0===un&&uo==null)return`
      float `+sn+`(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(`+rn[1]*rn[2]+", "+rn[2]+`, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+e0+".0, "+ho+`.0);
        return sampleTexture(`+an+`, uv);
      }
    `;var lo=xa(an);return`
    float `+sn+`(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+cn+" + col * "+ln+` +
          depth * `+un+` + depth2;
      vec2 uv = uvFromFlat(`+ho+", "+e0+", index + "+lo+`);
      return sampleTexture(`+an+`, uv);
    }
  `}(st);case 5:return function(nn){var rn=nn.shapeInfo.logicalShape,an=nn.name,sn="get"+an.charAt(0).toUpperCase()+an.slice(1),un=rn[4],ln=rn[3]*un,cn=rn[2]*ln,hn=rn[1]*cn,fn=M(rn),to=fn.newShape,Xr=fn.keptDims;if(to.length<rn.length){var uo=Ca(nn,to);return`
      `+da(uo)+`
      float `+sn+`(int row, int col, int depth, int depth2, int depth3) {
        return `+sn+"("+Ea(["row","col","depth","depth2","depth3"],Xr)+`);
      }
    `}if(nn.shapeInfo.isUniform)return`
      float `+sn+`(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(`+hn+", "+cn+", "+ln+", "+un+`)) +
          depth3;
        `+ba(nn)+`
      }
    `;var co=nn.shapeInfo.flatOffset,ho=nn.shapeInfo.texShape,e0=ho[0],lo=ho[1];if(lo===hn&&co==null)return`
      float `+sn+`(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(`+cn+", "+ln+", "+un+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+lo+".0, "+e0+`.0);
        return sampleTexture(`+an+`, uv);
      }
    `;if(lo===un&&co==null)return`
      float `+sn+`(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(`+rn[1]*rn[2]*rn[3]+`,
               `+rn[2]*rn[3]+", "+rn[3]+`, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+lo+".0, "+e0+`.0);
        return sampleTexture(`+an+`, uv);
      }
    `;var mo=xa(an);return`
    float `+sn+`(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+hn+" + col * "+cn+" + depth * "+ln+` +
          depth2 * `+un+" + depth3 + "+mo+`;
      vec2 uv = uvFromFlat(`+e0+", "+lo+`, index);
      return sampleTexture(`+an+`, uv);
    }
  `}(st);case 6:return function(nn){var rn=nn.shapeInfo.logicalShape,an=nn.name,sn="get"+an.charAt(0).toUpperCase()+an.slice(1),un=M(rn),ln=un.newShape,cn=un.keptDims;if(ln.length<rn.length){var hn=Ca(nn,ln);return`
      `+da(hn)+`
      float `+sn+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return `+sn+"("+Ea(["row","col","depth","depth2","depth3","depth4"],cn)+`);
      }
    `}var fn=rn[5],to=rn[4]*fn,Xr=rn[3]*to,uo=rn[2]*Xr,co=rn[1]*uo;if(nn.shapeInfo.isUniform)return`
      float `+sn+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(`+co+", "+uo+", "+Xr+", "+to+`)) +
          dot(
            vec2(depth3, depth4),
            vec2(`+fn+`, 1)));
        `+ba(nn)+`
      }
    `;var ho=nn.shapeInfo.flatOffset,e0=nn.shapeInfo.texShape,lo=e0[0],mo=e0[1];if(mo===co&&ho==null)return`
      float `+sn+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(`+uo+", "+Xr+", "+to+", "+fn+`)) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+mo+".0, "+lo+`.0);
        return sampleTexture(`+an+`, uv);
      }
    `;if(mo===fn&&ho==null)return`
      float `+sn+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(`+rn[1]*rn[2]*rn[3]*rn[4]+`,
               `+rn[2]*rn[3]*rn[4]+`,
               `+rn[3]*rn[4]+`,
               `+rn[4]+`)) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+mo+".0, "+lo+`.0);
        return sampleTexture(`+an+`, uv);
      }
    `;var fo=xa(an);return`
    float `+sn+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+co+" + col * "+uo+" + depth * "+Xr+` +
          depth2 * `+to+" + depth3 * "+fn+" + depth4 + "+fo+`;
      vec2 uv = uvFromFlat(`+lo+", "+mo+`, index);
      return sampleTexture(`+an+`, uv);
    }
  `}(st);default:throw new Error(Mt.length+"-D input sampling is not yet supported")}}function pa(st){var Mt,nn,rn;switch(st.shapeInfo.logicalShape.length){case 0:return Mt=st.name,nn="get"+Mt.charAt(0).toUpperCase()+Mt.slice(1),rn=ua(),`
    vec4 `+nn+`() {
      return `+rn.texture2D+"("+Mt+`, halfCR);
    }
  `;case 1:return function(an){var sn=an.name,un="get"+sn.charAt(0).toUpperCase()+sn.slice(1),ln=an.shapeInfo.texShape,cn=[Math.ceil(ln[0]/2),Math.ceil(ln[1]/2)],hn=ua();return`
    vec4 `+un+`(int index) {
      vec2 uv = packedUVfrom1D(
        `+cn[0]+", "+cn[1]+`, index);
      return `+hn.texture2D+"("+sn+`, uv);
    }
  `}(st);case 2:return function(an){var sn=an.shapeInfo.logicalShape,un=an.name,ln="get"+un.charAt(0).toUpperCase()+un.slice(1),cn=an.shapeInfo.texShape,hn=cn[0],fn=cn[1],to=ua();if(cn!=null&&S(sn,cn))return`
      vec4 `+ln+`(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(`+fn+".0, "+hn+`.0);

        return `+to.texture2D+"("+un+`, uv);
      }
    `;var Xr=[Math.ceil(cn[0]/2),Math.ceil(cn[1]/2)],uo=Math.ceil(sn[1]/2);return`
    vec4 `+ln+`(int row, int col) {
      vec2 uv = packedUVfrom2D(`+uo+", "+Xr[0]+", "+Xr[1]+`, row, col);
      return `+to.texture2D+"("+un+`, uv);
    }
  `}(st);case 3:return function(an){var sn=an.shapeInfo.logicalShape,un=an.name,ln="get"+un.charAt(0).toUpperCase()+un.slice(1),cn=an.shapeInfo.texShape,hn=[Math.ceil(cn[0]/2),Math.ceil(cn[1]/2)];if(sn[0]===1){var fn=sn.slice(1),to=Ca(an,fn);return`
        `+pa(to)+`
        vec4 `+ln+`(int b, int row, int col) {
          return `+ln+"("+Ea(["b","row","col"],[1,2])+`);
        }
      `}var Xr=hn[0],uo=hn[1],co=Math.ceil(sn[2]/2),ho=co*Math.ceil(sn[1]/2),e0=ua();return`
    vec4 `+ln+`(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        `+Xr+", "+uo+", "+ho+", "+co+`, b, row, col);
      return `+e0.texture2D+"("+un+`, uv);
    }
  `}(st);default:return function(an){for(var sn=an.shapeInfo.logicalShape,un=sn.length,ln=an.name,cn="get"+ln.charAt(0).toUpperCase()+ln.slice(1),hn=an.shapeInfo.texShape,fn=[Math.ceil(hn[0]/2),Math.ceil(hn[1]/2)],to=fn[0],Xr=fn[1],uo=Math.ceil(sn[un-1]/2),co=uo*Math.ceil(sn[un-2]/2),ho="int b, int row, int col",e0="b * "+co+" + (row / 2) * "+uo+" + (col / 2)",lo=2;lo<un-1;lo++)ho="int b"+lo+", "+ho,co*=sn[un-lo-1],e0="b"+lo+" * "+co+" + "+e0;var mo=ua();return`
    vec4 `+cn+"("+ho+`) {
      int index = `+e0+`;
      int texR = index / `+Xr+`;
      int texC = index - texR * `+Xr+`;
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+Xr+", "+to+`);
      return `+mo.texture2D+"("+ln+`, uv);
    }
  `}(st)}}var va=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,ma=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,ga=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,ya=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function xa(st){return"offset"+st}function ba(st){var Mt=st.name,nn=k(st.shapeInfo.logicalShape);return nn<2?"return "+Mt+";":`
    for (int i = 0; i < `+nn+`; i++) {
      if (i == index) {
        return `+Mt+`[i];
      }
    }
  `}function wa(st){if(st<=1)return"int";if(st===2)return"ivec2";if(st===3)return"ivec3";if(st===4)return"ivec4";if(st===5)return"ivec5";if(st===6)return"ivec6";throw Error("GPU for rank "+st+" is not yet supported")}function Ca(st,Mt){var nn=JSON.parse(JSON.stringify(st));return nn.shapeInfo.logicalShape=Mt,nn}function Ea(st,Mt){return Mt.map(function(nn){return st[nn]}).join(", ")}var Ra=function(st,Mt,nn,rn){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,C(st.length>2,function(){return"Packed arg"+(nn.charAt(0).toUpperCase()+nn.slice(1))+" supports only inputs with rank above 2."});var an=st[st.length-1],sn=Math.ceil(an/Mt);this.outputShape=st.slice(0,-1),sn>1&&this.outputShape.push(sn),rn||this.variableNames.push("bestIndicesA");var un,ln,cn=this.outputShape,hn=cn.length,fn=wa(hn),to=sa("coords",hn);if(sn===1){var Xr=wa(ln=hn+1);un=`
        `+Xr+" sourceLocR = "+Xr+"("+to.join()+`, 0);
        ++`+to[hn-1]+`;
        `+Xr+" sourceLocG = "+Xr+"("+to.join()+`, 0);
        ++`+to[hn-2]+`;
        `+Xr+" sourceLocA = "+Xr+"("+to.join()+`, 0);
        --`+to[hn-1]+`;
        `+Xr+" sourceLocB = "+Xr+"("+to.join()+`, 0);
        --`+to[hn-2]+";"}else ln=hn,un=`
        `+fn+` sourceLocR = coords;
        ++`+to[hn-1]+`;
        `+fn+` sourceLocG = coords;
        ++`+to[hn-2]+`;
        `+fn+` sourceLocA = coords;
        --`+to[hn-1]+`;
        `+fn+` sourceLocB = coords;
        --`+to[hn-2]+";";var uo=["x","y","z","w","u","v"].slice(0,ln),co="."+uo[ln-1],ho=uo.map(function(a0){return"int "+a0}),e0=sa("sourceLocR",ln-1).concat("inIdx.r"),lo=sa("sourceLocG",ln-1).concat("inIdx.g"),mo=sa("sourceLocB",ln-1).concat("inIdx.b"),fo=sa("sourceLocA",ln-1).concat("inIdx.a"),Uo=nn==="max"?"greaterThan":"lessThan",t0=rn?"":`
          inIdx = round(vec4(getBestIndicesAChannel(`+e0.join()+`),
                             getBestIndicesAChannel(`+lo.join()+`),
                             getBestIndicesAChannel(`+mo.join()+`),
                             getBestIndicesAChannel(`+fo.join()+")));",n0=`vec4(
            getAChannel(`+e0.join()+`),
            hasNextCol ? getAChannel(`+lo.join()+`) : 0.,
            hasNextRow ? getAChannel(`+mo.join()+`) : 0.,
            hasNextRow && hasNextCol ? getAChannel(`+fo.join()+") : 0.)",i0=rn?"":`
      float getBestIndicesAChannel(`+ho.join()+`) {
        return getChannel(getBestIndicesA(`+uo.join()+`),
                                          vec2(`+uo.slice(-2).join()+`));
      }`;this.userCode=`
      float getAChannel(`+ho.join()+`) {
        return getChannel(getA(`+uo.join()+`),
                               vec2(`+uo.slice(-2).join()+`));
      }
      `+i0+`
      void main() {
        `+fn+` coords = getOutputCoords();
        bool hasNextCol = `+to[hn-1]+" < "+(cn[hn-1]-1)+`;
        bool hasNextRow = `+to[hn-2]+" < "+(cn[hn-2]-1)+`;
        `+un+`
        ivec4 srcIdx = ivec4(sourceLocR`+co+", sourceLocG"+co+`,
          sourceLocB`+co+", sourceLocA"+co+") * "+Mt+`;
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = `+n0+`;

        for (int i = 0; i < `+Mt+`; i++) {
          inIdx = srcIdx;
          `+t0+`
          vec4 candidate = `+n0+`;
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(`+Uo+`(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `},Ia=function(st){this.variableNames=["dy"],this.outputShape=st.inShape;var Mt=st.filterHeight,nn=st.filterWidth,rn=st.strideHeight,an=st.strideWidth,sn=st.dilationHeight,un=st.dilationWidth,ln=st.effectiveFilterHeight,cn=st.effectiveFilterWidth,hn=ln-1-st.padInfo.top,fn=cn-1-st.padInfo.left,to=1/(Mt*nn);this.userCode=`
      const ivec2 pads = ivec2(`+hn+", "+fn+`);
      const float avgMultiplier = float(`+to+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+ln+`;
            wR += `+sn+`) {
          float dyR = float(dyRCorner + wR) / `+rn+`.0;

          if (dyR < 0.0 || dyR >= `+st.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+cn+`;
            wC+= `+un+`) {
            float dyC = float(dyCCorner + wC) / `+an+`.0;

            if (dyC < 0.0 || dyC >= `+st.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `},ka=function(st){this.variableNames=["dy"],this.outputShape=st.inShape;var Mt=st.filterDepth,nn=st.filterHeight,rn=st.filterWidth,an=st.strideDepth,sn=st.strideHeight,un=st.strideWidth,ln=st.dilationDepth,cn=st.dilationHeight,hn=st.dilationWidth,fn=st.effectiveFilterDepth,to=st.effectiveFilterHeight,Xr=st.effectiveFilterWidth,uo=fn-1-st.padInfo.front,co=to-1-st.padInfo.top,ho=Xr-1-st.padInfo.left,e0=1/(Mt*nn*rn);this.userCode=`
      const ivec3 pads = ivec3(`+uo+", "+co+", "+ho+`);
      const float avgMultiplier = float(`+e0+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+fn+`;
            wD += `+ln+`) {
          float dyD = float(dyDCorner + wD) / `+an+`.0;

          if (dyD < 0.0 || dyD >= `+st.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+to+`;
              wR += `+cn+`) {
            float dyR = float(dyRCorner + wR) / `+sn+`.0;

            if (dyR < 0.0 || dyR >= `+st.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+Xr+`;
                wC += `+hn+`) {
              float dyC = float(dyCCorner + wC) / `+un+`.0;

              if (dyC < 0.0 || dyC >= `+st.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `},Sa=function(st,Mt,nn,rn,an,sn){this.outputShape=[],this.variableNames=["x","mean","variance"],Ro(st,Mt),Ro(st,nn);var un="0.0";rn!=null&&(Ro(st,rn),this.variableNames.push("offset"),un="getOffsetAtOutCoords()");var ln="1.0";an!=null&&(Ro(st,an),this.variableNames.push("scale"),ln="getScaleAtOutCoords()"),this.outputShape=st,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = `+un+`;
        float scale = `+ln+`;
        float inv = scale * inversesqrt(variance + float(`+sn+`));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `},Aa=function(st,Mt,nn,rn,an,sn){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Ro(st,Mt),Ro(st,nn);var un="vec4(0.0)";rn!=null&&(Ro(st,rn),this.variableNames.push("offset"),un="getOffsetAtOutCoords()");var ln="vec4(1.0)";an!=null&&(Ro(st,an),this.variableNames.push("scale"),ln="getScaleAtOutCoords()"),this.outputShape=st,this.userCode=`
      void main() {
        vec4 offset = `+un+`;
        vec4 scale = `+ln+`;

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(`+sn+`));

        setOutput((x - mean) * inv + offset);
      }
    `},Da="return areal * breal - aimag * bimag;",Ta="return areal * bimag + aimag * breal;",Na=function(st,Mt,nn){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Ro(Mt,nn),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        `+st+`
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `},Fa="return a + b;",_a="return a - b;",Oa="return a * b;",Ma="return (a < 0.) ? b * a : a;",Ba=function(st,Mt,nn){this.variableNames=["A","B"],this.outputShape=Ro(Mt,nn),this.userCode=`
      float binaryOperation(float a, float b) {
        `+st+`
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `},Pa=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,La=function(st,Mt,nn,rn){rn===void 0&&(rn=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Ro(Mt,nn);var an=this.outputShape.length,sn="";if(rn)if(an===0||k(this.outputShape)===1)sn=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(sn=`
          `+wa(an)+` coords = getOutputCoords();
        `,an===1)sn+=`
            result.y = (coords + 1) >= `+this.outputShape[0]+` ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{var un=sa("coords",an);sn+=`
            bool nextRowOutOfBounds =
              (`+un[an-2]+" + 1) >= "+this.outputShape[an-2]+`;
            bool nextColOutOfBounds =
              (`+un[an-1]+" + 1) >= "+this.outputShape[an-1]+`;
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        `+st+`
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        `+sn+`

        setOutput(result);
      }
    `},Wa=function(){function st(Mt){this.variableNames=["A"],this.outputShape=Mt,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}return st.prototype.getCustomSetupFunc=function(Mt,nn){var rn=this;return function(an,sn){rn.minLoc==null&&(rn.minLoc=an.getUniformLocationNoThrow(sn,"minVal"),rn.maxLoc=an.getUniformLocationNoThrow(sn,"maxVal")),an.gl.uniform1f(rn.minLoc,Mt),an.gl.uniform1f(rn.maxLoc,nn)}},st}(),Ua=function(){function st(Mt){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Mt,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}return st.prototype.getCustomSetupFunc=function(Mt,nn){var rn=this;return function(an,sn){rn.minLoc==null&&(rn.minLoc=an.getUniformLocationNoThrow(sn,"minVal"),rn.maxLoc=an.getUniformLocationNoThrow(sn,"maxVal")),an.gl.uniform1f(rn.minLoc,Mt),an.gl.uniform1f(rn.maxLoc,nn)}},st}(),Va=function(st){this.variableNames=["real","imag"],this.outputShape=st,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `},za=function(st){this.outputShape=[],this.outputShape=Sn(st,1),this.variableNames=st.map(function(ln,cn){return"T"+cn});var Mt=new Array(st.length-1);Mt[0]=st[0][1];for(var nn=1;nn<Mt.length;nn++)Mt[nn]=Mt[nn-1]+st[nn][1];var rn=["if (yC < "+Mt[0]+") setOutput(getT0(yR, yC));"];for(nn=1;nn<Mt.length;nn++){var an=Mt[nn-1];rn.push("else if (yC < "+Mt[nn]+") setOutput(getT"+nn+"(yR, yC-"+an+"));")}var sn=Mt.length,un=Mt[Mt.length-1];rn.push("else setOutput(getT"+sn+"(yR, yC-"+un+"));"),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        `+rn.join(`
        `)+`
      }
    `},Ga=function(st,Mt){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Sn(st,Mt);var nn=this.outputShape,rn=nn.length,an=wa(rn),sn=sa("coords",rn),un=["x","y","z","w","u","v"].slice(0,rn);this.variableNames=st.map(function(e0,lo){return"T"+lo});var ln=new Array(st.length-1);ln[0]=st[0][Mt];for(var cn=1;cn<ln.length;cn++)ln[cn]=ln[cn-1]+st[cn][Mt];var hn=un[Mt],fn=un.slice(-2),to=un.join(),Xr="if ("+hn+" < "+ln[0]+`) {
        return getChannel(
            getT0(`+to+"), vec2("+fn.join()+`));
        }`;for(cn=1;cn<ln.length;cn++){var uo=ln[cn-1];Xr+=`
        if (`+hn+" < "+ln[cn]+"  && "+hn+" >= "+ln[cn-1]+`) {
          return getChannel(
            getT`+cn+"("+Ha(un,hn,uo)+`),
            vec2(`+Ha(fn,hn,uo)+`));
        }`}var co=ln.length,ho=ln[ln.length-1];Xr+=`
        return getChannel(
          getT`+co+"("+Ha(un,hn,ho)+`),
          vec2(`+Ha(fn,hn,ho)+"));",this.userCode=`
      float getValue(`+un.map(function(e0){return"int "+e0})+`) {
        `+Xr+`
      }

      void main() {
        `+an+` coords = getOutputCoords();
        vec4 result = vec4(getValue(`+sn+`), 0., 0., 0.);

        `+sn[rn-1]+" = "+sn[rn-1]+` + 1;
        if (`+sn[rn-1]+" < "+nn[rn-1]+`) {
          result.g = getValue(`+sn+`);
        }

        `+sn[rn-2]+" = "+sn[rn-2]+` + 1;
        if (`+sn[rn-2]+" < "+nn[rn-2]+`) {
          result.a = getValue(`+sn+`);
        }

        `+sn[rn-1]+" = "+sn[rn-1]+` - 1;
        if (`+sn[rn-2]+" < "+nn[rn-2]+` &&
            `+sn[rn-1]+" < "+nn[rn-1]+`) {
          result.b = getValue(`+sn+`);
        }
        setOutput(result);
      }
    `};function Ha(st,Mt,nn){var rn=st.indexOf(Mt);return st.map(function(an,sn){return sn===rn?an+" - "+nn:an}).join()}var qa=function(st){this.variableNames=["x","dy"],this.outputShape=st.filterShape;var Mt=st.strideHeight,nn=st.strideWidth,rn=st.padInfo.top,an=st.padInfo.left,sn=st.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < `+st.batchSize+`; b++) {
          for (int yR = 0; yR < `+st.outHeight+`; yR++) {
            int xR = wR + yR * `+Mt+" - "+rn+`;

            if (xR < 0 || xR >= `+st.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+st.outWidth+`; yC++) {
              int xC = wC + yC * `+nn+" - "+an+`;

              if (xC < 0 || xC >= `+st.inWidth+`) {
                continue;
              }

              if (`+sn+`) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},Ka=function(st){this.variableNames=["dy","W"],this.outputShape=st.inShape;var Mt=st.filterHeight,nn=st.filterWidth,rn=st.strideHeight,an=st.strideWidth,sn=st.dataFormat==="channelsLast",un=Mt-1-st.padInfo.top,ln=nn-1-st.padInfo.left,cn=sn?1:2,hn=sn?2:3,fn=sn?3:1;this.userCode=`
      const ivec2 pads = ivec2(`+un+", "+ln+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[`+fn+`];

        ivec2 dyCorner = ivec2(coords[`+cn+"], coords["+hn+`]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+Mt+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+rn+`.0;

          if (dyR < 0.0 || dyR >= `+st.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+Mt+` - 1 - wR;

          for (int wC = 0; wC < `+nn+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+an+`.0;

            if (dyC < 0.0 || dyC >= `+st.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+nn+` - 1 - wC;

            for (int d2 = 0; d2 < `+st.outChannels+`; d2++) {

              if (`+sn+`) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},ja=function(st){this.variableNames=["x","dy"],this.outputShape=st.filterShape;var Mt=st.strideDepth,nn=st.strideHeight,rn=st.strideWidth,an=st.padInfo.front,sn=st.padInfo.top,un=st.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < `+st.batchSize+`; b++) {
          for (int yF = 0; yF < `+st.outDepth+`; yF++) {
            int xF = wF + yF * `+Mt+" - "+an+`;

            if (xF < 0 || xF >= `+st.inDepth+`) {
              continue;
            }

            for (int yR = 0; yR < `+st.outHeight+`; yR++) {
              int xR = wR + yR * `+nn+" - "+sn+`;

              if (xR < 0 || xR >= `+st.inHeight+`) {
                continue;
              }

              for (int yC = 0; yC < `+st.outWidth+`; yC++) {
                int xC = wC + yC * `+rn+" - "+un+`;

                if (xC < 0 || xC >= `+st.inWidth+`) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},Xa=function(st){this.variableNames=["dy","W"],this.outputShape=st.inShape;var Mt=st.filterDepth,nn=st.filterHeight,rn=st.filterWidth,an=st.strideDepth,sn=st.strideHeight,un=st.strideWidth,ln=Mt-1-st.padInfo.front,cn=nn-1-st.padInfo.top,hn=rn-1-st.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(`+ln+", "+cn+", "+hn+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < `+Mt+`; wF++) {
          float dyF = float(dyFCorner + wF) / `+an+`.0;

          if (dyF < 0.0 || dyF >= `+st.outDepth+`.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = `+Mt+` - 1 - wF;

          for (int wR = 0; wR < `+nn+`; wR++) {
            float dyR = float(dyRCorner + wR) / `+sn+`.0;

            if (dyR < 0.0 || dyR >= `+st.outHeight+`.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = `+nn+` - 1 - wR;

            for (int wC = 0; wC < `+rn+`; wC++) {
              float dyC = float(dyCCorner + wC) / `+un+`.0;

              if (dyC < 0.0 || dyC >= `+st.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = `+rn+` - 1 - wC;

              for (int d2 = 0; d2 < `+st.outChannels+`; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},Ya=function(st){this.variableNames=["x","dy"],this.outputShape=st.filterShape;var Mt=st.strideHeight,nn=st.strideWidth,rn=st.padInfo.top,an=st.padInfo.left,sn=st.outChannels/st.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * `+sn+` + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < `+st.batchSize+`; b++) {
          for (int yR = 0; yR < `+st.outHeight+`; yR++) {
            int xR = wR + yR * `+Mt+" - "+rn+`;

            if (xR < 0 || xR >= `+st.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+st.outWidth+`; yC++) {
              int xC = wC + yC * `+nn+" - "+an+`;

              if (xC < 0 || xC >= `+st.inWidth+`) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `},$a=function(st){this.variableNames=["dy","W"],this.outputShape=st.inShape;var Mt=st.filterHeight,nn=st.filterWidth,rn=st.strideHeight,an=st.strideWidth,sn=Mt-1-st.padInfo.top,un=nn-1-st.padInfo.left,ln=st.outChannels/st.inChannels;this.userCode=`
      const ivec2 pads = ivec2(`+sn+", "+un+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < `+Mt+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+rn+`.0;

          if (dyR < 0.0 || dyR >= `+st.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+Mt+` - 1 - wR;

          for (int wC = 0; wC < `+nn+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+an+`.0;

            if (dyC < 0.0 || dyC >= `+st.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+nn+` - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < `+ln+`; dm++) {
              int d2 = d1 * `+ln+` + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `},Qa=function(st,Mt,nn,rn){Mt===void 0&&(Mt=!1),nn===void 0&&(nn=null),rn===void 0&&(rn=!1),this.variableNames=["x","W"],this.outputShape=st.outShape;var an=st.padInfo.top,sn=st.padInfo.left,un=st.strideHeight,ln=st.strideWidth,cn=st.dilationHeight,hn=st.dilationWidth,fn=st.filterHeight,to=st.filterWidth,Xr=4*Math.floor(st.inChannels/4),uo=st.inChannels%4,co=st.dataFormat==="channelsLast",ho=co?1:2,e0=co?2:3,lo=co?3:1,mo="",fo="";nn&&(mo=rn?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+nn+`
        }`:`
          float activation(float x) {
            `+nn+`
          }
        `,fo="result = activation(result);");var Uo=Mt?"result += getBiasAtOutCoords();":"";Mt&&this.variableNames.push("bias"),rn&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+mo+`

      const ivec2 strides = ivec2(`+un+", "+ln+`);
      const ivec2 pads = ivec2(`+an+", "+sn+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[`+lo+`];

        ivec2 xRCCorner =
            ivec2(coords[`+ho+"], coords["+e0+`]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+fn+`; wR++) {
          int xR = xRCorner + wR * `+cn+`;

          if (xR < 0 || xR >= `+st.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+to+`; wC++) {
            int xC = xCCorner + wC * `+hn+`;

            if (xC < 0 || xC >= `+st.inWidth+`) {
              continue;
            }

            for (int d1 = 0; d1 < `+Xr+`; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (`+co+`) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (`+(uo===1)+`) {

              if (`+co+`) {
                dotProd +=
                    getX(batch, xR, xC, `+Xr+`) *
                    getW(wR, wC, `+Xr+`, d2);
              } else {
                dotProd +=
                    getX(batch, `+Xr+`, xR, xC) *
                    getW(wR, wC, `+Xr+`, d2);
              }

            } else if (`+(uo===2)+`) {
              vec2 wValues = vec2(
                getW(wR, wC, `+Xr+`, d2),
                getW(wR, wC, `+Xr+` + 1, d2)
              );

              if (`+co+`) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, `+Xr+`),
                  getX(batch, xR, xC, `+Xr+` + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, `+Xr+`, xR, xC),
                  getX(batch, `+Xr+` + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (`+(uo===3)+`) {
              vec3 wValues = vec3(
                getW(wR, wC, `+Xr+`, d2),
                getW(wR, wC, `+Xr+` + 1, d2),
                getW(wR, wC, `+Xr+` + 2, d2)
              );

              if (`+co+`) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, `+Xr+`),
                  getX(batch, xR, xC, `+Xr+` + 1),
                  getX(batch, xR, xC, `+Xr+` + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, `+Xr+`, xR, xC),
                  getX(batch, `+Xr+` + 1, xR, xC),
                  getX(batch, `+Xr+` + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        `+Uo+`
        `+fo+`
        setOutput(result);
      }
    `},Ja=function(st){this.variableNames=["x","W"],this.outputShape=st.outShape;var Mt=st.padInfo.front,nn=st.padInfo.top,rn=st.padInfo.left,an=st.strideDepth,sn=st.strideHeight,un=st.strideWidth,ln=st.dilationDepth,cn=st.dilationHeight,hn=st.dilationWidth,fn=st.filterDepth,to=st.filterHeight,Xr=st.filterWidth,uo=4*Math.floor(st.inChannels/4),co=st.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(`+an+", "+sn+", "+un+`);
      const ivec3 pads = ivec3(`+Mt+", "+nn+", "+rn+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < `+fn+`; wF++) {
          int xF = xFCorner + wF * `+ln+`;

          if (xF < 0 || xF >= `+st.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+to+`; wR++) {
            int xR = xRCorner + wR * `+cn+`;

            if (xR < 0 || xR >= `+st.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+Xr+`; wC++) {
              int xC = xCCorner + wC * `+hn+`;

              if (xC < 0 || xC >= `+st.inWidth+`) {
                continue;
              }

              for (int d1 = 0; d1 < `+uo+`; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (`+(co===1)+`) {
                dotProd +=
                  getX(batch, xF, xR, xC, `+uo+`) *
                  getW(wF, wR, wC, `+uo+`, d2);
              } else if (`+(co===2)+`) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, `+uo+`),
                  getX(batch, xF, xR, xC, `+uo+` + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, `+uo+`, d2),
                  getW(wF, wR, wC, `+uo+` + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (`+(co===3)+`) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, `+uo+`),
                  getX(batch, xF, xR, xC, `+uo+` + 1),
                  getX(batch, xF, xR, xC, `+uo+` + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, `+uo+`, d2),
                  getW(wF, wR, wC, `+uo+` + 1, d2),
                  getW(wF, wR, wC, `+uo+` + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},Za=function(st,Mt,nn,rn){Mt===void 0&&(Mt=!1),nn===void 0&&(nn=null),rn===void 0&&(rn=!1),this.variableNames=["x","W"],this.outputShape=st.outShape;var an=st.inHeight,sn=st.inWidth,un=st.padInfo.top,ln=st.padInfo.left,cn=st.strideHeight,hn=st.strideWidth,fn=st.dilationHeight,to=st.dilationWidth,Xr=st.filterHeight,uo=st.filterWidth,co=st.outChannels/st.inChannels,ho="",e0="";nn&&(ho=rn?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+nn+`
        }`:`
          float activation(float x) {
            `+nn+`
          }
        `,e0="result = activation(result);");var lo=Mt?"result += getBiasAtOutCoords();":"";Mt&&this.variableNames.push("bias"),rn&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+ho+`

      const ivec2 strides = ivec2(`+cn+", "+hn+`);
      const ivec2 pads = ivec2(`+un+", "+ln+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / `+co+`;
        int q = d2 - d1 * `+co+`;

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < `+Xr+`; wR++) {
          int xR = xRCorner + wR * `+fn+`;

          if (xR < 0 || xR >= `+an+`) {
            continue;
          }

          for (int wC = 0; wC < `+uo+`; wC++) {
            int xC = xCCorner + wC * `+to+`;

            if (xC < 0 || xC >= `+sn+`) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        `+lo+`
        `+e0+`
        setOutput(result);
      }
    `},ti=function(st,Mt,nn,rn){Mt===void 0&&(Mt=!1),nn===void 0&&(nn=null),rn===void 0&&(rn=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=st.outShape;for(var an=st.inHeight,sn=st.inWidth,un=st.padInfo.top,ln=st.padInfo.left,cn=st.strideHeight,hn=st.strideWidth,fn=st.dilationHeight,to=st.dilationWidth,Xr=st.filterHeight,uo=st.filterWidth,co=uo,ho="int xR; int xC; int xCOffset;",e0=0;e0<Xr;e0++)for(var lo=0;lo<uo;lo++)ho+=`
          vec4 xTexelR`+e0+"C"+2*lo+` = vec4(0.);
          vec4 wR`+e0+"C"+lo+` = vec4(0.);
          vec4 xR`+e0+"C"+lo+" = vec4(0.);";for(e0=0;e0<Xr;e0++)for(var mo=0;mo<co;mo++){if(ho+=`
          xR = xRCorner + `+e0*fn+`;
          xC = xCCorner + `+(lo=2*mo)*to+`;
        `,hn===1){if(lo<uo&&(ho+=ln%2==1?`
                xCOffset = xC + 1;
                if(xR >= 0 && xR < `+an+" && xCOffset >= 0 && xCOffset < "+sn+`) {
                  xTexelR`+e0+"C"+lo+` = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+sn+`) {
                    xTexelR`+e0+"C"+lo+`.zw = vec2(0.);
                  }
                } else {
                  xTexelR`+e0+"C"+lo+` = vec4(0.);
                }

                xCOffset = xC + 1 - 2;
                if(xR >= 0 && xR < `+an+" && xCOffset >= 0 && xCOffset < "+sn+`) {
                  vec4 previous = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+sn+`) {
                    previous.zw = vec2(0.);
                  }

                  xR`+e0+"C"+lo+" = vec4(previous.zw, xTexelR"+e0+"C"+lo+`.xy);
                } else {
                  xR`+e0+"C"+lo+" = vec4(0, 0, xTexelR"+e0+"C"+lo+`.xy);
                }
              `:`
                if(xR >= 0 && xR < `+an+" && xC >= 0 && xC < "+sn+`) {
                  xTexelR`+e0+"C"+lo+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+e0+"C"+lo+` = vec4(0.);
                }

                xR`+e0+"C"+lo+" = xTexelR"+e0+"C"+lo+`;
              `,lo+1<uo)){var fo=ln%2==0?b(to):to;to%2==0&&ln%2==1||to%2!=0&&ln%2!=1?(ho+=`
                  xCOffset = xC + `+ln%2+" + "+fo+`;

                  if(xR >= 0 && xR < `+an+` &&
                    xCOffset >= 0 && xCOffset < `+sn+`) {
                    xTexelR`+e0+"C"+(lo+2)+` = getX(batch, xR, xCOffset, d1);
                  }
                `,to>1&&(ho+=`
                    xCOffset -= 2;
                    if(xR >= 0 && xR < `+an+` &&
                      xCOffset >= 0 && xCOffset < `+sn+`) {
                      xTexelR`+e0+"C"+lo+` = getX(batch, xR, xCOffset, d1);
                    } else {
                      xTexelR`+e0+"C"+lo+` = vec4(0.);
                    }
                  `),ho+=`
                  xR`+e0+"C"+(lo+1)+` = vec4(
                    xTexelR`+e0+"C"+lo+".zw, xTexelR"+e0+"C"+(lo+2)+`.xy);
                `):ho+=`
                  xCOffset = xC + `+fo+`;

                  if(xR >= 0 && xR < `+an+` &&
                    xCOffset >= 0 && xCOffset < `+sn+`) {
                    xTexelR`+e0+"C"+(lo+2)+` = getX(batch, xR, xCOffset, d1);
                  }

                  xR`+e0+"C"+(lo+1)+" = xTexelR"+e0+"C"+(lo+2)+`;
                `}}else lo<uo&&(ho+=`
              if(xR >= 0 && xR < `+an+`) {
            `,ln%2==1?(ho+=`
                xCOffset = xC + 1 - `+hn+`;
                if(xCOffset >= 0 && xCOffset < `+sn+`) {
                  xTexelR`+e0+"C"+lo+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+e0+"C"+lo+` = vec4(0.);
                }

                if(xC + 1 >= 0 && xC + 1 < `+sn+`) {
                  xTexelR`+e0+"C"+(lo+2)+` = getX(batch, xR, xC + 1, d1);
                } else {
                  xTexelR`+e0+"C"+(lo+2)+` = vec4(0.);
                }

                xR`+e0+"C"+lo+` = vec4(
                  xTexelR`+e0+"C"+lo+".zw, xTexelR"+e0+"C"+(lo+2)+`.zw);
              `,lo+1<uo&&(ho+=`
                  vec4 final = vec4(0.);
                  xCOffset = xC + 1 + `+hn+`;
                  if(xCOffset >= 0 && xCOffset < `+sn+`) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xR`+e0+"C"+(lo+1)+" = vec4(xTexelR"+e0+"C"+(lo+2)+`.xy, final.xy);
                `)):(ho+=`
                if(xC >= 0 && xC < `+sn+`) {
                  xTexelR`+e0+"C"+lo+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+e0+"C"+lo+` = vec4(0.);
                }

                xCOffset = xC + `+hn+`;
                if(xCOffset >= 0 && xCOffset < `+sn+`) {
                  xTexelR`+e0+"C"+(lo+2)+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+e0+"C"+(lo+2)+` = vec4(0.);
                }

                xR`+e0+"C"+lo+` = vec4(
                  xTexelR`+e0+"C"+lo+".xy, xTexelR"+e0+"C"+(lo+2)+`.xy);
              `,lo+1<uo&&(ho+=`
                  xR`+e0+"C"+(lo+1)+` = vec4(
                    xTexelR`+e0+"C"+lo+".zw, xTexelR"+e0+"C"+(lo+2)+`.zw);
                `)),ho+="}");lo<uo&&(ho+=`
            vec4 wTexelR`+e0+"C"+lo+" = getW("+e0+", "+lo+`, d1, q);
            wR`+e0+"C"+lo+" = vec4(wTexelR"+e0+"C"+lo+".xz, wTexelR"+e0+"C"+lo+`.xz);
          `,lo+1<uo&&(ho+=`
              vec4 wTexelR`+e0+"C"+(lo+1)+" = getW("+e0+", "+(lo+1)+`, d1, q);
              wR`+e0+"C"+(lo+1)+` =
                vec4(wTexelR`+e0+"C"+(lo+1)+".xz, wTexelR"+e0+"C"+(lo+1)+".xz);"))}for(e0=0;e0<Xr;e0++)for(lo=0;lo<uo;lo++)ho+="dotProd += xR"+e0+"C"+lo+" * wR"+e0+"C"+lo+";";var Uo="",t0="";nn&&(Uo=rn?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+nn+`
        }`:`vec4 activation(vec4 x) {
          `+nn+`
        }`,t0="result = activation(result);");var n0=Mt?"result += getBiasAtOutCoords();":"";Mt&&this.variableNames.push("bias"),rn&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+Uo+`

      const ivec2 strides = ivec2(`+cn+", "+hn+`);
      const ivec2 pads = ivec2(`+un+", "+ln+`);

      void main() {

        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2;
        int q = 0;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        vec4 dotProd = vec4(0.);

        `+ho+`

        vec4 result = dotProd;
        `+n0+`
        `+t0+`
        setOutput(result);
      }
    `},ei=function(st,Mt,nn,rn,an){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var sn=st[0],un=st[1],ln=st[2],cn=st[3],hn=Mt[0],fn=nn[0],to=nn[1];this.outputShape=[hn,fn,to,cn];var Xr=rn==="bilinear"?1:0,uo=[un-1+".0",ln-1+".0"],co=uo[0],ho=uo[1],e0=fn>1?[""+(un-1)/(fn-1),"(y2-y1) * height_ratio","y1*"+co+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+co],lo=e0[0],mo=e0[1],fo=e0[2],Uo=to>1?[""+(ln-1)/(to-1),"(x2-x1) * width_ratio","x1*"+ho+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+ho],t0=Uo[0],n0=Uo[1],i0=Uo[2];this.userCode=`
      const float height_ratio = float(`+lo+`);
      const float width_ratio = float(`+t0+`);
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= `+sn+`) {
          return;
        }

        float height_scale = `+mo+`;
        float width_scale = `+n0+`;

        float in_y = `+fo+`;
        if( in_y < 0.0 || in_y > `+co+` ) {
          setOutput(float(`+an+`));
          return;
        }
        float in_x = `+i0+`;
        if( in_x < 0.0 || in_x > `+ho+` ) {
          setOutput(float(`+an+`));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(`+Xr+` == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `},ni=function(st,Mt,nn){this.variableNames=["x"],this.outputShape=st;var rn=st.length,an=st[st.length-1],sn=nn?"<":">";this.userCode=`
      int getIndex(int i) {
        `+(nn?"return "+an+" -i - 1;":"return i;")+`
      }

      void main() {
        `+wa(rn)+` coords = getOutputCoords();
        int end = `+ri(rn,"coords")+`;
        float val = 0.0;
        for (int i = `+an+` - 1; i >= 0; i -= 1) {
          int idx = getIndex(i);
          if (idx `+sn+` end) {
            continue;
          }
          if (idx == end && `+Mt+`) {
            continue;
          }
          `+ri(rn,"coords")+` = idx;
          val += getX(`+function(un,ln){if(un===1)return""+ln;if(un===2)return ln+".x, "+ln+".y";if(un===3)return ln+".x, "+ln+".y, "+ln+".z";if(un===4)return ln+".x, "+ln+".y, "+ln+".z, "+ln+".w";throw Error("Cumulative sum for rank "+un+" is not yet supported")}(rn,"coords")+`);
        }
        setOutput(val);
      }
    `};function ri(st,Mt){if(st===1)return""+Mt;if(st===2)return Mt+".y";if(st===3)return Mt+".z";if(st===4)return Mt+".w";throw Error("Cumulative sum for rank "+st+" is not yet supported")}var oi=function(st){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Vt.DENSE;var Mt=Yt(st),nn=ua();this.outputShape=st,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+ca(["r","c","d"],st)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+Mt[0]+", "+Mt[1]+`));
        int index = 4 * (resTexRC.x * `+Mt[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        `+nn.output+` = result;
      }
    `},ai=function(st){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Vt.DENSE;var Mt=Yt(st),nn=ua();this.outputShape=st,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+ca(["r","c","d"],st)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+Mt[0]+", "+Mt[1]+`));
        int index = 4 * (resTexRC.x * `+Mt[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        `+nn.output+` = result;
      }
    `},ii=function(){function st(Mt,nn,rn){this.variableNames=["x"],this.outputShape=[],this.outputShape=Mt,this.blockSize=nn,this.dataFormat=rn,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = `+this.getHeightCoordString()+`;
      int w = `+this.getWidthCoordString()+`;
      int d = `+this.getDepthCoordString()+`;

      int in_h = h / `+nn+`;
      int offset_h = imod(h, `+nn+`);
      int in_w = w / `+nn+`;
      int offset_w = imod(w, `+nn+`);
      int offset_d = (offset_h * `+nn+` + offset_w) *
        `+this.getOutputDepthSize()+`;
      int in_d = d + offset_d;

      float result = `+this.getInputSamplingString()+`;
      setOutput(result);
    }
  `}return st.prototype.getHeightCoordString=function(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"},st.prototype.getWidthCoordString=function(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"},st.prototype.getDepthCoordString=function(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"},st.prototype.getOutputDepthSize=function(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]},st.prototype.getInputSamplingString=function(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},st}(),si=function(st){this.variableNames=["X"],this.outputShape=[st,st],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `},ui=function(st){this.variableNames=["A"],this.outTexUsage=zt.DOWNLOAD;var Mt=ua();this.outputShape=st,this.userCode=`
      `+ha+`

      void main() {
        float x = getAAtOutCoords();
        `+Mt.output+` = encode_float(x);
      }
    `},ci=function(st){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=zt.DOWNLOAD;var Mt=ua();this.outputShape=st,this.userCode=`
      `+ha+`

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        `+Mt.output+` = encode_float(x);
      }
    `},li=function(st,Mt,nn){nn===void 0&&(nn=!1),this.variableNames=["A"];var rn=ua(),an=Mt[0],sn=Mt[1];this.outputShape=st;var un="result";nn&&(un="floor(result * 255. + 0.5)"),this.userCode=`
      `+la(st)+`

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);
        
        int r = flatIndex / `+sn+`;
        int c = imod(flatIndex, `+sn+`);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(`+sn+".0, "+an+`.0);
        vec4 values = `+rn.texture2D+`(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        `+rn.output+" = vec4("+un+`, 0., 0., 0.);
      }
    `},hi=function(st,Mt,nn){nn===void 0&&(nn=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var rn=ua(),an=Mt[0],sn=Mt[1];this.outputShape=st;var un="",ln="result";nn&&(ln="floor(result * 255. + 0.5)");for(var cn=0;cn<=1;cn++)for(var hn=0;hn<=1;hn++){var fn=2*cn+hn;un+=`
          localCoords = coords;
          if(localCoords[2] + `+hn+" < "+st[2]+`) {
            localCoords[2] += `+hn+`;
            if(localCoords[1] + `+cn+" < "+st[1]+`) {
              localCoords[1] += `+cn+`;

              flatIndex = getFlatIndex(localCoords);
              offset = imod(flatIndex, 4);

              flatIndex = idiv(flatIndex, 4, 1.);

              r = flatIndex / `+sn+`;
              c = imod(flatIndex, `+sn+`);
              uv = (vec2(c, r) + halfCR) / vec2(`+sn+".0, "+an+`.0);
              values = `+rn.texture2D+`(A, uv);

              if(offset == 0) {
                result[`+fn+`] = values[0];
              } else if(offset == 1) {
                result[`+fn+`] = values[1];
              } else if(offset == 2) {
                result[`+fn+`] = values[2];
              } else {
                result[`+fn+`] = values[3];
              }
            }
          }
        `}this.userCode=`
      `+la(st)+`

      void main() {
        ivec3 coords = getOutputCoords();

        vec4 result = vec4(0.);
        int flatIndex, r, c, offset;
        ivec3 localCoords;
        vec2 uv;
        vec4 values;

        `+un+`

        `+rn.output+" = "+ln+`;
      }
    `},fi="return real * expR - imag * expI;",di="return real * expI + imag * expR;",pi=function(st,Mt,nn){this.variableNames=["real","imag"];var rn=Mt[1];this.outputShape=Mt;var an=nn?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,sn=nn?rn+".0":"1.0";this.userCode=`
      const float exponentMultiplier = `+an+`;

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        `+st+`
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(`+rn+`);
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < `+rn+`; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / `+sn+`;
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `},vi=function(){function st(Mt,nn){this.outputShape=[],this.variableNames=["x"],this.outputShape=Mt,this.userCode=`
      uniform float value;
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}return st.prototype.getCustomSetupFunc=function(Mt){var nn=this;return function(rn,an){nn.valueLoc==null&&(nn.valueLoc=rn.getUniformLocationNoThrow(an,"value")),rn.gl.uniform1f(nn.valueLoc,Mt)}},st}(),mi=function(st,Mt,nn){this.variableNames=["A","indices"];var rn=st.slice();rn[nn]=Mt,this.outputShape=rn,this.rank=rn.length;var an=wa(this.rank),sn=function(un,ln){var cn=un.length;if(cn>4)throw Error("Gather for rank "+cn+" is not yet supported");if(cn===1)return"int(getIndices(resRC))";for(var hn=["resRC.x","resRC.y","resRC.z","resRC.w"],fn=[],to=0;to<un.length;to++)to===ln?fn.push("int(getIndices("+hn[to]+"))"):fn.push(""+hn[to]);return fn.join()}(st,nn);this.userCode=`
      void main() {
        `+an+` resRC = getOutputCoords();
        setOutput(getA(`+sn+`));
      }
    `},gi=function(st,Mt,nn){this.sliceDim=st,this.strides=Mt,this.variableNames=["x","indices"],this.outputShape=nn;var rn=wa(Mt.length),an=wa(nn.length),sn=this.sliceDim>1?"strides[j]":"strides";this.userCode=`
        `+rn+" strides = "+rn+"("+this.strides+`);
         void main() {
          `+an+` coords = getOutputCoords();
          int flattenIndex = 0;
          for (int j = 0; j < `+this.sliceDim+`; j++) {
            int index = round(getIndices(coords[0], j));
            flattenIndex += index * `+sn+`;
          }
          setOutput(getX(flattenIndex, coords[1]));
        }
      `};function yi(st,Mt){var nn=ua();return oe(st,Mt,nn.version+`
    precision highp float;
    `+nn.attribute+` vec3 clipSpacePos;
    `+nn.attribute+` vec2 uv;
    `+nn.varyingVs+` vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`)}function xi(st,Mt){return fe(st,Mt,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function bi(st,Mt){return de(st,Mt,new Uint16Array([0,1,2,2,1,3]))}function wi(st,Mt,nn,rn,an,sn,un){ve(nn,rn);var ln=pe(st,Mt),cn=st.TEXTURE_2D;return Jt(st,Mt,function(){return st.bindTexture(cn,ln)}),Jt(st,Mt,function(){return st.texParameteri(cn,st.TEXTURE_WRAP_S,st.CLAMP_TO_EDGE)}),Jt(st,Mt,function(){return st.texParameteri(cn,st.TEXTURE_WRAP_T,st.CLAMP_TO_EDGE)}),Jt(st,Mt,function(){return st.texParameteri(cn,st.TEXTURE_MIN_FILTER,st.NEAREST)}),Jt(st,Mt,function(){return st.texParameteri(cn,st.TEXTURE_MAG_FILTER,st.NEAREST)}),Jt(st,Mt,function(){return st.texImage2D(cn,0,an,nn,rn,0,sn,un,null)}),Jt(st,Mt,function(){return st.bindTexture(st.TEXTURE_2D,null)}),ln}function Ci(st,Mt,nn,rn,an){var sn=Xt(nn,rn);return wi(st,Mt,sn[0],sn[1],an.internalFormatFloat,an.textureFormatFloat,st.FLOAT)}function Ei(st,Mt,nn,rn,an){var sn=Xt(nn,rn);return wi(st,Mt,sn[0],sn[1],an.internalFormatHalfFloat,an.textureFormatFloat,an.textureTypeHalfFloat)}function Ri(st,Mt,nn,rn,an){var sn=Xt(nn,rn);return wi(st,Mt,sn[0],sn[1],st.RGBA,st.RGBA,st.UNSIGNED_BYTE)}function Ii(st,Mt,nn,rn,an){var sn=$t(nn,rn);return wi(st,Mt,sn[0],sn[1],an.internalFormatPackedFloat,st.RGBA,st.FLOAT)}function ki(st,Mt,nn,rn,an){var sn=$t(nn,rn);return wi(st,Mt,sn[0],sn[1],an.internalFormatPackedHalfFloat,st.RGBA,an.textureTypeHalfFloat)}function Si(st,Mt,nn,rn){return Jt(st,Mt,function(){return st.bindBuffer(st.ARRAY_BUFFER,rn)}),ge(st,Mt,nn,"clipSpacePos",rn,3,20,0)&&ge(st,Mt,nn,"uv",rn,2,20,12)}function Ai(st,Mt,nn,rn,an,sn,un){var ln,cn,hn;Jt(st,Mt,function(){return st.bindTexture(st.TEXTURE_2D,nn)}),sn instanceof Uint8Array?(ln=new Uint8Array(rn*an*4),cn=st.UNSIGNED_BYTE,hn=st.RGBA):(ln=new Float32Array(rn*an*4),cn=st.FLOAT,hn=un.internalFormatPackedFloat),ln.set(sn),Jt(st,Mt,function(){return st.texImage2D(st.TEXTURE_2D,0,hn,rn,an,0,st.RGBA,cn,ln)}),Jt(st,Mt,function(){return st.bindTexture(st.TEXTURE_2D,null)})}function Di(st,Mt,nn,rn){Jt(st,Mt,function(){return st.bindTexture(st.TEXTURE_2D,nn)}),rn.data instanceof Uint8Array?Jt(st,Mt,function(){return st.texImage2D(st.TEXTURE_2D,0,st.RGBA,rn.width,rn.height,0,st.RGBA,st.UNSIGNED_BYTE,rn.data)}):Jt(st,Mt,function(){return st.texImage2D(st.TEXTURE_2D,0,st.RGBA,st.RGBA,st.UNSIGNED_BYTE,rn)}),Jt(st,Mt,function(){return st.bindTexture(st.TEXTURE_2D,null)})}function Ti(st,Mt,nn,rn,an){var sn=st.createBuffer();Jt(st,Mt,function(){return st.bindBuffer(st.PIXEL_PACK_BUFFER,sn)});var un=16*nn*rn;return Jt(st,Mt,function(){return st.bufferData(st.PIXEL_PACK_BUFFER,un,st.STREAM_READ)}),Jt(st,Mt,function(){return st.readPixels(0,0,rn,nn,st.RGBA,st.FLOAT,0)}),Jt(st,Mt,function(){return st.bindBuffer(st.PIXEL_PACK_BUFFER,null)}),sn}function Ni(st,Mt,nn){var rn=st,an=new Float32Array(nn);return rn.bindBuffer(rn.PIXEL_PACK_BUFFER,Mt),rn.getBufferSubData(rn.PIXEL_PACK_BUFFER,0,an),rn.bindBuffer(rn.PIXEL_PACK_BUFFER,null),an}function Fi(st,Mt,nn,rn,an){var sn=Xt(nn,rn),un=sn[0],ln=sn[1],cn=new Uint8Array(nn*rn*4);return Jt(st,Mt,function(){return st.readPixels(0,0,un,ln,an.downloadTextureFormat,st.UNSIGNED_BYTE,cn)}),new Float32Array(cn.buffer)}function _i(st,Mt,nn,rn,an,sn,un,ln){var cn=st,hn=new Float32Array(function(fn,to){var Xr=$t(fn,to);return Xr[0]*Xr[1]*4}(sn,un));return cn.bindBuffer(cn.PIXEL_PACK_BUFFER,Mt),cn.getBufferSubData(cn.PIXEL_PACK_BUFFER,0,hn),cn.bindBuffer(cn.PIXEL_PACK_BUFFER,null),hn}function Oi(st,Mt,nn,rn){var an=new Float32Array(nn*rn*4);return Jt(st,Mt,function(){return st.readPixels(0,0,rn,nn,st.RGBA,st.FLOAT,an)}),an}var Bi=function(){function st(Mt){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var nn=i$1().getNumber("WEBGL_VERSION");Mt!=null?(this.gl=Mt,Kt(nn,Mt)):this.gl=jt(nn);var rn="WEBGL_color_buffer_float";if(i$1().getNumber("WEBGL_VERSION")===1){if(this.textureFloatExtension=re$1(this.gl,this.debug,"OES_texture_float"),Pe(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=re$1(this.gl,this.debug,"OES_texture_half_float");else if(i$1().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(rn),Pe(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=re$1(this.gl,this.debug,"EXT_color_buffer_half_float");else if(i$1().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(rn="EXT_color_buffer_float",Pe(this.gl,rn))this.colorBufferFloatExtension=this.gl.getExtension(rn);else{if(!Pe(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=xi(this.gl,this.debug),this.indexBuffer=bi(this.gl,this.debug),this.framebuffer=me(this.gl,this.debug),this.textureConfig=Qt(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(st.prototype,"debug",{get:function(){return i$1().getBool("DEBUG")},enumerable:!0,configurable:!0}),st.prototype.dispose=function(){var Mt=this;if(!this.disposed){this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var nn=this.gl;Jt(nn,this.debug,function(){return nn.finish()}),Jt(nn,this.debug,function(){return nn.bindFramebuffer(nn.FRAMEBUFFER,null)}),Jt(nn,this.debug,function(){return nn.deleteFramebuffer(Mt.framebuffer)}),Jt(nn,this.debug,function(){return nn.bindBuffer(nn.ARRAY_BUFFER,null)}),Jt(nn,this.debug,function(){return nn.bindBuffer(nn.ELEMENT_ARRAY_BUFFER,null)}),Jt(nn,this.debug,function(){return nn.deleteBuffer(Mt.indexBuffer)}),this.disposed=!0}},st.prototype.createFloat32MatrixTexture=function(Mt,nn){return this.throwIfDisposed(),Ci(this.gl,this.debug,Mt,nn,this.textureConfig)},st.prototype.createFloat16MatrixTexture=function(Mt,nn){return this.throwIfDisposed(),Ei(this.gl,this.debug,Mt,nn,this.textureConfig)},st.prototype.createUnsignedBytesMatrixTexture=function(Mt,nn){return this.throwIfDisposed(),Ri(this.gl,this.debug,Mt,nn,this.textureConfig)},st.prototype.uploadPixelDataToTexture=function(Mt,nn){this.throwIfDisposed(),Di(this.gl,this.debug,Mt,nn)},st.prototype.uploadDenseMatrixToTexture=function(Mt,nn,rn,an){this.throwIfDisposed(),Ai(this.gl,this.debug,Mt,nn,rn,an,this.textureConfig)},st.prototype.createFloat16PackedMatrixTexture=function(Mt,nn){return this.throwIfDisposed(),ki(this.gl,this.debug,Mt,nn,this.textureConfig)},st.prototype.createPackedMatrixTexture=function(Mt,nn){return this.throwIfDisposed(),Ii(this.gl,this.debug,Mt,nn,this.textureConfig)},st.prototype.deleteMatrixTexture=function(Mt){var nn=this;this.throwIfDisposed(),this.outputTexture===Mt&&(Ee(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Jt(this.gl,this.debug,function(){return nn.gl.deleteTexture(Mt)})},st.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(Mt,nn,rn){var an=this;return this.downloadMatrixDriver(Mt,function(){return Fi(an.gl,an.debug,nn,rn,an.textureConfig)})},st.prototype.downloadPackedMatrixFromBuffer=function(Mt,nn,rn,an,sn,un){return _i(this.gl,Mt,0,0,0,sn,un,this.textureConfig)},st.prototype.downloadFloat32MatrixFromBuffer=function(Mt,nn){return Ni(this.gl,Mt,nn)},st.prototype.createBufferFromTexture=function(Mt,nn,rn){this.bindTextureToFrameBuffer(Mt);var an=Ti(this.gl,this.debug,nn,rn,this.textureConfig);return this.unbindTextureToFrameBuffer(),an},st.prototype.createAndWaitForFence=function(){var Mt=this.createFence(this.gl);return this.pollFence(Mt)},st.prototype.createFence=function(Mt){var nn,rn,an=this;if(i$1().getBool("WEBGL_FENCE_API_ENABLED")){var sn=Mt,un=sn.fenceSync(sn.SYNC_GPU_COMMANDS_COMPLETE,0);Mt.flush(),rn=function(){var ln=sn.clientWaitSync(un,0,0);return ln===sn.ALREADY_SIGNALED||ln===sn.CONDITION_SATISFIED},nn=un}else i$1().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(nn=this.beginQuery(),this.endQuery(),rn=function(){return an.isQueryAvailable(nn,i$1().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):rn=function(){return!0};return{query:nn,isFencePassed:rn}},st.prototype.downloadMatrixFromPackedTexture=function(Mt,nn,rn){var an=this;return this.downloadMatrixDriver(Mt,function(){return Oi(an.gl,an.debug,nn,rn)})},st.prototype.createProgram=function(Mt){this.throwIfDisposed();var nn=this.gl,rn=ae(nn,this.debug,Mt),an=yi(nn,this.debug),sn=ce(nn,this.debug);return Jt(nn,this.debug,function(){return nn.attachShader(sn,an)}),Jt(nn,this.debug,function(){return nn.attachShader(sn,rn)}),le(nn,this.debug,sn),this.debug&&he(nn,this.debug,sn),this.vertexAttrsAreBound||(this.setProgram(sn),this.vertexAttrsAreBound=Si(nn,this.debug,this.program,this.vertexBuffer)),sn},st.prototype.deleteProgram=function(Mt){var nn=this;this.throwIfDisposed(),Mt===this.program&&(this.program=null),Mt!=null&&Jt(this.gl,this.debug,function(){return nn.gl.deleteProgram(Mt)})},st.prototype.setProgram=function(Mt){var nn=this;this.throwIfDisposed(),this.program=Mt,this.program!=null&&this.debug&&he(this.gl,this.debug,this.program),Jt(this.gl,this.debug,function(){return nn.gl.useProgram(Mt)})},st.prototype.getUniformLocation=function(Mt,nn,rn){return rn===void 0&&(rn=!0),this.throwIfDisposed(),rn?xe(this.gl,this.debug,Mt,nn):be(this.gl,Mt,nn)},st.prototype.getAttributeLocation=function(Mt,nn){var rn=this;return this.throwIfDisposed(),Jt(this.gl,this.debug,function(){return rn.gl.getAttribLocation(Mt,nn)})},st.prototype.getUniformLocationNoThrow=function(Mt,nn){return this.throwIfDisposed(),this.gl.getUniformLocation(Mt,nn)},st.prototype.setInputMatrixTexture=function(Mt,nn,rn){this.throwIfDisposed(),this.throwIfNoProgram(),we(this.gl,this.debug,this.program,Mt,nn,rn)},st.prototype.setOutputMatrixTexture=function(Mt,nn,rn){this.setOutputMatrixTextureDriver(Mt,rn,nn)},st.prototype.setOutputPackedMatrixTexture=function(Mt,nn,rn){this.throwIfDisposed();var an=$t(nn,rn),sn=an[0],un=an[1];this.setOutputMatrixTextureDriver(Mt,sn,un)},st.prototype.setOutputMatrixWriteRegion=function(Mt,nn,rn,an){this.setOutputMatrixWriteRegionDriver(rn,Mt,an,nn)},st.prototype.setOutputPackedMatrixWriteRegion=function(Mt,nn,rn,an){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},st.prototype.debugValidate=function(){this.program!=null&&he(this.gl,this.debug,this.program),Re(this.gl)},st.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var Mt=this.gl;this.debug&&this.debugValidate(),Jt(Mt,this.debug,function(){return Mt.drawElements(Mt.TRIANGLES,6,Mt.UNSIGNED_SHORT,0)})},st.prototype.blockUntilAllProgramsCompleted=function(){var Mt=this;this.throwIfDisposed(),Jt(this.gl,this.debug,function(){return Mt.gl.finish()})},st.prototype.getQueryTimerExtension=function(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=re$1(this.gl,this.debug,i$1().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},st.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},st.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},st.prototype.beginQuery=function(){if(i$1().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){var Mt=this.gl,nn=this.getQueryTimerExtensionWebGL2(),rn=Mt.createQuery();return Mt.beginQuery(nn.TIME_ELAPSED_EXT,rn),rn}var an=this.getQueryTimerExtensionWebGL1(),sn=an.createQueryEXT();return an.beginQueryEXT(an.TIME_ELAPSED_EXT,sn),sn},st.prototype.endQuery=function(){if(i$1().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")!==2){var Mt=this.getQueryTimerExtensionWebGL1();Mt.endQueryEXT(Mt.TIME_ELAPSED_EXT)}else{var nn=this.gl,rn=this.getQueryTimerExtensionWebGL2();nn.endQuery(rn.TIME_ELAPSED_EXT)}},st.prototype.waitForQueryAndGetTime=function(Mt){return n(this,void 0,void 0,function(){var nn=this;return r(this,function(rn){switch(rn.label){case 0:return[4,F(function(){return nn.disposed||nn.isQueryAvailable(Mt,i$1().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return rn.sent(),[2,this.getQueryTime(Mt,i$1().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},st.prototype.getQueryTime=function(Mt,nn){if(nn===0)return null;if(nn===2){var rn=this.gl;return rn.getQueryParameter(Mt,rn.QUERY_RESULT)/1e6}var an=this.getQueryTimerExtensionWebGL1();return an.getQueryObjectEXT(Mt,an.QUERY_RESULT_EXT)/1e6},st.prototype.isQueryAvailable=function(Mt,nn){if(nn===0)return!0;if(nn===2){var rn=this.gl,an=this.getQueryTimerExtensionWebGL2(),sn=rn.getQueryParameter(Mt,rn.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(an.GPU_DISJOINT_EXT)),sn&&!this.disjoint}return sn=(an=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(Mt,an.QUERY_RESULT_AVAILABLE_EXT),this.disjoint==null&&(this.disjoint=this.gl.getParameter(an.GPU_DISJOINT_EXT)),sn&&!this.disjoint},st.prototype.pollFence=function(Mt){var nn=this;return new Promise(function(rn){nn.addItemToPoll(function(){return Mt.isFencePassed()},function(){return rn()})})},st.prototype.pollItems=function(){for(var Mt=function(rn){for(var an=0;an<rn.length&&rn[an]();++an);return an-1}(this.itemsToPoll.map(function(rn){return rn.isDoneFn})),nn=0;nn<=Mt;++nn)(0,this.itemsToPoll[nn].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(Mt+1)},st.prototype.addItemToPoll=function(Mt,nn){var rn=this;this.itemsToPoll.push({isDoneFn:Mt,resolveFn:nn}),this.itemsToPoll.length>1||F(function(){return rn.pollItems(),rn.itemsToPoll.length===0})},st.prototype.bindTextureToFrameBuffer=function(Mt){this.throwIfDisposed(),Ce(this.gl,this.debug,Mt,this.framebuffer),this.debug&&Re(this.gl)},st.prototype.unbindTextureToFrameBuffer=function(){this.outputTexture!=null?(Ce(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&Re(this.gl)):Ee(this.gl,this.debug,this.framebuffer)},st.prototype.downloadMatrixDriver=function(Mt,nn){this.bindTextureToFrameBuffer(Mt);var rn=nn();return this.unbindTextureToFrameBuffer(),rn},st.prototype.setOutputMatrixTextureDriver=function(Mt,nn,rn){this.throwIfDisposed();var an=this.gl;Ce(an,this.debug,Mt,this.framebuffer),this.debug&&Re(an),this.outputTexture=Mt,Jt(an,this.debug,function(){return an.viewport(0,0,nn,rn)}),Jt(an,this.debug,function(){return an.scissor(0,0,nn,rn)})},st.prototype.setOutputMatrixWriteRegionDriver=function(Mt,nn,rn,an){var sn=this;this.throwIfDisposed(),Jt(this.gl,this.debug,function(){return sn.gl.scissor(Mt,nn,rn,an)})},st.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},st.prototype.throwIfNoProgram=function(){if(this.program==null)throw new Error("No GPU program is currently set.")},st}();function Pi(st,Mt){if(st.length!==Mt.length)throw Error("Binary was compiled with "+st.length+" inputs, but was executed with "+Mt.length+" inputs");st.forEach(function(nn,rn){var an=nn.logicalShape,sn=Mt[rn],un=sn.shape;if(!S(an,un))throw Error("Binary was compiled with different shapes than the current args. Shapes "+an+" and "+un+" must match");if(!nn.isUniform||!sn.isUniform){var ln=nn.texShape,cn=sn.isUniform?null:sn.texData.texShape;if(!S(ln,cn))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+ln+" and "+cn+" must match")}})}var Li=function(st,Mt,nn){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=st;for(var rn=nn.filterWidth,an=nn.inChannels,sn=nn.strideWidth,un=nn.strideHeight,ln=nn.padInfo,cn=nn.outWidth,hn=nn.dilationWidth,fn=nn.dilationHeight,to=nn.dataFormat,Xr=ln.left,uo=ln.top,co=an*rn,ho=ua(),e0=to==="channelsLast",lo=e0?0:1,mo=e0?1:2,fo="",Uo=0;Uo<=1;Uo++)for(var t0=0;t0<=1;t0++)fo+=`
          blockIndex = rc.y + `+t0+`;
          pos = rc.x + `+Uo+`;

          if(blockIndex < `+st[1]+" && pos < "+st[0]+`) {
            offsetY = int(blockIndex / (`+cn+")) * "+un+" - "+uo+`;
            d0 = offsetY + `+fn+" * (pos / "+co+`);

            if(d0 < `+Mt[lo]+` && d0 >= 0) {

              offsetX = int(mod(float(blockIndex), `+cn+".) * "+sn+". - "+Xr+`.);
              d1 = offsetX + `+hn+" * (int(mod(float(pos), "+co+".) / "+an+`.));

              if(d1 < `+Mt[mo]+` && d1 >= 0) {

                ch = int(mod(float(pos), `+an+`.));

                if (`+e0+`) {
                  innerDims = vec2(d1, ch);
                  result[`+(2*Uo+t0)+`] = getChannel(
                    getA(d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[`+(2*Uo+t0)+`] = getChannel(
                    getA(ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec2 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        `+fo+`

        `+ho.output+` = result;
      }
    `},Wi=function(st,Mt,nn,rn,an){this.variableNames=["x"],this.outputShape=[];var sn,un=Mt,ln=st[3]-1;this.outputShape=st;var cn="float("+nn+") + float("+rn+") * sum";sn=an===.5?"inversesqrt("+cn+")":an===1?"1.0/("+cn+")":"exp(log("+cn+") * float(-"+an+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -`+un+"; j <= "+un+`; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  `+ln+`) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * `+sn+`;
        setOutput(val);
      }
    `},Ui=function(st,Mt,nn,rn,an){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=st,this.depth=st[3],this.depthRadius=Mt,this.bias=nn,this.alpha=rn,this.beta=an,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < `+this.depth+`; ++d) {
          int depthBegin = int(max(0.0, float(d - `+Mt+`)));
          int depthEnd = int(min(float(`+this.depth+`),
              float(d + `+Mt+` + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = `+this.depth+`;

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(`+rn+") * norm + float("+nn+`);

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(`+rn+`)
                * float(`+an+`)
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * `+an+`);
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `},Vi=function(st,Mt,nn,rn,an){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var sn,un=Mt,ln=st[3]-1;this.outputShape=st;var cn="float("+nn+") + float("+rn+") * sum";sn=an===.5?"inversesqrt("+cn+")":an===1?"1.0/("+cn+")":"exp(log("+cn+") * float(-"+an+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < `+this.outputShape[3]+`;
        bool hasNextRow = c < `+this.outputShape[2]+`;

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - `+un+`;
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - `+un+"; j <= "+un+`; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(`+ln+`));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * `+sn+`;
        setOutput(result);
      }
    `},zi=function(st){this.variableNames=["dy","maxPos"],this.outputShape=st.inShape;var Mt=st.strideHeight,nn=st.strideWidth,rn=st.dilationHeight,an=st.effectiveFilterHeight,sn=st.effectiveFilterWidth,un=an-1-st.padInfo.top,ln=sn-1-st.padInfo.left,cn=an*sn-1;this.userCode=`
      const ivec2 pads = ivec2(`+un+", "+ln+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+an+`;
          wR += `+rn+`) {
          float dyR = float(dyRCorner + wR) / `+Mt+`.0;

          if (dyR < 0.0 || dyR >= `+st.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+sn+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+nn+`.0;

            if (dyC < 0.0 || dyC >= `+st.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = `+cn+` - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * `+sn+` + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `},Gi=function(st){this.variableNames=["dy","maxPos"],this.outputShape=st.inShape;var Mt=st.strideDepth,nn=st.strideHeight,rn=st.strideWidth,an=st.dilationDepth,sn=st.dilationHeight,un=st.dilationWidth,ln=st.effectiveFilterDepth,cn=st.effectiveFilterHeight,hn=st.effectiveFilterWidth,fn=ln-1-st.padInfo.front,to=cn-1-st.padInfo.top,Xr=hn-1-st.padInfo.left,uo=ln*cn*hn-1;this.userCode=`
      const ivec3 pads = ivec3(`+fn+", "+to+", "+Xr+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+ln+`;
           wD += `+an+`) {
          float dyD = float(dyDCorner + wD) / `+Mt+`.0;

          if (dyD < 0.0 || dyD >= `+st.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+cn+`;
              wR += `+sn+`) {
            float dyR = float(dyRCorner + wR) / `+nn+`.0;

            if (dyR < 0.0 || dyR >= `+st.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+hn+`;
                wC += `+un+`) {
              float dyC = float(dyCCorner + wC) / `+rn+`.0;

              if (dyC < 0.0 || dyC >= `+st.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = `+uo+` -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * `+cn+" * "+hn+` +
                  wR * `+hn+` + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `},Hi=function(st,Mt,nn,rn,an,sn,un){nn===void 0&&(nn=!1),rn===void 0&&(rn=!1),an===void 0&&(an=!1),sn===void 0&&(sn=null),un===void 0&&(un=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Mt;var ln=nn?st[1]:st[2],cn=Math.ceil(ln/2),hn=nn?"i * 2, rc.y":"rc.y, i * 2",fn=rn?"rc.z, i * 2":"i * 2, rc.z",to=nn?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],Xr=rn?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],uo="",co="";sn&&(uo=un?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+sn+`
        }`:`vec4 activation(vec4 x) {
          `+sn+`
        }`,co="result = activation(result);");var ho=an?"result += getBiasAtOutCoords();":"";an&&this.variableNames.push("bias"),un&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+uo+`

      const float sharedDimension = `+cn+`.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < `+cn+`; i++) {
          vec4 a = getMatrixA(rc.x, `+hn+`);
          vec4 b = getMatrixB(rc.x, `+fn+`);

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (`+to[0]+" * "+Xr[0]+`);
          result += (`+to[1]+" * "+Xr[1]+`);
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        `+ho+`

        `+co+`

        setOutput(result);
      }
    `},qi=function(){function st(Mt,nn,rn){this.variableNames=["probs"],this.outputShape=[Mt,rn],this.userCode=`
      uniform float seed;

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < `+(nn-1)+`; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(`+(nn-1)+`));
      }
    `}return st.prototype.getCustomSetupFunc=function(Mt){var nn=this;return function(rn,an){nn.seedLoc==null&&(nn.seedLoc=rn.getUniformLocation(an,"seed")),rn.gl.uniform1f(nn.seedLoc,Mt)}},st}(),Ki=function(st,Mt,nn,rn){this.variableNames=["indices"],this.outputShape=[st,Mt],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(`+rn+"), float("+nn+`),
                      float(index == coords.y)));
      }
    `},ji=function(st){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=st;var Mt=st.length;if(Mt===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{var nn=sa("rc",Mt),rn=wa(Mt),an=function(ln,cn,hn){if(ln===1)return"rc > "+cn[0];for(var fn="",to=ln-2;to<ln;to++)fn+=hn[to]+" >= "+cn[to],to<ln-1&&(fn+="||");return fn}(Mt,st,nn),sn=function(ln,cn,hn,fn){if(ln===1)return"";var to=fn.slice(-2);return`
    int r = `+to[0]+`;
    int c = `+to[1]+`;
    int rp1 = r + 1;
    int cp1 = c + 1;

    bool cEdge = cp1 >= `+cn+`;
    bool rEdge = rp1 >= `+hn+`;
  `}(Mt,st[st.length-1],st[st.length-2],nn),un=function(ln,cn){var hn=ln.length,fn=function(to,Xr){for(var uo=[],co=0;co<=1;co++)for(var ho=0;ho<=1;ho++){for(var e0=(co===0?"r":"rp1")+", "+(ho===0?"c":"cp1"),lo=2;lo<to;lo++)e0=Xr[Xr.length-1-lo]+","+e0;uo.push(e0)}return uo}(hn,cn);return hn===1?`getA(rc),
            rc + 1 >= `+ln[0]+` ? 0. : getA(rc + 1),
            0, 0`:"getA("+fn[0]+`),
          cEdge ? 0. : getA(`+fn[1]+`),
          rEdge ? 0. : getA(`+fn[2]+`),
          rEdge || cEdge ? 0. : getA(`+fn[3]+")"}(st,nn);this.userCode=`
        void main() {
          `+rn+` rc = getOutputCoords();

          if(`+an+`) {
            setOutput(vec4(0));
          } else {
            `+sn+`

            setOutput(vec4(`+un+`));
          }
        }
      `}},Xi=function(st,Mt,nn){this.variableNames=["x"],this.outputShape=Mt.map(function(cn,hn){return cn[0]+st[hn]+cn[1]});var rn=st.length,an=wa(rn),sn=Mt.map(function(cn){return cn[0]}).join(","),un=Mt.map(function(cn,hn){return cn[0]+st[hn]}).join(","),ln=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,rn);this.userCode=rn!==1?`
      `+an+" start = "+an+"("+sn+`);
      `+an+" end = "+an+"("+un+`);

      void main() {
        `+an+` outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(float(`+nn+`));
        } else {
          `+an+` coords = outC - start;
          setOutput(getX(`+ln+`));
        }
      }
    `:`
        int start = `+sn+`;
        int end = `+un+`;

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(float(`+nn+`));
          } else {
            setOutput(getX(outC - start));
          }
        }
      `},Yi=function(st,Mt,nn){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Mt.map(function(e0,lo){return e0[0]+st[lo]+e0[1]});for(var rn=st.length,an=wa(rn),sn=Mt.map(function(e0){return e0[0]}).join(","),un=Mt.map(function(e0,lo){return e0[0]+st[lo]}).join(","),ln=sa("rc",rn),cn=sa("source",rn),hn=ln[rn-1]+" < "+this.outputShape[rn-1],fn=rn===1?"source":"vec2("+cn.slice(-2).join()+")",to=[an+" rc = outputLoc;",ln[rn-1]+` += 1;
       if(`+hn+`) {
      `,rn===1?"":`}
       rc = outputLoc;
       `+ln[rn-2]+` += 1;
       if(`+ln[rn-2]+" < "+this.outputShape[rn-2]+") {",rn===1?"":"  "+ln[rn-1]+` += 1;
         if(`+hn+") {"],Xr=rn===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",uo="",co=0,ho=rn===1?2:4;co<ho;co++)uo+=`
        `+to[co]+`
        if (`+Xr+`) {
          result[`+co+"] = float("+nn+`);
        } else {
          `+an+` source = rc - start;
          result[`+co+"] = getChannel(getX("+cn.join()+"), "+fn+`);
        }
      `;uo+=rn===1?"} ":"}}",this.userCode=`
      const `+an+" start = "+an+"("+sn+`);
      const `+an+" end = "+an+"("+un+`);

      void main() {
        `+an+` outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        `+uo+`
        setOutput(result);
      }
    `},$i=function(st,Mt,nn){if(this.variableNames=["x"],Mt==="avg"&&nn)throw new Error("Cannot compute positions for average pool.");var rn=st.filterWidth,an=st.strideHeight,sn=st.strideWidth,un=st.dilationHeight,ln=st.dilationWidth,cn=st.effectiveFilterHeight,hn=st.effectiveFilterWidth,fn=st.padInfo.top,to=st.padInfo.left;this.outputShape=st.outShape;var Xr=Mt==="avg",uo="0.0";if(Xr||(uo="-1.0 / 1e-20"),nn)this.userCode=`
        const ivec2 strides = ivec2(`+an+", "+sn+`);
        const ivec2 pads = ivec2(`+fn+", "+to+`);

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < `+cn+`;
              wR += `+un+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+st.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+hn+`;
                wC += `+ln+`) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= `+st.inWidth+`) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = wR * `+hn+` + wC;
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var co=Mt+"("+Mt+"("+Mt+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";Mt==="avg"&&(co="avgValue / count");var ho=4*Math.floor(rn/4),e0=rn%4,lo=`
      if (`+Xr+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(`+an+", "+sn+`);
      const ivec2 pads = ivec2(`+fn+", "+to+`);
      const float initializationValue = `+uo+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= `+st.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+uo+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < `+cn+`;
            wR += `+un+`) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= `+st.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+ho+`; wC += 4) {
            int xC = xCCorner + wC * `+ln+`;

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+ln+`, d),
              getValue(batch, xR, xC + 2 * `+ln+`, d),
              getValue(batch, xR, xC + 3 * `+ln+`, d)
            );

            `+lo+`
          }

          int xC = xCCorner + `+ho+`;
          if (`+(e0===1)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            `+lo+`
          } else if (`+(e0===2)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+ln+`, d),
              initializationValue,
              initializationValue
            );

            `+lo+`
          } else if (`+(e0===3)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+ln+`, d),
              getValue(batch, xR, xC + 2 * `+ln+`, d),
              initializationValue
            );

            `+lo+`
          }
        }
        setOutput(`+co+`);
      }
    `}},Qi=function(st,Mt,nn){if(this.variableNames=["x"],Mt==="avg"&&nn)throw new Error("Cannot compute positions for average pool.");var rn=st.filterWidth,an=st.strideDepth,sn=st.strideHeight,un=st.strideWidth,ln=st.dilationDepth,cn=st.dilationHeight,hn=st.dilationWidth,fn=st.effectiveFilterDepth,to=st.effectiveFilterHeight,Xr=st.effectiveFilterWidth,uo=st.padInfo.front,co=st.padInfo.top,ho=st.padInfo.left;this.outputShape=st.outShape;var e0=Mt==="avg",lo="0.0";if(e0||(lo="-1.0 / 1e-20"),nn)this.userCode=`
        const ivec3 strides =
            ivec3(`+an+", "+sn+", "+un+`);
        const ivec3 pads = ivec3(`+uo+", "+co+", "+ho+`);

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < `+fn+`;
              wD += `+ln+`) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= `+st.inDepth+`) {
              continue;
            }

            for (int wR = 0; wR < `+to+`;
                wR += `+cn+`) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= `+st.inHeight+`) {
                continue;
              }

              for (int wC = 0; wC < `+Xr+`;
                  wC += `+hn+`) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= `+st.inWidth+`) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition =
                      wD * `+to+" * "+Xr+` +
                      wR * `+Xr+` + wC;;
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var mo=Mt+"("+Mt+"("+Mt+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";Mt==="avg"&&(mo="avgValue / count");var fo=4*Math.floor(rn/4),Uo=rn%4,t0=`
      if (`+e0+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(`+an+", "+sn+", "+un+`);
      const ivec3 pads = ivec3(`+uo+", "+co+", "+ho+`);
      const float initializationValue = `+lo+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= `+st.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+lo+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < `+fn+`;
            wD += `+ln+`) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= `+st.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+to+`;
            wR += `+cn+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+st.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+fo+`; wC += 4) {
              int xC = xCCorner + wC * `+hn+`;

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+hn+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+hn+`, ch),
                getValue(batch, xD, xR, xC + 3 * `+hn+`, ch)
              );

              `+t0+`
            }

            int xC = xCCorner + `+fo+`;
            if (`+(Uo===1)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              `+t0+`
            } else if (`+(Uo===2)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+hn+`, ch),
                initializationValue,
                initializationValue
              );

              `+t0+`
            } else if (`+(Uo===3)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+hn+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+hn+`, ch),
                initializationValue
              );

              `+t0+`
            }
          }
          setOutput(`+mo+`);
        }
      }
    `}},Ji=function(st,Mt){this.variableNames=["x"];var nn=st.windowSize,rn=st.batchSize,an=st.inSize,sn=Math.ceil(an/nn);this.outputShape=[rn,sn];var un="0.0",ln="";Mt==="prod"?un="1.0":Mt==="min"?(un="1.0 / 1e-20",ln="min"):Mt==="max"&&(un="-1.0 / 1e-20",ln="max");var cn=Mt+"("+Mt+"("+Mt+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";Mt==="sum"?cn="sumValue":Mt==="prod"?cn="prodValue":Mt==="all"?cn="allValue":Mt==="any"&&(cn="anyValue");var hn=4*Math.floor(nn/4),fn=nn%4,to=`
      if (`+(Mt==="sum")+`) {
        sumValue += dot(values, ones);
      } else if (`+(Mt==="prod")+`) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = `+ln+`(values, minMaxValue);
      }
    `,Xr="vec4";Mt==="all"?(un="1.0",to=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,Xr="bvec4"):Mt==="any"&&(un="0.0",to=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,Xr="bvec4");var uo="";an%nn>0&&(uo=`
        if (inIdx < 0 || inIdx >= `+an+`) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = `+un+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        `+uo+`
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+nn+`;

        vec4 minMaxValue = vec4(`+un+`);
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < `+hn+`; i += 4) {
          int inIdx = inOffset + i;
          `+Xr+" values = "+Xr+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          `+to+`
        }

        int inIdx = inOffset + `+hn+`;
        if (`+(fn===1)+`) {
          `+Xr+" values = "+Xr+`(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          `+to+`
        } else if (`+(fn===2)+`) {
          `+Xr+" values = "+Xr+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          `+to+`
        } else if (`+(fn===3)+`) {
          `+Xr+" values = "+Xr+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          `+to+`
        }
        setOutput(`+cn+`);
      }
    `},Zi=function(st,Mt){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=st;for(var nn="",rn=0;rn<4;rn++){var an="thisRC = rc;";rn%2==1&&(an+="thisRC.z += 1;"),rn>1&&(an+="thisRC.y += 1;"),nn+=`
        `+an+`
        `+(rn>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+`
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[`+rn+`] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        `+(rn>0?"}":"")+`
      `}this.userCode=`
      
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      `+ca(["r","c","d"],Mt)+`
      return ivec3(r, c, d);
    }
  
      `+la(st)+`

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = `+st[1]+`;
        int cols = `+st[2]+`;

        `+nn+`

        setOutput(result);
      }
    `},ts=function(st,Mt,nn){this.variableNames=["dy"],this.outputShape=[],this.outputShape=Mt.shape;var rn=Mt.shape,an=rn[1],sn=rn[2],un=st.shape,ln=un[1],cn=un[2],hn=[nn&&ln>1?an-1:an,nn&&cn>1?sn-1:sn],fn=[nn&&ln>1?ln-1:ln,nn&&cn>1?cn-1:cn],to=hn[0]/fn[0],Xr=hn[1]/fn[1],uo=1/to,co=1/Xr,ho=2*Math.ceil(uo)+2,e0=2*Math.ceil(co)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+to+`);
        const float widthScale = float(`+Xr+`);

        const float invHeightScale = float(`+uo+`);
        const float invWidthScale = float(`+co+`);

        const int winHeight = int(`+ho+`);
        const int winWidth = int(`+e0+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+ln+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+cn+`) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), `+(an-1)+`.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), `+(sn-1)+`.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},es=function(st,Mt,nn,rn){this.variableNames=["A"],this.outputShape=[];var an=st[0],sn=st[1],un=st[2],ln=st[3];this.outputShape=[an,Mt,nn,ln];var cn=[rn&&Mt>1?sn-1:sn,rn&&nn>1?un-1:un],hn=[rn&&Mt>1?Mt-1:Mt,rn&&nn>1?nn-1:nn];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+cn[0]/hn[0]+`,
          `+cn[1]/hn[1]+`);
      const vec2 inputShapeRC = vec2(`+sn+".0, "+un+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `},ns=function(st,Mt,nn,rn){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var an=st[0],sn=st[1],un=st[2],ln=st[3];this.outputShape=[an,Mt,nn,ln];var cn=[rn&&Mt>1?sn-1:sn,rn&&nn>1?un-1:un],hn=[rn&&Mt>1?Mt-1:Mt,rn&&nn>1?nn-1:nn];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          `+cn[0]/hn[0]+`,
          `+cn[1]/hn[1]+`,
          `+cn[1]/hn[1]+`);
      const vec3 inputShapeRC = vec3(`+sn+".0, "+un+`.0,
                                     `+un+`.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < `+(ln-1)+`;
        bool hasNextRow = coords.z < `+(nn-1)+`;

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `},rs=function(st,Mt,nn){this.variableNames=["dy"],this.outputShape=[],this.outputShape=Mt.shape;var rn=Mt.shape,an=rn[1],sn=rn[2],un=st.shape,ln=un[1],cn=un[2],hn=[nn&&ln>1?an-1:an,nn&&cn>1?sn-1:sn],fn=[nn&&ln>1?ln-1:ln,nn&&cn>1?cn-1:cn],to=hn[0]/fn[0],Xr=hn[1]/fn[1],uo=1/to,co=1/Xr,ho=2*Math.ceil(uo)+2,e0=2*Math.ceil(co)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+to+`);
        const float widthScale = float(`+Xr+`);

        const float invHeightScale = float(`+uo+`);
        const float invWidthScale = float(`+co+`);

        const int winHeight = int(`+ho+`);
        const int winWidth = int(`+e0+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+ln+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+cn+`) {
              continue;
            }

            float sourceFracRow =
              float(`+hn[0]+`) *
                (float(dyR) / float(`+fn[0]+`));

            float sourceFracCol =
                float(`+hn[1]+`) *
                  (float(dyC) / float(`+fn[1]+`));

            int sourceNearestRow = int(min(
                float(int(`+an+`) - 1),
                `+nn+` ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(`+sn+`) - 1),
                `+nn+` ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},os=function(st,Mt,nn,rn){this.variableNames=["A"],this.outputShape=[];var an=st[0],sn=st[1],un=st[2],ln=st[3];this.outputShape=[an,Mt,nn,ln];var cn=[rn&&Mt>1?sn-1:sn,rn&&nn>1?un-1:un],hn=[rn&&Mt>1?Mt-1:Mt,rn&&nn>1?nn-1:nn],fn=rn?"0.5":"0.0";this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+cn[0]/hn[0]+`,
          `+cn[1]/hn[1]+`);
      const vec2 inputShapeRC = vec2(`+sn+".0, "+un+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + `+fn+`)));

        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `},as=function(st,Mt){this.variableNames=["x"];var nn=st.length;if(nn>4)throw new Error("WebGL backend: Reverse of rank-"+nn+" tensor is not yet supported");if(this.outputShape=st,nn!==1){var rn=st.map(function(sn,un){return function(ln){return Mt.indexOf(ln)!==-1&&st[ln]!==1?st[ln]+" - coords["+ln+"] - 1":"coords["+ln+"]"}(un)}).join(","),an=wa(nn);this.userCode=`
      void main() {
        `+an+` coords = getOutputCoords();
        setOutput(getX(`+rn+`));
      }
    `}else this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(`+st[0]+` - coord - 1));
        }
      `},is=function(st,Mt){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var nn=st.length;if(nn>4)throw new Error("WebGL backend: Reverse of rank-"+nn+" tensor is not yet supported");this.outputShape=st;var rn=sa("rc",nn),an=rn[nn-1]+" + 1 < "+this.outputShape[nn-1],sn=rn[nn-2]+" + 1 < "+this.outputShape[nn-2],un=wa(nn);function ln(cn){var hn=st.map(function(fn,to){return function(Xr,uo){return Mt.indexOf(Xr)!==-1&&st[Xr]!==1?st[Xr]+" - "+uo[Xr]+" - 1":""+uo[Xr]}(to,cn)});return"getChannel(getX("+hn.join(",")+"), vec2("+hn.slice(-2).join(",")+"))"}this.userCode=nn===1?`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(`+st[0]+` - rc - 1),
            `+st[0]+` - rc - 1);
          if(`+an+`){
              result.g = getChannel(getX(`+st[0]+` - (rc  + 1) - 1),
                `+st[0]+` - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:`
        void main() {
          `+un+` rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = `+function(cn){return ln(cn)}(rn.slice())+`;
          if(`+an+`){
            result.g = `+function(cn){return cn[nn-1]="("+cn[nn-1]+" + 1)",ln(cn)}(rn.slice())+`;
          }
          if(`+sn+`) {
            result.b = `+function(cn){return cn[nn-2]="("+cn[nn-2]+" + 1)",ln(cn)}(rn.slice())+`;
            if(`+an+`) {
              result.a = `+function(cn){return cn[nn-1]="("+cn[nn-1]+" + 1)",cn[nn-2]="("+cn[nn-2]+" + 1)",ln(cn)}(rn.slice())+`;
            }
          }
          setOutput(result);
        }
    `},ss=function(st,Mt,nn,rn,an,sn,un){this.variableNames=["updates","indices","defaultValue"],this.outputShape=sn;var ln=wa(an.length),cn=wa(sn.length),hn="";nn===1?hn="i":nn===2&&(hn="i, j");var fn="getIndices("+hn+")",to="";rn===1?to="i":rn===2&&(to="i, coords[1]");var Xr="getUpdates("+to+")",uo=Mt>1?"strides[j]":"strides";this.userCode=`
        `+ln+" strides = "+ln+"("+an+`);

        void main() {
          `+cn+` coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < `+st+`; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < `+Mt+`; j++) {
              int index = round(`+fn+`);
              flattenedIndex += index * `+uo+`;
            }
            if (flattenedIndex == coords[0]) {
              sum += `+Xr+`;
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `},us=function(st,Mt){this.variableNames=["x","segmentIds"];var nn=st.windowSize,rn=st.batchSize,an=st.inSize,sn=st.numSegments,un=sn*Math.ceil(an/nn);this.outputShape=[rn,un];var ln=4*Math.floor(nn/4),cn=nn%4,hn=`
        sumValue += dot(values, segFilter);
    `,fn="";an%nn>0&&(fn=`
        if (inIdx < 0 || inIdx >= `+an+`) {
          return initializationValue;
        }
      `);var to="";an%nn>0&&(to=`
        if (inIdx < 0 || inIdx >= `+an+`) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        `+fn+`
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        `+to+`
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          `+sn+")) * float("+nn+`));
        int currentSeg = int(mod(float(outIdx), float(`+sn+`)));

        float sumValue = 0.0;

        for (int i = 0; i < `+ln+`; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          `+hn+`
        }

        int inIdx = inOffset + `+ln+`;
        if (`+(cn===1)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          `+hn+`
        } else if (`+(cn===2)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          `+hn+`
        } else if (`+(cn===3)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          `+hn+`
        }
        setOutput(sumValue);
      }
    `},cs=function(st,Mt,nn){var rn,an;if(this.variableNames=["c","a","b"],this.outputShape=Mt,nn>4)throw Error("Where for rank "+nn+" is not yet supported");if(nn===1)an="resRC",rn="resRC";else{for(var sn=["resRC.x","resRC.y","resRC.z","resRC.w"],un=[],ln=[],cn=0;cn<Mt.length;cn++)ln.push(""+sn[cn]),cn<st&&un.push(""+sn[cn]);rn=un.join(),an=ln.join()}var hn=wa(nn);this.userCode=`
      void main() {
        `+hn+` resRC = getOutputCoords();
        float cVal = getC(`+rn+`);
        if (cVal >= 1.0) {
          setOutput(getA(`+an+`));
        } else {
          setOutput(getB(`+an+`));
        }
      }
    `},ls=function(){function st(Mt){this.variableNames=["source"],this.outputShape=Mt,this.rank=Mt.length;var nn,rn=wa(this.rank),an="uniform int start["+this.rank+"];",sn=function(un){if(un===1)return"sourceLoc";if(un<=6)return hs.slice(0,un).map(function(ln){return"sourceLoc."+ln}).join(",");throw Error("Slicing for rank "+un+" is not yet supported")}(this.rank);nn=`
        `+rn+` sourceLoc;
        `+rn+` coords = getOutputCoords();
        `+Mt.map(function(un,ln){return"sourceLoc."+hs[ln]+" = start["+ln+"] + coords."+hs[ln]+";"}).join(`
`)+`
      `,this.userCode=`
      `+an+`
      void main() {
        `+nn+`
        setOutput(getSource(`+sn+`));
      }
    `}return st.prototype.getCustomSetupFunc=function(Mt){var nn=this;if(Mt.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+Mt.length+")");return function(rn,an){nn.startLoc==null&&(nn.startLoc=rn.getUniformLocationNoThrow(an,"start"),nn.startLoc==null)||rn.gl.uniform1iv(nn.startLoc,Mt)}},st}(),hs=["x","y","z","w","u","v"],fs=function(){function st(Mt){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Mt,this.rank=Mt.length;var nn=wa(this.rank),rn=sa("coords",this.rank),an=sa("sourceLoc",this.rank),sn=this.rank===1?"sourceLoc":"vec2("+an.slice(-2).join()+")",un="getChannel(getSource("+an.join()+"), "+sn+")",ln=`
      result.x = `+un+`;
      if (++`+rn[this.rank-1]+" < "+Mt[this.rank-1]+`) {
        ++`+an[this.rank-1]+`;
        result.y = `+un+`;
        --`+an[this.rank-1]+`;
      }
    `,cn=this.rank===1?"":`
      --`+rn[this.rank-1]+`;
      if (++`+rn[this.rank-2]+" < "+Mt[this.rank-2]+`) {
        ++`+an[this.rank-2]+`;
        result.z = `+un+`;
        if (++`+rn[this.rank-1]+" < "+Mt[this.rank-1]+`) {
          ++`+an[this.rank-1]+`;
          result.w = `+un+`;
        }
      }
    `,hn=this.rank<=4?`sourceLoc = coords +
            `+nn+"("+Mt.map(function(fn,to){return"start["+to+"]"}).join()+");":Mt.map(function(fn,to){return an[to]+" = "+rn[to]+" + start["+to+"];"}).join(`
`);this.userCode=`
      uniform int start[`+this.rank+`];
      void main() {
        `+nn+` coords = getOutputCoords();
        `+nn+` sourceLoc;
        `+hn+`
        vec4 result = vec4(0.);
        `+ln+`
        `+cn+`
        setOutput(result);
      }
    `}return st.prototype.getCustomSetupFunc=function(Mt){var nn=this;if(Mt.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+Mt.length+")");return function(rn,an){nn.startLoc==null&&(nn.startLoc=rn.getUniformLocationNoThrow(an,"start"),nn.startLoc==null)||rn.gl.uniform1iv(nn.startLoc,Mt)}},st}(),ds=function(st,Mt,nn){this.variableNames=["x"],this.outputShape=nn;var rn=nn.length,an=wa(nn.length),sn=wa(nn.length),un="";if(rn===1)un="coords * strides + begin";else{var ln=0;un=nn.map(function(cn,hn){return ln++,nn.length===1?"coords * strides["+hn+"] + begin["+hn+"]":"coords["+(ln-1)+"] * strides["+hn+"] + begin["+hn+"]"}).join(",")}this.userCode=`
      `+an+" begin = "+an+"("+st+`);
      `+an+" strides = "+an+"("+Mt+`);

      void main() {
        `+sn+` coords = getOutputCoords();
        setOutput(getX(`+un+`));
      }
    `},ps=function(){function st(Mt){this.gpgpu=Mt,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return st.prototype.acquireTexture=function(Mt,nn,rn){var an,sn=vs(nn,rn),un=ms(Mt,sn,rn);if(un in this.freeTextures||(this.freeTextures[un]=[]),un in this.usedTextures||(this.usedTextures[un]=[]),this.freeTextures[un].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var ln=this.freeTextures[un].shift();return this.usedTextures[un].push(ln),ln}return this.numUsedTextures++,this.log(),sn===Gt.PACKED_2X2_FLOAT32?an=this.gpgpu.createPackedMatrixTexture(Mt[0],Mt[1]):sn===Gt.PACKED_2X2_FLOAT16?an=this.gpgpu.createFloat16PackedMatrixTexture(Mt[0],Mt[1]):sn===Gt.UNPACKED_FLOAT32?an=this.gpgpu.createFloat32MatrixTexture(Mt[0],Mt[1]):sn===Gt.UNPACKED_FLOAT16?an=this.gpgpu.createFloat16MatrixTexture(Mt[0],Mt[1]):sn===Gt.PACKED_4X1_UNSIGNED_BYTE&&(an=this.gpgpu.createUnsignedBytesMatrixTexture(Mt[0],Mt[1])),this.usedTextures[un].push(an),an},st.prototype.releaseTexture=function(Mt,nn,rn,an){if(this.freeTextures!=null){var sn=ms(nn,vs(rn,an),an);sn in this.freeTextures||(this.freeTextures[sn]=[]),this.freeTextures[sn].push(Mt),this.numFreeTextures++,this.numUsedTextures--;var un=this.usedTextures[sn],ln=un.indexOf(Mt);if(ln<0)throw new Error("Cannot release a texture that was never provided by this texture manager");un.splice(ln,1),this.log()}},st.prototype.log=function(){if(this.logEnabled){var Mt=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+Mt+")")}},st.prototype.getNumUsedTextures=function(){return this.numUsedTextures},st.prototype.getNumFreeTextures=function(){return this.numFreeTextures},st.prototype.dispose=function(){var Mt=this;if(this.freeTextures!=null){for(var nn in this.freeTextures)this.freeTextures[nn].forEach(function(rn){Mt.gpgpu.deleteMatrixTexture(rn)});for(var nn in this.usedTextures)this.usedTextures[nn].forEach(function(an){Mt.gpgpu.deleteMatrixTexture(an)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},st}();function vs(st,Mt){if(st===zt.UPLOAD)return Gt.PACKED_2X2_FLOAT32;if(st===zt.RENDER||st==null)return function(nn){return i$1().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?nn?Gt.PACKED_2X2_FLOAT32:Gt.UNPACKED_FLOAT32:nn?Gt.PACKED_2X2_FLOAT16:Gt.UNPACKED_FLOAT16}(Mt);if(st===zt.DOWNLOAD||st===zt.PIXELS)return Gt.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+st)}function ms(st,Mt,nn){return st[0]+"_"+st[1]+"_"+Mt+"_"+nn}var gs=function(st,Mt){this.variableNames=["A"];for(var nn=new Array(st.length),rn=0;rn<nn.length;rn++)nn[rn]=st[rn]*Mt[rn];this.outputShape=nn,this.rank=nn.length;var an=wa(this.rank),sn=function(un){var ln=un.length;if(ln>5)throw Error("Tile for rank "+ln+" is not yet supported");if(ln===1)return"imod(resRC, "+un[0]+")";for(var cn=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],hn=[],fn=0;fn<un.length;fn++)hn.push("imod("+cn[fn]+", "+un[fn]+")");return hn.join()}(st);this.userCode=`
      void main() {
        `+an+` resRC = getOutputCoords();
        setOutput(getA(`+sn+`));
      }
    `},ys=function(st,Mt){this.variableNames=["A"];for(var nn=new Array(st.length),rn=0;rn<nn.length;rn++)nn[rn]=st[Mt[rn]];this.outputShape=nn,this.rank=nn.length;var an=wa(this.rank),sn=function(un){var ln=un.length;if(ln>6)throw Error("Transpose for rank "+ln+" is not yet supported");for(var cn=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],hn=new Array(ln),fn=0;fn<un.length;fn++)hn[un[fn]]=cn[fn];return hn.join()}(Mt);this.userCode=`
    void main() {
      `+an+` resRC = getOutputCoords();
      setOutput(getA(`+sn+`));
    }
    `},xs=function(st,Mt){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var nn=new Array(st.length),rn=0;rn<nn.length;rn++)nn[rn]=st[Mt[rn]];if(this.outputShape=nn,this.rank=nn.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var an=wa(this.rank),sn=ia("rc",this.rank),un=new Array(this.rank);for(rn=0;rn<Mt.length;rn++)un[Mt[rn]]=sn[rn];var ln="vec2("+un.slice(-2).join()+")",cn="++"+sn[this.rank-1]+" < "+nn[this.rank-1],hn="getChannel(getA("+un.join()+"), "+ln+")";this.userCode=`
    void main() {
      `+an+` rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = `+hn+`;
      if(`+cn+`) {
        result[1] = `+hn+`;
      }
      --`+sn[this.rank-1]+`;
      if(++`+sn[this.rank-2]+" < "+nn[this.rank-2]+`) {
        result[2] = `+hn+`;
        if(`+cn+`) {
          result[3] = `+hn+`;
        }
      }
      setOutput(result);
    }
    `},bs=1.7580993408473768,ws=1.0507009873554805,Cs=function(st,Mt){this.variableNames=["A"],this.outputShape=st,this.userCode=`
      float unaryOperation(float x) {
        `+Mt+`
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `},Es="if (isnan(x)) return x;",Rs="return x;",Is="return abs(x);",ks=Es+`
  return (x < 0.0) ? 0.0 : x;
`,Ss=Es+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,As="return (x >= 0.0) ? x : (exp(x) - 1.0);",Ds=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = `+bs+`;
  float scale = `+ws+`;
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,Ts="return -x;",Ns="return ceil(x);",Fs="return floor(x);",_s="return exp(x);",Os="return exp(x) - 1.0;",Ms=Es+`
  return sin(x);
`,Bs=Es+`
  return cos(x);
`,Ps=Es+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,Ls=Es+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,Ws=Es+`
  return atan(x);
`,Us=Es+"return log(x + sqrt(x * x + 1.0));",Vs=Es+`
  if (x < 1.0) return NAN;
  return log(x + sqrt(x * x - 1.0));`,zs=Es+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
  return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,Gs="return x;",Hs="return x;",qs=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Ks=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,js=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,Xs=function(st,Mt){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=st,this.userCode=`
      vec4 unaryOperation(vec4 x) {
        `+Mt+`
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `},Ys=function(st){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=st;var Mt=st.length,nn=sa("rc",Mt),rn=wa(Mt),an=function(ln,cn){if(ln===1)return"rc";for(var hn="",fn=0;fn<ln;fn++)hn+=cn[fn],fn<ln-1&&(hn+=",");return hn}(Mt,nn),sn=nn.slice(-2),un=Mt<=1?"rc":"vec2("+sn.join(",")+")";this.userCode=`
      void main() {
        `+rn+` rc = getOutputCoords();
        vec4 packedInput = getA(`+an+`);

        setOutput(getChannel(packedInput, `+un+`));
      }
    `},$s={};function Qs(st,Mt){if(Mt===void 0&&(Mt=!1),st==="linear")return Mt?Hs:Rs;if(st==="relu")return Mt?qs:ks;if(st==="elu")return Mt?js:As;if(st==="relu6")return Mt?Ks:Ss;if(st==="prelu")return Mt?Pa:Ma;throw new Error("Activation "+st+" has not been implemented for the WebGL backend.")}var Js=600,Zs=function(st){function Mt(nn){var rn,an=st.call(this)||this;if(an.pendingRead=new WeakMap,an.pendingDisposal=new WeakSet,an.dataRefCount=new WeakMap,an.numBytesInGPU=0,an.uploadWaitMs=0,an.downloadWaitMs=0,an.warnedAboutMemory=!1,an.pendingDeletes=0,an.disposed=!1,!i$1().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(nn==null){var sn=jt(i$1().getNumber("WEBGL_VERSION"));an.binaryCache=((rn=i$1().getNumber("WEBGL_VERSION"))in $s||($s[rn]={}),$s[rn]),an.gpgpu=new Bi(sn),an.canvas=sn.canvas,an.gpgpuCreatedLocally=!0}else an.gpgpu=nn,an.binaryCache={},an.gpgpuCreatedLocally=!1,an.canvas=nn.gl.canvas;return an.textureManager=new ps(an.gpgpu),an.numMBBeforeWarning=i$1().global.screen==null?1024:i$1().global.screen.height*i$1().global.screen.width*window.devicePixelRatio*Js/1024/1024,an.texData=new xo(an,Lt),an}return e(Mt,st),Mt.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},Mt.prototype.write=function(nn,rn,an){if(i$1().getBool("DEBUG")&&this.checkNumericalProblems(nn),an==="complex64"&&nn!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var sn={};return this.texData.set(sn,{shape:rn,dtype:an,values:nn,usage:zt.UPLOAD}),sn},Mt.prototype.move=function(nn,rn,an,sn){if(i$1().getBool("DEBUG")&&this.checkNumericalProblems(rn),sn==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(nn,{shape:an,dtype:sn,values:rn,usage:zt.UPLOAD})},Mt.prototype.readSync=function(nn){var rn=this.texData.get(nn),an=rn.values,sn=rn.dtype,un=rn.complexTensors,ln=rn.slice,cn=rn.shape,hn=rn.isPacked;if(ln!=null){var fn=void 0;fn=hn?new Xs(cn,Gs):new Cs(cn,Gs);var to=this.runWebGLProgram(fn,[{dataId:nn,shape:cn,dtype:sn}],sn),Xr=this.readSync(to.dataId);return this.disposeData(to.dataId),Xr}if(an!=null)return this.convertAndCacheOnCPU(nn);if(sn==="string")return an;var uo,co,ho=this.activeTimers!=null;return ho&&(uo=et()),sn==="complex64"?co=Vo(un.real.dataSync(),un.imag.dataSync()):co=this.getValuesFromTexture(nn),ho&&(this.downloadWaitMs+=et()-uo),this.convertAndCacheOnCPU(nn,co)},Mt.prototype.read=function(nn){return n(this,void 0,void 0,function(){var rn,an,sn,un,ln,cn,hn,fn,to,Xr,uo,co,ho,e0,lo,mo,fo,Uo,t0,n0,i0,a0;return r(this,function(s0){switch(s0.label){case 0:if(this.pendingRead.has(nn))return rn=this.pendingRead.get(nn),[2,new Promise(function(l0){return rn.push(l0)})];if(an=this.texData.get(nn),sn=an.values,un=an.shape,ln=an.slice,cn=an.dtype,hn=an.complexTensors,fn=an.isPacked,ln!=null)return to=void 0,to=fn?new Xs(un,Gs):new Cs(un,Gs),Xr=this.runWebGLProgram(to,[{dataId:nn,shape:un,dtype:cn}],cn),uo=this.read(Xr.dataId),this.disposeData(Xr.dataId),[2,uo];if(sn!=null)return[2,this.convertAndCacheOnCPU(nn)];if(!i$1().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&i$1().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return co=null,cn!=="complex64"&&i$1().get("WEBGL_BUFFER_SUPPORTED")&&(ho=this.decode(nn),e0=this.texData.get(ho.dataId),co=(a0=this.gpgpu).createBufferFromTexture.apply(a0,[e0.texture].concat(Yt(un)))),this.pendingRead.set(nn,[]),cn==="complex64"?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:s0.sent(),s0.label=2;case 2:return cn!=="complex64"?[3,4]:[4,Promise.all([hn.real.data(),hn.imag.data()])];case 3:return mo=s0.sent(),fo=mo[0],Uo=mo[1],lo=Vo(fo,Uo),[3,5];case 4:co==null?lo=this.getValuesFromTexture(nn):(t0=k(un),lo=this.gpgpu.downloadFloat32MatrixFromBuffer(co,t0)),s0.label=5;case 5:return ho!=null&&this.disposeData(ho.dataId),n0=this.convertAndCacheOnCPU(nn,lo),i0=this.pendingRead.get(nn),this.pendingRead.delete(nn),i0.forEach(function(l0){return l0(n0)}),this.pendingDisposal.has(nn)&&(this.pendingDisposal.delete(nn),this.disposeData(nn),this.pendingDeletes--),[2,n0]}})})},Mt.prototype.checkNumericalProblems=function(nn){if(nn!=null)for(var rn=0;rn<nn.length;rn++){var an=nn[rn];if(!ee(an))throw i$1().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+an+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+an+" cannot be represented on this device.")}},Mt.prototype.getValuesFromTexture=function(nn){var rn,an=this.texData.get(nn),sn=an.shape,un=an.dtype,ln=an.isPacked,cn=k(sn);if(i$1().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var hn=this.decode(nn),fn=this.texData.get(hn.dataId),to=(rn=this.gpgpu).downloadMatrixFromPackedTexture.apply(rn,[fn.texture].concat(Yt(sn))).subarray(0,cn);return this.disposeData(hn.dataId),to}var Xr=i$1().getBool("WEBGL_PACK")&&ln===!0,uo=Xr?Te(sn):sn,co=Xr?new ci(uo):new ui(uo),ho=this.runWebGLProgram(co,[{shape:uo,dtype:un,dataId:nn}],"float32"),e0=this.texData.get(ho.dataId),lo=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(e0.texture,e0.texShape[0],e0.texShape[1]).subarray(0,cn);return this.disposeData(ho.dataId),lo},Mt.prototype.time=function(nn){return n(this,void 0,void 0,function(){var rn,an,sn,un,ln,cn,hn;return r(this,function(fn){switch(fn.label){case 0:return rn=this.activeTimers,an=[],sn=!1,this.programTimersStack==null?(this.programTimersStack=an,sn=!0):this.activeTimers.push(an),this.activeTimers=an,nn(),un=I(this.activeTimers.map(function(to){return to.query})).filter(function(to){return to!=null}),ln=I(this.activeTimers.map(function(to){return to.name})).filter(function(to){return to!=null}),this.activeTimers=rn,sn&&(this.programTimersStack=null),cn={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},i$1().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(un)]:[3,2];case 1:return hn=fn.sent(),cn.kernelMs=w$1(hn),cn.getExtraProfileInfo=function(){return hn.map(function(to,Xr){return{name:ln[Xr],ms:to}}).map(function(to){return to.name+": "+to.ms}).join(", ")},[3,3];case 2:cn.kernelMs={error:"WebGL query timers are not supported in this environment."},fn.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,cn]}})})},Mt.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},Mt.prototype.startTimer=function(){return i$1().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:et(),endMs:null}},Mt.prototype.endTimer=function(nn){return i$1().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),nn):(nn.endMs=et(),nn)},Mt.prototype.getQueryTime=function(nn){return n(this,void 0,void 0,function(){var rn;return r(this,function(an){return i$1().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(nn)]:[2,(rn=nn).endMs-rn.startMs]})})},Mt.prototype.disposeData=function(nn){if(!this.pendingDisposal.has(nn)){if(this.pendingRead.has(nn))return this.pendingDisposal.add(nn),void this.pendingDeletes++;if(this.texData.has(nn)){this.releaseGPUData(nn);var rn=this.texData.get(nn).complexTensors;rn!=null&&(rn.real.dispose(),rn.imag.dispose()),this.texData.delete(nn)}}},Mt.prototype.releaseGPUData=function(nn){var rn=this.texData.get(nn),an=rn.texture,sn=rn.dtype,un=rn.texShape,ln=rn.usage,cn=rn.isPacked,hn=rn.slice,fn=hn&&hn.origDataId||nn,to=this.dataRefCount.get(fn);to>1?this.dataRefCount.set(fn,to-1):(this.dataRefCount.delete(fn),an!=null&&(this.numBytesInGPU-=this.computeBytes(un,sn),this.textureManager.releaseTexture(an,un,ln,cn)));var Xr=this.texData.get(nn);Xr.texture=null,Xr.texShape=null,Xr.isPacked=!1,Xr.slice=null},Mt.prototype.getTexture=function(nn){return this.uploadToGPU(nn),this.texData.get(nn).texture},Mt.prototype.getDataInfo=function(nn){return this.texData.get(nn)},Mt.prototype.getCPUBackend=function(){return i$1().getBool("WEBGL_CPU_FORWARD")?(this.cpuBackend==null&&(this.cpuBackend=Lt.findBackend("cpu")),this.cpuBackend):null},Mt.prototype.shouldExecuteOnCPU=function(nn,rn){var an=this;return rn===void 0&&(rn=128),this.getCPUBackend()!=null&&nn.every(function(sn){return an.texData.get(sn.dataId).texture==null&&sn.size<rn})},Mt.prototype.getGPGPUContext=function(){return this.gpgpu},Mt.prototype.complex=function(nn,rn){var an=this.makeOutput(nn.shape,"complex64");return this.texData.get(an.dataId).complexTensors={real:Lt.keep(nn.clone()),imag:Lt.keep(rn.clone())},an},Mt.prototype.real=function(nn){return this.texData.get(nn.dataId).complexTensors.real.clone()},Mt.prototype.imag=function(nn){return this.texData.get(nn.dataId).complexTensors.imag.clone()},Mt.prototype.slice=function(nn,rn,an){if(this.shouldExecuteOnCPU([nn]))return this.cpuBackend.slice(nn,rn,an);if(k(an)===0)return Fn([],an,nn.dtype);var sn=this.texData.get(nn.dataId).isPacked,un=io(nn.shape,rn,an);if(sn||!un){var ln=i$1().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new fs(an):new ls(an),cn=ln.getCustomSetupFunc(rn);return this.compileAndRun(ln,[nn],null,cn)}return this.uploadToGPU(nn.dataId),this.shallowSlice(nn,rn,an)},Mt.prototype.shallowSlice=function(nn,rn,an){var sn=this.texData.get(nn.dataId),un=this.makeOutput(an,nn.dtype),ln=this.texData.get(un.dataId);Object.assign(ln,sn),ln.shape=an,ln.dtype=nn.dtype;var cn=so(rn,nn.strides);sn.slice&&(cn+=sn.slice.flatOffset),ln.slice={flatOffset:cn,origDataId:sn.slice&&sn.slice.origDataId||nn.dataId};var hn=this.dataRefCount.get(ln.slice.origDataId)||1;return this.dataRefCount.set(ln.slice.origDataId,hn+1),un},Mt.prototype.stridedSlice=function(nn,rn,an,sn){if(this.shouldExecuteOnCPU([nn]))return this.cpuBackend.stridedSlice(nn,rn,an,sn);var un=ro(rn,an,sn);if(un.some(function(cn){return cn===0}))return Fn([],un);var ln=new ds(rn,sn,un);return this.compileAndRun(ln,[nn])},Mt.prototype.reverse=function(nn,rn){var an=i$1().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new is(nn.shape,rn):new as(nn.shape,rn);return this.compileAndRun(an,[nn])},Mt.prototype.concat=function(nn,rn){if(nn[0].dtype==="complex64"){var an=nn.map(function(uo){return Tn(uo)}),sn=nn.map(function(uo){return Nn(uo)});return Dn(this.concat(an,rn),this.concat(sn,rn))}if(this.shouldExecuteOnCPU(nn))return this.cpuBackend.concat(nn,rn);if(nn.length===1)return nn[0];if(nn.length>i$1().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var un=Math.floor(nn.length/2),ln=this.concat(nn.slice(0,un),rn),cn=this.concat(nn.slice(un),rn);return this.concat([ln,cn],rn)}if(i$1().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&nn[0].rank>1){var hn=new Ga(nn.map(function(uo){return uo.shape}),rn);return this.compileAndRun(hn,nn)}var fn=Sn(nn.map(function(uo){return uo.shape}),rn),to=nn.map(function(uo){return uo.as2D(-1,k(uo.shape.slice(rn)))}),Xr=new za(to.map(function(uo){return uo.shape}));return this.compileAndRun(Xr,to).reshape(fn)},Mt.prototype.neg=function(nn){if(this.shouldExecuteOnCPU([nn]))return this.cpuBackend.neg(nn);if(i$1().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(nn,Ts,nn.dtype);var rn=new Cs(nn.shape,Ts);return this.compileAndRun(rn,[nn])},Mt.prototype.batchMatMul=function(nn,rn,an,sn){var un=an?nn.shape[2]:nn.shape[1],ln=sn?rn.shape[1]:rn.shape[2],cn=an?nn.shape[1]:nn.shape[2],hn=nn.shape[0];if((un===1||ln===1)&&cn>1e3){an&&(nn=nn.transpose([0,2,1])),sn&&(rn=rn.transpose([0,2,1]));var fn=ln===1?nn:nn.as3D(hn,cn,1),to=ln===1?2:1,Xr=ln===1?rn.as3D(hn,1,cn):rn;return this.multiply(fn,Xr).sum(to,!0)}var uo=Dt(nn.dtype,rn.dtype),co=new Hi(nn.shape,[hn,un,ln],an,sn);return this.compileAndRun(co,[nn,rn],uo)},Mt.prototype.fusedBatchMatMul=function(nn){var rn=nn.a,an=nn.b,sn=nn.transposeA,un=nn.transposeB,ln=nn.bias,cn=nn.activation,hn=nn.preluActivationWeights,fn=sn?rn.shape[2]:rn.shape[1],to=un?an.shape[1]:an.shape[2],Xr=rn.shape[0],uo=Dt(rn.dtype,an.dtype),co=ln!=null,ho=hn!=null,e0=cn?Qs(cn,!0):null,lo=new Hi(rn.shape,[Xr,fn,to],sn,un,co,e0,ho),mo=[rn,an];return ln&&mo.push(ln),hn&&mo.push(hn),this.compileAndRun(lo,mo,uo)},Mt.prototype.multiply=function(nn,rn){if(nn.dtype==="complex64"){var an=this.texData.get(nn.dataId),sn=this.texData.get(rn.dataId),un=new Na(Da,nn.shape,rn.shape),ln=new Na(Ta,nn.shape,rn.shape),cn=[this.makeComplexComponentTensorInfo(nn,an.complexTensors.real),this.makeComplexComponentTensorInfo(nn,an.complexTensors.imag),this.makeComplexComponentTensorInfo(rn,sn.complexTensors.real),this.makeComplexComponentTensorInfo(rn,sn.complexTensors.imag)],hn=this.compileAndRun(un,cn),fn=this.compileAndRun(ln,cn),to=this.complex(hn,fn);return hn.dispose(),fn.dispose(),to}if(this.shouldExecuteOnCPU([nn,rn]))return this.cpuBackend.multiply(nn,rn);if(i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(nn,rn,Oa,nn.dtype);var Xr=new Ba(Oa,nn.shape,rn.shape);return this.compileAndRun(Xr,[nn,rn],nn.dtype)},Mt.prototype.batchNormalization=function(nn,rn,an,sn,un,ln){var cn=[nn,rn,an],hn=null;ln!=null&&(hn=ln.shape,cn.push(ln));var fn=null;if(un!=null&&(fn=un.shape,cn.push(un)),i$1().getBool("WEBGL_PACK_NORMALIZATION")){var to=new Aa(nn.shape,rn.shape,an.shape,hn,fn,sn);return this.compileAndRun(to,cn)}var Xr=new Sa(nn.shape,rn.shape,an.shape,hn,fn,sn);return this.compileAndRun(Xr,cn)},Mt.prototype.localResponseNormalization4D=function(nn,rn,an,sn,un){var ln=i$1().getBool("WEBGL_PACK_NORMALIZATION")?new Vi(nn.shape,rn,an,sn,un):new Wi(nn.shape,rn,an,sn,un);return this.compileAndRun(ln,[nn])},Mt.prototype.LRNGrad=function(nn,rn,an,sn,un,ln,cn){var hn=new Ui(rn.shape,sn,un,ln,cn);return this.compileAndRun(hn,[rn,an,nn])},Mt.prototype.tile=function(nn,rn){if(nn.dtype==="string"){var an=this.readSync(nn.dataId).map(function(un){return ot(un)});return ta(dr(nn.shape,nn.dtype,an),rn)}var sn=new gs(nn.shape,rn);return this.compileAndRun(sn,[nn])},Mt.prototype.pad=function(nn,rn,an){var sn=i$1().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Yi(nn.shape,rn,an):new Xi(nn.shape,rn,an);return this.compileAndRun(sn,[nn])},Mt.prototype.transpose=function(nn,rn){if(this.shouldExecuteOnCPU([nn]))return this.cpuBackend.transpose(nn,rn);var an=i$1().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new xs(nn.shape,rn):new ys(nn.shape,rn);return this.compileAndRun(an,[nn])},Mt.prototype.gather=function(nn,rn,an){if(this.shouldExecuteOnCPU([nn,rn]))return this.cpuBackend.gather(nn,rn,an);var sn=new mi(nn.shape,rn.size,an);return this.compileAndRun(sn,[nn,rn])},Mt.prototype.batchToSpaceND=function(nn,rn,an){C(nn.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var sn=rn.reduce(function(to,Xr){return to*Xr}),un=zr(nn.shape,rn,sn),ln=Gr(un.length,rn.length),cn=Hr(nn.shape,rn,sn),hn=qr(an,rn.length),fn=Kr(cn,an,rn.length);return nn.reshape(un).transpose(ln).reshape(cn).slice(hn,fn)},Mt.prototype.spaceToBatchND=function(nn,rn,an){C(nn.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var sn=rn.reduce(function(Xr,uo){return Xr*uo}),un=[[0,0]];un.push.apply(un,an);for(var ln=1+rn.length;ln<nn.shape.length;++ln)un.push([0,0]);var cn=nn.pad(un),hn=zr(cn.shape,rn,sn,!1),fn=Gr(hn.length,rn.length,!1),to=Hr(cn.shape,rn,sn,!1);return cn.reshape(hn).transpose(fn).reshape(to)},Mt.prototype.reduce=function(nn,rn,an){var sn=nn.shape[0],un=nn.shape[1],ln=$r(un),cn=new Ji({windowSize:ln,inSize:un,batchSize:sn},rn),hn=this.compileAndRun(cn,[nn],an);return hn.shape[1]===1?hn:this.reduce(hn,rn,an)},Mt.prototype.argReduce=function(nn,rn,an){an===void 0&&(an=null);var sn=nn.shape[0],un=nn.shape[1];an!=null&&(sn=an.shape[0],un=an.shape[1]);var ln=$r(un),cn=new aa({windowSize:ln,inSize:un,batchSize:sn},rn,an==null),hn=[nn];an!=null&&hn.push(an);var fn=this.compileAndRun(cn,hn,"int32");return fn.shape[1]===1?fn:this.argReduce(nn,rn,fn)},Mt.prototype.argReducePacked=function(nn,rn,an){an===void 0&&(an=null);var sn=an!=null?an.shape:nn.shape,un=$r(sn[sn.length-1]),ln=new Ra(sn,un,rn,an==null),cn=an==null?[nn]:[nn,an],hn=this.compileAndRun(ln,cn,"int32");return hn.rank===nn.rank?this.argReducePacked(nn,rn,hn):hn},Mt.prototype.sum=function(nn,rn){Cn("sum",rn,nn.rank);var an=bn(nn.shape,rn),sn=an[0],un=k(an[1]),ln=nn.as2D(-1,un),cn=Tt(nn.dtype);return this.reduce(ln,"sum",cn).reshape(sn)},Mt.prototype.prod=function(nn,rn){if(this.shouldExecuteOnCPU([nn]))return this.cpuBackend.prod(nn,rn);var an=bn(nn.shape,rn),sn=an[0],un=k(an[1]),ln=nn.as2D(-1,un),cn=Tt(nn.dtype);return this.reduce(ln,"prod",cn).reshape(sn)},Mt.prototype.unsortedSegmentSum=function(nn,rn,an){var sn=0,un=En([sn],nn.rank),ln=nn;un!=null&&(ln=nn.transpose(un),sn=In(1,nn.rank)[0]);var cn=function(uo,co,ho){for(var e0=[],lo=uo.length,mo=0;mo<lo;mo++)mo!==co?e0.push(uo[mo]):e0.push(ho);return e0}(ln.shape,sn,an),hn=k([ln.shape[sn]]),fn=ln.as2D(-1,hn),to=Tt(nn.dtype),Xr=this.segOpCompute(fn,"unsortedSegmentSum",rn,to,an).reshape(cn);return un!=null&&(Xr=Xr.transpose(Rn(un))),Xr},Mt.prototype.segOpCompute=function(nn,rn,an,sn,un){var ln=nn.shape[0],cn=nn.shape[1],hn=function(Xr,uo){var co,ho=!1;for(Xr<=Yr?(co=Xr,ho=!0):co=Y(Xr,Math.floor(Math.sqrt(Xr)));!ho;)co>uo||co===Xr?ho=!0:co=Y(Xr,co+1);return co}(cn,un),fn=new us({windowSize:hn,inSize:cn,batchSize:ln,numSegments:un}),to=this.compileAndRun(fn,[nn,an],sn);return to.shape[1]===un?to:(an=Kn(0,un).tile([cn/hn]),this.segOpCompute(to,rn,an,sn,un))},Mt.prototype.argMinMaxReduce=function(nn,rn,an){var sn=[rn];if(Cn("arg"+an.charAt(0).toUpperCase()+an.slice(1),sn,nn.rank),!i$1().getBool("WEBGL_PACK_REDUCE")||nn.rank<=2){var un=bn(nn.shape,sn),ln=un[0],cn=k(un[1]),hn=nn.as2D(-1,cn);return this.argReduce(hn,an).reshape(ln)}return this.argReducePacked(nn,an)},Mt.prototype.argMin=function(nn,rn){return this.argMinMaxReduce(nn,rn,"min")},Mt.prototype.argMax=function(nn,rn){return this.argMinMaxReduce(nn,rn,"max")},Mt.prototype.cumsum=function(nn,rn,an,sn){if(rn!==nn.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(nn.rank-1)+" but got axis="+rn);var un=new ni(nn.shape,an,sn);return this.compileAndRun(un,[nn])},Mt.prototype.equal=function(nn,rn){if(i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(nn,rn,`
  return vec4(equal(a, b));
`,"bool");var an=new Ba("return float(a == b);",nn.shape,rn.shape);return this.compileAndRun(an,[nn,rn],"bool")},Mt.prototype.notEqual=function(nn,rn){if(i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(nn,rn,`
  return vec4(notEqual(a, b));
`,"bool");var an=new Ba("return float(a != b);",nn.shape,rn.shape);return this.compileAndRun(an,[nn,rn],"bool")},Mt.prototype.less=function(nn,rn){if(this.shouldExecuteOnCPU([nn,rn]))return this.cpuBackend.less(nn,rn);if(i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(nn,rn,`
  return vec4(lessThan(a, b));
`,"bool");var an=new Ba("return float(a < b);",nn.shape,rn.shape);return this.compileAndRun(an,[nn,rn],"bool")},Mt.prototype.lessEqual=function(nn,rn){if(i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(nn,rn,`
  return vec4(lessThanEqual(a, b));
`,"bool");var an=new Ba("return float(a <= b);",nn.shape,rn.shape);return this.compileAndRun(an,[nn,rn],"bool")},Mt.prototype.greater=function(nn,rn){if(this.shouldExecuteOnCPU([nn,rn]))return this.cpuBackend.greater(nn,rn);if(i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(nn,rn,`
  return vec4(greaterThan(a, b));
`,"bool");var an=new Ba("return float(a > b);",nn.shape,rn.shape);return this.compileAndRun(an,[nn,rn],"bool")},Mt.prototype.greaterEqual=function(nn,rn){if(i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(nn,rn,`
  return vec4(greaterThanEqual(a, b));
`,"bool");var an=new Ba("return float(a >= b);",nn.shape,rn.shape);return this.compileAndRun(an,[nn,rn],"bool")},Mt.prototype.logicalNot=function(nn){var rn=new Cs(nn.shape,"return float(!(x >= 1.0));");return this.compileAndRun(rn,[nn])},Mt.prototype.logicalAnd=function(nn,rn){if(i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(nn,rn,`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,"bool");var an=new Ba("return float(a >= 1.0 && b >= 1.0);",nn.shape,rn.shape);return this.compileAndRun(an,[nn,rn],"bool")},Mt.prototype.logicalOr=function(nn,rn){if(i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(nn,rn,`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,"bool");var an=new Ba("return float(a >= 1.0 || b >= 1.0);",nn.shape,rn.shape);return this.compileAndRun(an,[nn,rn],"bool")},Mt.prototype.select=function(nn,rn,an){var sn=new cs(nn.rank,rn.shape,rn.rank);return this.compileAndRun(sn,[nn,rn,an],Dt(rn.dtype,an.dtype))},Mt.prototype.where=function(nn){dn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var rn=nn.dataSync();return na(nn.shape,rn)},Mt.prototype.topk=function(nn,rn,an){return ea(nn.dataSync(),nn.shape,nn.dtype,rn)},Mt.prototype.min=function(nn,rn){Cn("min",rn,nn.rank);var an=bn(nn.shape,rn),sn=an[0],un=k(an[1]),ln=nn.as2D(-1,un);return this.reduce(ln,"min",ln.dtype).reshape(sn)},Mt.prototype.minimum=function(nn,rn){if(this.shouldExecuteOnCPU([nn,rn]))return this.cpuBackend.minimum(nn,rn);var an=i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new La(`
  vec4 result = vec4(min(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,nn.shape,rn.shape):new Ba(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return min(a, b);
`,nn.shape,rn.shape);return this.compileAndRun(an,[nn,rn])},Mt.prototype.mod=function(nn,rn){var an=i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new La(`
  vec4 result = mod(a, b);
  vec4 isNaN = vec4(equal(b, vec4(0.0)));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,nn.shape,rn.shape):new Ba(`if (b == 0.0) return NAN;
  return mod(a, b);`,nn.shape,rn.shape);return this.compileAndRun(an,[nn,rn])},Mt.prototype.max=function(nn,rn){if(this.shouldExecuteOnCPU([nn]))return this.cpuBackend.max(nn,rn);Cn("max",rn,nn.rank);var an=bn(nn.shape,rn),sn=an[0],un=k(an[1]),ln=nn.as2D(-1,un);return this.reduce(ln,"max",ln.dtype).reshape(sn)},Mt.prototype.maximum=function(nn,rn){if(this.shouldExecuteOnCPU([nn,rn]))return this.cpuBackend.maximum(nn,rn);var an=i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new La(`
  vec4 result = vec4(max(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,nn.shape,rn.shape):new Ba(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return max(a, b);
`,nn.shape,rn.shape);return this.compileAndRun(an,[nn,rn])},Mt.prototype.all=function(nn,rn){Cn("all",rn,nn.rank);var an=bn(nn.shape,rn),sn=an[0],un=k(an[1]),ln=nn.as2D(-1,un);return this.reduce(ln,"all",ln.dtype).reshape(sn)},Mt.prototype.any=function(nn,rn){Cn("any",rn,nn.rank);var an=bn(nn.shape,rn),sn=an[0],un=k(an[1]),ln=nn.as2D(-1,un);return this.reduce(ln,"any",ln.dtype).reshape(sn)},Mt.prototype.realDivide=function(nn,rn){if(i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(nn,rn,`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,"float32",!0);var an=new Ba(`
if (a == b) {
  return 1.0;
};
return a / b;`,nn.shape,rn.shape);return this.compileAndRun(an,[nn,rn],"float32")},Mt.prototype.floorDiv=function(nn,rn){if(i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(nn,rn,`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,"int32");var an=new Ba(`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,nn.shape,rn.shape);return this.compileAndRun(an,[nn,rn],"int32")},Mt.prototype.add=function(nn,rn){if(nn.dtype==="complex64"&&rn.dtype==="complex64")return this.complexSeparableBinaryOp(nn,rn,Fa);if(this.shouldExecuteOnCPU([nn,rn]))return this.cpuBackend.add(nn,rn);var an=Dt(nn.dtype,rn.dtype);if(i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(nn,rn,Fa,an);var sn=new Ba(Fa,nn.shape,rn.shape);return this.compileAndRun(sn,[nn,rn],an)},Mt.prototype.packedUnaryOp=function(nn,rn,an){var sn=new Xs(nn.shape,rn);return this.compileAndRun(sn,[nn],an)},Mt.prototype.packedBinaryOp=function(nn,rn,an,sn,un){un===void 0&&(un=!1);var ln=new La(an,nn.shape,rn.shape,un);return this.compileAndRun(ln,[nn,rn],sn)},Mt.prototype.complexSeparableBinaryOp=function(nn,rn,an){var sn=this,un=this.texData.get(nn.dataId),ln=this.texData.get(rn.dataId),cn=[[un.complexTensors.real,ln.complexTensors.real],[un.complexTensors.imag,ln.complexTensors.imag]].map(function(Xr){var uo=Xr[0],co=Xr[1],ho=sn.makeComplexComponentTensorInfo(nn,uo),e0=sn.makeComplexComponentTensorInfo(rn,co),lo=new Ba(an,nn.shape,rn.shape);return sn.compileAndRun(lo,[ho,e0],Dt(uo.dtype,co.dtype))}),hn=cn[0],fn=cn[1],to=this.complex(hn,fn);return hn.dispose(),fn.dispose(),to},Mt.prototype.makeComplexComponentTensorInfo=function(nn,rn){return{dataId:rn.dataId,dtype:rn.dtype,shape:nn.shape}},Mt.prototype.addN=function(nn){if(nn.length===1)return nn[0];if(nn.length>i$1().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var rn=Math.floor(nn.length/2),an=this.addN(nn.slice(0,rn)),sn=this.addN(nn.slice(rn));return this.addN([an,sn])}var un=nn.map(function(hn){return hn.dtype}).reduce(function(hn,fn){return Dt(hn,fn)}),ln=nn.map(function(hn){return hn.shape}),cn=i$1().getBool("WEBGL_PACK")?new oa(nn[0].shape,ln):new ra(nn[0].shape,ln);return this.compileAndRun(cn,nn,un)},Mt.prototype.subtract=function(nn,rn){if(nn.dtype==="complex64"&&rn.dtype==="complex64")return this.complexSeparableBinaryOp(nn,rn,_a);if(this.shouldExecuteOnCPU([nn,rn]))return this.cpuBackend.subtract(nn,rn);var an=Dt(nn.dtype,rn.dtype);if(i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(nn,rn,_a,nn.dtype);var sn=new Ba(_a,nn.shape,rn.shape);return this.compileAndRun(sn,[nn,rn],an)},Mt.prototype.pow=function(nn,rn){var an=i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new La(`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,nn.shape,rn.shape):new Ba(`
if(a < 0.0 && floor(b) < b){
  return NAN;
}
if (b == 0.0) {
  return 1.0;
}
return (round(mod(b, 2.0)) != 1) ?
    pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,nn.shape,rn.shape),sn=Dt(nn.dtype,rn.dtype);return this.compileAndRun(an,[nn,rn],sn)},Mt.prototype.ceil=function(nn){if(this.shouldExecuteOnCPU([nn]))return this.cpuBackend.ceil(nn);if(i$1().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(nn,Ns,nn.dtype);var rn=new Cs(nn.shape,Ns);return this.compileAndRun(rn,[nn])},Mt.prototype.floor=function(nn){if(this.shouldExecuteOnCPU([nn]))return this.cpuBackend.floor(nn);if(i$1().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(nn,Fs,nn.dtype);var rn=new Cs(nn.shape,Fs);return this.compileAndRun(rn,[nn])},Mt.prototype.sign=function(nn){var rn=new Cs(nn.shape,`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`);return this.compileAndRun(rn,[nn])},Mt.prototype.isNaN=function(nn){var rn=new Cs(nn.shape,"return float(isnan(x));");return this.compileAndRun(rn,[nn],"bool")},Mt.prototype.isInf=function(nn){var rn=new Cs(nn.shape,"return float(isinf(x));");return this.compileAndRun(rn,[nn],"bool")},Mt.prototype.isFinite=function(nn){var rn=new Cs(nn.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(rn,[nn],"bool")},Mt.prototype.round=function(nn){var rn=new Cs(nn.shape,`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`);return this.compileAndRun(rn,[nn])},Mt.prototype.exp=function(nn){if(this.shouldExecuteOnCPU([nn]))return this.cpuBackend.exp(nn);if(i$1().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(nn,_s,nn.dtype);var rn=new Cs(nn.shape,_s);return this.compileAndRun(rn,[nn])},Mt.prototype.expm1=function(nn){if(this.shouldExecuteOnCPU([nn]))return this.cpuBackend.expm1(nn);if(i$1().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(nn,Os,nn.dtype);var rn=new Cs(nn.shape,Os);return this.compileAndRun(rn,[nn])},Mt.prototype.softmax=function(nn,rn){var an=O([rn],nn.shape),sn=this.max(nn,an),un=wn(sn.shape,an),ln=this.subtract(nn,sn.reshape(un)),cn=this.exp(ln),hn=this.sum(cn,an).reshape(un);return this.realDivide(cn,hn)},Mt.prototype.log=function(nn){if(this.shouldExecuteOnCPU([nn]))return this.cpuBackend.log(nn);if(i$1().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(nn,`
  vec4 result = log(x);
  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));
  result.r = isNaN.r == 1.0 ? NAN : result.r;
  result.g = isNaN.g == 1.0 ? NAN : result.g;
  result.b = isNaN.b == 1.0 ? NAN : result.b;
  result.a = isNaN.a == 1.0 ? NAN : result.a;

  return result;
`,nn.dtype);var rn=new Cs(nn.shape,`if (x < 0.0) return NAN;
  return log(x);`);return this.compileAndRun(rn,[nn])},Mt.prototype.log1p=function(nn){var rn=new Cs(nn.shape,"return log(1.0 + x);");return this.compileAndRun(rn,[nn])},Mt.prototype.sqrt=function(nn){var rn=new Cs(nn.shape,"return sqrt(x);");return this.compileAndRun(rn,[nn])},Mt.prototype.rsqrt=function(nn){if(this.shouldExecuteOnCPU([nn]))return this.cpuBackend.rsqrt(nn);var rn=new Cs(nn.shape,"return inversesqrt(x);");return this.compileAndRun(rn,[nn])},Mt.prototype.reciprocal=function(nn){var rn=new Cs(nn.shape,"return 1.0 / x;");return this.compileAndRun(rn,[nn])},Mt.prototype.relu=function(nn){var rn;return rn=i$1().getBool("WEBGL_PACK")?new Xs(nn.shape,qs):new Cs(nn.shape,ks),this.compileAndRun(rn,[nn])},Mt.prototype.relu6=function(nn){var rn;return rn=i$1().getBool("WEBGL_PACK")?new Xs(nn.shape,Ks):new Cs(nn.shape,Ss),this.compileAndRun(rn,[nn])},Mt.prototype.prelu=function(nn,rn){var an=i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new La(Pa,nn.shape,rn.shape):new Ba(Ma,nn.shape,rn.shape);return this.compileAndRun(an,[nn,rn])},Mt.prototype.elu=function(nn){if(i$1().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(nn,js,nn.dtype);var rn=new Cs(nn.shape,As);return this.compileAndRun(rn,[nn])},Mt.prototype.eluDer=function(nn,rn){var an=i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new La(`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,nn.shape,rn.shape):new Ba("return (b >= 1.0) ? a : a * (b + 1.0);",nn.shape,rn.shape);return this.compileAndRun(an,[nn,rn])},Mt.prototype.selu=function(nn){var rn=new Cs(nn.shape,Ds);return this.compileAndRun(rn,[nn])},Mt.prototype.int=function(nn){var rn=new Cs(nn.shape,"return float(int(x));");return this.compileAndRun(rn,[nn],"int32")},Mt.prototype.clip=function(nn,rn,an){var sn,un=(sn=i$1().getBool("WEBGL_PACK_CLIP")?new Ua(nn.shape):new Wa(nn.shape)).getCustomSetupFunc(rn,an);return this.compileAndRun(sn,[nn],null,un)},Mt.prototype.abs=function(nn){if(this.shouldExecuteOnCPU([nn]))return this.cpuBackend.abs(nn);if(i$1().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(nn,Is,nn.dtype);var rn=new Cs(nn.shape,Is);return this.compileAndRun(rn,[nn])},Mt.prototype.complexAbs=function(nn){var rn=this.texData.get(nn.dataId),an=new Va(nn.shape),sn=[this.makeComplexComponentTensorInfo(nn,rn.complexTensors.real),this.makeComplexComponentTensorInfo(nn,rn.complexTensors.imag)];return this.compileAndRun(an,sn)},Mt.prototype.sigmoid=function(nn){var rn=new Cs(nn.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(rn,[nn])},Mt.prototype.softplus=function(nn){var rn=new Cs(nn.shape,`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`);return this.compileAndRun(rn,[nn])},Mt.prototype.sin=function(nn){var rn=new Cs(nn.shape,Ms);return this.compileAndRun(rn,[nn])},Mt.prototype.cos=function(nn){var rn=new Cs(nn.shape,Bs);return this.compileAndRun(rn,[nn])},Mt.prototype.tan=function(nn){var rn=new Cs(nn.shape,"return tan(x);");return this.compileAndRun(rn,[nn])},Mt.prototype.asin=function(nn){var rn=new Cs(nn.shape,Ps);return this.compileAndRun(rn,[nn])},Mt.prototype.acos=function(nn){var rn=new Cs(nn.shape,Ls);return this.compileAndRun(rn,[nn])},Mt.prototype.atan=function(nn){var rn=new Cs(nn.shape,Ws);return this.compileAndRun(rn,[nn])},Mt.prototype.atan2=function(nn,rn){var an=i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new La(`
  vec4 result = atan(a, b);
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,nn.shape,rn.shape):new Ba(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return atan(a, b);
`,nn.shape,rn.shape);return this.compileAndRun(an,[nn,rn])},Mt.prototype.sinh=function(nn){var rn=new Cs(nn.shape,`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`);return this.compileAndRun(rn,[nn])},Mt.prototype.cosh=function(nn){var rn=new Cs(nn.shape,`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`);return this.compileAndRun(rn,[nn])},Mt.prototype.tanh=function(nn){var rn=new Cs(nn.shape,`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`);return this.compileAndRun(rn,[nn])},Mt.prototype.asinh=function(nn){var rn=new Cs(nn.shape,Us);return this.compileAndRun(rn,[nn])},Mt.prototype.acosh=function(nn){var rn=new Cs(nn.shape,Vs);return this.compileAndRun(rn,[nn])},Mt.prototype.atanh=function(nn){var rn=new Cs(nn.shape,zs);return this.compileAndRun(rn,[nn])},Mt.prototype.erf=function(nn){var rn=new Cs(nn.shape,`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = 0.3275911;
  float a1 = 0.254829592;
  float a2 = -0.284496736;
  float a3 = 1.421413741;
  float a4 = -1.453152027;
  float a5 = 1.061405429;

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`);return this.compileAndRun(rn,[nn])},Mt.prototype.step=function(nn,rn){var an=new Cs(nn.shape,function(sn){return sn===void 0&&(sn=0),Es+`
    return x > 0.0 ? 1.0 : float(`+sn+`);
  `}(rn));return this.compileAndRun(an,[nn])},Mt.prototype.conv2dByMatMul=function(nn,rn,an,sn,un,ln){var cn=nn.shape,hn=this.texData.get(nn.dataId),fn=an.inChannels,to=cn[0]*cn[1]*cn[2],Xr=an.outChannels,uo=an.dataFormat==="channelsLast",co=(to===1||Xr===1)&&fn>1e3,ho=cn[2]%2!=0&&!!hn.isPacked;if(co||!i$1().getBool("WEBGL_LAZILY_UNPACK")||!i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!ho){var e0=uo?cn[0]*cn[1]*cn[2]:cn[0]*cn[2]*cn[3],lo=this.reshape(nn,[1,e0,an.inChannels]),mo=this.reshape(rn,[1,an.inChannels,an.outChannels]);return this.reshape(this.fusedBatchMatMul({a:lo,b:mo,transposeA:!1,transposeB:!1,bias:sn,activation:un,preluActivationWeights:ln}),an.outShape)}var fo=uo?cn[0]*cn[1]*(cn[2]+1):cn[0]*cn[2]*(cn[3]+1),Uo={dataId:nn.dataId,shape:[1,fo,an.inChannels],dtype:nn.dtype},t0=hn.shape;hn.shape=hn.shape.slice(),hn.shape[hn.shape.length-2]++,C(_e(hn.shape,Uo.shape),function(){return"packed reshape "+hn.shape+" to "+Uo.shape+" isn't free"});var n0=this.reshape(rn,[1,an.inChannels,an.outChannels]),i0=this.fusedBatchMatMul({a:Uo,b:n0,transposeA:!1,transposeB:!1,bias:sn,activation:un,preluActivationWeights:ln}),a0=this.texData.get(i0.dataId);return C(a0.isPacked,function(){return"batchMatMul result is expected to be packed"}),hn.shape=t0,a0.shape=an.outShape,Lt.makeTensorFromDataId(i0.dataId,an.outShape,i0.dtype)},Mt.prototype.conv2dWithIm2Row=function(nn,rn,an,sn,un,ln){var cn=an.filterWidth,hn=an.filterHeight,fn=an.inChannels,to=an.outWidth,Xr=an.outHeight,uo=an.dataFormat==="channelsLast",co=cn*hn*fn,ho=Xr*to,e0=[co,ho],lo=nn.squeeze([0]),mo=rn.reshape([1,co,-1]),fo=new Li(e0,lo.shape,an),Uo=this.compileAndRun(fo,[lo]).reshape([1,e0[0],e0[1]]),t0=sn!=null,n0=ln!=null,i0=un?Qs(un,!0):null,a0=new Hi(Uo.shape,[1,ho,an.outChannels],!0,!1,t0,i0,n0),s0=[Uo,mo];sn&&s0.push(sn),n0&&s0.push(ln);var l0=this.compileAndRun(a0,s0);return uo?l0.reshape([1,Xr,to,an.outChannels]):l0.reshape([1,an.outChannels,Xr,to])},Mt.prototype.fusedConv2d=function(nn){var rn=nn.input,an=nn.filter,sn=nn.convInfo,un=nn.bias,ln=nn.activation,cn=nn.preluActivationWeights;if(sn.filterHeight===1&&sn.filterWidth===1&&sn.dilationHeight===1&&sn.dilationWidth===1&&sn.strideHeight===1&&sn.strideWidth===1&&(sn.padInfo.type==="SAME"||sn.padInfo.type==="VALID"))return this.conv2dByMatMul(rn,an,sn,un,ln,cn);if(i$1().getBool("WEBGL_CONV_IM2COL")&&rn.shape[0]===1)return this.conv2dWithIm2Row(rn,an,sn,un,ln,cn);var hn=un!=null,fn=cn!=null,to=ln?Qs(ln,!1):null,Xr=new Qa(sn,hn,to,fn),uo=[rn,an];return un&&uo.push(un),cn&&uo.push(cn),this.compileAndRun(Xr,uo)},Mt.prototype.conv2d=function(nn,rn,an){if(an.filterHeight===1&&an.filterWidth===1&&an.dilationHeight===1&&an.dilationWidth===1&&an.strideHeight===1&&an.strideWidth===1&&(an.padInfo.type==="SAME"||an.padInfo.type==="VALID"))return this.conv2dByMatMul(nn,rn,an);if(i$1().getBool("WEBGL_CONV_IM2COL")&&nn.shape[0]===1)return this.conv2dWithIm2Row(nn,rn,an);var sn=new Qa(an);return this.compileAndRun(sn,[nn,rn])},Mt.prototype.conv2dDerInput=function(nn,rn,an){var sn=new Ka(an);return this.compileAndRun(sn,[nn,rn])},Mt.prototype.conv2dDerFilter=function(nn,rn,an){var sn=new qa(an);return this.compileAndRun(sn,[nn,rn])},Mt.prototype.fusedDepthwiseConv2D=function(nn){var rn,an=nn.input,sn=nn.filter,un=nn.convInfo,ln=nn.bias,cn=nn.activation,hn=nn.preluActivationWeights,fn=i$1().getBool("WEBGL_PACK_DEPTHWISECONV")&&un.strideWidth<=2&&un.outChannels/un.inChannels==1,to=cn?Qs(cn,fn):null,Xr=[an,sn],uo=ln!=null,co=hn!=null;return uo&&Xr.push(ln),co&&Xr.push(hn),fn?(rn=new ti(un,uo,to,co),this.compileAndRun(rn,Xr)):(rn=new Za(un,uo,to,co),this.compileAndRun(rn,Xr))},Mt.prototype.depthwiseConv2D=function(nn,rn,an){var sn;return i$1().getBool("WEBGL_PACK_DEPTHWISECONV")&&an.strideWidth<=2&&an.outChannels/an.inChannels==1?(sn=new ti(an),this.compileAndRun(sn,[nn,rn])):(sn=new Za(an),this.compileAndRun(sn,[nn,rn]))},Mt.prototype.depthwiseConv2DDerInput=function(nn,rn,an){var sn=new $a(an);return this.compileAndRun(sn,[nn,rn])},Mt.prototype.depthwiseConv2DDerFilter=function(nn,rn,an){var sn=new Ya(an);return this.compileAndRun(sn,[nn,rn])},Mt.prototype.conv3d=function(nn,rn,an){var sn=new Ja(an);return this.compileAndRun(sn,[nn,rn])},Mt.prototype.conv3dDerInput=function(nn,rn,an){var sn=new Xa(an);return this.compileAndRun(sn,[nn,rn])},Mt.prototype.conv3dDerFilter=function(nn,rn,an){var sn=new ja(an);return this.compileAndRun(sn,[nn,rn])},Mt.prototype.maxPool=function(nn,rn){var an=new $i(rn,"max",!1);return this.compileAndRun(an,[nn])},Mt.prototype.avgPool=function(nn,rn){var an=new $i(rn,"avg",!1);return this.compileAndRun(an,[nn],"float32")},Mt.prototype.maxPoolBackprop=function(nn,rn,an,sn){var un=new $i(sn,"max",!0),ln=this.compileAndRun(un,[rn]),cn=new zi(sn),hn=this.compileAndRun(cn,[nn,ln],rn.dtype);return ln.dispose(),hn},Mt.prototype.avgPoolBackprop=function(nn,rn,an){var sn=new Ia(an);return this.compileAndRun(sn,[nn],rn.dtype)},Mt.prototype.cast=function(nn,rn){return Po(nn,rn,this)},Mt.prototype.unstack=function(nn,rn){for(var an=nn.shape[rn],sn=new Array(nn.rank-1),un=0,ln=0;ln<nn.rank;ln++)ln!==rn&&(sn[un++]=nn.shape[ln]);var cn=new Array(nn.rank).fill(0),hn=nn.shape.slice();hn[rn]=1;var fn=new Array(an);for(ln=0;ln<fn.length;ln++)cn[rn]=ln,fn[ln]=this.slice(nn,cn,hn).reshape(sn);return fn},Mt.prototype.avgPool3d=function(nn,rn){var an=new Qi(rn,"avg",!1);return this.compileAndRun(an,[nn],"float32")},Mt.prototype.avgPool3dBackprop=function(nn,rn,an){var sn=new ka(an);return this.compileAndRun(sn,[nn],rn.dtype)},Mt.prototype.maxPool3d=function(nn,rn){var an=new Qi(rn,"max",!1);return this.compileAndRun(an,[nn],"float32")},Mt.prototype.maxPool3dBackprop=function(nn,rn,an,sn){var un=new Qi(sn,"max",!0),ln=this.compileAndRun(un,[rn]),cn=new Gi(sn),hn=this.compileAndRun(cn,[nn,ln],rn.dtype);return ln.dispose(),hn},Mt.prototype.reshape=function(nn,rn){var an=this.texData.get(nn.dataId);if(an.isPacked&&!_e(nn.shape,rn)&&(an.texture===null||!_e(an.shape,rn))){var sn=this.packedReshape(nn,rn);return Lt.makeTensorFromDataId(sn.dataId,sn.shape,sn.dtype)}return Lo(nn,rn)},Mt.prototype.resizeBilinear=function(nn,rn,an,sn){var un=i$1().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ns(nn.shape,rn,an,sn):new es(nn.shape,rn,an,sn);return this.compileAndRun(un,[nn],"float32")},Mt.prototype.resizeBilinearBackprop=function(nn,rn,an){var sn=new ts(nn,rn,an);return this.compileAndRun(sn,[nn])},Mt.prototype.resizeNearestNeighbor=function(nn,rn,an,sn){var un=new os(nn.shape,rn,an,sn);return this.compileAndRun(un,[nn])},Mt.prototype.resizeNearestNeighborBackprop=function(nn,rn,an){var sn=new rs(nn,rn,an);return this.compileAndRun(sn,[nn])},Mt.prototype.multinomial=function(nn,rn,an,sn){var un=rn?nn:go(nn),ln=un.shape[0],cn=un.shape[1],hn=new qi(ln,cn,an),fn=hn.getCustomSetupFunc(sn);return this.compileAndRun(hn,[un],"int32",fn)},Mt.prototype.oneHot=function(nn,rn,an,sn){var un=new Ki(nn.size,rn,an,sn);return this.compileAndRun(un,[nn])},Mt.prototype.diag=function(nn){var rn=new si(nn.size);return this.compileAndRun(rn,[nn])},Mt.prototype.nonMaxSuppression=function(nn,rn,an,sn,un){return dn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),jo(nn.dataSync(),rn.dataSync(),an,sn,un)},Mt.prototype.cropAndResize=function(nn,rn,an,sn,un,ln){var cn=new ei(nn.shape,rn.shape,sn,un,ln);return this.compileAndRun(cn,[nn,rn,an],"float32")},Mt.prototype.depthToSpace=function(nn,rn,an){C(rn>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+rn});var sn=nn.shape[0],un=an==="NHWC"?nn.shape[1]:nn.shape[2],ln=an==="NHWC"?nn.shape[2]:nn.shape[3],cn=an==="NHWC"?nn.shape[3]:nn.shape[1],hn=un*rn,fn=ln*rn,to=cn/(rn*rn),Xr=new ii(an==="NHWC"?[sn,hn,fn,to]:[sn,to,hn,fn],rn,an);return this.compileAndRun(Xr,[nn])},Mt.prototype.split=function(nn,rn,an){return Zo(nn,rn,an)},Mt.prototype.scatterND=function(nn,rn,an){var sn=Zr(0,nn,an),un=sn.sliceRank,ln=sn.numUpdates,cn=sn.sliceSize,hn=sn.strides,fn=sn.outputSize,to=[fn/cn,cn],Xr=nn.reshape([ln,un]),uo=rn.reshape([ln,cn]);if(fn===0)return Lo(Fn([]),an);var co=On(0),ho=new ss(ln,un,Xr.rank,uo.rank,hn,to);return this.compileAndRun(ho,[uo,Xr,co]).reshape(an)},Mt.prototype.sparseToDense=function(nn,rn,an,sn){var un=Zr(0,nn,an),ln=un.sliceRank,cn=un.numUpdates,hn=un.strides,fn=un.outputSize,to=new ss(cn,ln,nn.rank,rn.rank,hn,[fn,1]);return this.compileAndRun(to,[rn,nn,sn]).reshape(an)},Mt.prototype.fft=function(nn){return this.fftImpl(nn,!1)},Mt.prototype.ifft=function(nn){return this.fftImpl(nn,!0)},Mt.prototype.fftImpl=function(nn,rn){var an=this.texData.get(nn.dataId),sn=new pi(fi,nn.shape,rn),un=new pi(di,nn.shape,rn),ln=[this.makeComplexComponentTensorInfo(nn,an.complexTensors.real),this.makeComplexComponentTensorInfo(nn,an.complexTensors.imag)],cn=this.compileAndRun(sn,ln),hn=this.compileAndRun(un,ln),fn=this.complex(cn,hn).as2D(nn.shape[0],nn.shape[1]);return cn.dispose(),hn.dispose(),fn},Mt.prototype.gatherND=function(nn,rn){var an=rn.shape,sn=an[an.length-1],un=jr(nn,rn),ln=un[0],cn=un[1],hn=un[2],fn=un[3],to=rn.reshape([cn,sn]),Xr=nn.reshape([nn.size/hn,hn]),uo=new gi(sn,fn,[cn,hn]);return this.compileAndRun(uo,[Xr,to]).reshape(ln)},Mt.prototype.fill=function(nn,rn,an){if((an=an||j(rn))==="string"){var sn=P(an,k(nn));return sn.fill(rn),Lt.makeTensor(sn,nn,an,this)}var un=new vi(nn,rn),ln=un.getCustomSetupFunc(rn);return this.compileAndRun(un,[],an,ln)},Mt.prototype.onesLike=function(nn){if(nn.dtype==="string")throw new Error("onesLike is not supported under string dtype");return this.fill(nn.shape,1,nn.dtype)},Mt.prototype.zerosLike=function(nn){return this.fill(nn.shape,nn.dtype==="string"?"":0,nn.dtype)},Mt.prototype.linspace=function(nn,rn,an){return Wo(nn,rn,an)},Mt.prototype.makeTensorInfo=function(nn,rn){var an=this.write(null,nn,rn);return this.texData.get(an).usage=null,{dataId:an,shape:nn,dtype:rn}},Mt.prototype.makeOutput=function(nn,rn){var an=this.makeTensorInfo(nn,rn).dataId;return Lt.makeTensorFromDataId(an,nn,rn,this)},Mt.prototype.unpackTensor=function(nn){var rn=new Ys(nn.shape);return this.runWebGLProgram(rn,[nn],nn.dtype)},Mt.prototype.packTensor=function(nn){var rn=new ji(nn.shape);return this.runWebGLProgram(rn,[nn],nn.dtype,null,!0)},Mt.prototype.packedReshape=function(nn,rn){var an=[Ae(nn.shape)].concat(De(nn.shape)),sn={dtype:nn.dtype,shape:an,dataId:nn.dataId},un=[Ae(rn)].concat(De(rn)),ln=new Zi(un,an),cn=this.runWebGLProgram(ln,[sn],nn.dtype,null,!0);return{dataId:cn.dataId,shape:rn,dtype:cn.dtype}},Mt.prototype.decode=function(nn){var rn,an=this.texData.get(nn),sn=an.isPacked,un=an.shape,ln=an.dtype,cn=Te(un);return rn=sn?new ai(cn):new oi(cn),{dtype:ln,shape:un,dataId:this.runWebGLProgram(rn,[{shape:cn,dtype:ln,dataId:nn}],ln,null,!0).dataId}},Mt.prototype.runWebGLProgram=function(nn,rn,an,sn,un){var ln=this;un===void 0&&(un=!1);var cn=this.makeTensorInfo(nn.outputShape,an),hn=this.texData.get(cn.dataId);if(nn.packedOutput&&(hn.isPacked=!0),nn.outPackingScheme===Vt.DENSE){var fn=Yt(nn.outputShape);hn.texShape=fn.map(function(fo){return 2*fo})}if(nn.outTexUsage!=null&&(hn.usage=nn.outTexUsage),k(cn.shape)===0)return hn.values=B(cn.dtype,0),cn;var to=[],Xr=rn.map(function(fo){if(fo.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var Uo=ln.texData.get(fo.dataId);if(Uo.texture==null){if(!nn.packedInputs&&k(fo.shape)<=i$1().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:fo.shape,texData:null,isUniform:!0,uniformValues:Uo.values};nn.packedInputs&&(Uo.isPacked=!0,Uo.shape=fo.shape)}else if(!!Uo.isPacked!=!!nn.packedInputs)fo=Uo.isPacked?ln.unpackTensor(fo):ln.packTensor(fo),to.push(fo),Uo=ln.texData.get(fo.dataId);else if(Uo.isPacked&&!_e(Uo.shape,fo.shape)){var t0=fo,n0=fo.shape;fo.shape=Uo.shape,fo=ln.packedReshape(fo,n0),to.push(fo),Uo=ln.texData.get(fo.dataId),t0.shape=n0}return ln.uploadToGPU(fo.dataId),{shape:fo.shape,texData:Uo,isUniform:!1}});this.uploadToGPU(cn.dataId);var uo,co={shape:cn.shape,texData:hn,isUniform:!1},ho=function(fo,Uo,t0){var n0="";Uo.concat(t0).forEach(function(s0){var l0=s0.texData!=null&&s0.texData.slice!=null&&s0.texData.slice.flatOffset>0,d0=s0.isUniform?"uniform":s0.texData.texShape;n0+=s0.shape+"_"+d0+"_"+l0});var i0=fo.userCode,a0=fo.constructor.name;return a0+="_"+n0+"_"+i0}(nn,Xr,co),e0=this.getAndSaveBinary(ho,function(){return function(fo,Uo,t0,n0){var i0=Uo.userCode,a0=t0.map(function(r0,o0){var f0={logicalShape:r0.shape,texShape:r0.isUniform?null:r0.texData.texShape,isUniform:r0.isUniform,isPacked:!r0.isUniform&&r0.texData.isPacked,flatOffset:null};return r0.texData!=null&&r0.texData.slice!=null&&r0.texData.slice.flatOffset>0&&(f0.flatOffset=r0.texData.slice.flatOffset),{name:Uo.variableNames[o0],shapeInfo:f0}}),s0=a0.map(function(r0){return r0.shapeInfo}),l0={logicalShape:n0.shape,texShape:n0.texData.texShape,isUniform:!1,isPacked:n0.texData.isPacked,flatOffset:null},d0=fa(a0,l0,i0,Uo.packedInputs),h0=fo.createProgram(d0),v0=null,g0=fo.getUniformLocation(h0,"NAN",!1);i$1().getNumber("WEBGL_VERSION")===1&&(v0=fo.getUniformLocation(h0,"INFINITY",!1));for(var m0={},u0=0;u0<Uo.variableNames.length;u0++){var c0=Uo.variableNames[u0];m0[c0]=fo.getUniformLocation(h0,c0,!1),m0["offset"+c0]=fo.getUniformLocation(h0,"offset"+c0,!1)}return{program:Uo,source:d0,webGLProgram:h0,uniformLocations:m0,inShapeInfos:s0,outShapeInfo:l0,infLoc:v0,nanLoc:g0}}(ln.gpgpu,nn,Xr,co)}),lo=this.activeTimers!=null;if(lo&&(uo=this.startTimer()),function(fo,Uo,t0,n0,i0){Pi(Uo.inShapeInfos,t0),Pi([Uo.outShapeInfo],[n0]);var a0=n0.texData.texture,s0=n0.texData.texShape;n0.texData.isPacked?fo.setOutputPackedMatrixTexture(a0,s0[0],s0[1]):fo.setOutputMatrixTexture(a0,s0[0],s0[1]),fo.setProgram(Uo.webGLProgram),i$1().getNumber("WEBGL_VERSION")===1&&Uo.infLoc!==null&&fo.gl.uniform1f(Uo.infLoc,1/0),Uo.nanLoc!==null&&fo.gl.uniform1f(Uo.nanLoc,NaN),t0.forEach(function(l0,d0){var h0=Uo.program.variableNames[d0],v0=Uo.uniformLocations[h0],g0=Uo.uniformLocations["offset"+h0];if(v0!=null)if(l0.isUniform)if(k(l0.shape)<2)fo.gl.uniform1f(v0,l0.uniformValues[0]);else{var m0=l0.uniformValues;m0 instanceof Float32Array||(m0=new Float32Array(m0)),fo.gl.uniform1fv(v0,m0)}else l0.texData.slice!=null&&g0!=null&&fo.gl.uniform1i(g0,l0.texData.slice.flatOffset),fo.setInputMatrixTexture(l0.texData.texture,v0,d0)}),i0!=null&&i0(fo,Uo.webGLProgram),fo.executeProgram()}(this.gpgpu,e0,Xr,co,sn),to.forEach(function(fo){return ln.disposeData(fo.dataId)}),lo&&(uo=this.endTimer(uo),this.activeTimers.push({name:nn.constructor.name,query:this.getQueryTime(uo)})),!i$1().getBool("WEBGL_LAZILY_UNPACK")&&hn.isPacked&&un===!1){var mo=this.unpackTensor(cn);return this.disposeData(cn.dataId),mo}return cn},Mt.prototype.compileAndRun=function(nn,rn,an,sn,un){un===void 0&&(un=!1),an=an||rn[0].dtype;var ln=this.runWebGLProgram(nn,rn,an,sn,un);return Lt.makeTensorFromDataId(ln.dataId,ln.shape,ln.dtype)},Mt.prototype.getAndSaveBinary=function(nn,rn){return nn in this.binaryCache||(this.binaryCache[nn]=rn()),this.binaryCache[nn]},Mt.prototype.getTextureManager=function(){return this.textureManager},Mt.prototype.dispose=function(){var nn=this;this.disposed||(i$1().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(rn){nn.gpgpu.deleteProgram(nn.binaryCache[rn].webGLProgram),delete nn.binaryCache[rn]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},Mt.prototype.floatPrecision=function(){var nn=this;return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Ze(function(){if(!i$1().get("WEBGL_RENDER_FLOAT32_ENABLED")){var rn=i$1().getBool("DEBUG");i$1().set("DEBUG",!1);var an=nn.abs(On(1e-8)).dataSync()[0];if(i$1().set("DEBUG",rn),an>0)return 32}return 16})),this.floatPrecisionValue},Mt.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},Mt.prototype.uploadToGPU=function(nn){var rn,an=this.texData.get(nn),sn=an.shape,un=an.dtype,ln=an.values,cn=an.texture,hn=an.usage,fn=an.isPacked;if(cn==null){var to,Xr=this.activeTimers!=null;Xr&&(to=et());var uo=an.texShape;if(uo==null&&(uo=Ne(sn,fn),an.texShape=uo),ln!=null){var co=Te(sn),ho=void 0,e0=uo[1],lo=uo[0],mo=ln instanceof Uint8Array;fn?(e0=(rn=$t(uo[0],uo[1]))[0],lo=rn[1],ho=new hi(co,[lo,e0],mo)):ho=new li(co,[lo,e0],mo);var fo=this.makeTensorInfo([lo,e0],un);this.texData.get(fo.dataId).usage=mo?zt.PIXELS:zt.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(fo.dataId),e0,lo,ln);var Uo=this.runWebGLProgram(ho,[fo],un,null,!0),t0=this.texData.get(Uo.dataId);an.texture=t0.texture,an.texShape=t0.texShape,an.isPacked=t0.isPacked,an.usage=t0.usage,this.disposeData(fo.dataId),this.texData.delete(Uo.dataId),an.values=null,Xr&&(this.uploadWaitMs+=et()-to)}else{var n0=this.acquireTexture(uo,hn,un,fn);an.texture=n0}}},Mt.prototype.convertAndCacheOnCPU=function(nn,rn){var an=this.texData.get(nn),sn=an.dtype;return this.releaseGPUData(nn),rn!=null&&(an.values=function(un,ln){if(ln==="float32"||ln==="complex64")return un;if(ln==="int32"||ln==="bool"){for(var cn=ln==="int32"?new Int32Array(un.length):new Uint8Array(un.length),hn=0;hn<cn.length;++hn)cn[hn]=Math.round(un[hn]);return cn}throw new Error("Unknown dtype "+ln)}(rn,sn)),an.values},Mt.prototype.acquireTexture=function(nn,rn,an,sn){if(this.numBytesInGPU+=this.computeBytes(nn,an),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var un=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+un+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(nn,rn,sn)},Mt.prototype.computeBytes=function(nn,rn){return nn[0]*nn[1]*z(rn)},Mt}(bo);Wt()&&Lt.registerBackend("webgl",function(){return new Zs},2);var tu=An({square_:function(st){var Mt=mn(st,"x","square"),nn=[Mt];return Lt.runKernelFunc(function(rn,an){return an([Mt]),rn.square(Mt)},{x:Mt},null,"Square",{},nn,[])}}),eu="SquaredDifference",nu=An({squaredDifference_:function(st,Mt){var nn,rn=mn(st,"a","squaredDifference"),an=mn(Mt,"b","squaredDifference");nn=Nt(rn,an),rn=nn[0],an=nn[1],Ro(rn.shape,an.shape);var sn={a:rn,b:an},un=[rn,an];return Lt.runKernelFunc(function(ln,cn){var hn=ln.squaredDifference(rn,an);return cn([rn,an]),hn},sn,function(ln,cn){var hn=cn[0],fn=cn[1],to=On(2);return{a:function(){return ln.mul(hn.sub(fn).mul(to))},b:function(){return ln.mul(fn.sub(hn).mul(to))}}},eu,{},un,[])}}),ru=An({abs_:function(st){var Mt=mn(st,"x","abs");return Mt.dtype==="complex64"?Lt.runKernelFunc(function(nn){return nn.complexAbs(Mt)},{$x:Mt}):Lt.runKernelFunc(function(nn,rn){var an=nn.abs(Mt);return rn([Mt]),an},{x:Mt},function(nn,rn){var an=rn[0];return{x:function(){return nn.mul(an.toFloat().step(-1))}}},"Abs")}}),ou=An({acos_:function(st){var Mt=mn(st,"x","acos");return Lt.runKernelFunc(function(nn,rn){var an=nn.acos(Mt);return rn([Mt]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){return nn.divStrict(On(1).sub(an.toFloat().square()).sqrt()).neg()}}})}}),au=An({acosh_:function(st){var Mt=mn(st,"x","acosh");return Lt.runKernelFunc(function(nn,rn){var an=nn.acosh(Mt);return rn([Mt]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){return nn.divStrict(an.toFloat().square().sub(1).sqrt())}}})}}),iu=An({asin_:function(st){var Mt=mn(st,"x","asin");return Lt.runKernelFunc(function(nn,rn){var an=nn.asin(Mt);return rn([Mt]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){return nn.divStrict(On(1).sub(an.toFloat().square()).sqrt())}}})}}),su=An({asinh_:function(st){var Mt=mn(st,"x","asinh");return Lt.runKernelFunc(function(nn,rn){var an=nn.asinh(Mt);return rn([Mt]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){return nn.divStrict(On(1).add(an.toFloat().square()).sqrt())}}})}}),uu=An({atan_:function(st){var Mt=mn(st,"x","atan");return Lt.runKernelFunc(function(nn,rn){var an=nn.atan(Mt);return rn([Mt]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){return nn.div(an.toFloat().square().add(1))}}})}}),cu=An({atanh_:function(st){var Mt=mn(st,"x","atanh");return Lt.runKernelFunc(function(nn,rn){var an=nn.atanh(Mt);return rn([Mt]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){return nn.div(On(1).sub(an.toFloat().square()))}}})}}),lu=An({ceil_:function(st){var Mt=mn(st,"x","ceil");return Lt.runKernelFunc(function(nn){return nn.ceil(Mt)},{$x:Mt},function(nn){return{$x:function(){return Xn(nn)}}})}}),hu=An({clipByValue_:function(st,Mt,nn){var rn=mn(st,"x","clipByValue");C(Mt<=nn,function(){return"Error in clip: min ("+Mt+") must be less than or equal to max ("+nn+")."});var an=[rn],sn={min:Mt,max:nn};return Lt.runKernelFunc(function(un,ln){var cn=un.clip(rn,Mt,nn);return ln([rn]),cn},{x:rn},function(un,ln){var cn=ln[0];return{x:function(){return un.where(cn.greaterEqual(Mt).logicalAnd(cn.lessEqual(nn)),Xn(un))}}},"ClipByValue",sn,an)}}),fu=An({cos_:function(st){var Mt=mn(st,"x","cos"),nn=[Mt];return Lt.runKernelFunc(function(rn,an){var sn=rn.cos(Mt);return an([Mt]),sn},{x:Mt},function(rn,an){var sn=an[0];return{x:function(){return sn.toFloat().sin().neg().mul(rn)}}},"Cos",{},nn)}}),du=An({cosh_:function(st){var Mt=mn(st,"x","cosh");return Lt.runKernelFunc(function(nn,rn){var an=nn.cosh(Mt);return rn([Mt]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){return an.toFloat().sinh().mulStrict(nn)}}})}}),pu=An({erf_:function(st){var Mt=mn(st,"x","erf");return C(Mt.dtype==="int32"||Mt.dtype==="float32",function(){return"Input dtype must be `int32` or `float32`."}),Mt.dtype==="int32"&&(Mt=Mt.toFloat()),Lt.runKernelFunc(function(nn,rn){var an=nn.erf(Mt);return rn([Mt]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){return nn.mul(an.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),vu=An({exp_:function(st){var Mt=mn(st,"x","exp");return Lt.runKernelFunc(function(nn,rn){var an=nn.exp(Mt);return rn([an]),an},{x:Mt},function(nn,rn){return{x:function(){return nn.mulStrict(rn[0])}}},"Exp",{},[],[!0])}}),mu=An({expm1_:function(st){var Mt=mn(st,"x","expm1");return Lt.runKernelFunc(function(nn,rn){var an=nn.expm1(Mt);return rn([Mt]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){return nn.mul(an.exp())}}})}}),gu=An({floor_:function(st){var Mt=mn(st,"x","floor");return Lt.runKernelFunc(function(nn){return nn.floor(Mt)},{$x:Mt},function(nn){return{$x:function(){return Xn(nn)}}})}}),yu=An({log_:function(st){var Mt=mn(st,"x","log"),nn=[Mt];return Lt.runKernelFunc(function(rn,an){var sn=rn.log(Mt);return an([Mt]),sn},{x:Mt},function(rn,an){var sn=an[0];return{x:function(){return rn.div(sn.toFloat())}}},"Log",{},nn)}}),xu=An({log1p_:function(st){var Mt=mn(st,"x","log1p");return Lt.runKernelFunc(function(nn,rn){var an=nn.log1p(Mt);return rn([Mt]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){return nn.div(an.add(1))}}})}}),bu=An({logSigmoid_:function(st){var Mt=mn(st,"x","logSigmoid");return Lt.runKernelFunc(function(nn,rn){var an=nn.softplus(Mt.neg()).neg();return rn([Mt]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){return nn.mul(an.neg().sigmoid())}}})}}),wu=An({neg_:function(st){var Mt=mn(st,"x","neg"),nn=[Mt];return Lt.runKernelFunc(function(rn){return rn.neg(Mt)},{x:Mt},function(rn){return{x:function(){return rn.neg()}}},"Neg",{},nn)}}),Cu=An({reciprocal_:function(st){var Mt=mn(st,"x","reciprocal");return Lt.runKernelFunc(function(nn,rn){var an=nn.reciprocal(Mt);return rn([Mt]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){return nn.div(an.square().neg())}}})}}),Eu=An({round_:function(st){var Mt=mn(st,"x","round");return Lt.runKernelFunc(function(nn){return nn.round(Mt)},{$x:Mt},function(nn){return{$x:function(){return Xn(nn)}}})}}),Ru=An({rsqrt_:function(st){var Mt=mn(st,"x","rsqrt"),nn=[Mt];return Lt.runKernelFunc(function(rn,an){var sn=rn.rsqrt(Mt);return an([Mt]),sn},{x:Mt},function(rn,an){var sn=an[0];return{x:function(){return rn.div(sn.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},nn)}}),Iu=An({sigmoid_:function(st){var Mt=mn(st,"x","sigmoid");return Lt.runKernelFunc(function(nn,rn){var an=nn.sigmoid(Mt);return rn([an]),an},{x:Mt},function(nn,rn){var an=rn[0];return{x:function(){return nn.mul(an.mul(On(1).sub(an)))}}},"Sigmoid")}}),ku=An({sign_:function(st){var Mt=mn(st,"x","sign");return Lt.runKernelFunc(function(nn){return nn.sign(Mt)},{$x:Mt},function(nn){return{$x:function(){return Xn(nn)}}})}}),Su=An({isNaN_:function(st){var Mt=mn(st,"x","isNaN");return Lt.runKernelFunc(function(nn){return nn.isNaN(Mt)},{$x:Mt},function(nn){return{$x:function(){return Xn(nn)}}})}}),Au=An({isInf_:function(st){var Mt=mn(st,"x","isInf");return Lt.runKernelFunc(function(nn){return nn.isInf(Mt)},{$x:Mt},function(nn){return{$x:function(){return Xn(nn)}}})}}),Du=An({isFinite_:function(st){var Mt=mn(st,"x","isFinite");return Lt.runKernelFunc(function(nn){return nn.isFinite(Mt)},{$x:Mt},function(nn){return{$x:function(){return Xn(nn)}}})}}),Tu=An({sin_:function(st){var Mt=mn(st,"x","sin"),nn=[Mt];return Lt.runKernelFunc(function(rn,an){var sn=rn.sin(Mt);return an([Mt]),sn},{x:Mt},function(rn,an){var sn=an[0];return{x:function(){return sn.toFloat().cos().mul(rn)}}},"Sin",{},nn)}}),Nu=An({sinh_:function(st){var Mt=mn(st,"x","sinh");return Lt.runKernelFunc(function(nn,rn){var an=nn.sinh(Mt);return rn([Mt]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){return an.toFloat().cosh().mulStrict(nn)}}})}}),Fu=An({softplus_:function(st){var Mt=mn(st,"x","softplus");return Lt.runKernelFunc(function(nn,rn){var an=nn.softplus(Mt);return rn([Mt]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){return nn.mul(an.sigmoid())}}})}}),_u=An({sqrt_:function(st){var Mt=mn(st,"x","sqrt");return Lt.runKernelFunc(function(nn,rn){var an=nn.sqrt(Mt);return rn([Mt]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){return nn.div(an.toFloat().sqrt().mul(2))}}})}}),Ou=An({step_:function(st,Mt){Mt===void 0&&(Mt=0);var nn=mn(st,"x","step");return Lt.runKernelFunc(function(rn){return rn.step(nn,Mt)},{$x:nn},function(rn){return{$x:function(){return Xn(rn)}}})}}),Mu=An({tan_:function(st){var Mt=mn(st,"x","tan");return Lt.runKernelFunc(function(nn,rn){var an=nn.tan(Mt);return rn([Mt]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){return nn.div(an.cos().square())}}})}}),Bu=An({tanh_:function(st){var Mt=mn(st,"x","tanh");return Lt.runKernelFunc(function(nn,rn){var an=nn.tanh(Mt);return rn([an]),an},{x:Mt},function(nn,rn){var an=rn[0];return{x:function(){return On(1).sub(an.square()).mulStrict(nn)}}},"Tanh",{},null,[!0])}});function Pu(st,Mt,nn,rn,an,sn){var un,ln,cn=mn(st,"x","batchNorm"),hn=mn(Mt,"mean","batchNorm"),fn=mn(nn,"variance","batchNorm");return an!=null&&(un=mn(an,"scale","batchNorm")),rn!=null&&(ln=mn(rn,"offset","batchNorm")),C(cn.rank===2,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+cn.rank+"."}),C(hn.rank===2||hn.rank===1,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+hn.rank+"."}),C(fn.rank===2||fn.rank===1,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+fn.rank+"."}),un!=null&&C(un.rank===2||un.rank===1,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+un.rank+"."}),ln!=null&&C(ln.rank===2||ln.rank===1,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+ln.rank+"."}),Uu(cn,hn,fn,ln,un,sn)}function Lu(st,Mt,nn,rn,an,sn){var un,ln,cn=mn(st,"x","batchNorm"),hn=mn(Mt,"mean","batchNorm"),fn=mn(nn,"variance","batchNorm");return an!=null&&(un=mn(an,"scale","batchNorm")),rn!=null&&(ln=mn(rn,"offset","batchNorm")),C(cn.rank===3,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+cn.rank+"."}),C(hn.rank===3||hn.rank===1,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+hn.rank+"."}),C(fn.rank===3||fn.rank===1,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+fn.rank+"."}),un!=null&&C(un.rank===3||un.rank===1,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+un.rank+"."}),ln!=null&&C(ln.rank===3||ln.rank===1,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+ln.rank+"."}),Uu(cn,hn,fn,ln,un,sn)}function Wu(st,Mt,nn,rn,an,sn){var un,ln,cn=mn(st,"x","batchNorm"),hn=mn(Mt,"mean","batchNorm"),fn=mn(nn,"variance","batchNorm");return an!=null&&(un=mn(an,"scale","batchNorm")),rn!=null&&(ln=mn(rn,"offset","batchNorm")),C(cn.rank===4,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+cn.rank+"."}),C(hn.rank===4||hn.rank===1,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+hn.rank+"."}),C(fn.rank===4||fn.rank===1,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+fn.rank+"."}),un!=null&&C(un.rank===4||un.rank===1,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+un.rank+"."}),ln!=null&&C(ln.rank===4||ln.rank===1,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+ln.rank+"."}),Uu(cn,hn,fn,ln,un,sn)}function Uu(st,Mt,nn,rn,an,sn){sn==null&&(sn=.001);var un,ln,cn,hn=mn(st,"x","batchNorm"),fn=mn(Mt,"mean","batchNorm"),to=mn(nn,"variance","batchNorm");an!=null&&(un=mn(an,"scale","batchNorm")),rn!=null&&(ln=mn(rn,"offset","batchNorm")),C(fn.rank===to.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),C(ln==null||fn.rank===ln.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),C(un==null||fn.rank===un.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),cn=hn.rank===0||hn.rank===1?hn.as4D(1,1,1,hn.size):hn.rank===2?hn.as4D(1,1,hn.shape[0],hn.shape[1]):hn.rank===3?hn.as4D(1,hn.shape[0],hn.shape[1],hn.shape[2]):hn;var Xr=[hn,fn,to,un];return Lt.runKernelFunc(function(uo,co){var ho=uo.batchNormalization(cn,Vu(fn),Vu(to),sn,Vu(un),Vu(ln));return co([hn,fn,to,un]),ho},{x:hn,mean:fn,variance:to,scale:un,offset:ln},function(uo,co){var ho=co,e0=ho[0],lo=ho[1],mo=ho[2],fo=ho[3],Uo=fo??On(1),t0=Eo(lo.shape,cn.shape),n0=[];if(lo.rank===1){for(var i0=0;i0<cn.shape.length-1;++i0)n0.push(cn.shape[i0]);n0.push(1)}var a0=e0.sub(lo),s0=uo.mul(Uo),l0=Ru(mo.add(On(sn))),d0=l0.mul(l0).mul(l0).mul(On(-.5));return{x:function(){return lo.rank===1?uo.mul(Lr(l0.as4D(1,1,1,lo.shape[0]),n0)).mul(Uo).reshape(e0.shape):uo.mul(l0).mul(Uo).reshape(e0.shape)},mean:function(){var h0=l0.mul(On(-1)).mul(s0);return lo.rank===1&&(h0=h0.sum(t0)),h0.reshape(lo.shape)},variance:function(){var h0=d0.mul(a0).mul(s0);return lo.rank===1&&(h0=h0.sum(t0)),h0.reshape(lo.shape)},scale:function(){var h0=a0.mul(l0),v0=uo.mul(h0);return lo.rank===1&&(v0=v0.sum(t0)),v0.reshape(lo.shape)},offset:function(){var h0=uo;return lo.rank===1&&(h0=h0.sum(t0)),h0.reshape(lo.shape)}}},"BatchNormalization",{varianceEpsilon:sn},Xr).reshape(hn.shape)}function Vu(st){return st==null?null:st.rank===0?st.as1D():st.rank===1?st:st.rank===2?st.as4D(1,1,st.shape[0],st.shape[1]):st.rank===3?st.as4D(1,st.shape[0],st.shape[1],st.shape[2]):st}function zu(){Xe("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var Gu=An({batchNormalization2d_:function(st,Mt,nn,rn,an,sn){return rn===void 0&&(rn=.001),zu(),Pu(st,Mt,nn,sn,an,rn)}}),Hu=An({batchNormalization3d_:function(st,Mt,nn,rn,an,sn){return rn===void 0&&(rn=.001),zu(),Lu(st,Mt,nn,sn,an,rn)}}),qu=An({batchNormalization4d_:function(st,Mt,nn,rn,an,sn){return rn===void 0&&(rn=.001),zu(),Wu(st,Mt,nn,sn,an,rn)}}),Ku=An({batchNormalization_:function(st,Mt,nn,rn,an,sn){return rn===void 0&&(rn=.001),zu(),Uu(st,Mt,nn,sn,an,rn)}}),ju=An({batchNorm_:Uu}),Xu=An({batchNorm2d_:Pu}),Yu=An({batchNorm3d_:Lu}),$u=An({batchNorm4d_:Wu}),Qu=An({logicalAnd_:function(st,Mt){var nn=mn(st,"a","logicalAnd","bool"),rn=mn(Mt,"b","logicalAnd","bool");return Ro(nn.shape,rn.shape),Lt.runKernelFunc(function(an){return an.logicalAnd(nn,rn)},{a:nn,b:rn},null,"LogicalAnd")}}),Ju=An({logicalNot_:function(st){var Mt=mn(st,"x","logicalNot","bool");return Lt.runKernelFunc(function(nn){return nn.logicalNot(Mt)},{$x:Mt})}}),Zu=An({logicalOr_:function(st,Mt){var nn=mn(st,"a","logicalOr","bool"),rn=mn(Mt,"b","logicalOr","bool");return Ro(nn.shape,rn.shape),Lt.runKernelFunc(function(an){return an.logicalOr(nn,rn)},{$a:nn,$b:rn})}}),tc=An({logicalXor_:function(st,Mt){var nn=mn(st,"a","logicalXor","bool"),rn=mn(Mt,"b","logicalXor","bool");return Ro(nn.shape,rn.shape),Zu(st,Mt).logicalAnd(Qu(st,Mt).logicalNot())}}),ec=An({where_:function(st,Mt,nn){var rn=mn(Mt,"a","where"),an=mn(nn,"b","where"),sn=mn(st,"condition","where","bool");return E(rn.shape,an.shape,"Error in where: "),sn.rank===1?C(sn.shape[0]===rn.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):E(sn.shape,an.shape,"Error in where: "),Lt.runKernelFunc(function(un,ln){var cn=un.select(sn,rn,an);return ln([sn]),cn},{$condition:sn,$a:rn,$b:an},function(un,ln){var cn=ln[0];return{$condition:function(){return Xn(cn).toFloat()},$a:function(){return un.mul(cn.cast(un.dtype))},$b:function(){return un.mul(cn.logicalNot().cast(un.dtype))}}})}}),nc=function(st){return n(this,void 0,void 0,function(){var Mt,nn,rn;return r(this,function(an){switch(an.label){case 0:return[4,(Mt=mn(st,"condition","whereAsync","bool")).data()];case 1:return nn=an.sent(),rn=na(Mt.shape,nn),st!==Mt&&Mt.dispose(),[2,rn]}})})},rc=An({add_:function(st,Mt){var nn,rn=mn(st,"a","add"),an=mn(Mt,"b","add");nn=Nt(rn,an),rn=nn[0],an=nn[1];var sn=Ro(rn.shape,an.shape);return Lt.runKernelFunc(function(un){return un.add(rn,an)},{a:rn,b:an},function(un){return{a:function(){var ln=un,cn=Eo(rn.shape,sn);return cn.length>0&&(ln=ln.sum(cn)),ln.reshape(rn.shape)},b:function(){var ln=un,cn=Eo(an.shape,sn);return cn.length>0&&(ln=ln.sum(cn)),ln.reshape(an.shape)}}},"Add")}}),oc=An({addN_:function(st){C(Array.isArray(st),function(){return"The argument passed to tf.addN() must be a list of tensors"}),C(st.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+st.length});var Mt=st.map(function(an,sn){return mn(an,"tensors"+sn,"addN")}),nn=Mt[0];Mt.forEach(function(an){if(an.dtype!==nn.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),Mt.forEach(function(an){if(!S(an.shape,nn.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var rn=Mt;return Lt.runKernelFunc(function(an){return an.addN(Mt)},rn,function(an){var sn={};return Mt.forEach(function(un,ln){sn[ln]=function(){return an.clone()}}),sn},"AddN")}}),ac=An({addStrict_:function(st,Mt){var nn=mn(st,"a","addStrict"),rn=mn(Mt,"b","addStrict");return E(nn.shape,rn.shape,"Error in addStrict: "),nn.add(rn)}}),ic=An({atan2_:function(st,Mt){var nn,rn=mn(st,"a","atan2"),an=mn(Mt,"b","atan2");nn=Nt(rn,an),rn=nn[0],an=nn[1];var sn=Ro(rn.shape,an.shape);return Lt.runKernelFunc(function(un,ln){var cn=un.atan2(rn,an);return ln([rn,an]),cn},{$a:rn,$b:an},function(un,ln){var cn=ln[0],hn=ln[1];return{$a:function(){var fn=rc(cn.square(),hn.square()),to=un.mul(hn.div(fn)),Xr=Eo(cn.shape,sn);return Xr.length>0&&(to=to.sum(Xr)),to.reshape(cn.shape)},$b:function(){var fn=rc(cn.square(),hn.square()),to=wu(un.mul(cn.div(fn))),Xr=Eo(hn.shape,sn);return Xr.length>0&&(to=to.sum(Xr)),to.reshape(hn.shape)}}})}}),sc=An({div_:function(st,Mt){var nn,rn=mn(st,"a","div"),an=mn(Mt,"b","div");if(nn=Nt(rn,an),rn=nn[0],an=nn[1],rn.dtype==="int32"&&an.dtype==="int32")return lc(rn,an);var sn=Ro(rn.shape,an.shape);return Lt.runKernelFunc(function(un,ln){var cn=un.realDivide(rn,an);return ln([rn,an]),cn},{a:rn,b:an},function(un,ln){var cn=ln[0],hn=ln[1];return{a:function(){var fn=un.div(hn.toFloat()),to=Eo(cn.shape,sn);return to.length>0?fn.sum(to).reshape(cn.shape):fn},b:function(){var fn=un.mul(cn.toFloat()),to=Eo(hn.shape,sn);to.length>0&&(fn=fn.sum(to).reshape(hn.shape));var Xr=hn.square();return fn.div(Xr.toFloat()).neg()}}},"Div")}}),uc=An({divNoNan_:function(st,Mt){var nn,rn=mn(st,"a","div"),an=mn(Mt,"b","div");rn=(nn=Nt(rn,an))[0],an=nn[1];var sn=sc(rn,an),un=Xn(sn),ln=an.equal(un);return ec(ln,un,sn)}}),cc=An({divStrict_:function(st,Mt){var nn=mn(st,"a","div"),rn=mn(Mt,"b","div");return E(nn.shape,rn.shape,"Error in divideStrict: "),nn.div(rn)}}),lc=An({floorDiv_:function(st,Mt){var nn,rn=mn(st,"a","floorDiv"),an=mn(Mt,"b","floorDiv");nn=Nt(rn,an),rn=nn[0],an=nn[1];var sn=Ro(rn.shape,an.shape);return Lt.runKernelFunc(function(un,ln){var cn=un.floorDiv(rn,an);return ln([rn,an]),cn},{a:rn,b:an},function(un,ln){var cn=ln[0],hn=ln[1];return{a:function(){var fn=un.div(hn.toFloat()),to=Eo(cn.shape,sn);return to.length>0?fn.sum(to).reshape(cn.shape):fn},b:function(){var fn=un.mul(cn.toFloat()),to=Eo(hn.shape,sn);to.length>0&&(fn=fn.sum(to).reshape(hn.shape));var Xr=hn.square();return fn.div(Xr.toFloat()).neg()}}},"FloorDiv")}}),hc=An({maximum_:function(st,Mt){var nn,rn=mn(st,"a","maximum"),an=mn(Mt,"b","maximum");return nn=Nt(rn,an),rn=nn[0],an=nn[1],rn.dtype==="bool"&&(rn=rn.toInt(),an=an.toInt()),Ro(rn.shape,an.shape),Lt.runKernelFunc(function(sn,un){var ln=sn.maximum(rn,an);return un([rn,an]),ln},{a:rn,b:an},function(sn,un){var ln=un[0],cn=un[1];return{a:function(){return sn.mul(ln.greaterEqual(cn).toFloat())},b:function(){return sn.mul(ln.less(cn).toFloat())}}},"Maximum")}}),fc=An({maximumStrict_:function(st,Mt){var nn=mn(st,"a","maximumStrict"),rn=mn(Mt,"b","maximumStrict");return E(nn.shape,rn.shape,"Error in maximumStrict: "),nn.maximum(rn)}}),dc=An({minimum_:function(st,Mt){var nn,rn=mn(st,"a","minimum"),an=mn(Mt,"b","minimum");return nn=Nt(rn,an),rn=nn[0],an=nn[1],rn.dtype==="bool"&&(rn=rn.toInt(),an=an.toInt()),Ro(rn.shape,an.shape),Lt.runKernelFunc(function(sn,un){var ln=sn.minimum(rn,an);return un([rn,an]),ln},{a:rn,b:an},function(sn,un){var ln=un[0],cn=un[1];return{a:function(){return sn.mul(ln.lessEqual(cn).toFloat())},b:function(){return sn.mul(ln.greater(cn).toFloat())}}},"Minimum")}}),pc=An({minimumStrict_:function(st,Mt){var nn=mn(st,"a","minimumStrict"),rn=mn(Mt,"b","minimumStrict");return E(nn.shape,rn.shape,"Error in minimumStrict: "),nn.minimum(rn)}}),vc=An({mod_:function(st,Mt){var nn,rn=mn(st,"a","mod"),an=mn(Mt,"b","mod");nn=Nt(rn,an),rn=nn[0],an=nn[1];var sn=Ro(rn.shape,an.shape);return Lt.runKernelFunc(function(un,ln){var cn=un.mod(rn,an);return ln([rn,an]),cn},{$a:rn,$b:an},function(un,ln){var cn=ln[0],hn=ln[1];return{$a:function(){var fn=Eo(cn.shape,sn);return fn.length>0?un.sum(fn).reshape(cn.shape):un},$b:function(){var fn=un.mul(cn.div(hn).floor().neg()),to=Eo(hn.shape,sn);return to.length>0?fn.sum(to).reshape(hn.shape):fn}}})}}),mc=An({modStrict_:function(st,Mt){var nn=mn(st,"a","modStrict"),rn=mn(Mt,"b","modStrict");return E(nn.shape,rn.shape,"Error in modStrict: "),nn.mod(rn)}}),gc=An({mul_:function(st,Mt){var nn,rn=mn(st,"a","mul"),an=mn(Mt,"b","mul");nn=Nt(rn,an),rn=nn[0],an=nn[1];var sn=Ro(rn.shape,an.shape);return Lt.runKernelFunc(function(un,ln){var cn=un.multiply(rn,an);return ln([rn,an]),cn},{a:rn,b:an},function(un,ln){var cn=ln[0],hn=ln[1];return{a:function(){var fn=un.mul(hn.toFloat()),to=Eo(cn.shape,sn);return to.length>0?fn.sum(to).reshape(cn.shape):fn},b:function(){var fn=un.mul(cn.toFloat()),to=Eo(hn.shape,sn);return to.length>0?fn.sum(to).reshape(hn.shape):fn}}},"Mul")}}),yc=An({mulStrict_:function(st,Mt){var nn=mn(st,"a","mul"),rn=mn(Mt,"b","mul");return E(nn.shape,rn.shape,"Error in multiplyStrict: "),nn.mul(rn)}}),xc=An({pow_:function(st,Mt){var nn,rn=mn(st,"base","pow"),an=mn(Mt,"exp","pow");nn=Nt(rn,an),rn=nn[0],an=nn[1];var sn=Ro(rn.shape,an.shape),un=[rn,an];return Lt.runKernelFunc(function(ln,cn){var hn=ln.pow(rn,an);return cn([rn,an,hn]),hn},{a:rn,b:an},function(ln,cn){var hn=cn[0],fn=cn[1],to=cn[2];return{a:function(){var Xr=fn.toFloat(),uo=ln.mul(Xr.mul(hn.pow(Xr.sub(On(1))))),co=Eo(hn.shape,sn);return co.length>0&&(uo=uo.sum(co)),uo.reshape(hn.shape)},b:function(){var Xr=hn.greater(0),uo=hn.log().where(Xr,Xn(hn)),co=ln.mul(to.mul(uo)),ho=Eo(fn.shape,sn);return ho.length>0&&(co=co.sum(ho)),co.reshape(fn.shape)}}},"Pow",{},un,[!0])}}),bc=An({powStrict_:function(st,Mt){return E(st.shape,Mt.shape,"Error in powStrict: "),st.pow(Mt)}}),wc=An({squaredDifferenceStrict_:function(st,Mt){var nn=mn(st,"a","squaredDifferenceStrict"),rn=mn(Mt,"b","squaredDifferenceStrict");return E(nn.shape,rn.shape,"Error in squaredDifferenceStrict: "),nn.squaredDifference(rn)}}),Cc=An({sub_:function(st,Mt){var nn,rn=mn(st,"a","sub"),an=mn(Mt,"b","sub");nn=Nt(rn,an),rn=nn[0],an=nn[1];var sn=Ro(rn.shape,an.shape);return Lt.runKernelFunc(function(un){return un.subtract(rn,an)},{a:rn,b:an},function(un){return{a:function(){var ln=un,cn=Eo(rn.shape,sn);return cn.length>0&&(ln=ln.sum(cn)),ln.reshape(rn.shape)},b:function(){var ln=un,cn=Eo(an.shape,sn);return cn.length>0&&(ln=ln.sum(cn)),ln.neg().reshape(an.shape)}}},"Sub")}}),Ec=An({subStrict_:function(st,Mt){var nn=mn(st,"a","subStrict"),rn=mn(Mt,"b","subStrict");return E(nn.shape,rn.shape,"Error in subStrict: "),nn.sub(rn)}}),Rc=An({equal_:function(st,Mt){var nn,rn=mn(st,"a","equal"),an=mn(Mt,"b","equal");return nn=Nt(rn,an),rn=nn[0],an=nn[1],Ro(rn.shape,an.shape),Lt.runKernelFunc(function(sn){return sn.equal(rn,an)},{$a:rn,$b:an})}}),Ic=An({equalStrict_:function(st,Mt){var nn=mn(st,"a","equalStrict"),rn=mn(Mt,"b","equalStrict");return E(nn.shape,rn.shape,"Error in equalStrict: "),nn.equal(rn)}}),kc=An({greater_:function(st,Mt){var nn,rn=mn(st,"a","greater"),an=mn(Mt,"b","greater");return nn=Nt(rn,an),rn=nn[0],an=nn[1],Ro(rn.shape,an.shape),Lt.runKernelFunc(function(sn){return sn.greater(rn,an)},{a:rn,b:an},null,"Greater")}}),Sc=An({greaterEqual_:function(st,Mt){var nn,rn=mn(st,"a","greaterEqual"),an=mn(Mt,"b","greaterEqual");return nn=Nt(rn,an),rn=nn[0],an=nn[1],Ro(rn.shape,an.shape),Lt.runKernelFunc(function(sn,un){var ln=sn.greaterEqual(rn,an);return un([rn,an]),ln},{a:rn,b:an},function(sn,un){var ln=un[0],cn=un[1];return{a:function(){return Xn(ln)},b:function(){return Xn(cn)}}},"GreaterEqual")}}),Ac=An({greaterEqualStrict_:function(st,Mt){var nn=mn(st,"a","greaterEqualStrict"),rn=mn(Mt,"b","greaterEqualStrict");return E(nn.shape,rn.shape,"Error in greaterEqualStrict: "),nn.greaterEqual(rn)}}),Dc=An({greaterStrict_:function(st,Mt){var nn=mn(st,"a","greaterStrict"),rn=mn(Mt,"b","greaterStrict");return E(nn.shape,rn.shape,"Error in greaterStrict: "),nn.greater(rn)}}),Tc=An({less_:function(st,Mt){var nn,rn=mn(st,"a","less"),an=mn(Mt,"b","less");return nn=Nt(rn,an),rn=nn[0],an=nn[1],Ro(rn.shape,an.shape),Lt.runKernelFunc(function(sn){return sn.less(rn,an)},{a:rn,b:an},null,"Less")}}),Nc=An({lessEqual_:function(st,Mt){var nn,rn=mn(st,"a","lessEqual"),an=mn(Mt,"b","lessEqual");return nn=Nt(rn,an),rn=nn[0],an=nn[1],Ro(rn.shape,an.shape),Lt.runKernelFunc(function(sn,un){var ln=sn.lessEqual(rn,an);return un([rn,an]),ln},{a:rn,b:an},null,"LessEqual")}}),Fc=An({lessEqualStrict_:function(st,Mt){var nn=mn(st,"a","lessEqualStrict"),rn=mn(Mt,"b","lessEqualStrict");return E(nn.shape,rn.shape,"Error in lessEqualStrict: "),nn.lessEqual(rn)}}),_c=An({lessStrict_:function(st,Mt){var nn=mn(st,"a","lessStrict"),rn=mn(Mt,"b","lessStrict");return E(nn.shape,rn.shape,"Error in lessStrict: "),nn.less(rn)}}),Oc=An({notEqual_:function(st,Mt){var nn,rn=mn(st,"a","notEqual"),an=mn(Mt,"b","notEqual");return nn=Nt(rn,an),rn=nn[0],an=nn[1],Ro(rn.shape,an.shape),Lt.runKernelFunc(function(sn){return sn.notEqual(rn,an)},{a:rn,b:an},null,"NotEqual")}}),Mc=An({notEqualStrict_:function(st,Mt){var nn=mn(st,"a","notEqualStrict"),rn=mn(Mt,"b","notEqualStrict");return E(nn.shape,rn.shape,"Error in notEqualStrict: "),nn.notEqual(rn)}});function Bc(st,Mt){for(var nn=[],rn=st;rn<Mt;++rn)nn.push(rn);return nn}function Pc(st){for(var Mt=[],nn=0;nn<st.length;++nn)for(var rn=0;rn<st[nn].length;++rn)Mt.push(st[nn][rn]);return Mt}var Lc=An({gather_:function(st,Mt,nn){nn===void 0&&(nn=0);var rn=mn(st,"x","gather"),an=mn(Mt,"indices","gather","int32");nn=O(nn,rn.shape)[0];var sn=function(un,ln,cn){for(var hn=un.shape[cn],fn=[],to=1,Xr=1,uo=0;uo<cn;uo++)fn.push(un.shape[uo]),to*=un.shape[uo];for(uo=0;uo<ln.rank;uo++)fn.push(ln.shape[uo]);for(uo=cn+1;uo<un.rank;uo++)fn.push(un.shape[uo]),Xr*=un.shape[uo];return{batchSize:to,sliceSize:Xr,dimSize:hn,outputShape:fn}}(rn,an,nn);return Lt.runKernelFunc(function(un,ln){var cn=un.gather(rn,an.flatten(),nn);return ln([an]),cn},{x:rn,indices:an},function(un,ln){var cn=ln[0];return{x:function(){var hn=rn.shape,fn=cn.size,to=hn.slice(0,nn),Xr=to.length,uo=hn.slice(nn,hn.length).slice(1),co=uo.length,ho=Bc(0,Xr),e0=Bc(Xr+1,Xr+1+co),lo=Pc([to,[fn],uo]),mo=un.reshape(lo),fo=cn.reshape([fn]),Uo=Pc([[Xr],ho,e0]),t0=mo.transpose(Uo),n0=Wc(t0,fo,rn.shape[nn]),i0=Rn(Uo);return n0=n0.transpose(i0)},indices:function(){return cn}}},"Gather",{axis:nn}).reshape(sn.outputShape)}}),Wc=An({unsortedSegmentSum_:function(st,Mt,nn){var rn=mn(st,"x","unsortedSegmentSum"),an=mn(Mt,"segmentIds","unsortedSegmentSum","int32");return C(A(nn),function(){return"numSegments must be of dtype int"}),Lt.runKernelFunc(function(sn,un){var ln=sn.unsortedSegmentSum(rn,an,nn);return un([an]),ln},{$x:rn},function(sn,un){var ln=un[0];return{$x:function(){return function(cn,hn){for(var fn=hc(hn,Xn(hn)),to=Lc(cn,fn),Xr=Sc(hn,On(0,"int32")),uo=to.rank-Xr.rank,co=0;co<uo;++co)Xr=wr(Xr,co+1);Xr=Qu(Xr,zn(to.shape,"bool"));var ho=Xn(to);return ec(Xr,to,ho)}(sn,ln)}}})}}),Uc=function(st,Mt,nn){return n(this,void 0,void 0,function(){var rn,an,sn,un,ln,cn,hn,fn,to,Xr,uo,co,ho;return r(this,function(e0){switch(e0.label){case 0:for(rn=mn(st,"tensor","boolMask"),an=mn(Mt,"mask","boolMask","bool"),sn=nn??0,un=an.rank,ln=rn.shape,C(un>0,function(){return"mask cannot be scalar"}),E(ln.slice(sn,sn+un),an.shape,"mask's shape must match the first K dimensions of tensor's shape,"),cn=1,hn=sn;hn<sn+un;hn++)cn*=ln[hn];return fn=ln.slice(0,sn).concat([cn],ln.slice(sn+un)),to=rn.reshape(fn),Xr=an.reshape([-1]),[4,nc(Xr)];case 1:return uo=e0.sent(),co=uo.squeeze([1]),ho=Lc(to,co,sn),st!==rn&&rn.dispose(),Mt!==an&&an.dispose(),co.dispose(),to.dispose(),Xr.dispose(),uo.dispose(),[2,ho]}})})};function Vc(st,Mt,nn,rn,an,sn,un){sn===void 0&&(sn="NHWC"),C(st.length===Mt.rank,function(){return"Length of inShape ("+st.length+") and rank of dy ("+Mt.rank+") must match"});var ln=st,cn=Mt,hn=!1;Mt.rank===3&&(hn=!0,cn=Mt.as4D(1,Mt.shape[0],Mt.shape[1],Mt.shape[2]),ln=[1,st[0],st[1],st[2]]),C(ln.length===4,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+ln.length+"."}),C(cn.rank===4,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+cn.rank}),C(nn.rank===4,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+nn.rank});var fn=sn==="NHWC"?ln[3]:ln[1],to=sn==="NHWC"?cn.shape[3]:cn.shape[1];C(fn===nn.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+fn+") must match input depth for filter "+nn.shape[2]+"."}),C(to===nn.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+to+") must match output depth for filter "+nn.shape[3]+"."}),un!=null&&C(A(an),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+un+" but got pad "+an+"."});var Xr=Bo(sn),uo=So(ln,nn.shape,rn,1,an,un,!1,Xr),co=Lt.runKernelFunc(function(ho,e0){var lo=ho.conv2dDerInput(cn,nn,uo);return e0([nn,cn]),lo},{dy4D:cn,filter:nn},function(ho,e0){var lo=e0[0],mo=e0[1];return{dy4D:function(){return qc(ho,lo,rn,an,sn,1,un)},filter:function(){return jc(ho,mo,lo.shape,rn,an,sn,un)}}});return hn?co.as3D(co.shape[1],co.shape[2],co.shape[3]):co}function zc(st){var Mt=function(sn){return typeof sn=="number"?[sn,sn,sn]:sn.length===2?[sn[0],sn[1],1]:sn}(st),nn=Mt[0],rn=Mt[1],an=Mt[2];return nn===1&&rn===1&&an===1}function Gc(st,Mt,nn,rn,an){C(st.length===Mt.rank,function(){return"Length of inShape ("+st.length+") and rank of dy ("+Mt.rank+") must match"});var sn=st,un=Mt,ln=!1;Mt.rank===4&&(ln=!0,un=Mt.as5D(1,Mt.shape[0],Mt.shape[1],Mt.shape[2],Mt.shape[3]),sn=[1,st[0],st[1],st[2],st[3]]);var cn=sn[4],hn=un.shape[4];C(sn.length===5,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+sn.length+"."}),C(un.rank===5,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+un.rank}),C(nn.rank===5,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+nn.rank}),C(cn===nn.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+cn+") must match input depth for filter "+nn.shape[3]+"."}),C(hn===nn.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+hn+") must match output depth for filter "+nn.shape[4]+"."});var fn=Ao(sn,nn.shape,rn,1,an),to=Lt.runKernelFunc(function(Xr){return Xr.conv3dDerInput(un,nn,fn)},{dy5D:un});return ln?to.as4D(to.shape[1],to.shape[2],to.shape[3],to.shape[4]):to}var Hc=An({conv1d_:function(st,Mt,nn,rn,an,sn,un){an===void 0&&(an="NWC"),sn===void 0&&(sn=1);var ln=mn(st,"x","conv1d"),cn=mn(Mt,"filter","conv1d"),hn=ln,fn=!1;ln.rank===2&&(fn=!0,hn=ln.as3D(1,ln.shape[0],ln.shape[1])),C(hn.rank===3,function(){return"Error in conv1d: input must be rank 3, but got rank "+hn.rank+"."}),C(cn.rank===3,function(){return"Error in conv1d: filter must be rank 3, but got rank "+cn.rank+"."}),un!=null&&C(A(rn),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+un+" but got pad "+rn+"."}),C(hn.shape[2]===cn.shape[1],function(){return"Error in conv1d: depth of input ("+hn.shape[2]+") must match input depth for filter "+cn.shape[1]+"."}),C(Mo(nn,sn),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+nn+" and dilation '"+sn+"'"}),C(an==="NWC",function(){return"Error in conv1d: got dataFormat of "+an+" but only NWC is currently supported."});var to=cn.as4D(1,cn.shape[0],cn.shape[1],cn.shape[2]),Xr=hn.as4D(hn.shape[0],1,hn.shape[1],hn.shape[2]),uo=qc(Xr,to,[1,nn],rn,"NHWC",[1,sn],un);return fn?uo.as2D(uo.shape[2],uo.shape[3]):uo.as3D(uo.shape[0],uo.shape[2],uo.shape[3])}}),qc=An({conv2d_:function(st,Mt,nn,rn,an,sn,un){an===void 0&&(an="NHWC"),sn===void 0&&(sn=[1,1]);var ln=mn(st,"x","conv2d"),cn=mn(Mt,"filter","conv2d"),hn=ln,fn=!1;ln.rank===3&&(fn=!0,hn=ln.as4D(1,ln.shape[0],ln.shape[1],ln.shape[2])),C(hn.rank===4,function(){return"Error in conv2d: input must be rank 4, but got rank "+hn.rank+"."}),C(cn.rank===4,function(){return"Error in conv2d: filter must be rank 4, but got rank "+cn.rank+"."}),un!=null&&C(A(rn),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+un+" but got pad "+rn+"."});var to=an==="NHWC"?hn.shape[3]:hn.shape[1];C(to===cn.shape[2],function(){return"Error in conv2d: depth of input ("+to+") must match input depth for filter "+cn.shape[2]+"."}),C(Mo(nn,sn),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+nn+" and dilations '"+sn+"'"});var Xr=Bo(an),uo=So(hn.shape,cn.shape,nn,sn,rn,un,!1,Xr),co=[cn,hn],ho=Lt.runKernelFunc(function(e0,lo){var mo=e0.conv2d(hn,cn,uo);return lo([cn,hn]),mo},{x:hn,filter:cn},function(e0,lo){var mo=lo,fo=mo[0],Uo=mo[1];return C(Oo(sn),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+sn+"'"}),{x:function(){return Xc(Uo.shape,e0,fo,nn,rn,an)},filter:function(){return jc(Uo,e0,fo.shape,nn,rn,an)}}},"Conv2D",uo,co);return fn?ho.as3D(ho.shape[1],ho.shape[2],ho.shape[3]):ho}}),Kc=An({conv3d_:function(st,Mt,nn,rn,an,sn){an===void 0&&(an="NDHWC"),sn===void 0&&(sn=[1,1,1]);var un=mn(st,"x","conv3d"),ln=mn(Mt,"filter","conv3d"),cn=un,hn=!1;un.rank===4&&(hn=!0,cn=un.as5D(1,un.shape[0],un.shape[1],un.shape[2],un.shape[3])),C(cn.rank===5,function(){return"Error in conv3d: input must be rank 5, but got rank "+cn.rank+"."}),C(ln.rank===5,function(){return"Error in conv3d: filter must be rank 5, but got rank "+ln.rank+"."}),C(cn.shape[4]===ln.shape[3],function(){return"Error in conv3d: depth of input ("+cn.shape[4]+") must match input depth for filter "+ln.shape[3]+"."}),C(function(Xr,uo){return zc(Xr)||zc(uo)}(nn,sn),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+nn+" and dilations '"+sn+"'"}),C(an==="NDHWC",function(){return"Error in conv3d: got dataFormat of "+an+" but only NDHWC is currently supported."});var fn=Ao(cn.shape,ln.shape,nn,sn,rn),to=Lt.runKernelFunc(function(Xr,uo){var co=Xr.conv3d(cn,ln,fn);return uo([cn,ln]),co},{x:cn,$filter:ln},function(Xr,uo){C(zc(sn),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+sn+"'"});var co=uo[0],ho=uo[1];return{x:function(){return Gc(co.shape,Xr,ho,nn,rn)},$filter:function(){return function(e0,lo,mo,fo,Uo){var t0=e0;e0.rank===4&&(t0=e0.as5D(1,e0.shape[0],e0.shape[1],e0.shape[2],e0.shape[3]));var n0=lo;n0.rank===4&&(n0=lo.as5D(1,lo.shape[0],lo.shape[1],lo.shape[2],lo.shape[3])),C(t0.rank===5,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+t0.shape+"."}),C(n0.rank===5,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+n0.shape+"."}),C(mo.length===5,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+mo+"."}),C(t0.shape[4]===mo[3],function(){return"Error in conv3dDerFilter: depth of input "+t0.shape[4]+") must match input depth in filter ("+mo[3]+"."}),C(n0.shape[4]===mo[4],function(){return"Error in conv3dDerFilter: depth of dy ("+n0.shape[4]+") must match output depth for filter ("+mo[4]+")."});var i0=Ao(t0.shape,mo,fo,1,Uo);return Lt.runKernelFunc(function(a0){return a0.conv3dDerFilter(t0,n0,i0)},{x5D:t0,dy5D:n0})}(co,Xr,ho.shape,nn,rn)}}});return hn?to.as4D(to.shape[1],to.shape[2],to.shape[3],to.shape[4]):to}}),jc=An({conv2dDerFilter_:function(st,Mt,nn,rn,an,sn,un){sn===void 0&&(sn="NHWC");var ln=st;st.rank===3&&(ln=st.as4D(1,st.shape[0],st.shape[1],st.shape[2]));var cn=Mt;cn.rank===3&&(cn=Mt.as4D(1,Mt.shape[0],Mt.shape[1],Mt.shape[2])),C(ln.rank===4,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+ln.shape+"."}),C(cn.rank===4,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+cn.shape+"."}),C(nn.length===4,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+nn+"."});var hn=sn==="NHWC"?ln.shape[3]:ln.shape[1],fn=sn==="NHWC"?cn.shape[3]:cn.shape[1];C(hn===nn[2],function(){return"Error in conv2dDerFilter: depth of input "+hn+") must match input depth in filter ("+nn[2]+"."}),C(fn===nn[3],function(){return"Error in conv2dDerFilter: depth of dy ("+fn+") must match output depth for filter ("+nn[3]+")."}),un!=null&&C(A(an),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+un+" but got pad "+an+"."});var to=Bo(sn),Xr=So(ln.shape,nn,rn,1,an,un,!1,to);return Lt.runKernelFunc(function(uo){return uo.conv2dDerFilter(ln,cn,Xr)},{x4D:ln,dy4D:cn})}}),Xc=An({conv2dDerInput_:Vc}),Yc=An({depthwiseConv2d_:function(st,Mt,nn,rn,an,sn,un){sn===void 0&&(sn=[1,1]);var ln=mn(st,"x","depthwiseConv2d"),cn=mn(Mt,"filter","depthwiseConv2d"),hn=ln,fn=!1;ln.rank===3&&(fn=!0,hn=ln.as4D(1,ln.shape[0],ln.shape[1],ln.shape[2])),C(hn.rank===4,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+hn.rank+"."}),C(cn.rank===4,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+cn.rank+"."}),C(hn.shape[3]===cn.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+hn.shape[3]+") must match the inChannels dimension in filter "+cn.shape[2]+"."}),sn==null&&(sn=[1,1]),C(Mo(nn,sn),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+nn+" and dilations '"+sn+"'"}),un!=null&&C(A(rn),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+un+" but got pad "+rn+"."});var to=So(hn.shape,cn.shape,nn,sn,rn,un,!0),Xr=[hn,cn],uo=Lt.runKernelFunc(function(co,ho){var e0=co.depthwiseConv2D(hn,cn,to);return ho([hn,cn]),e0},{x:hn,filter:cn},function(co,ho){C(Oo(sn),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+sn+"'"});var e0=ho[0],lo=ho[1];return{x:function(){return $c(e0.shape,co,lo,to)},filter:function(){return Qc(e0,co,lo.shape,to)}}},"DepthwiseConv2dNative",to,Xr);return fn?uo.as3D(uo.shape[1],uo.shape[2],uo.shape[3]):uo}}),$c=An({depthwiseConv2dDerInput_:function(st,Mt,nn,rn){var an=Mt,sn=!1;Mt.rank===3&&(sn=!0,an=Mt.as4D(1,Mt.shape[0],Mt.shape[1],Mt.shape[2]));var un=Lt.runKernelFunc(function(ln){return ln.depthwiseConv2DDerInput(an,nn,rn)},{dy4D:an});return sn?un.as3D(un.shape[1],un.shape[2],un.shape[3]):un}}),Qc=An({depthwiseConv2dDerFilter_:function(st,Mt,nn,rn){var an=st;st.rank===3&&(an=st.as4D(1,st.shape[0],st.shape[1],st.shape[2]));var sn=Mt;return sn.rank===3&&(sn=Mt.as4D(1,Mt.shape[0],Mt.shape[1],Mt.shape[2])),Lt.runKernelFunc(function(un){return un.depthwiseConv2DDerFilter(an,sn,rn)},{x4D:an,dy4D:sn})}}),Jc=An({separableConv2d_:function(st,Mt,nn,rn,an,sn,un){sn===void 0&&(sn=[1,1]),un===void 0&&(un="NHWC");var ln=mn(st,"x","separableConv2d"),cn=mn(Mt,"depthwiseFilter","separableConv2d"),hn=mn(nn,"pointwiseFilter","separableConv2d"),fn=ln,to=!1;if(ln.rank===3&&(to=!0,fn=ln.as4D(1,ln.shape[0],ln.shape[1],ln.shape[2])),un==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");C(fn.rank===4,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+fn.rank+"."}),C(cn.rank===4,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+cn.rank+"."}),C(hn.rank===4,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+cn.rank+"."}),C(hn.shape[0]===1,function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+hn.shape[0]+"."}),C(hn.shape[1]===1,function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+hn.shape[1]+"."});var Xr=cn.shape[2],uo=cn.shape[3];C(hn.shape[2]===Xr*uo,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+Xr*uo+", but got "+hn.shape[2]+"."});var co=Yc(fn,cn,rn,an,un,sn),ho=qc(co,hn,1,"valid",un);return to?ho.as3D(ho.shape[1],ho.shape[2],ho.shape[3]):ho}}),Zc=An({conv2dTranspose_:function(st,Mt,nn,rn,an,sn){return Vc(nn,mn(st,"x","conv2dTranspose"),mn(Mt,"filter","conv2dTranspose"),rn,an,"NHWC",sn)}}),tl=An({conv3dTranspose_:function(st,Mt,nn,rn,an){return Gc(nn,mn(st,"x","conv3dTranspose"),mn(Mt,"filter","conv3dTranspose"),rn,an)}}),el=An({matMul_:function(st,Mt,nn,rn){var an;nn===void 0&&(nn=!1),rn===void 0&&(rn=!1);var sn=mn(st,"a","matMul"),un=mn(Mt,"b","matMul");an=Nt(sn,un),sn=an[0],un=an[1];var ln=nn?sn.shape[sn.rank-2]:sn.shape[sn.rank-1],cn=rn?un.shape[un.rank-1]:un.shape[un.rank-2],hn=nn?sn.shape[sn.rank-1]:sn.shape[sn.rank-2],fn=rn?un.shape[un.rank-2]:un.shape[un.rank-1],to=sn.shape.slice(0,-2),Xr=un.shape.slice(0,-2),uo=k(to),co=k(Xr);C(sn.rank>=2&&un.rank>=2&&sn.rank===un.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+sn.rank+" and "+un.rank+"."}),C(S(to,Xr),function(){return"Error in matMul: outer dimensions ("+to+") and ("+Xr+") of Tensors with shapes "+sn.shape+" and "+un.shape+" must match."}),C(ln===cn,function(){return"Error in matMul: inner shapes ("+ln+") and ("+cn+") of Tensors with shapes "+sn.shape+" and "+un.shape+" and transposeA="+nn+" and transposeB="+rn+" must match."});var ho=sn.shape.slice(0,-2).concat([hn,fn]),e0=nn?sn.as3D(uo,ln,hn):sn.as3D(uo,hn,ln),lo=rn?un.as3D(co,fn,cn):un.as3D(co,cn,fn),mo={transposeA:nn,transposeB:rn};return Lt.runKernelFunc(function(fo,Uo){var t0=fo.batchMatMul(e0,lo,nn,rn);return Uo([e0,lo]),t0},{a:e0,b:lo},function(fo,Uo){var t0=Uo,n0=t0[0],i0=t0[1];return nn||rn?!nn&&rn?{a:function(){return fo.matMul(i0,!1,!1)},b:function(){return fo.matMul(n0,!0,!1)}}:nn&&!rn?{a:function(){return i0.matMul(fo,!1,!0)},b:function(){return n0.matMul(fo,!1,!1)}}:{a:function(){return i0.matMul(fo,!0,!0)},b:function(){return fo.matMul(n0,!0,!0)}}:{a:function(){return fo.matMul(i0,!1,!0)},b:function(){return n0.matMul(fo,!0,!1)}}},"BatchMatMul",mo).reshape(ho)}}),nl=An({dot_:function(st,Mt){var nn=mn(st,"t1","dot"),rn=mn(Mt,"t2","dot");C(!(nn.rank!==1&&nn.rank!==2||rn.rank!==1&&rn.rank!==2),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+nn.rank+" and "+rn.rank+"."});var an=nn.rank===1?nn.size:nn.shape[1],sn=rn.rank===1?rn.size:rn.shape[0];return C(an===sn,function(){return"Error in dot: inner dimensions of inputs must match, but got "+an+" and "+sn+"."}),nn.rank===1&&rn.rank===1?nn.as2D(1,-1).matMul(rn.as2D(-1,1)).asScalar():nn.rank===1&&rn.rank===2?nn.as2D(1,-1).matMul(rn.as2D(rn.shape[0],rn.shape[1])).as1D():nn.rank===2&&rn.rank===1?nn.matMul(rn.as2D(-1,1)).as1D():nn.matMul(rn.as2D(rn.shape[0],rn.shape[1]))}}),rl=An({outerProduct_:function(st,Mt){var nn=mn(st,"v1","outerProduct"),rn=mn(Mt,"v2","outerProduct");return C(nn.rank===1&&rn.rank===1,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+nn.rank+" and "+rn.rank+"."}),nn.as2D(-1,1).matMul(rn.as2D(1,-1))}}),ol=An({reverse_:function(st,Mt){var nn=mn(st,"x","reverse");if(nn.rank===0)return nn.clone();var rn=O(Mt,nn.shape);return Lt.runKernelFunc(function(an){return an.reverse(nn,rn)},{$x:nn},function(an){return{$x:function(){return an.reverse(rn)}}}).reshapeAs(nn)}}),al=An({reverse1d_:function(st){var Mt=mn(st,"x","reverse");return C(Mt.rank===1,function(){return"Error in reverse1D: x must be rank 1 but got rank "+Mt.rank+"."}),ol(Mt,0)}}),il=An({reverse2d_:function(st,Mt){var nn=mn(st,"x","reverse");return C(nn.rank===2,function(){return"Error in reverse2D: x must be rank 2 but got rank "+nn.rank+"."}),ol(nn,Mt)}}),sl=An({reverse3d_:function(st,Mt){var nn=mn(st,"x","reverse");return C(nn.rank===3,function(){return"Error in reverse3D: x must be rank 3 but got rank "+nn.rank+"."}),ol(nn,Mt)}}),ul=An({reverse4d_:function(st,Mt){var nn=mn(st,"x","reverse");return C(nn.rank===4,function(){return"Error in reverse4D: x must be rank 4 but got rank "+nn.rank+"."}),ol(nn,Mt)}});function cl(st,Mt,nn,rn,an,sn){var un=mn(st,"x","maxPool"),ln=un,cn=!1;un.rank===3&&(cn=!0,ln=un.as4D(1,un.shape[0],un.shape[1],un.shape[2])),C(ln.rank===4,function(){return"Error in maxPool: input must be rank 4 but got rank "+ln.rank+"."}),C(Mo(nn,rn),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+nn+" and dilations '"+rn+"'"}),sn!=null&&C(A(an),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+sn+" but got pad "+an+"."});var hn=Io(ln.shape,Mt,nn,rn,an,sn);if(hn.filterWidth===1&&hn.filterHeight===1&&S(hn.inShape,hn.outShape))return un.clone();var fn=[ln],to=Lt.runKernelFunc(function(Xr,uo){var co=Xr.maxPool(ln,hn);return uo([ln,co]),co},{x:ln},function(Xr,uo){var co=uo[0],ho=uo[1];return{x:function(){return function(e0,lo,mo,fo,Uo,t0,n0,i0){var a0=mn(e0,"dy","maxPoolBackprop"),s0=mn(lo,"input","maxPoolBackprop"),l0=mn(mo,"output","maxPoolBackprop");C(s0.rank===a0.rank,function(){return"Rank of input ("+s0.rank+") does not match rank of dy ("+a0.rank+")"}),C(Mo(Uo,t0),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+Uo+" and dilations '"+t0+"'"}),C(a0.rank===4,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+a0.rank+"."}),C(s0.rank===4,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+s0.rank+"."});var d0=Io(s0.shape,fo,Uo,t0,n0,i0);return Lt.runKernelFunc(function(h0){return h0.maxPoolBackprop(a0,s0,l0,d0)},{$dy:a0,$input:s0})}(Xr,co,ho,Mt,nn,rn,an)}}},"MaxPool",hn,fn);return cn?to.as3D(to.shape[1],to.shape[2],to.shape[3]):to}function ll(st,Mt,nn,rn,an,sn){var un=mn(st,"x","avgPool","float32");C(Mo(nn,rn),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+nn+" and dilations '"+rn+"'"});var ln=un,cn=!1;un.rank===3&&(cn=!0,ln=un.as4D(1,un.shape[0],un.shape[1],un.shape[2])),C(ln.rank===4,function(){return"Error in avgPool: x must be rank 4 but got rank "+ln.rank+"."}),sn!=null&&C(A(an),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+sn+" but got pad "+an+"."});var hn=Io(ln.shape,Mt,nn,rn,an,sn);if(hn.filterWidth===1&&hn.filterHeight===1&&S(hn.inShape,hn.outShape))return un.clone();var fn=Lt.runKernelFunc(function(to){return to.avgPool(ln,hn)},{x:ln},function(to){return{x:function(){return function(Xr,uo,co,ho,e0,lo){var mo=mn(Xr,"dy","avgPoolBackprop"),fo=mn(uo,"input","avgPoolBackprop");C(fo.rank===mo.rank,function(){return"Rank of input ("+fo.rank+") does not match rank of dy ("+mo.rank+")"}),C(Mo(ho,e0),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+ho+" and dilations '"+e0+"'"});var Uo=fo,t0=mo,n0=!1;fo.rank===3&&(n0=!0,Uo=fo.as4D(1,fo.shape[0],fo.shape[1],fo.shape[2]),t0=mo.as4D(1,mo.shape[0],mo.shape[1],mo.shape[2])),C(t0.rank===4,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+t0.rank+"."}),C(Uo.rank===4,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+Uo.rank+"."});var i0=Io(Uo.shape,co,ho,e0,lo),a0=Lt.runKernelFunc(function(s0){return s0.avgPoolBackprop(t0,Uo,i0)},{dy4D:t0,input4D:Uo});return n0?a0.as3D(a0.shape[1],a0.shape[2],a0.shape[3]):a0}(to,ln,Mt,nn,rn,an)}}},"AvgPool",hn);return fn=fn.cast(un.dtype),cn?fn.as3D(fn.shape[1],fn.shape[2],fn.shape[3]):fn}var hl=An({maxPool_:function(st,Mt,nn,rn,an){return cl(st,Mt,nn,1,rn,an)}}),fl=An({avgPool_:function(st,Mt,nn,rn,an){return ll(st,Mt,nn,1,rn,an)}}),dl=An({pool_:function(st,Mt,nn,rn,an,sn){an==null&&(an=[1,1]),sn==null&&(sn=1),rn===0&&(rn="valid");var un=mn(st,"x","maxPool"),ln=un,cn=!1;un.rank===3&&(cn=!0,ln=un.as4D(1,un.shape[0],un.shape[1],un.shape[2])),C(Mo(sn,an),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+sn+" and dilations '"+an+"'"});var hn,fn=Io(ln.shape,Mt,sn,an,rn),to=[fn.dilationHeight,fn.dilationWidth];hn=rn==="same"?function(Uo,t0){var n0=Uo.map(function(s0,l0){return s0+(s0-1)*(t0[l0]-1)}).map(function(s0){return s0-1}),i0=n0.map(function(s0){return Math.floor(s0/2)}),a0=n0.map(function(s0,l0){return s0-i0[l0]});return n0.map(function(s0,l0){return[i0[l0],a0[l0]]})}([fn.filterHeight,fn.filterWidth],to):[[0,0],[0,0]];var Xr=to[0]===1&&to[1]===1,uo=function(Uo,t0,n0){var i0=n0.map(function(g0){return g0[0]}),a0=n0.map(function(g0){return g0[1]}),s0=Uo.concat(i0,a0),l0=t0.map(function(g0,m0){return(g0-s0[m0]%g0)%g0}),d0=a0.map(function(g0,m0){return g0+l0[m0]}),h0=t0.map(function(g0,m0){return[i0[m0],d0[m0]]}),v0=t0.map(function(g0,m0){return[0,l0[m0]]});return[h0,v0]}([fn.inHeight,fn.inWidth],to,hn),co=uo[0],ho=uo[1],e0=Xr?rn:"valid",lo=Xr?ln:Mr(ln,to,co),mo=(nn==="avg"?function(){return ll(lo,Mt,sn,1,e0)}:function(){return cl(lo,Mt,sn,1,e0)})(),fo=Xr?mo:vr(mo,to,ho);return cn?fo.as3D(fo.shape[1],fo.shape[2],fo.shape[3]):fo}}),pl=An({maxPool3d_:function(st,Mt,nn,rn,an,sn,un){sn===void 0&&(sn="NDHWC");var ln=mn(st,"x","maxPool3d"),cn=ln,hn=!1;ln.rank===4&&(hn=!0,cn=ln.as5D(1,ln.shape[0],ln.shape[1],ln.shape[2],ln.shape[3])),un==null&&(un=[1,1,1]),C(cn.rank===5,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+cn.rank+"."}),C(sn==="NDHWC",function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+sn}),C(Mo(nn,un),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+nn+" and dilations '"+un+"'"}),an!=null&&C(A(rn),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+an+" but got pad "+rn+"."});var fn=ko(cn.shape,Mt,nn,un,rn,an,sn),to=Lt.runKernelFunc(function(Xr,uo){var co=Xr.maxPool3d(cn,fn);return uo([cn,co]),co},{x:cn},function(Xr,uo){var co=uo[0],ho=uo[1];return{x:function(){return function(e0,lo,mo,fo,Uo,t0,n0,i0){var a0=mn(e0,"dy","maxPool3dBackprop"),s0=mn(lo,"input","maxPool3dBackprop"),l0=mn(mo,"output","maxPool3dBackprop"),d0=a0,h0=s0,v0=l0,g0=!1;s0.rank===4&&(g0=!0,d0=a0.as5D(1,a0.shape[0],a0.shape[1],a0.shape[2],a0.shape[3]),h0=s0.as5D(1,s0.shape[0],s0.shape[1],s0.shape[2],s0.shape[3]),v0=l0.as5D(1,l0.shape[0],l0.shape[1],l0.shape[2],l0.shape[3])),C(d0.rank===5,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+d0.rank+"."}),C(h0.rank===5,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+h0.rank+"."}),C(v0.rank===5,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+v0.rank+"."}),t0==null&&(t0=[1,1,1]),C(Mo(Uo,t0),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+Uo+" and dilations '"+t0+"'"}),i0!=null&&C(A(n0),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+i0+" but got pad "+n0+"."});var m0=ko(h0.shape,fo,Uo,t0,n0,i0),u0=Lt.runKernelFunc(function(c0){return c0.maxPool3dBackprop(d0,h0,v0,m0)},{dy5D:d0,input5D:h0});return g0?u0.as4D(u0.shape[1],u0.shape[2],u0.shape[3],u0.shape[4]):u0}(Xr,co,ho,Mt,nn,un,rn,an)}}});return hn?to.as4D(to.shape[1],to.shape[2],to.shape[3],to.shape[4]):to}}),vl=An({avgPool3d_:function(st,Mt,nn,rn,an,sn,un){sn===void 0&&(sn="NDHWC");var ln=mn(st,"x","avgPool3d","float32"),cn=ln,hn=!1;ln.rank===4&&(hn=!0,cn=ln.as5D(1,ln.shape[0],ln.shape[1],ln.shape[2],ln.shape[3])),un==null&&(un=[1,1,1]),C(cn.rank===5,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+cn.rank+"."}),C(sn==="NDHWC",function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+sn}),C(Mo(nn,un),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+nn+" and dilations '"+un+"'"}),an!=null&&C(A(rn),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+an+" but got pad "+rn+"."});var fn=ko(cn.shape,Mt,nn,un,rn,an,sn),to=Lt.runKernelFunc(function(Xr){return Xr.avgPool3d(cn,fn)},{x:cn},function(Xr){return{x:function(){return function(uo,co,ho,e0,lo,mo,fo){var Uo=mn(uo,"dy","avgPool3dBackprop"),t0=mn(co,"input","avgPool3dBackprop"),n0=Uo,i0=t0,a0=!1;t0.rank===4&&(a0=!0,n0=Uo.as5D(1,Uo.shape[0],Uo.shape[1],Uo.shape[2],Uo.shape[3]),i0=t0.as5D(1,t0.shape[0],t0.shape[1],t0.shape[2],t0.shape[3])),C(n0.rank===5,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+n0.rank+"."}),C(i0.rank===5,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+i0.rank+"."}),lo==null&&(lo=[1,1,1]),C(Mo(e0,lo),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+e0+" and dilations '"+lo+"'"}),fo!=null&&C(A(mo),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+fo+" but got pad "+mo+"."});var s0=ko(i0.shape,ho,e0,lo,mo,fo),l0=Lt.runKernelFunc(function(d0){return d0.avgPool3dBackprop(n0,i0,s0)},{dy5D:n0,input5D:i0});return a0?l0.as4D(l0.shape[1],l0.shape[2],l0.shape[3],l0.shape[4]):l0}(Xr,cn,Mt,nn,un,rn,an)}}});return to=to.cast(cn.dtype),hn?to.as4D(to.shape[1],to.shape[2],to.shape[3],to.shape[4]):to}}),ml=An({slice_:function(st,Mt,nn){var rn,an,sn=mn(st,"x","slice");if(sn.rank===0)throw new Error("Slicing scalar is not possible");(rn=typeof Mt=="number"?[Mt].concat(new Array(sn.rank-1).fill(0)):Mt.length<sn.rank?Mt.concat(new Array(sn.rank-Mt.length).fill(0)):Mt.slice()).forEach(function(cn){C(cn!==-1,function(){return"slice() does not support negative begin indexing."})}),an=(an=nn==null?new Array(sn.rank).fill(-1):typeof nn=="number"?[nn].concat(new Array(sn.rank-1).fill(-1)):nn.length<sn.rank?nn.concat(new Array(sn.rank-nn.length).fill(-1)):nn).map(function(cn,hn){return cn>=0?cn:(C(cn===-1,function(){return"Negative size values should be exactly -1 but got "+cn+" for the slice() size at index "+hn+"."}),sn.shape[hn]-rn[hn])}),eo(sn,rn,an);var un=sn.shape,ln={begin:rn,size:an};return Lt.runKernelFunc(function(cn){return cn.slice(sn,rn,an)},{x:sn},function(cn){for(var hn=[],fn=0;fn<cn.rank;fn++)hn.push([rn[fn],un[fn]-rn[fn]-an[fn]]);return{x:function(){return cn.pad(hn)}}},"Slice",ln)}}),gl=An({slice1d_:function(st,Mt,nn){var rn=mn(st,"x","slice1d");return C(rn.rank===1,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+rn.rank+" tensor"}),ml(rn,[Mt],[nn])}}),yl=An({slice2d_:function(st,Mt,nn){var rn=mn(st,"x","slice2d");return C(rn.rank===2,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+rn.rank+" tensor"}),ml(rn,Mt,nn)}}),xl=An({slice3d_:function(st,Mt,nn){var rn=mn(st,"x","slice3d");return C(rn.rank===3,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+rn.rank+" tensor"}),ml(rn,Mt,nn)}}),bl=An({slice4d_:function(st,Mt,nn){var rn=mn(st,"x","slice4d");return C(rn.rank===4,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+rn.rank+" tensor"}),ml(rn,Mt,nn)}});function wl(st,Mt,nn,rn,an){return Mt.rank<nn.rank&&(Mt=Mt.reshape(wn(Mt.shape,rn))),st.rank<nn.rank&&(st=st.reshape(wn(st.shape,rn))),{x:function(){var sn=st.mul(nn.equal(Mt).cast(st.dtype));return an==null?sn:sn.transpose(an)}}}var Cl=An({all_:function(st,Mt,nn){Mt===void 0&&(Mt=null),nn===void 0&&(nn=!1);var rn=mn(st,"x","all","bool"),an=O(Mt,rn.shape),sn=an,un=En(sn,rn.rank);un!=null&&(rn=rn.transpose(un),sn=In(sn.length,rn.rank));var ln=Lt.runKernelFunc(function(hn){return hn.all(rn,sn)},{$x:rn});if(nn){var cn=wn(ln.shape,an);return ln.reshape(cn)}return ln}}),El=An({any_:function(st,Mt,nn){Mt===void 0&&(Mt=null),nn===void 0&&(nn=!1);var rn=mn(st,"x","any","bool"),an=O(Mt,rn.shape),sn=an,un=En(sn,rn.rank);un!=null&&(rn=rn.transpose(un),sn=In(sn.length,rn.rank));var ln=Lt.runKernelFunc(function(hn){return hn.any(rn,sn)},{$x:rn});if(nn){var cn=wn(ln.shape,an);return ln.reshape(cn)}return ln}}),Rl=An({argMax_:function(st,Mt){Mt===void 0&&(Mt=0);var nn=mn(st,"x","argMax");Mt==null&&(Mt=0);var rn=O(Mt,nn.shape),an=En(rn,nn.rank);an!=null&&(nn=nn.transpose(an),rn=In(rn.length,nn.rank));var sn={axis:rn[0]},un=[nn];return Lt.runKernelFunc(function(ln,cn){var hn=ln.argMax(nn,rn[0]);return cn([nn]),hn},{x:nn},function(ln,cn){var hn=cn[0];return{x:function(){return Xn(hn)}}},"ArgMax",sn,un)}}),Il=An({argMin_:function(st,Mt){Mt===void 0&&(Mt=0);var nn=mn(st,"x","argMin");Mt==null&&(Mt=0);var rn=O(Mt,nn.shape),an=En(rn,nn.rank);return an!=null&&(nn=nn.transpose(an),rn=In(rn.length,nn.rank)),Lt.runKernelFunc(function(sn,un){var ln=sn.argMin(nn,rn[0]);return un([nn]),ln},{$x:nn},function(sn,un){var ln=un[0];return{$x:function(){return Xn(ln)}}})}}),kl=An({logSumExp_:function(st,Mt,nn){Mt===void 0&&(Mt=null),nn===void 0&&(nn=!1);var rn=mn(st,"x","logSumExp"),an=O(Mt,rn.shape),sn=rn.max(an,!0),un=rn.sub(sn).exp().sum(an).log(),ln=sn.reshape(un.shape).add(un);if(nn){var cn=wn(ln.shape,an);return ln.reshape(cn)}return ln}}),Sl=An({max_:function(st,Mt,nn){Mt===void 0&&(Mt=null),nn===void 0&&(nn=!1);var rn=mn(st,"x","max"),an=rn,sn=O(Mt,rn.shape),un=sn,ln=En(un,rn.rank);ln!=null&&(rn=rn.transpose(ln),un=In(un.length,rn.rank));var cn=[rn],hn=Lt.runKernelFunc(function(to,Xr){var uo=to.max(rn,un);return Xr([an,uo]),uo},{x:rn},function(to,Xr){return wl(to,Xr[1],Xr[0],sn,ln)},"Max",{axes:un},cn,[!0]);if(nn){var fn=wn(hn.shape,sn);hn=hn.reshape(fn)}return hn}}),Al=An({mean_:function(st,Mt,nn){Mt===void 0&&(Mt=null),nn===void 0&&(nn=!1);var rn=mn(st,"x","mean"),an=O(Mt,rn.shape),sn=k(bn(rn.shape,an)[1]);return vo(function(un){var ln=On(sn);return{value:(ln.dtype===un.dtype?un:un.cast(ln.dtype)).div(ln).sum(Mt,nn),gradFunc:function(cn){var hn=un.shape.slice();return an.forEach(function(fn){hn[fn]=1}),cn.reshape(hn).mul(zn(un.shape,"float32")).div(sn)}}})(rn)}}),Dl=An({min_:function(st,Mt,nn){Mt===void 0&&(Mt=null),nn===void 0&&(nn=!1);var rn=mn(st,"x","min"),an=rn,sn=O(Mt,rn.shape),un=sn,ln=En(un,rn.rank);ln!=null&&(rn=rn.transpose(ln),un=In(un.length,rn.rank));var cn=[rn],hn=Lt.runKernelFunc(function(to,Xr){var uo=to.min(rn,un);return Xr([an,uo]),uo},{x:rn},function(to,Xr){return wl(to,Xr[1],Xr[0],sn,ln)},"Min",{axes:un},cn,[!0]);if(nn){var fn=wn(hn.shape,sn);hn=hn.reshape(fn)}return hn}}),Tl=An({moments_:function(st,Mt,nn){Mt===void 0&&(Mt=null),nn===void 0&&(nn=!1);var rn=O(Mt,(st=mn(st,"x","moments")).shape),an=st.mean(rn,nn),sn=an.shape;nn||(sn=wn(an.shape,rn));var un=st.toFloat().sub(an.reshape(sn)).square();return{mean:an,variance:un.mean(rn,nn)}}}),Nl=An({sum_:function(st,Mt,nn){Mt===void 0&&(Mt=null),nn===void 0&&(nn=!1);var rn=mn(st,"x","sum");rn.dtype==="bool"&&(rn=rn.toInt());var an=O(Mt,rn.shape);return vo(function(sn){var un=En(an,sn.rank),ln=an,cn=sn;un!=null&&(cn=sn.transpose(un),ln=In(ln.length,sn.rank));var hn=function(uo){var co=sn.shape.slice();return an.forEach(function(ho){co[ho]=1}),uo.reshape(co).mul(zn(sn.shape,"float32"))},fn={axes:ln},to=Lt.runKernelFunc(function(uo){return uo.sum(cn,ln)},{x:cn},function(uo){return{x:function(){return hn(uo)}}},"Sum",fn);if(nn){var Xr=wn(to.shape,an);to=to.reshape(Xr)}return{value:to,gradFunc:hn}})(rn)}}),Fl=An({prod_:function(st,Mt,nn){Mt===void 0&&(Mt=null),nn===void 0&&(nn=!1);var rn=mn(st,"x","prod");rn.dtype==="bool"&&(rn=rn.toInt());var an=O(Mt,rn.shape),sn=En(an,rn.rank),un=an,ln=rn;sn!=null&&(ln=rn.transpose(sn),un=In(un.length,rn.rank));var cn=Lt.runKernelFunc(function(fn){return fn.prod(ln,un)},{permutedX:ln});if(nn){var hn=wn(cn.shape,an);cn=cn.reshape(hn)}return cn}}),_l=An({elu_:function(st){var Mt=mn(st,"x","elu");return Lt.runKernelFunc(function(nn,rn){var an=nn.elu(Mt);return rn([an]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){return Lt.runKernelFunc(function(sn){return sn.eluDer(nn,an)},{dy:nn,y:an})}}})}}),Ol=An({leakyRelu_:function(st,Mt){Mt===void 0&&(Mt=.2);var nn=mn(st,"x","leakyRelu");return hc(On(Mt).mul(nn),nn)}}),Ml=An({prelu_:function(st,Mt){var nn=mn(st,"x","prelu"),rn=mn(Mt,"alpha","prelu");return Lt.runKernelFunc(function(an,sn){var un=an.prelu(nn,rn);return sn([nn,rn]),un},{x:nn,alpha:rn},function(an,sn){var un=sn[0],ln=sn[1],cn=un.greater(0);return{x:function(){return ec(cn,an,an.mul(ln))},alpha:function(){var hn=ec(cn,Xn(an),an.mul(un)),fn=Eo(ln.shape,an.shape);return fn.length>0&&(hn=hn.sum(fn)),hn.reshape(ln.shape)}}},"Prelu")}}),Bl=An({relu_:function(st){var Mt=mn(st,"x","relu");return Mt.dtype==="bool"?Mt.toInt():Lt.runKernelFunc(function(nn,rn){var an=nn.relu(Mt);return rn([Mt]),an},{x:Mt},function(nn,rn){var an=rn[0];return{x:function(){return nn.mulStrict(an.step().toFloat())}}},"Relu")}}),Pl=An({relu6_:function(st){var Mt=mn(st,"x","relu6");return Mt.dtype==="bool"?Mt.toInt():Lt.runKernelFunc(function(nn,rn){var an=nn.relu6(Mt);return rn([Mt]),an},{x:Mt},function(nn,rn){var an=rn[0],sn=an.lessEqual(6).mul(an.step());return{x:function(){return nn.mulStrict(sn.toFloat())}}},"Relu6")}}),Ll=An({selu_:function(st){var Mt=mn(st,"x","selu");return Lt.runKernelFunc(function(nn,rn){var an=nn.selu(Mt);return rn([Mt]),an},{$x:Mt},function(nn,rn){var an=rn[0];return{$x:function(){var sn=an.greater(On(0)),un=On(bs),ln=On(ws),cn=nn.mul(ln),hn=nn.mul(un).mul(an.toFloat().exp());return ec(sn,cn,hn)}}})}}),Wl=An({transpose_:function(st,Mt){var nn=mn(st,"x","transpose");if(Mt==null&&(Mt=nn.shape.map(function(an,sn){return sn}).reverse()),C(nn.rank===Mt.length,function(){return"Error in transpose: rank of input "+nn.rank+" must match length of perm "+Mt+"."}),Mt.forEach(function(an){C(an>=0&&an<nn.rank,function(){return"All entries in 'perm' must be between 0 and "+(nn.rank-1)+" but got "+Mt})}),nn.rank<=1)return nn.clone();var rn={perm:Mt};return Lt.runKernelFunc(function(an){return an.transpose(nn,Mt)},{x:nn},function(an){var sn=Rn(Mt);return{x:function(){return an.transpose(sn)}}},"Transpose",rn)}}),Ul=An({localResponseNormalization_:function(st,Mt,nn,rn,an){Mt===void 0&&(Mt=5),nn===void 0&&(nn=1),rn===void 0&&(rn=1),an===void 0&&(an=.5);var sn=mn(st,"x","localResponseNormalization");C(sn.rank===4||sn.rank===3,function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+sn.rank+"."}),C(A(Mt),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+Mt+"."});var un=sn,ln=!1;sn.rank===3&&(ln=!0,un=sn.as4D(1,sn.shape[0],sn.shape[1],sn.shape[2]));var cn=Lt.runKernelFunc(function(hn,fn){var to=hn.localResponseNormalization4D(un,Mt,nn,rn,an);return fn([un,to]),to},{x4D:un},function(hn,fn){var to=fn[0],Xr=fn[1];return{x4D:function(){return Lt.runKernelFunc(function(uo){return uo.LRNGrad(hn,to,Xr,Mt,nn,rn,an)},{})}}});return ln?cn.as3D(cn.shape[1],cn.shape[2],cn.shape[3]):cn}}),Vl=An({norm_:function(st,Mt,nn,rn){Mt===void 0&&(Mt="euclidean"),nn===void 0&&(nn=null),rn===void 0&&(rn=!1);var an=function ln(cn,hn,fn){if(fn===void 0&&(fn=null),cn.rank===0)return cn.abs();if(cn.rank!==1&&fn===null)return ln(cn.reshape([-1]),hn,fn);if(cn.rank===1||typeof fn=="number"||Array.isArray(fn)&&fn.length===1){if(hn===1)return cn.abs().sum(fn);if(hn===1/0)return cn.abs().max(fn);if(hn===-1/0)return cn.abs().min(fn);if(hn==="euclidean"||hn===2)return cn.abs().pow(On(2,"int32")).sum(fn).sqrt();throw new Error("Error in norm: invalid ord value: "+hn)}if(Array.isArray(fn)&&fn.length===2){if(hn===1)return cn.abs().sum(fn[0]).max(fn[1]-1);if(hn===1/0)return cn.abs().sum(fn[1]).max(fn[0]);if(hn===-1/0)return cn.abs().sum(fn[1]).min(fn[0]);if(hn==="fro"||hn==="euclidean")return cn.square().sum(fn).sqrt();throw new Error("Error in norm: invalid ord value: "+hn)}throw new Error("Error in norm: invalid axis: "+fn)}(st=mn(st,"x","norm"),Mt,nn),sn=an.shape;if(rn){var un=O(nn,st.shape);sn=wn(an.shape,un)}return an.reshape(sn)}}),zl=An({basicLSTMCell_:function(st,Mt,nn,rn,an,sn){var un=mn(st,"forgetBias","basicLSTMCell"),ln=mn(Mt,"lstmKernel","basicLSTMCell"),cn=mn(nn,"lstmBias","basicLSTMCell"),hn=mn(rn,"data","basicLSTMCell"),fn=mn(an,"c","basicLSTMCell"),to=mn(sn,"h","basicLSTMCell"),Xr=hn.concat(to,1).matMul(ln).add(cn),uo=Xr.shape[0],co=Xr.shape[1]/4,ho=[uo,co],e0=Xr.slice([0,0],ho),lo=Xr.slice([0,co],ho),mo=Xr.slice([0,2*co],ho),fo=Xr.slice([0,3*co],ho),Uo=e0.sigmoid().mulStrict(lo.tanh()).addStrict(fn.mulStrict(un.add(mo).sigmoid())),t0=Uo.tanh().mulStrict(fo.sigmoid());return[Uo,t0]}}),Gl=An({multiRNNCell_:function(st,Mt,nn,rn){for(var an=mn(Mt,"data","multiRNNCell"),sn=gn(nn,"c","multiRNNCell"),un=gn(rn,"h","multiRNNCell"),ln=an,cn=[],hn=0;hn<st.length;hn++){var fn=st[hn](ln,sn[hn],un[hn]);cn.push(fn[0]),cn.push(fn[1]),ln=fn[1]}var to=[],Xr=[];for(hn=0;hn<cn.length;hn+=2)to.push(cn[hn]),Xr.push(cn[hn+1]);return[to,Xr]}}),Hl=An({movingAverage_:function(st,Mt,nn,rn,an){an===void 0&&(an=!0);var sn=mn(st,"v","movingAverage"),un=mn(Mt,"x","movingAverage"),ln=mn(nn,"decay","movingAverage");Ft(sn,un),C(S(sn.shape,un.shape),function(){return"Shape mismatch in v and x"});var cn=On(1),hn=cn.sub(ln),fn=un.sub(sn).mul(hn);if(an){C(rn!=null,function(){return"When using zeroDebias: true, step is required."});var to=mn(rn,"step","movingAverage");fn=fn.div(cn.sub(xc(ln,to)))}return sn.add(fn)}}),ql=An({stridedSlice_:function(st,Mt,nn,rn,an,sn,un,ln,cn){if(an===void 0&&(an=0),sn===void 0&&(sn=0),un===void 0&&(un=0),ln===void 0&&(ln=0),cn===void 0&&(cn=0),rn==null&&(rn=new Array(Mt.length)),un!==0)throw new Error("ellipsis mask is not yet supported");var hn=mn(st,"x","stridedSlice"),fn=no(ln),to=hn.shape.slice();fn.forEach(function(e0){Mt[e0]=0,nn[e0]=1,to.splice(e0,0,1)}),hn=hn.reshape(to);for(var Xr=0;Xr<hn.rank;Xr++)Mt[Xr]=oo(an,Mt,rn,hn.shape,Xr),nn[Xr]=ao(sn,nn,rn,hn.shape,Xr),rn[Xr]=rn[Xr]||1;var uo=no(cn);uo.forEach(function(e0){nn[e0]=Mt[e0]+1,rn[e0]=1});var co=ro(Mt,nn,rn),ho=co.filter(function(e0,lo){return uo.indexOf(lo)===-1});return rn.every(function(e0){return e0===1})?ml(hn,Mt,co).reshape(ho):Lt.runKernelFunc(function(e0){return e0.stridedSlice(hn,Mt,nn,rn)},{$x:hn}).reshape(ho)}}),Kl=An({topk_:function(st,Mt,nn){Mt===void 0&&(Mt=1),nn===void 0&&(nn=!0);var rn=mn(st,"x","topk");if(rn.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var an=rn.shape[rn.shape.length-1];if(Mt>an)throw new Error("'k' passed to topk() must be <= the last dimension ("+an+") but got "+Mt);var sn=Lt.runKernelFunc(function(un){return un.topk(rn,Mt,nn)},{$x:rn});return{values:sn[0],indices:sn[1]}}}),jl=An({scatterND_:function(st,Mt,nn){var rn=mn(st,"indices","scatterND","int32"),an=mn(Mt,"updates","scatterND");return Jr(an,rn,nn),Lt.runKernelFunc(function(sn){return sn.scatterND(rn,an,nn)},{indices:rn,updates:an},null,"ScatterNd",{shape:nn})}}),Xl=An({fft_:function(st){C(st.dtype==="complex64",function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+st.dtype+"."});var Mt=st.shape[st.shape.length-1],nn=st.size/Mt,rn=st.as2D(nn,Mt);return Lt.runKernelFunc(function(an){return an.fft(rn)},{input:st}).reshape(st.shape)}}),Yl=An({ifft_:function(st){C(st.dtype==="complex64",function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+st.dtype+"."});var Mt=st.shape[st.shape.length-1],nn=st.size/Mt,rn=st.as2D(nn,Mt);return Lt.runKernelFunc(function(an){return an.ifft(rn)},{input:st}).reshape(st.shape)}}),$l=An({rfft_:function(st,Mt){C(st.dtype==="float32",function(){return"The dtype for rfft() must be real value but got "+st.dtype});var nn,rn=st.shape[st.shape.length-1],an=st.size/rn;if(Mt!=null&&Mt<rn){var sn=st.shape.map(function(lo){return 0}),un=st.shape.map(function(lo){return lo});un[st.shape.length-1]=Mt,nn=st.slice(sn,un),rn=Mt}else if(Mt!=null&&Mt>rn){var ln=st.shape.map(function(lo){return lo});ln[st.shape.length-1]=Mt-rn,nn=st.concat(Gn(ln),st.shape.length-1),rn=Mt}else nn=st;var cn=nn.zerosLike(),hn=Dn(nn,cn).as2D(an,rn),fn=Xl(hn),to=Math.floor(rn/2)+1,Xr=Tn(fn),uo=Nn(fn),co=Xr.split([to,rn-to],Xr.shape.length-1),ho=uo.split([to,rn-to],uo.shape.length-1),e0=nn.shape.slice();return e0[nn.shape.length-1]=to,Dn(co[0],ho[0]).reshape(e0)}}),Ql=An({irfft_:function(st){var Mt=st.shape[st.shape.length-1],nn=st.size/Mt;if(Mt<=2){var rn=st.as2D(nn,Mt),an=Yl(rn);return Tn(an)}var sn=[nn,2*(Mt-1)],un=Tn(st).as2D(nn,Mt),ln=Nn(st).as2D(nn,Mt),cn=un.slice([0,1],[nn,Mt-2]).reverse(1),hn=ln.slice([0,1],[nn,Mt-2]).reverse(1).mul(On(-1)),fn=un.concat(cn,1),to=ln.concat(hn,1);return rn=Dn(fn,to).as2D(sn[0],sn[1]),an=Yl(rn),Tn(an)}}),Jl=Object.freeze({fft:Xl,ifft:Yl,rfft:$l,irfft:Ql}),Zl=An({sparseToDense_:function(st,Mt,nn,rn){rn===void 0&&(rn=0);var an=mn(st,"sparseIndices","sparseToDense","int32"),sn=mn(Mt,"sparseValues","sparseToDense"),un=mn(rn,"defaultValue","sparseToDense",sn.dtype);return function(ln,cn,hn,fn){if(ln.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+ln.dtype+".");if(ln.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+ln.shape+".");var to=ln.rank>0?ln.shape[0]:1,Xr=ln.rank>1?ln.shape[1]:1;if(hn.length!==Xr)throw new Error("outputShape has incorrect number of elements:, "+hn.length+", should be: "+Xr+".");var uo=cn.size;if(cn.rank!==0&&(cn.rank!==1||uo!==to))throw new Error("sparseValues has incorrect shape "+cn.shape+", should be [] or ["+to+"]");if(cn.dtype!==fn.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(an,sn,nn,un),Lt.runKernelFunc(function(ln){return ln.sparseToDense(an,sn,nn,un)},{$sparseIndices:an,$sparseValues:sn,$defaultValue:un})}}),th=An({gatherND_:function(st,Mt){var nn=mn(Mt,"indices","gatherND","int32"),rn=mn(st,"x","gatherND");return Lt.runKernelFunc(function(an){return an.gatherND(rn,nn)},{x:rn,indices:nn},null,"GatherNd")}}),eh=An({diag_:function(st){var Mt=mn(st,"x","diag").flatten(),nn=st.shape.concat(st.shape);return Lt.runKernelFunc(function(rn){return rn.diag(Mt)},{$x:Mt}).reshape(nn)}}),nh=An({dropout_:function(st,Mt,nn,rn){var an=mn(st,"x","dropout");if(C(an.dtype==="float32",function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+an.dtype+" tensor instead."}),C(Mt>=0&&Mt<1,function(){return"rate must be a float in the range [0, 1), but got "+Mt+"."}),Mt===0)return st instanceof wt?an.clone():an;var sn=function(cn,hn){if(hn==null)return cn.shape.slice();if(S(cn.shape,hn))return hn;if(cn.shape.length===hn.length){for(var fn=[],to=0;to<cn.shape.length;to++)hn[to]==null&&cn.shape[to]!=null?fn.push(cn.shape[to]):fn.push(hn[to]);return fn}return hn}(an,nn),un=1-Mt,ln=_r(sn,0,1,"float32",rn).add(un).floor().div(un);return an.mul(ln)}});function rh(st,Mt,nn){for(var rn=1-st%2,an=new Float32Array(st),sn=0;sn<st;++sn){var un=2*Math.PI*sn/(st+rn-1);an[sn]=Mt-nn*Math.cos(un)}return Mn(an,"float32")}var oh=An({hannWindow_:function(st){return rh(st,.5,.5)}}),ah=An({hammingWindow_:function(st){return rh(st,.54,.46)}}),ih=An({frame_:function(st,Mt,nn,rn,an){rn===void 0&&(rn=!1),an===void 0&&(an=0);for(var sn=0,un=[];sn+Mt<=st.size;)un.push(ml(st,sn,Mt)),sn+=nn;if(rn)for(;sn<st.size;){var ln=sn+Mt-st.size,cn=Yn([ml(st,sn,Mt-ln),Hn([ln],an)]);un.push(cn),sn+=nn}return un.length===0?Bn([],[0,Mt]):Yn(un).as2D(un.length,Mt)}}),sh=An({stft_:function(st,Mt,nn,rn,an){var sn;an===void 0&&(an=oh),rn==null&&(sn=Mt,rn=Math.floor(Math.pow(2,Math.ceil(Math.log(sn)/Math.log(2)))));for(var un=ih(st,Mt,nn),ln=gc(un,an(Mt)),cn=[],hn=0;hn<un.shape[0];hn++)cn.push($l(ln.slice([hn,0],[1,Mt]),rn));return Yn(cn)}}),uh=Object.freeze({hannWindow:oh,hammingWindow:ah,frame:ih,stft:sh}),ch,lh=function(st,Mt,nn){return nn===void 0&&(nn=1),n(this,void 0,void 0,function(){var rn,an,sn,un,ln,cn,hn,fn,to,Xr,uo,co,ho,e0;return r(this,function(lo){switch(lo.label){case 0:return rn=mn(st,"predictions","inTopK"),an=mn(Mt,"targets","inTopK"),C(rn.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+rn.rank}),C(rn.rank-1===an.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+rn.rank+" and targets rank "+an.rank}),E(rn.shape.slice(0,rn.shape.length-1),an.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),sn=rn.shape[rn.shape.length-1],C(nn>0&&nn<=sn,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+sn+"), but got "+nn}),[4,rn.data()];case 1:return un=lo.sent(),[4,an.data()];case 2:for(ln=lo.sent(),cn=[un.length/sn,sn],fn=cn[1],to=B("bool",hn=cn[0]),Xr=0;Xr<hn;Xr++){for(uo=Xr*fn,co=un.subarray(uo,uo+fn),ho=[],e0=0;e0<co.length;e0++)ho.push({value:co[e0],index:e0});for(ho.sort(function(mo,fo){return fo.value-mo.value}),to[Xr]=0,e0=0;e0<nn;e0++)if(ho[e0].index===ln[Xr]){to[Xr]=1;break}}return st!==rn&&rn.dispose(),Mt!==an&&an.dispose(),[2,Fn(to,an.shape,"bool")]}})})};(function(st){st[st.NONE=0]="NONE",st[st.MEAN=1]="MEAN",st[st.SUM=2]="SUM",st[st.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(ch||(ch={}));var hh=An({absoluteDifference_:function(st,Mt,nn,rn){rn===void 0&&(rn=ch.SUM_BY_NONZERO_WEIGHTS);var an=mn(st,"labels","absoluteDifference"),sn=mn(Mt,"predictions","absoluteDifference"),un=null;nn!=null&&(un=mn(nn,"weights","absoluteDifference")),E(an.shape,sn.shape,"Error in absoluteDifference: ");var ln=an.sub(sn).abs();return fh(ln,un,rn)}}),fh=An({computeWeightedLoss_:function(st,Mt,nn){nn===void 0&&(nn=ch.SUM_BY_NONZERO_WEIGHTS);var rn=mn(st,"losses","computeWeightedLoss"),an=null;Mt!=null&&(an=mn(Mt,"weights","computeWeightedLoss"));var sn=an==null?rn:rn.mul(an);if(nn===ch.NONE)return sn;if(nn===ch.SUM)return sn.sum();if(nn===ch.MEAN){if(an==null)return sn.mean();var un=rn.size/an.size,ln=sn.sum().div(an.sum());return un>1?ln.div(On(un)):ln}if(nn===ch.SUM_BY_NONZERO_WEIGHTS){if(an==null)return sn.sum().div(On(rn.size));var cn=an.mul(zn(rn.shape)).notEqual(On(0)).sum().toFloat();return sn.sum().div(cn)}throw Error("Unknown reduction: "+nn)}}),dh=An({cosineDistance_:function(st,Mt,nn,rn,an){an===void 0&&(an=ch.SUM_BY_NONZERO_WEIGHTS);var sn=mn(st,"labels","cosineDistance"),un=mn(Mt,"predictions","cosineDistance"),ln=null;rn!=null&&(ln=mn(rn,"weights","cosineDistance")),E(sn.shape,un.shape,"Error in cosineDistance: ");var cn=On(1).sub(sn.mul(un).sum(nn,!0));return fh(cn,ln,an)}}),ph=An({hingeLoss_:function(st,Mt,nn,rn){rn===void 0&&(rn=ch.SUM_BY_NONZERO_WEIGHTS);var an=mn(st,"labels","hingeLoss"),sn=mn(Mt,"predictions","hingeLoss"),un=null;nn!=null&&(un=mn(nn,"weights","hingeLoss")),E(an.shape,sn.shape,"Error in hingeLoss: ");var ln=On(1);an=On(2).mul(an).sub(ln);var cn=ln.sub(an.mul(sn)).relu();return fh(cn,un,rn)}}),vh=An({huberLoss_:function(st,Mt,nn,rn,an){rn===void 0&&(rn=1),an===void 0&&(an=ch.SUM_BY_NONZERO_WEIGHTS);var sn=mn(st,"labels","huberLoss"),un=mn(Mt,"predictions","huberLoss"),ln=null;nn!=null&&(ln=mn(nn,"weights","huberLoss")),E(sn.shape,un.shape,"Error in huberLoss: ");var cn=On(rn),hn=un.sub(sn).abs(),fn=dc(hn,cn),to=hn.sub(fn),Xr=On(.5).mul(fn.square()).add(cn.mul(to));return fh(Xr,ln,an)}}),mh=An({logLoss_:function(st,Mt,nn,rn,an){rn===void 0&&(rn=1e-7),an===void 0&&(an=ch.SUM_BY_NONZERO_WEIGHTS);var sn=mn(st,"labels","logLoss"),un=mn(Mt,"predictions","logLoss"),ln=null;nn!=null&&(ln=mn(nn,"weights","logLoss")),E(sn.shape,un.shape,"Error in logLoss: ");var cn=On(1),hn=On(rn),fn=sn.mul(un.add(hn).log()).neg().sub(cn.sub(sn).mul(cn.sub(un).add(hn).log()));return fh(fn,ln,an)}}),gh=An({meanSquaredError_:function(st,Mt,nn,rn){rn===void 0&&(rn=ch.SUM_BY_NONZERO_WEIGHTS);var an=mn(st,"labels","meanSquaredError"),sn=mn(Mt,"predictions","meanSquaredError"),un=null;nn!=null&&(un=mn(nn,"weights","meanSquaredError")),E(an.shape,sn.shape,"Error in meanSquaredError: ");var ln=an.squaredDifference(sn);return fh(ln,un,rn)}}),yh=An({sigmoidCrossEntropy_:function(st,Mt,nn,rn,an){rn===void 0&&(rn=0),an===void 0&&(an=ch.SUM_BY_NONZERO_WEIGHTS);var sn=mn(st,"multiClassLabels","sigmoidCrossEntropy"),un=mn(Mt,"logits","sigmoidCrossEntropy"),ln=null;if(nn!=null&&(ln=mn(nn,"weights","sigmoidCrossEntropy")),E(sn.shape,un.shape,"Error in sigmoidCrossEntropy: "),rn>0){var cn=On(rn),hn=On(1),fn=On(.5);sn=sn.mul(hn.sub(cn)).add(fn.mul(cn))}var to=function(Xr,uo){var co=mn(Xr,"labels","sigmoidCrossEntropyWithLogits"),ho=mn(uo,"logits","sigmoidCrossEntropyWithLogits");E(co.shape,ho.shape,"Error in sigmoidCrossEntropyWithLogits: ");var e0=ho.relu(),lo=ho.mul(co),mo=ho.abs().neg().exp().log1p();return e0.sub(lo).add(mo)}(sn,un);return fh(to,ln,an)}}),xh=An({softmaxCrossEntropy_:function(st,Mt,nn,rn,an){rn===void 0&&(rn=0),an===void 0&&(an=ch.SUM_BY_NONZERO_WEIGHTS);var sn=mn(st,"onehotLabels","softmaxCrossEntropy"),un=mn(Mt,"logits","softmaxCrossEntropy"),ln=null;if(nn!=null&&(ln=mn(nn,"weights","softmaxCrossEntropy")),E(sn.shape,un.shape,"Error in softmaxCrossEntropy: "),rn>0){var cn=On(rn),hn=On(1),fn=On(sn.shape[1]);sn=sn.mul(hn.sub(cn)).add(cn.div(fn))}var to=function(Xr,uo,co){if(co===void 0&&(co=-1),co===-1&&(co=uo.rank-1),co!==uo.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+uo.rank+" and dim was "+co);return vo(function(ho,e0,lo){var mo=e0.logSumExp([co],!0),fo=e0.toFloat().sub(mo);return lo([ho,fo]),{value:fo.mul(ho).neg().sum([co]),gradFunc:function(Uo,t0){var n0=t0[0],i0=t0[1],a0=wn(Uo.shape,[co]);return[Uo.reshape(a0).mul(n0.toFloat().sub(i0.exp())),Uo.reshape(a0).mul(i0.exp().sub(n0.toFloat()))]}}})(Xr,uo)}(sn,un);return fh(to,ln,an)}}),bh=Object.freeze({get Reduction(){return ch},absoluteDifference:hh,computeWeightedLoss:fh,cosineDistance:dh,hingeLoss:ph,huberLoss:vh,logLoss:mh,meanSquaredError:gh,sigmoidCrossEntropy:yh,softmaxCrossEntropy:xh});function wh(st,Mt){return Mt===void 0&&(Mt=!1),Lt.tidy(function(){if(st.shape.length!==2)throw new Error("qr2d() requires a 2D Tensor, but got a "+st.shape.length+"D Tensor.");for(var nn=st.shape[0],rn=st.shape[1],an=Cr(nn),sn=st.clone(),un=Bn([[1]],[1,1]),ln=un.clone(),cn=nn>=rn?rn:nn,hn=function(to){var Xr,uo=sn,co=ln,ho=an;Xr=Lt.tidy(function(){var e0=sn.slice([to,to],[nn-to,1]),lo=e0.norm(),mo=sn.slice([to,to],[1,1]),fo=Bn([[-1]]).where(mo.greater(0),Bn([[1]])),Uo=mo.sub(fo.mul(lo)),t0=e0.div(Uo);ln=t0.shape[0]===1?un.clone():un.concat(t0.slice([1,0],[t0.shape[0]-1,t0.shape[1]]),0);var n0=fo.matMul(Uo).div(lo).neg(),i0=sn.slice([to,0],[nn-to,rn]),a0=n0.mul(ln);if(to===0)sn=i0.sub(a0.matMul(ln.transpose().matMul(i0)));else{var s0=i0.sub(a0.matMul(ln.transpose().matMul(i0)));sn=sn.slice([0,0],[to,rn]).concat(s0,0)}var l0=an.slice([0,to],[nn,an.shape[1]-to]);if(to===0)an=l0.sub(l0.matMul(ln).matMul(a0.transpose()));else{var d0=l0.sub(l0.matMul(ln).matMul(a0.transpose()));an=an.slice([0,0],[nn,to]).concat(d0,1)}return[ln,sn,an]}),ln=Xr[0],sn=Xr[1],an=Xr[2],tn([uo,co,ho])},fn=0;fn<cn;++fn)hn(fn);return!Mt&&nn>rn&&(an=an.slice([0,0],[nn,rn]),sn=sn.slice([0,0],[rn,rn])),[an,sn]})}var Ch=An({bandPart_:function(st,Mt,nn){if(Mt%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+Mt+".");if(nn%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+nn+".");var rn=mn(st,"a","bandPart");if(rn.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+rn.rank+".");var an=rn.shape,sn=rn.shape.slice(-2),un=sn[0],ln=sn[1];if(!(Mt<=un))throw new Error("bandPart(): numLower ("+Mt+") must not be greater than the number of rows ("+un+").");if(!(nn<=ln))throw new Error("bandPart(): numUpper ("+nn+") must not be greater than the number of columns ("+ln+").");Mt<0&&(Mt=un),nn<0&&(nn=ln);var cn=Kn(0,un,1,"int32").reshape([-1,1]),hn=Kn(0,ln,1,"int32"),fn=Cc(cn,hn),to=Qu(fn.lessEqual(On(+Mt,"int32")),fn.greaterEqual(On(-nn,"int32"))),Xr=Gn([un,ln],rn.dtype);return Pr(Ur(rn.reshape([-1,un,ln])).map(function(uo){return ec(to,uo,Xr)})).reshape(an)}}),Eh=An({gramSchmidt_:function(st){var Mt;if(Array.isArray(st)){Mt=!1,C(st!=null&&st.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var nn=st[0].shape[0],rn=function(cn){C(st[cn].shape[0]===nn,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+st[cn].shape[0]+" vs. "+nn+")"})},an=1;an<st.length;++an)rn(an)}else Mt=!0,st=tr(st,st.shape[0],0).map(function(cn){return Br(cn,[0])});C(st.length<=st[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+st.length+") exceeds number of dimensions ("+st[0].shape[0]+")."});var sn=[],un=st,ln=function(cn){sn.push(Lt.tidy(function(){var hn=un[cn];if(cn>0)for(var fn=0;fn<cn;++fn){var to=Nl(sn[fn].mulStrict(hn)).mul(sn[fn]);hn=hn.sub(to)}return hn.div(Vl(hn,"euclidean"))}))};for(an=0;an<st.length;++an)ln(an);return Mt?Pr(sn,0):sn}}),Rh=An({qr_:function(st,Mt){if(Mt===void 0&&(Mt=!1),st.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+st.rank);if(st.rank===2)return wh(st,Mt);var nn=st.shape.slice(0,st.shape.length-2).reduce(function(un,ln){return un*ln}),rn=Ur(st.reshape([nn,st.shape[st.shape.length-2],st.shape[st.shape.length-1]]),0),an=[],sn=[];return rn.forEach(function(un){var ln=wh(un,Mt),cn=ln[0],hn=ln[1];an.push(cn),sn.push(hn)}),[Pr(an,0).reshape(st.shape),Pr(sn,0).reshape(st.shape)]}}),Ih=Object.freeze({bandPart:Ch,gramSchmidt:Eh,qr:Rh});function kh(st,Mt,nn,rn,an,sn){rn==null&&(rn=.5),an==null&&(an=Number.NEGATIVE_INFINITY),sn==null&&(sn=0);var un=st.shape[0];return nn=Math.min(nn,un),C(0<=rn&&rn<=1,function(){return"iouThreshold must be in [0, 1], but was '"+rn+"'"}),C(st.rank===2,function(){return"boxes must be a 2D tensor, but was of rank '"+st.rank+"'"}),C(st.shape[1]===4,function(){return"boxes must have 4 columns, but 2nd dimension was "+st.shape[1]}),C(Mt.rank===1,function(){return"scores must be a 1D tensor"}),C(Mt.shape[0]===un,function(){return"scores has incompatible shape with boxes. Expected "+un+", but was "+Mt.shape[0]}),C(0<=sn&&sn<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+sn+"'"}),{maxOutputSize:nn,iouThreshold:rn,scoreThreshold:an,softNmsSigma:sn}}var Sh=An({resizeBilinear_:function(st,Mt,nn){nn===void 0&&(nn=!1);var rn=mn(st,"images","resizeBilinear");C(rn.rank===3||rn.rank===4,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+rn.rank+"."}),C(Mt.length===2,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+Mt+"."});var an=rn,sn=!1;rn.rank===3&&(sn=!0,an=rn.as4D(1,rn.shape[0],rn.shape[1],rn.shape[2]));var un=Mt[0],ln=Mt[1],cn=Lt.runKernelFunc(function(hn,fn){return fn([an]),hn.resizeBilinear(an,un,ln,nn)},{x:an},function(hn,fn){return{x:function(){return Lt.runKernelFunc(function(to){return to.resizeBilinearBackprop(hn,fn[0],nn)},{})}}},"ResizeBilinear",{alignCorners:nn,newHeight:un,newWidth:ln});return sn?cn.as3D(cn.shape[1],cn.shape[2],cn.shape[3]):cn}}),Ah=An({resizeNearestNeighbor_:function(st,Mt,nn){nn===void 0&&(nn=!1);var rn=mn(st,"images","resizeNearestNeighbor");C(rn.rank===3||rn.rank===4,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+rn.rank+"."}),C(Mt.length===2,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+Mt+"."}),C(rn.dtype==="float32"||rn.dtype==="int32",function(){return"`images` must have `int32` or `float32` as dtype"});var an=rn,sn=!1;rn.rank===3&&(sn=!0,an=rn.as4D(1,rn.shape[0],rn.shape[1],rn.shape[2]));var un=Mt[0],ln=Mt[1],cn=Lt.runKernelFunc(function(hn,fn){return fn([an]),hn.resizeNearestNeighbor(an,un,ln,nn)},{batchImages:an},function(hn,fn){return{batchImages:function(){return Lt.runKernelFunc(function(to){return to.resizeNearestNeighborBackprop(hn,fn[0],nn)},{})}}});return sn?cn.as3D(cn.shape[1],cn.shape[2],cn.shape[3]):cn}}),Dh=An({nonMaxSuppression_:function(st,Mt,nn,rn,an){rn===void 0&&(rn=.5),an===void 0&&(an=Number.NEGATIVE_INFINITY);var sn=mn(st,"boxes","nonMaxSuppression"),un=mn(Mt,"scores","nonMaxSuppression"),ln=kh(sn,un,nn,rn,an);nn=ln.maxOutputSize,rn=ln.iouThreshold,an=ln.scoreThreshold;var cn={maxOutputSize:nn,iouThreshold:rn,scoreThreshold:an};return Lt.runKernelFunc(function(hn){return hn.nonMaxSuppression(sn,un,nn,rn,an)},{boxes:sn,scores:un},null,"NonMaxSuppressionV3",cn)}}),Th=function(st,Mt,nn,rn,an){return rn===void 0&&(rn=.5),an===void 0&&(an=Number.NEGATIVE_INFINITY),n(this,void 0,void 0,function(){var sn,un,ln,cn,hn,fn,to;return r(this,function(Xr){switch(Xr.label){case 0:return sn=mn(st,"boxes","nonMaxSuppressionAsync"),un=mn(Mt,"scores","nonMaxSuppressionAsync"),ln=kh(sn,un,nn,rn,an),nn=ln.maxOutputSize,rn=ln.iouThreshold,an=ln.scoreThreshold,[4,Promise.all([sn.data(),un.data()])];case 1:return cn=Xr.sent(),hn=cn[0],fn=cn[1],to=jo(hn,fn,nn,rn,an),sn!==st&&sn.dispose(),un!==Mt&&un.dispose(),[2,to]}})})},Nh=An({nonMaxSuppressionWithScore_:function(st,Mt,nn,rn,an,sn){rn===void 0&&(rn=.5),an===void 0&&(an=Number.NEGATIVE_INFINITY),sn===void 0&&(sn=0);var un=mn(st,"boxes","nonMaxSuppression"),ln=mn(Mt,"scores","nonMaxSuppression"),cn=kh(un,ln,nn,rn,an,sn),hn={maxOutputSize:nn=cn.maxOutputSize,iouThreshold:rn=cn.iouThreshold,scoreThreshold:an=cn.scoreThreshold,softNmsSigma:sn=cn.softNmsSigma},fn=Lt.runKernel("NonMaxSuppressionV5",{boxes:un,scores:ln},hn);return{selectedIndices:fn[0],selectedScores:fn[1]}}}),Fh=function(st,Mt,nn,rn,an,sn){return rn===void 0&&(rn=.5),an===void 0&&(an=Number.NEGATIVE_INFINITY),sn===void 0&&(sn=0),n(this,void 0,void 0,function(){var un,ln,cn,hn,fn,to,Xr;return r(this,function(uo){switch(uo.label){case 0:return un=mn(st,"boxes","nonMaxSuppressionAsync"),ln=mn(Mt,"scores","nonMaxSuppressionAsync"),cn=kh(un,ln,nn,rn,an,sn),nn=cn.maxOutputSize,rn=cn.iouThreshold,an=cn.scoreThreshold,sn=cn.softNmsSigma,[4,Promise.all([un.data(),ln.data()])];case 1:return hn=uo.sent(),fn=hn[0],to=hn[1],Xr=Xo(fn,to,nn,rn,an,sn),un!==st&&un.dispose(),ln!==Mt&&ln.dispose(),[2,Xr]}})})},_h=An({cropAndResize_:function(st,Mt,nn,rn,an,sn){var un=mn(st,"image","cropAndResize"),ln=mn(Mt,"boxes","cropAndResize","float32"),cn=mn(nn,"boxInd","cropAndResize","int32");an=an||"bilinear",sn=sn||0;var hn=ln.shape[0];return C(un.rank===4,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+un.rank+"."}),C(ln.rank===2&&ln.shape[1]===4,function(){return"Error in cropAndResize: boxes must be have size ["+hn+",4] but had shape "+ln.shape+"."}),C(cn.rank===1&&cn.shape[0]===hn,function(){return"Error in cropAndResize: boxInd must be have size ["+hn+"] but had shape "+ln.shape+"."}),C(rn.length===2,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+rn.length+"."}),C(rn[0]>=1&&rn[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+rn}),C(an==="bilinear"||an==="nearest",function(){return"method must be bilinear or nearest, but was "+an}),Lt.runKernelFunc(function(fn,to){return fn.cropAndResize(un,ln,cn,rn,an,sn)},{images:un,boxes:ln,boxInd:cn},null,"CropAndResize",{method:an,extrapolationValue:sn,cropSize:rn})}}),Oh=Object.freeze({resizeBilinear:Sh,resizeNearestNeighbor:Ah,nonMaxSuppression:Dh,nonMaxSuppressionAsync:Th,nonMaxSuppressionWithScore:Nh,nonMaxSuppressionWithScoreAsync:Fh,cropAndResize:_h}),Mh=function(st,Mt){return!(st>0)||Mt==="linear"},Bh=function(st,Mt,nn){if(nn==null||nn==="linear")return st;if(nn==="relu")return st.mul(Mt.step());throw new Error("Gradient for activation "+nn+" has not been implemented yet.")},Ph=function(st,Mt){var nn=Mt,rn=Eo(st.shape,Mt.shape);return rn.length>0&&(nn=nn.sum(rn)),nn.reshape(st.shape)},Lh=function(st,Mt,nn){if(Mt==="linear")return st;if(Mt==="relu")return Bl(st);if(Mt==="elu")return _l(st);if(Mt==="relu6")return Pl(st);if(Mt==="prelu")return Ml(st,nn);throw new Error("Unknown fused activation "+Mt+".")},Wh=An({fusedMatMul_:function(st){var Mt,nn=st.a,rn=st.b,an=st.transposeA,sn=an!==void 0&&an,un=st.transposeB,ln=un!==void 0&&un,cn=st.bias,hn=st.activation,fn=hn===void 0?"linear":hn,to=st.preluActivationWeights;if(Mh(Lt.state.gradientDepth,fn)===!1){var Xr=el(nn,rn,sn,ln);return cn!=null&&(Xr=rc(Xr,cn)),Lh(Xr,fn,to)}var uo=mn(nn,"a","fused matMul"),co=mn(rn,"b","fused matMul");Mt=Nt(uo,co),uo=Mt[0],co=Mt[1];var ho=sn?uo.shape[uo.rank-2]:uo.shape[uo.rank-1],e0=ln?co.shape[co.rank-1]:co.shape[co.rank-2],lo=sn?uo.shape[uo.rank-1]:uo.shape[uo.rank-2],mo=ln?co.shape[co.rank-2]:co.shape[co.rank-1],fo=uo.shape.slice(0,-2),Uo=co.shape.slice(0,-2),t0=k(fo),n0=k(Uo);C(uo.rank>=2&&co.rank>=2&&uo.rank===co.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+uo.rank+" and "+co.rank+"."}),C(S(fo,Uo),function(){return"Error in fused matMul: outer dimensions ("+fo+") and ("+Uo+") of Tensors with shapes "+uo.shape+" and "+co.shape+" must match."}),C(ho===e0,function(){return"Error in fused matMul: inner shapes ("+ho+") and ("+e0+") of Tensors with shapes "+uo.shape+" and "+co.shape+" and transposeA="+sn+" and transposeB="+ln+" must match."});var i0,a0,s0=uo.shape.slice(0,-2).concat([lo,mo]),l0=sn?uo.as3D(t0,ho,lo):uo.as3D(t0,lo,ho),d0=ln?co.as3D(n0,mo,e0):co.as3D(n0,e0,mo);cn!=null&&Ro(s0,(i0=Nt(i0=mn(cn,"bias","fused matMul"),uo)[0]).shape),to!=null&&(a0=mn(to,"prelu weights","fused matMul"));var h0={a:l0,b:d0};cn!=null&&(h0.bias=i0),to!=null&&(h0.preluActivationWeights=a0);var v0=[l0,d0];return Lt.runKernelFunc(function(g0,m0){var u0=g0.fusedBatchMatMul({a:l0,b:d0,transposeA:sn,transposeB:ln,bias:i0,activation:fn,preluActivationWeights:a0});return m0([l0,d0,u0]),u0},h0,function(g0,m0){var u0=m0[0],c0=m0[1],r0=m0[2],o0=Bh(g0,r0,fn),f0={};return cn!=null&&(f0={bias:function(){return Ph(i0,o0)}}),Object.assign(sn||ln?!sn&&ln?{a:function(){return o0.matMul(c0,!1,!1)},b:function(){return o0.matMul(u0,!0,!1)}}:sn&&!ln?{a:function(){return c0.matMul(o0,!1,!0)},b:function(){return u0.matMul(o0,!1,!1)}}:{a:function(){return c0.matMul(o0,!0,!0)},b:function(){return o0.matMul(u0,!0,!0)}}:{a:function(){return o0.matMul(c0,!1,!0)},b:function(){return u0.matMul(o0,!0,!1)}},f0)},"_FusedMatMul",{transposeA:sn,transposeB:ln,activation:fn},v0,[!0]).reshape(s0)}}),Uh=An({fusedConv2d_:function(st){var Mt=st.x,nn=st.filter,rn=st.strides,an=st.pad,sn=st.dataFormat,un=sn===void 0?"NHWC":sn,ln=st.dilations,cn=ln===void 0?[1,1]:ln,hn=st.dimRoundingMode,fn=st.bias,to=st.activation,Xr=to===void 0?"linear":to,uo=st.preluActivationWeights;if(Xr=Xr||"linear",Mh(Lt.state.gradientDepth,Xr)===!1){var co=qc(Mt,nn,rn,an,un,cn,hn);return fn!=null&&(co=rc(co,fn)),Lh(co,Xr,uo)}var ho=mn(Mt,"x","conv2d"),e0=mn(nn,"filter","conv2d"),lo=ho,mo=!1;ho.rank===3&&(mo=!0,lo=ho.as4D(1,ho.shape[0],ho.shape[1],ho.shape[2])),C(lo.rank===4,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+lo.rank+"."}),C(e0.rank===4,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+e0.rank+"."}),hn!=null&&C(A(an),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+hn+" but got pad "+an+"."}),C(lo.shape[3]===e0.shape[2],function(){return"Error in conv2d: depth of input ("+lo.shape[3]+") must match input depth for filter "+e0.shape[2]+"."}),C(Mo(rn,cn),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+rn+" and dilations '"+cn+"'"}),C(un==="NHWC",function(){return"Error in conv2d: got dataFormat of "+un+" but only NHWC is currently supported."});var fo,Uo,t0=So(lo.shape,e0.shape,rn,cn,an,hn);fn!=null&&(fo=Nt(fo=mn(fn,"bias","fused conv2d"),ho)[0],Ro(t0.outShape,fo.shape)),uo!=null&&(Uo=mn(uo,"prelu weights","fused conv2d"));var n0={x:lo,filter:e0};fn!=null&&(n0.bias=fo),uo!=null&&(n0.preluActivationWeights=Uo);var i0=[e0,lo],a0=Lt.runKernelFunc(function(s0,l0){var d0=s0.fusedConv2d({input:lo,filter:e0,convInfo:t0,bias:fo,activation:Xr,preluActivationWeights:Uo});return l0([e0,lo,d0]),d0},n0,function(s0,l0){var d0=l0,h0=d0[0],v0=d0[1],g0=d0[2],m0=Bh(s0,g0,Xr);C(Oo(cn),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+cn+"'"});var u0={};return fn!=null&&(u0={bias:function(){return Ph(fo,m0)}}),Object.assign({x:function(){return Xc(v0.shape,m0,h0,rn,an)},filter:function(){return jc(v0,m0,h0.shape,rn,an)}},u0)},"FusedConv2D",{convInfo:t0,activation:Xr},i0,[!0]);return mo?a0.as3D(a0.shape[1],a0.shape[2],a0.shape[3]):a0}}),Vh=An({fusedDepthwiseConv2d_:function(st){var Mt=st.x,nn=st.filter,rn=st.strides,an=st.pad,sn=st.dataFormat,un=sn===void 0?"NHWC":sn,ln=st.dilations,cn=ln===void 0?[1,1]:ln,hn=st.dimRoundingMode,fn=st.bias,to=st.activation,Xr=to===void 0?"linear":to,uo=st.preluActivationWeights;if(Mh(Lt.state.gradientDepth,Xr)===!1){var co=Yc(Mt,nn,rn,an,un,cn,hn);return fn!=null&&(co=rc(co,fn)),Lh(co,Xr,uo)}var ho=mn(Mt,"x","depthwiseConv2d"),e0=mn(nn,"filter","depthwiseConv2d"),lo=ho,mo=!1;ho.rank===3&&(mo=!0,lo=ho.as4D(1,ho.shape[0],ho.shape[1],ho.shape[2])),C(lo.rank===4,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+lo.rank+"."}),C(e0.rank===4,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+e0.rank+"."}),C(lo.shape[3]===e0.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+lo.shape[3]+") must match the inChannels dimension in filter "+e0.shape[2]+"."}),cn==null&&(cn=[1,1]),C(Mo(rn,cn),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+rn+" and dilations '"+cn+"'"}),hn!=null&&C(A(an),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+hn+" but got pad "+an+"."});var fo,Uo,t0=So(lo.shape,e0.shape,rn,cn,an,hn,!0);fn!=null&&(fo=Nt(fo=mn(fn,"bias","fused conv2d"),ho)[0],Ro(t0.outShape,fo.shape)),uo!=null&&(Uo=mn(uo,"prelu weights","fused depthwiseConv2d"));var n0={x:lo,filter:e0};fn!=null&&(n0.bias=fo),uo!=null&&(n0.preluActivationWeights=Uo);var i0=[e0,lo],a0=Lt.runKernelFunc(function(s0,l0){var d0=s0.fusedDepthwiseConv2D({input:lo,filter:e0,convInfo:t0,bias:fo,activation:Xr,preluActivationWeights:Uo});return l0([e0,lo,d0]),d0},n0,function(s0,l0){C(Oo(cn),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+cn+"'"});var d0=l0[0],h0=l0[1],v0=l0[2],g0=Bh(s0,v0,Xr),m0={};return fn!=null&&(m0={bias:function(){return Ph(fo,g0)}}),Object.assign({x:function(){return $c(h0.shape,g0,d0,t0)},filter:function(){return Qc(h0,g0,d0.shape,t0)}},m0)},"FusedDepthwiseConv2D",{convInfo:t0,activation:Xr},i0,[!0]);return mo?a0.as3D(a0.shape[1],a0.shape[2],a0.shape[3]):a0}}),zh=Object.freeze({matMul:Wh,conv2d:Uh,depthwiseConv2d:Vh}),Gh=Object.freeze({image:Oh,linalg:Ih,losses:bh,spectral:Jl,fused:zh,signal:uh,square:tu,squaredDifference:nu,conv1d:Hc,conv2d:qc,conv3d:Kc,depthwiseConv2d:Yc,separableConv2d:Jc,conv2dTranspose:Zc,conv3dTranspose:tl,op:An,batchNormalization2d:Gu,batchNormalization3d:Hu,batchNormalization4d:qu,batchNormalization:Ku,batchNorm:ju,batchNorm2d:Xu,batchNorm3d:Yu,batchNorm4d:$u,booleanMaskAsync:Uc,complex:Dn,real:Tn,imag:Nn,concat:Yn,concat1d:$n,concat2d:Qn,concat3d:Jn,concat4d:Zn,split:tr,matMul:el,dot:nl,outerProduct:rl,reverse:ol,reverse1d:al,reverse2d:il,reverse3d:sl,reverse4d:ul,maxPool:hl,avgPool:fl,pool:dl,maxPool3d:pl,avgPool3d:vl,slice:ml,slice1d:gl,slice2d:yl,slice3d:xl,slice4d:bl,abs:ru,acos:ou,acosh:au,asin:iu,asinh:su,atan:uu,atanh:cu,ceil:lu,clipByValue:hu,cos:fu,cosh:du,erf:pu,exp:vu,expm1:mu,floor:gu,log:yu,log1p:xu,logSigmoid:bu,neg:wu,reciprocal:Cu,round:Eu,rsqrt:Ru,sigmoid:Iu,sign:ku,isNaN:Su,isInf:Au,isFinite:Du,sin:Tu,sinh:Nu,softplus:Fu,sqrt:_u,step:Ou,tan:Mu,tanh:Bu,all:Cl,any:El,argMax:Rl,argMin:Il,logSumExp:kl,max:Sl,mean:Al,min:Dl,moments:Tl,sum:Nl,prod:Fl,equal:Rc,equalStrict:Ic,greater:kc,greaterEqual:Sc,greaterEqualStrict:Ac,greaterStrict:Dc,less:Tc,lessEqual:Nc,lessEqualStrict:Fc,lessStrict:_c,notEqual:Oc,notEqualStrict:Mc,add:rc,addN:oc,addStrict:ac,atan2:ic,div:sc,divNoNan:uc,divStrict:cc,floorDiv:lc,maximum:hc,maximumStrict:fc,minimum:dc,minimumStrict:pc,mod:vc,modStrict:mc,mul:gc,mulStrict:yc,pow:xc,powStrict:bc,squaredDifferenceStrict:wc,sub:Cc,subStrict:Ec,elu:_l,leakyRelu:Ol,prelu:Ml,relu:Bl,relu6:Pl,selu:Ll,logicalAnd:Qu,logicalNot:Ju,logicalOr:Zu,logicalXor:tc,where:ec,whereAsync:nc,buffer:dr,print:pr,batchToSpaceND:vr,broadcastTo:mr,cast:gr,clone:yr,cumsum:xr,depthToSpace:br,expandDims:wr,eye:Cr,multinomial:Er,oneHot:Rr,pad:Ir,pad1d:kr,pad2d:Sr,pad3d:Ar,pad4d:Dr,rand:Tr,randomNormal:Nr,randomGamma:Fr,randomUniform:_r,reshape:Or,spaceToBatchND:Mr,squeeze:Br,stack:Pr,tile:Lr,truncatedNormal:Wr,unstack:Ur,setdiff1dAsync:Vr,fill:Hn,linspace:qn,ones:zn,range:Kn,scalar:On,tensor:Fn,tensor1d:Mn,tensor2d:Bn,tensor3d:Pn,tensor4d:Ln,tensor5d:Wn,tensor6d:Un,variable:Vn,zeros:Gn,onesLike:jn,zerosLike:Xn,transpose:Wl,softmax:go,logSoftmax:yo,localResponseNormalization:Ul,norm:Vl,gather:Lc,unsortedSegmentSum:Wc,basicLSTMCell:zl,multiRNNCell:Gl,movingAverage:Hl,stridedSlice:ql,topk:Kl,scatterND:jl,fft:Xl,ifft:Yl,rfft:$l,irfft:Ql,sparseToDense:Zl,gatherND:th,diag:eh,dropout:nh,hannWindow:oh,hammingWindow:ah,frame:ih,stft:sh,inTopKAsync:lh});function Hh(st,Mt){Array.isArray(st)||(st=[st]),st.forEach(function(nn){nn!=null&&C(nn.dtype!=="complex64",function(){return Mt+" does not support complex64 tensors."})})}function qh(st,Mt,nn,rn){if(nn==="linear")return st.linear(Mt);if(nn==="relu")return st.relu(Mt);if(nn==="elu")return st.elu(Mt);if(nn==="relu6")return st.relu6(Mt);if(nn==="prelu")return st.prelu(Mt,rn);throw new Error("Activation "+nn+" has not been implemented for the CPU backend.")}var Kh=function(st){function Mt(){var nn=st.call(this)||this;return nn.blockSize=48,nn.firstUse=!0,nn.data=new xo(nn,Lt),nn}return e(Mt,st),Mt.prototype.write=function(nn,rn,an){this.firstUse&&(this.firstUse=!1,i$1().get("IS_NODE")&&dn(`
============================
Hi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.
============================`));var sn={};return this.data.set(sn,{values:nn,dtype:an}),sn},Mt.prototype.move=function(nn,rn,an,sn){this.data.set(nn,{values:rn,dtype:sn})},Mt.prototype.numDataIds=function(){return this.data.numDataIds()},Mt.prototype.read=function(nn){return n(this,void 0,void 0,function(){return r(this,function(rn){return[2,this.readSync(nn)]})})},Mt.prototype.readSync=function(nn){var rn=this.data.get(nn),an=rn.dtype,sn=rn.complexTensors;return an==="complex64"?Vo(this.readSync(sn.real.dataId),this.readSync(sn.imag.dataId)):this.data.get(nn).values},Mt.prototype.bufferSync=function(nn){var rn=this.readSync(nn.dataId),an=rn;if(nn.dtype==="string")try{an=rn.map(function(sn){return ot(sn)})}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return dr(nn.shape,nn.dtype,an)},Mt.prototype.makeOutput=function(nn,rn,an){var sn=this.write(nn,rn,an);return Lt.makeTensorFromDataId(sn,rn,an,this)},Mt.prototype.disposeData=function(nn){if(this.data.has(nn)){var rn=this.data.get(nn).complexTensors;rn!=null&&(rn.real.dispose(),rn.imag.dispose()),this.data.delete(nn)}},Mt.prototype.time=function(nn){return n(this,void 0,void 0,function(){var rn;return r(this,function(an){return rn=et(),nn(),[2,{kernelMs:et()-rn}]})})},Mt.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},Mt.prototype.complex=function(nn,rn){var an=this.makeOutput(null,nn.shape,"complex64");return this.data.get(an.dataId).complexTensors={real:Lt.keep(nn.clone()),imag:Lt.keep(rn.clone())},an},Mt.prototype.real=function(nn){return this.data.get(nn.dataId).complexTensors.real.clone()},Mt.prototype.imag=function(nn){return this.data.get(nn.dataId).complexTensors.imag.clone()},Mt.prototype.slice=function(nn,rn,an){if(Hh(nn,"slice"),io(nn.shape,rn,an)){var sn=so(rn,nn.strides),un=k(an);return Fn(this.readSync(nn.dataId).subarray(sn,sn+un),an,nn.dtype)}for(var ln=dr(an,nn.dtype),cn=this.bufferSync(nn),hn=0;hn<ln.size;++hn){var fn=ln.indexToLoc(hn).map(function(to,Xr){return to+rn[Xr]});ln.values[hn]=cn.get.apply(cn,fn)}return ln.toTensor()},Mt.prototype.stridedSlice=function(nn,rn,an,sn){Hh(nn,"stridedSlice");var un=ro(rn,an,sn);if(un.some(function(uo){return uo===0}))return Fn([],un);for(var ln=dr(un,nn.dtype),cn=this.bufferSync(nn),hn=0;hn<ln.size;hn++){for(var fn=ln.indexToLoc(hn),to=new Array(fn.length),Xr=0;Xr<to.length;Xr++)to[Xr]=fn[Xr]*sn[Xr]+rn[Xr];ln.set.apply(ln,[cn.get.apply(cn,to)].concat(fn))}return ln.toTensor()},Mt.prototype.diag=function(nn){for(var rn=this.readSync(nn.dataId),an=dr([nn.size,nn.size],nn.dtype),sn=an.values,un=0;un<rn.length;un++)sn[un*nn.size+un]=rn[un];return an.toTensor()},Mt.prototype.unstack=function(nn,rn){for(var an=nn.shape[rn],sn=new Array(nn.rank-1),un=0,ln=0;ln<nn.rank;ln++)ln!==rn&&(sn[un++]=nn.shape[ln]);var cn=new Array(nn.rank).fill(0),hn=nn.shape.slice();hn[rn]=1;var fn=new Array(an);for(ln=0;ln<fn.length;ln++)cn[rn]=ln,fn[ln]=this.slice(nn,cn,hn).reshape(sn);return fn},Mt.prototype.reverse=function(nn,rn){Hh(nn,"reverse");for(var an=dr(nn.shape,nn.dtype),sn=this.bufferSync(nn),un=function(cn){var hn=an.indexToLoc(cn),fn=hn.slice();rn.forEach(function(to){return fn[to]=nn.shape[to]-1-fn[to]}),an.set.apply(an,[sn.get.apply(sn,fn)].concat(hn))},ln=0;ln<an.size;ln++)un(ln);return an.toTensor()},Mt.prototype.concat=function(nn,rn){var an=this;if(nn[0].dtype==="complex64"){var sn=nn.map(function(uo){return Tn(uo)}),un=nn.map(function(uo){return Nn(uo)});return Dn(this.concat(sn,rn),this.concat(un,rn))}var ln=nn.map(function(uo){var co=k(uo.shape.slice(rn));return uo.as2D(-1,co)}),cn=Sn(ln.map(function(uo){return uo.shape}),1),hn=dr(cn,nn[0].dtype).values;if(ln[0].shape[0]===1){var fn=0;ln.forEach(function(uo){hn.set(an.readSync(uo.dataId),fn),fn+=uo.size})}else{var to=0;ln.forEach(function(uo){for(var co=an.readSync(uo.dataId),ho=0,e0=0;e0<uo.shape[0];++e0)for(var lo=e0*cn[1]+to,mo=0;mo<uo.shape[1];++mo)hn[lo+mo]=co[ho++];to+=uo.shape[1]})}var Xr=Sn(nn.map(function(uo){return uo.shape}),rn);return Fn(hn,Xr,nn[0].dtype)},Mt.prototype.neg=function(nn){return Hh(nn,"neg"),this.multiply(On(-1),nn)},Mt.prototype.add=function(nn,rn){return nn.dtype==="complex64"||rn.dtype==="complex64"?this.broadcastedBinaryComplexOp(nn.cast("complex64"),rn.cast("complex64"),function(an,sn,un,ln){return{real:an+un,imag:sn+ln}}):this.broadcastedBinaryOp(nn,rn,Dt(nn.dtype,rn.dtype),function(an,sn){return an+sn})},Mt.prototype.addN=function(nn){var rn=this;Hh(nn,"addN");for(var an=nn.map(function(fn){return rn.readSync(fn.dataId)}),sn=dr(nn[0].shape,nn[0].dtype),un=sn.values,ln=0;ln<nn.length;ln++)for(var cn=an[ln],hn=0;hn<un.length;hn++)un[hn]+=cn[hn];return sn.toTensor()},Mt.prototype.softmax=function(nn,rn){var an=O([rn],nn.shape),sn=this.max(nn,an),un=wn(sn.shape,an),ln=this.subtract(nn,sn.reshape(un)),cn=this.exp(ln),hn=this.sum(cn,an).reshape(un);return this.realDivide(cn,hn)},Mt.prototype.subtract=function(nn,rn){return nn.dtype==="complex64"||rn.dtype==="complex64"?this.broadcastedBinaryComplexOp(nn.cast("complex64"),rn.cast("complex64"),function(an,sn,un,ln){return{real:an-un,imag:sn-ln}}):this.broadcastedBinaryOp(nn,rn,Dt(nn.dtype,rn.dtype),function(an,sn){return an-sn})},Mt.prototype.pow=function(nn,rn){return Hh([nn,rn],"pow"),this.broadcastedBinaryOp(nn,rn,nn.dtype,function(an,sn){return Math.pow(an,sn)})},Mt.prototype.batchMatMul=function(nn,rn,an,sn){Hh([nn,rn],"matMul");for(var un=an?nn.shape[1]:nn.shape[2],ln=an?nn.shape[2]:nn.shape[1],cn=sn?rn.shape[1]:rn.shape[2],hn=nn.shape[0],fn=this.readSync(nn.dataId),to=this.readSync(rn.dataId),Xr=an?[nn.strides[0],1,nn.strides[1]]:[nn.strides[0],nn.strides[1],1],uo=Xr[0],co=Xr[1],ho=Xr[2],e0=sn?[1,rn.strides[1],rn.strides[0]]:[rn.strides[1],1,rn.strides[0]],lo=e0[0],mo=e0[1],fo=e0[2],Uo=ln*cn,t0=dr([hn,ln,cn],nn.dtype),n0=t0.values,i0=this.blockSize,a0=0;a0<hn;a0++)for(var s0=0;s0<ln;s0+=i0)for(var l0=0;l0<cn;l0+=i0)for(var d0=0;d0<un;d0+=i0)for(var h0=Math.min(s0+i0,ln),v0=Math.min(l0+i0,cn),g0=Math.min(d0+i0,un),m0=s0;m0<h0;m0++)for(var u0=l0;u0<v0;u0++){for(var c0=0,r0=d0;r0<g0;r0++)c0+=fn[a0*uo+m0*co+r0*ho]*to[r0*lo+u0*mo+a0*fo];n0[a0*Uo+(m0*cn+u0)]+=c0}return t0.toTensor()},Mt.prototype.fusedBatchMatMul=function(nn){var rn=nn.a,an=nn.b,sn=nn.transposeA,un=nn.transposeB,ln=nn.bias,cn=nn.activation,hn=nn.preluActivationWeights,fn=this.batchMatMul(rn,an,sn,un);return ln&&(fn=this.add(fn,ln)),cn&&(fn=qh(this,fn,cn,hn)),fn},Mt.prototype.multiply=function(nn,rn){return nn.dtype==="complex64"||rn.dtype==="complex64"?this.broadcastedBinaryComplexOp(nn.cast("complex64"),rn.cast("complex64"),function(an,sn,un,ln){return{real:an*un-sn*ln,imag:an*ln+sn*un}}):this.broadcastedBinaryOp(nn,rn,Dt(nn.dtype,rn.dtype),function(an,sn){return an*sn})},Mt.prototype.realDivide=function(nn,rn){return Hh([nn,rn],"realDivide"),this.broadcastedBinaryOp(nn,rn,"float32",function(an,sn){return an/sn})},Mt.prototype.floorDiv=function(nn,rn){return Hh([nn,rn],"floorDiv"),this.broadcastedBinaryOp(nn,rn,"int32",function(an,sn){return Math.floor(an/sn)})},Mt.prototype.sum=function(nn,rn){Hh(nn,"sum"),Cn("sum",rn,nn.rank);for(var an=bn(nn.shape,rn),sn=an[0],un=an[1],ln=Gn(sn,Dt(nn.dtype,"int32")),cn=k(un),hn=this.readSync(ln.dataId),fn=this.readSync(nn.dataId),to=0;to<hn.length;++to){for(var Xr=to*cn,uo=0,co=0;co<cn;++co)uo+=fn[Xr+co];hn[to]=uo}return ln},Mt.prototype.prod=function(nn,rn){Hh(nn,"sum");for(var an=bn(nn.shape,rn),sn=an[0],un=an[1],ln=Gn(sn,Dt(nn.dtype,"int32")),cn=k(un),hn=this.readSync(ln.dataId),fn=this.readSync(nn.dataId),to=0;to<hn.length;++to){for(var Xr=to*cn,uo=1,co=0;co<cn;++co)uo*=fn[Xr+co];hn[to]=uo}return ln},Mt.prototype.unsortedSegmentSum=function(nn,rn,an){Hh(nn,"unsortedSegmentSum");for(var sn=[],un=nn.rank-rn.rank,ln=0;ln<un;++ln)rn=rn.expandDims(ln+1);for(ln=0;ln<an;++ln){var cn=On(ln,"int32"),hn=Rc(cn,rn).asType("float32").mul(nn).sum(0);sn.push(hn)}return Pr(sn)},Mt.prototype.argMin=function(nn,rn){Hh(nn,"argMin");var an=[rn];Cn("argMin",an,nn.rank);for(var sn=bn(nn.shape,an),un=sn[0],ln=sn[1],cn=Gn(un,"int32"),hn=k(ln),fn=this.readSync(cn.dataId),to=this.readSync(nn.dataId),Xr=0;Xr<fn.length;++Xr){for(var uo=Xr*hn,co=to[uo],ho=0,e0=0;e0<hn;++e0){var lo=to[uo+e0];lo<co&&(co=lo,ho=e0)}fn[Xr]=ho}return cn},Mt.prototype.argMax=function(nn,rn){Hh(nn,"argMax");var an=[rn];Cn("argMax",an,nn.rank);for(var sn=bn(nn.shape,an),un=sn[0],ln=sn[1],cn=Gn(un,"int32"),hn=k(ln),fn=this.readSync(cn.dataId),to=this.readSync(nn.dataId),Xr=0;Xr<fn.length;++Xr){for(var uo=Xr*hn,co=to[uo],ho=0,e0=0;e0<hn;++e0){var lo=to[uo+e0];lo>co&&(co=lo,ho=e0)}fn[Xr]=ho}return cn},Mt.prototype.cumsum=function(nn,rn,an,sn){if(Hh(nn,"cumsum"),rn!==nn.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(nn.rank-1)+" but got axis="+rn);for(var un=Dt(nn.dtype,"int32"),ln=Gn(nn.shape,un),cn=this.readSync(ln.dataId),hn=this.readSync(nn.dataId),fn=nn.shape[nn.rank-1],to=sn?function(e0,lo){return e0+fn-lo-1}:function(e0,lo){return e0+lo},Xr=0;Xr<hn.length;Xr+=fn)for(var uo=0;uo<fn;uo++){var co=to(Xr,uo);if(uo===0)cn[co]=an?0:hn[co];else{var ho=to(Xr,uo-1);cn[co]=an?hn[ho]+cn[ho]:hn[co]+cn[ho]}}return ln},Mt.prototype.equal=function(nn,rn){return Hh([nn,rn],"equal"),this.broadcastedBinaryOp(nn,rn,"bool",function(an,sn){return an===sn?1:0})},Mt.prototype.notEqual=function(nn,rn){return Hh([nn,rn],"notEqual"),this.broadcastedBinaryOp(nn,rn,"bool",function(an,sn){return an!==sn?1:0})},Mt.prototype.less=function(nn,rn){return Hh([nn,rn],"less"),this.broadcastedBinaryOp(nn,rn,"bool",function(an,sn){return an<sn?1:0})},Mt.prototype.lessEqual=function(nn,rn){return Hh([nn,rn],"lessEqual"),this.broadcastedBinaryOp(nn,rn,"bool",function(an,sn){return an<=sn?1:0})},Mt.prototype.greater=function(nn,rn){return Hh([nn,rn],"greater"),this.broadcastedBinaryOp(nn,rn,"bool",function(an,sn){return an>sn?1:0})},Mt.prototype.greaterEqual=function(nn,rn){return Hh([nn,rn],"greaterEqual"),this.broadcastedBinaryOp(nn,rn,"bool",function(an,sn){return an>=sn?1:0})},Mt.prototype.logicalNot=function(nn){Hh(nn,"logicalNot");for(var rn=this.readSync(nn.dataId),an=new Uint8Array(rn.length),sn=0;sn<rn.length;++sn)an[sn]=rn[sn]?0:1;return this.makeOutput(an,nn.shape,"bool")},Mt.prototype.logicalAnd=function(nn,rn){return Hh([nn,rn],"logicalAnd"),this.broadcastedBinaryOp(nn,rn,"bool",function(an,sn){return an&&sn})},Mt.prototype.logicalOr=function(nn,rn){return Hh([nn,rn],"logicalOr"),this.broadcastedBinaryOp(nn,rn,"bool",function(an,sn){return an||sn})},Mt.prototype.select=function(nn,rn,an){Hh([nn,rn,an],"select");for(var sn=this.readSync(nn.dataId),un=this.readSync(rn.dataId),ln=this.readSync(an.dataId),cn=Gn(rn.shape,Dt(rn.dtype,an.dtype)),hn=this.readSync(cn.dataId),fn=0,to=nn.rank===0||nn.rank>1||rn.rank===1?1:k(rn.shape.slice(1)),Xr=0;Xr<sn.length;Xr++)for(var uo=0;uo<to;uo++)sn[Xr]===1?hn[fn++]=un[Xr]:hn[fn++]=ln[Xr];return cn},Mt.prototype.where=function(nn){Hh([nn],"where");var rn=this.readSync(nn.dataId);return na(nn.shape,rn)},Mt.prototype.topk=function(nn,rn,an){return Hh(nn,"topk"),ea(this.readSync(nn.dataId),nn.shape,nn.dtype,rn)},Mt.prototype.min=function(nn,rn){Hh(nn,"min"),Cn("min",rn,nn.rank);for(var an=bn(nn.shape,rn),sn=an[0],un=an[1],ln=Gn(sn,nn.dtype),cn=k(un),hn=this.readSync(ln.dataId),fn=this.readSync(nn.dataId),to=0;to<hn.length;++to){for(var Xr=to*cn,uo=fn[Xr],co=0;co<cn;++co){var ho=fn[Xr+co];ho<uo&&(uo=ho)}hn[to]=uo}return ln},Mt.prototype.minimum=function(nn,rn){return Hh([nn,rn],"minimum"),this.broadcastedBinaryOp(nn,rn,nn.dtype,function(an,sn){return Math.min(an,sn)})},Mt.prototype.mod=function(nn,rn){return Hh([nn,rn],"mod"),this.broadcastedBinaryOp(nn,rn,nn.dtype,function(an,sn){var un=an%sn;return an<0&&sn<0||an>=0&&sn>=0?un:(un+sn)%sn})},Mt.prototype.max=function(nn,rn){Hh(nn,"max"),Cn("max",rn,nn.rank);for(var an=bn(nn.shape,rn),sn=an[0],un=an[1],ln=Gn(sn,nn.dtype),cn=k(un),hn=this.readSync(ln.dataId),fn=this.readSync(nn.dataId),to=0;to<hn.length;++to){for(var Xr=to*cn,uo=fn[Xr],co=0;co<cn;++co){var ho=fn[Xr+co];ho>uo&&(uo=ho)}hn[to]=uo}return ln},Mt.prototype.maximum=function(nn,rn){return Hh([nn,rn],"maximum"),this.broadcastedBinaryOp(nn,rn,nn.dtype,function(an,sn){return Math.max(an,sn)})},Mt.prototype.all=function(nn,rn){Hh(nn,"all"),Cn("all",rn,nn.rank);for(var an=bn(nn.shape,rn),sn=an[0],un=an[1],ln=Gn(sn,nn.dtype),cn=k(un),hn=this.readSync(ln.dataId),fn=this.readSync(nn.dataId),to=0;to<hn.length;++to){for(var Xr=to*cn,uo=fn[Xr],co=0;co<cn;++co){var ho=fn[Xr+co];uo=uo&&ho}hn[to]=uo}return ln},Mt.prototype.any=function(nn,rn){Hh(nn,"any"),Cn("any",rn,nn.rank);for(var an=bn(nn.shape,rn),sn=an[0],un=an[1],ln=Gn(sn,nn.dtype),cn=k(un),hn=this.readSync(ln.dataId),fn=this.readSync(nn.dataId),to=0;to<hn.length;++to){for(var Xr=to*cn,uo=fn[Xr],co=0;co<cn;++co){var ho=fn[Xr+co];uo=uo||ho}hn[to]=uo}return ln},Mt.prototype.squaredDifference=function(nn,rn){return Hh([nn,rn],"squaredDifference"),this.broadcastedBinaryOp(nn,rn,nn.dtype,function(an,sn){var un=an-sn;return un*un})},Mt.prototype.ceil=function(nn){Hh(nn,"ceil");for(var rn=this.readSync(nn.dataId),an=new Float32Array(rn.length),sn=0;sn<rn.length;++sn)an[sn]=Math.ceil(rn[sn]);return this.makeOutput(an,nn.shape,"float32")},Mt.prototype.floor=function(nn){Hh(nn,"floor");for(var rn=this.readSync(nn.dataId),an=new Float32Array(rn.length),sn=0;sn<rn.length;++sn)an[sn]=Math.floor(rn[sn]);return this.makeOutput(an,nn.shape,"float32")},Mt.prototype.sign=function(nn){Hh(nn,"x");for(var rn=this.readSync(nn.dataId),an=new Float32Array(rn.length),sn=0;sn<rn.length;++sn)rn[sn]<0?an[sn]=-1:rn[sn]>0?an[sn]=1:an[sn]=0;return this.makeOutput(an,nn.shape,"float32")},Mt.prototype.isNaN=function(nn){Hh(nn,"x");for(var rn=this.readSync(nn.dataId),an=new Uint8Array(rn.length),sn=0;sn<rn.length;++sn)Number.isNaN(rn[sn])&&(an[sn]=1);return this.makeOutput(an,nn.shape,"bool")},Mt.prototype.isInf=function(nn){Hh(nn,"x");for(var rn=this.readSync(nn.dataId),an=new Uint8Array(rn.length),sn=0;sn<rn.length;++sn)Math.abs(rn[sn])===1/0&&(an[sn]=1);return this.makeOutput(an,nn.shape,"bool")},Mt.prototype.isFinite=function(nn){Hh(nn,"x");for(var rn=this.readSync(nn.dataId),an=new Uint8Array(rn.length),sn=0;sn<rn.length;++sn)Number.isFinite(rn[sn])&&(an[sn]=1);return this.makeOutput(an,nn.shape,"bool")},Mt.prototype.round=function(nn){Hh(nn,"round");for(var rn=this.readSync(nn.dataId),an=new Float32Array(rn.length),sn=0;sn<rn.length;++sn){var un=Math.floor(rn[sn]);rn[sn]-un<.5?an[sn]=Math.floor(rn[sn]):rn[sn]-un>.5?an[sn]=Math.ceil(rn[sn]):an[sn]=un%2==0?un:un+1}return this.makeOutput(an,nn.shape,"float32")},Mt.prototype.exp=function(nn){Hh(nn,"exp");for(var rn=this.readSync(nn.dataId),an=new Float32Array(rn.length),sn=0;sn<rn.length;++sn)an[sn]=Math.exp(rn[sn]);return this.makeOutput(an,nn.shape,"float32")},Mt.prototype.expm1=function(nn){Hh(nn,"expm1");for(var rn=this.readSync(nn.dataId),an=new Float32Array(rn.length),sn=0;sn<rn.length;++sn)an[sn]=Math.expm1(rn[sn]);return this.makeOutput(an,nn.shape,"float32")},Mt.prototype.log=function(nn){Hh(nn,"log");for(var rn=this.readSync(nn.dataId),an=new Float32Array(rn.length),sn=0;sn<rn.length;++sn){var un=rn[sn];an[sn]=Math.log(un)}return this.makeOutput(an,nn.shape,"float32")},Mt.prototype.log1p=function(nn){Hh(nn,"log1p");for(var rn=this.readSync(nn.dataId),an=new Float32Array(rn.length),sn=0;sn<rn.length;++sn){var un=rn[sn];an[sn]=Math.log1p(un)}return this.makeOutput(an,nn.shape,"float32")},Mt.prototype.sqrt=function(nn){Hh(nn,"sqrt");for(var rn=this.readSync(nn.dataId),an=new Float32Array(rn.length),sn=0;sn<rn.length;++sn){var un=rn[sn];an[sn]=Math.sqrt(un)}return this.makeOutput(an,nn.shape,"float32")},Mt.prototype.rsqrt=function(nn){Hh(nn,"rsqrt");for(var rn=this.readSync(nn.dataId),an=new Float32Array(rn.length),sn=0;sn<rn.length;++sn){var un=rn[sn];an[sn]=1/Math.sqrt(un)}return this.makeOutput(an,nn.shape,"float32")},Mt.prototype.reciprocal=function(nn){Hh(nn,"reciprocal");for(var rn=this.readSync(nn.dataId),an=new Float32Array(rn.length),sn=0;sn<rn.length;++sn)an[sn]=1/rn[sn];return this.makeOutput(an,nn.shape,"float32")},Mt.prototype.linear=function(nn){return nn},Mt.prototype.relu=function(nn){Hh(nn,"relu");for(var rn=Gn(nn.shape,nn.dtype),an=this.readSync(rn.dataId),sn=this.readSync(nn.dataId),un=0;un<sn.length;++un)an[un]=Math.max(0,sn[un]);return rn},Mt.prototype.relu6=function(nn){Hh(nn,"relu");for(var rn=Gn(nn.shape,nn.dtype),an=this.readSync(rn.dataId),sn=this.readSync(nn.dataId),un=0;un<sn.length;++un)an[un]=Math.min(Math.max(0,sn[un]),6);return rn},Mt.prototype.prelu=function(nn,rn){return Hh([nn,rn],"prelu"),this.broadcastedBinaryOp(nn,rn,nn.dtype,function(an,sn){return an<0?sn*an:an})},Mt.prototype.elu=function(nn){Hh(nn,"elu");for(var rn=new Float32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<an.length;++sn){var un=an[sn];rn[sn]=un>=0?un:Math.exp(un)-1}return this.makeOutput(rn,nn.shape,"float32")},Mt.prototype.eluDer=function(nn,rn){Hh([nn,rn],"eluDer");for(var an=new Float32Array(rn.size),sn=this.readSync(rn.dataId),un=this.readSync(nn.dataId),ln=0;ln<sn.length;++ln){var cn=sn[ln];an[ln]=cn>=1?un[ln]:un[ln]*(cn+1)}return this.makeOutput(an,rn.shape,"float32")},Mt.prototype.selu=function(nn){Hh(nn,"selu");for(var rn=bs,an=ws,sn=new Float32Array(nn.size),un=this.readSync(nn.dataId),ln=0;ln<un.length;++ln){var cn=un[ln];sn[ln]=cn>=0?an*cn:rn*(Math.exp(cn)-1)}return this.makeOutput(sn,nn.shape,"float32")},Mt.prototype.clip=function(nn,rn,an){Hh(nn,"clip");for(var sn=new Float32Array(nn.size),un=this.readSync(nn.dataId),ln=0;ln<un.length;++ln){var cn=un[ln];sn[ln]=cn>an?an:cn<rn?rn:cn}return this.makeOutput(sn,nn.shape,"float32")},Mt.prototype.abs=function(nn){for(var rn=new Float32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<an.length;++sn)rn[sn]=Math.abs(an[sn]);return this.makeOutput(rn,nn.shape,"float32")},Mt.prototype.complexAbs=function(nn){for(var rn=new Float32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<nn.size;++sn){var un=an[2*sn],ln=an[2*sn+1];rn[sn]=Math.hypot(un,ln)}return this.makeOutput(rn,nn.shape,"float32")},Mt.prototype.int=function(nn){Hh(nn,"int");for(var rn=new Int32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<an.length;++sn)rn[sn]=an[sn];return this.makeOutput(rn,nn.shape,"int32")},Mt.prototype.sigmoid=function(nn){Hh(nn,"sigmoid");for(var rn=new Float32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<an.length;++sn)rn[sn]=1/(1+Math.exp(-an[sn]));return this.makeOutput(rn,nn.shape,"float32")},Mt.prototype.softplus=function(nn){Hh(nn,"softplus");for(var rn=Math.log(11920928955078125e-23)+2,an=new Float32Array(nn.size),sn=this.readSync(nn.dataId),un=0;un<sn.length;++un){var ln=sn[un]>-rn,cn=sn[un]<rn,hn=Math.exp(sn[un]),fn=void 0;fn=cn?hn:ln?sn[un]:Math.log(1+hn),an[un]=fn}return this.makeOutput(an,nn.shape,"float32")},Mt.prototype.sin=function(nn){Hh(nn,"sin");for(var rn=new Float32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<an.length;++sn)rn[sn]=Math.sin(an[sn]);return this.makeOutput(rn,nn.shape,"float32")},Mt.prototype.cos=function(nn){Hh(nn,"cos");for(var rn=new Float32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<an.length;++sn)rn[sn]=Math.cos(an[sn]);return this.makeOutput(rn,nn.shape,"float32")},Mt.prototype.tan=function(nn){Hh(nn,"tan");for(var rn=new Float32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<an.length;++sn)rn[sn]=Math.tan(an[sn]);return this.makeOutput(rn,nn.shape,"float32")},Mt.prototype.asin=function(nn){Hh(nn,"asin");for(var rn=new Float32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<an.length;++sn)rn[sn]=Math.asin(an[sn]);return this.makeOutput(rn,nn.shape,"float32")},Mt.prototype.acos=function(nn){Hh(nn,"acos");for(var rn=new Float32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<an.length;++sn)rn[sn]=Math.acos(an[sn]);return this.makeOutput(rn,nn.shape,"float32")},Mt.prototype.atan=function(nn){Hh(nn,"atan");for(var rn=new Float32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<an.length;++sn)rn[sn]=Math.atan(an[sn]);return this.makeOutput(rn,nn.shape,"float32")},Mt.prototype.atan2=function(nn,rn){return Hh([nn,rn],"atan2"),this.broadcastedBinaryOp(nn,rn,nn.dtype,function(an,sn){return Math.atan2(an,sn)})},Mt.prototype.sinh=function(nn){Hh(nn,"sinh");for(var rn=new Float32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<an.length;++sn)rn[sn]=Math.sinh(an[sn]);return this.makeOutput(rn,nn.shape,"float32")},Mt.prototype.cosh=function(nn){Hh(nn,"cosh");for(var rn=new Float32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<an.length;++sn)rn[sn]=Math.cosh(an[sn]);return this.makeOutput(rn,nn.shape,"float32")},Mt.prototype.tanh=function(nn){Hh(nn,"tanh");for(var rn=new Float32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<an.length;++sn)rn[sn]=D(an[sn]);return this.makeOutput(rn,nn.shape,"float32")},Mt.prototype.asinh=function(nn){Hh(nn,"asinh");for(var rn=new Float32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<an.length;++sn)rn[sn]=Math.asinh(an[sn]);return this.makeOutput(rn,nn.shape,"float32")},Mt.prototype.acosh=function(nn){Hh(nn,"acosh");for(var rn=new Float32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<an.length;++sn)rn[sn]=Math.acosh(an[sn]);return this.makeOutput(rn,nn.shape,"float32")},Mt.prototype.atanh=function(nn){Hh(nn,"atanh");for(var rn=new Float32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<an.length;++sn)rn[sn]=Math.atanh(an[sn]);return this.makeOutput(rn,nn.shape,"float32")},Mt.prototype.erf=function(nn){Hh(nn,"erf");for(var rn=new Float32Array(nn.size),an=this.readSync(nn.dataId),sn=0;sn<an.length;++sn){var un=Math.sign(an[sn]),ln=Math.abs(an[sn]),cn=1/(1+.3275911*ln);rn[sn]=un*(1-((((1.061405429*cn-1.453152027)*cn+1.421413741)*cn-.284496736)*cn+.254829592)*cn*Math.exp(-ln*ln))}return this.makeOutput(rn,nn.shape,"float32")},Mt.prototype.step=function(nn,rn){rn===void 0&&(rn=0),Hh(nn,"step");for(var an=new Float32Array(nn.size),sn=this.readSync(nn.dataId),un=0;un<sn.length;++un){var ln=sn[un];isNaN(ln)?an[un]=NaN:an[un]=ln>0?1:rn}return this.makeOutput(an,nn.shape,"float32")},Mt.prototype.fusedConv2d=function(nn){var rn=nn.input,an=nn.filter,sn=nn.convInfo,un=nn.bias,ln=nn.activation,cn=nn.preluActivationWeights,hn=this.conv2d(rn,an,sn);return un&&(hn=this.add(hn,un)),ln&&(hn=qh(this,hn,ln,cn)),hn},Mt.prototype.conv2d=function(nn,rn,an){Hh([nn,rn],"conv2d");for(var sn=an.filterHeight,un=an.filterWidth,ln=an.dilationHeight,cn=an.dilationWidth,hn=an.padInfo.left,fn=an.padInfo.top,to=an.dataFormat==="channelsLast",Xr=dr(an.outShape,nn.dtype),uo=nn.strides[0],co=to?nn.strides[1]:nn.strides[2],ho=to?nn.strides[2]:1,e0=to?1:nn.strides[1],lo=Xr.strides[0],mo=to?Xr.strides[1]:Xr.strides[2],fo=to?Xr.strides[2]:1,Uo=to?1:Xr.strides[1],t0=this.readSync(nn.dataId),n0=this.readSync(rn.dataId),i0=Xr.values,a0=0;a0<an.batchSize;++a0)for(var s0=a0*uo,l0=a0*lo,d0=0;d0<an.outHeight;++d0)for(var h0=l0+d0*mo,v0=d0*an.strideHeight-fn,g0=0;g0<sn;g0++){var m0=v0+g0*ln;if(!(m0<0||m0>=an.inHeight))for(var u0=g0*rn.strides[0],c0=s0+m0*co,r0=0;r0<an.outWidth;++r0)for(var o0=h0+r0*fo,f0=r0*an.strideWidth-hn,p0=0;p0<un;p0++){var y0=f0+p0*cn;if(!(y0<0||y0>=an.inWidth))for(var x0=c0+y0*ho,k0=u0+p0*rn.strides[1],b0=0;b0<an.inChannels;++b0){for(var E0=t0[x0+b0*e0],_0=0;_0<an.outChannels;++_0)i0[o0+_0*Uo]+=E0*n0[k0+_0];k0+=an.outChannels}}}return Xr.toTensor()},Mt.prototype.conv3d=function(nn,rn,an){for(var sn=an.filterDepth,un=an.filterHeight,ln=an.filterWidth,cn=an.dilationDepth,hn=an.dilationHeight,fn=an.dilationWidth,to=an.padInfo.front,Xr=an.padInfo.left,uo=an.padInfo.top,co=dr(an.outShape,nn.dtype),ho=this.readSync(nn.dataId),e0=this.readSync(rn.dataId),lo=co.values,mo=0;mo<an.batchSize;++mo)for(var fo=mo*nn.strides[0],Uo=mo*co.strides[0],t0=0;t0<an.outDepth;++t0)for(var n0=Uo+t0*co.strides[1],i0=t0*an.strideDepth-to,a0=0;a0<sn;a0++){var s0=i0+a0*cn;if(!(s0<0||s0>=an.inDepth))for(var l0=a0*rn.strides[0],d0=fo+s0*nn.strides[1],h0=0;h0<an.outHeight;++h0)for(var v0=n0+h0*co.strides[2],g0=h0*an.strideHeight-uo,m0=0;m0<un;m0++){var u0=g0+m0*hn;if(!(u0<0||u0>=an.inHeight))for(var c0=l0+m0*rn.strides[1],r0=d0+u0*nn.strides[2],o0=0;o0<an.outWidth;++o0)for(var f0=v0+o0*an.outChannels,p0=o0*an.strideWidth-Xr,y0=0;y0<ln;y0++){var x0=p0+y0*fn;if(!(x0<0||x0>=an.inWidth))for(var k0=c0+y0*rn.strides[2],b0=r0+x0*an.inChannels,E0=k0,_0=0;_0<an.inChannels;++_0){for(var A0=ho[b0+_0],P0=0;P0<an.outChannels;++P0)lo[f0+P0]+=A0*e0[E0+P0];E0+=an.outChannels}}}}return co.toTensor()},Mt.prototype.conv2dDerInput=function(nn,rn,an){Hh([nn,rn],"conv2dDerInput");for(var sn=dr(an.inShape,"float32"),un=sn.values,ln=this.readSync(nn.dataId),cn=this.readSync(rn.dataId),hn=rn.strides,fn=hn[0],to=hn[1],Xr=hn[2],uo=an.batchSize,co=an.filterHeight,ho=an.filterWidth,e0=an.inChannels,lo=an.inHeight,mo=an.inWidth,fo=an.outChannels,Uo=an.outHeight,t0=an.outWidth,n0=an.strideHeight,i0=an.strideWidth,a0=an.dataFormat,s0=co-1-an.padInfo.top,l0=ho-1-an.padInfo.left,d0=a0==="channelsLast",h0=sn.strides[0],v0=d0?sn.strides[1]:sn.strides[2],g0=d0?sn.strides[2]:1,m0=d0?1:sn.strides[1],u0=nn.strides[0],c0=d0?nn.strides[1]:nn.strides[2],r0=d0?nn.strides[2]:1,o0=d0?1:nn.strides[1],f0=0;f0<uo;++f0)for(var p0=0;p0<e0;++p0)for(var y0=0;y0<lo;++y0)for(var x0=y0-s0,k0=Math.max(0,Math.ceil(x0/n0)),b0=Math.min(Uo,(co+x0)/n0),E0=0;E0<mo;++E0){for(var _0=E0-l0,A0=Math.max(0,Math.ceil(_0/i0)),P0=Math.min(t0,(ho+_0)/i0),R0=0,S0=k0;S0<b0;++S0)for(var T0=S0*n0-x0,C0=A0;C0<P0;++C0)for(var w0=u0*f0+c0*S0+r0*C0,I0=fn*(co-1-T0)+to*(ho-1-(C0*i0-_0))+Xr*p0,$0=0;$0<fo;++$0)R0+=ln[w0+o0*$0]*cn[I0+$0];un[h0*f0+v0*y0+g0*E0+m0*p0]=R0}return sn.toTensor()},Mt.prototype.conv3dDerInput=function(nn,rn,an){for(var sn=dr(an.inShape,"float32"),un=sn.values,ln=sn.strides,cn=ln[0],hn=ln[1],fn=ln[2],to=ln[3],Xr=this.readSync(nn.dataId),uo=nn.strides,co=uo[0],ho=uo[1],e0=uo[2],lo=uo[3],mo=this.readSync(rn.dataId),fo=rn.strides,Uo=fo[0],t0=fo[1],n0=fo[2],i0=fo[3],a0=an.batchSize,s0=an.filterDepth,l0=an.filterHeight,d0=an.filterWidth,h0=an.inChannels,v0=an.inDepth,g0=an.inHeight,m0=an.inWidth,u0=an.outChannels,c0=an.outDepth,r0=an.outHeight,o0=an.outWidth,f0=an.strideDepth,p0=an.strideHeight,y0=an.strideWidth,x0=s0-1-an.padInfo.front,k0=l0-1-an.padInfo.top,b0=d0-1-an.padInfo.left,E0=0;E0<a0;++E0)for(var _0=0;_0<h0;++_0)for(var A0=0;A0<v0;++A0)for(var P0=A0-x0,R0=Math.max(0,Math.ceil(P0/f0)),S0=Math.min(c0,(s0+P0)/f0),T0=0;T0<g0;++T0)for(var C0=T0-k0,w0=Math.max(0,Math.ceil(C0/p0)),I0=Math.min(r0,(l0+C0)/p0),$0=0;$0<m0;++$0){for(var B0=$0-b0,M0=Math.max(0,Math.ceil(B0/y0)),D0=Math.min(o0,(d0+B0)/y0),G0=0,F0=R0;F0<S0;++F0)for(var V0=F0*f0-P0,N0=w0;N0<I0;++N0)for(var L0=N0*p0-C0,O0=M0;O0<D0;++O0)for(var z0=co*E0+ho*F0+e0*N0+lo*O0,j0=Uo*(s0-1-V0)+t0*(l0-1-L0)+n0*(d0-1-(O0*y0-B0))+i0*_0,W0=0;W0<u0;++W0)G0+=Xr[z0+W0]*mo[j0+W0];un[cn*E0+hn*A0+fn*T0+to*$0+_0]=G0}return sn.toTensor()},Mt.prototype.conv2dDerFilter=function(nn,rn,an){Hh([nn,rn],"conv2dDerFilter");for(var sn=an.strideHeight,un=an.strideWidth,ln=an.filterHeight,cn=an.filterWidth,hn=an.dataFormat==="channelsLast",fn=dr(an.filterShape,"float32"),to=an.padInfo.left,Xr=an.padInfo.top,uo=this.bufferSync(nn),co=this.bufferSync(rn),ho=0;ho<ln;++ho)for(var e0=Math.max(0,Math.ceil((Xr-ho)/sn)),lo=Math.min(an.outHeight,(an.inHeight+Xr-ho)/sn),mo=0;mo<cn;++mo)for(var fo=Math.max(0,Math.ceil((to-mo)/un)),Uo=Math.min(an.outWidth,(an.inWidth+to-mo)/un),t0=0;t0<an.inChannels;++t0)for(var n0=0;n0<an.outChannels;++n0){for(var i0=0,a0=0;a0<an.batchSize;++a0)for(var s0=e0;s0<lo;++s0)for(var l0=ho+s0*sn-Xr,d0=fo;d0<Uo;++d0){var h0=mo+d0*un-to;i0+=hn?uo.get(a0,l0,h0,t0)*co.get(a0,s0,d0,n0):uo.get(a0,t0,l0,h0)*co.get(a0,n0,s0,d0)}fn.set(i0,ho,mo,t0,n0)}return fn.toTensor()},Mt.prototype.conv3dDerFilter=function(nn,rn,an){for(var sn=an.strideDepth,un=an.strideHeight,ln=an.strideWidth,cn=an.filterDepth,hn=an.filterHeight,fn=an.filterWidth,to=dr(an.filterShape,"float32"),Xr=to.values,uo=to.strides,co=uo[0],ho=uo[1],e0=uo[2],lo=uo[3],mo=this.readSync(rn.dataId),fo=rn.strides,Uo=fo[0],t0=fo[1],n0=fo[2],i0=fo[3],a0=this.readSync(nn.dataId),s0=nn.strides,l0=s0[0],d0=s0[1],h0=s0[2],v0=s0[3],g0=an.padInfo.front,m0=an.padInfo.left,u0=an.padInfo.top,c0=0;c0<cn;++c0)for(var r0=Math.max(0,Math.ceil((g0-c0)/sn)),o0=Math.min(an.outDepth,(an.inDepth+g0-c0)/sn),f0=c0*co,p0=0;p0<hn;++p0)for(var y0=Math.max(0,Math.ceil((u0-p0)/un)),x0=Math.min(an.outHeight,(an.inHeight+u0-p0)/un),k0=p0*ho+f0,b0=0;b0<fn;++b0)for(var E0=Math.max(0,Math.ceil((m0-b0)/ln)),_0=Math.min(an.outWidth,(an.inWidth+m0-b0)/ln),A0=b0*e0+k0,P0=0;P0<an.inChannels;++P0)for(var R0=P0*lo+A0,S0=0;S0<an.outChannels;++S0){for(var T0=0,C0=0;C0<an.batchSize;++C0)for(var w0=C0*l0,I0=C0*Uo,$0=r0;$0<o0;++$0)for(var B0=(c0+$0*sn-g0)*d0+w0,M0=$0*t0+I0,D0=y0;D0<x0;++D0)for(var G0=(p0+D0*un-u0)*h0+B0,F0=D0*n0+M0,V0=E0;V0<_0;++V0){var N0=V0*i0+F0;T0+=a0[(b0+V0*ln-m0)*v0+G0+P0]*mo[N0+S0]}Xr[R0+S0]=T0}return to.toTensor()},Mt.prototype.fusedDepthwiseConv2D=function(nn){var rn=nn.input,an=nn.filter,sn=nn.convInfo,un=nn.bias,ln=nn.activation,cn=nn.preluActivationWeights,hn=this.depthwiseConv2D(rn,an,sn);return un&&(hn=this.add(hn,un)),ln&&(hn=qh(this,hn,ln,cn)),hn},Mt.prototype.depthwiseConv2D=function(nn,rn,an){Hh([nn,rn],"depthwiseConv2D");for(var sn=an.filterHeight,un=an.filterWidth,ln=an.dilationHeight,cn=an.dilationWidth,hn=an.padInfo.left,fn=an.padInfo.top,to=an.outChannels/an.inChannels,Xr=dr(an.outShape,nn.dtype),uo=this.readSync(nn.dataId),co=this.readSync(rn.dataId),ho=Xr.values,e0=0;e0<an.batchSize;++e0)for(var lo=e0*nn.strides[0],mo=e0*Xr.strides[0],fo=0;fo<an.outHeight;++fo)for(var Uo=mo+fo*Xr.strides[1],t0=fo*an.strideHeight-hn,n0=0;n0<sn;++n0){var i0=t0+n0*ln;if(!(i0<0||i0>=an.inHeight))for(var a0=n0*rn.strides[0],s0=lo+i0*nn.strides[1],l0=0;l0<an.outWidth;++l0)for(var d0=Uo+l0*Xr.strides[2],h0=l0*an.strideWidth-fn,v0=0;v0<un;++v0){var g0=h0+v0*cn;if(!(g0<0||g0>=an.inWidth))for(var m0=a0+v0*rn.strides[1],u0=s0+g0*an.inChannels,c0=d0,r0=m0,o0=0;o0<an.inChannels;++o0){for(var f0=uo[u0+o0],p0=0;p0<to;++p0)ho[c0+p0]+=f0*co[r0+p0];c0+=to,r0+=to}}}return Xr.toTensor()},Mt.prototype.depthwiseConv2DDerInput=function(nn,rn,an){Hh([nn,rn],"depthwiseConv2DDerInput");for(var sn=dr(an.inShape,"float32"),un=sn.values,ln=sn.strides,cn=ln[0],hn=ln[1],fn=ln[2],to=this.readSync(nn.dataId),Xr=nn.strides,uo=Xr[0],co=Xr[1],ho=Xr[2],e0=this.readSync(rn.dataId),lo=rn.strides,mo=lo[0],fo=lo[1],Uo=lo[2],t0=an.batchSize,n0=an.filterHeight,i0=an.filterWidth,a0=an.inChannels,s0=an.inHeight,l0=an.inWidth,d0=an.outChannels,h0=an.outHeight,v0=an.outWidth,g0=an.strideHeight,m0=an.strideWidth,u0=n0-1-an.padInfo.top,c0=i0-1-an.padInfo.left,r0=d0/a0,o0=0;o0<t0;++o0)for(var f0=0;f0<a0;++f0)for(var p0=0;p0<s0;++p0)for(var y0=p0-u0,x0=Math.max(0,Math.ceil(y0/g0)),k0=Math.min(h0,(n0+y0)/g0),b0=0;b0<l0;++b0){for(var E0=b0-c0,_0=Math.max(0,Math.ceil(E0/m0)),A0=Math.min(v0,(i0+E0)/m0),P0=0,R0=x0;R0<k0;++R0)for(var S0=R0*g0-y0,T0=_0;T0<A0;++T0)for(var C0=uo*o0+co*R0+ho*T0,w0=mo*(n0-1-S0)+fo*(i0-1-(T0*m0-E0))+Uo*f0,I0=0;I0<r0;++I0)P0+=to[C0+(f0*r0+I0)]*e0[w0+I0];un[cn*o0+hn*p0+fn*b0+f0]=P0}return sn.toTensor()},Mt.prototype.depthwiseConv2DDerFilter=function(nn,rn,an){Hh([nn,rn],"depthwiseConv2DDerFilter");for(var sn=an.strideHeight,un=an.strideWidth,ln=an.filterHeight,cn=an.filterWidth,hn=dr(an.filterShape,"float32"),fn=an.padInfo.left,to=an.padInfo.top,Xr=an.outChannels/an.inChannels,uo=this.bufferSync(nn),co=this.bufferSync(rn),ho=0;ho<ln;++ho)for(var e0=Math.max(0,Math.ceil((to-ho)/sn)),lo=Math.min(an.outHeight,(an.inHeight+to-ho)/sn),mo=0;mo<cn;++mo)for(var fo=Math.max(0,Math.ceil((fn-mo)/un)),Uo=Math.min(an.outWidth,(an.inWidth+fn-mo)/un),t0=0;t0<an.outChannels;++t0){for(var n0=Math.trunc(t0/Xr),i0=t0%Xr,a0=0,s0=0;s0<an.batchSize;++s0)for(var l0=e0;l0<lo;++l0)for(var d0=ho+l0*sn-to,h0=fo;h0<Uo;++h0){var v0=mo+h0*un-fn;a0+=uo.get(s0,d0,v0,n0)*co.get(s0,l0,h0,t0)}hn.set(a0,ho,mo,n0,i0)}return hn.toTensor()},Mt.prototype.tile=function(nn,rn){return Hh(nn,"tile"),ta(this.bufferSync(nn),rn)},Mt.prototype.pad=function(nn,rn,an){Hh(nn,"pad");var sn=rn.map(function(Xr,uo){return Xr[0]+nn.shape[uo]+Xr[1]}),un=rn.map(function(Xr){return Xr[0]}),ln=this.bufferSync(nn),cn=dr(sn,nn.dtype);an!==0&&cn.values.fill(an);for(var hn=0;hn<nn.size;hn++){var fn=ln.indexToLoc(hn),to=fn.map(function(Xr,uo){return Xr+un[uo]});cn.set.apply(cn,[ln.get.apply(ln,fn)].concat(to))}return cn.toTensor()},Mt.prototype.transpose=function(nn,rn){Hh(nn,"transpose");for(var an=new Array(nn.rank),sn=0;sn<an.length;sn++)an[sn]=nn.shape[rn[sn]];var un=this.readSync(nn.dataId),ln=dr(an,nn.dtype),cn=this.bufferSync(nn);for(sn=0;sn<nn.size;++sn){for(var hn=cn.indexToLoc(sn),fn=new Array(hn.length),to=0;to<fn.length;to++)fn[to]=hn[rn[to]];var Xr=ln.locToIndex(fn);ln.values[Xr]=un[sn]}return ln.toTensor()},Mt.prototype.gather=function(nn,rn,an){Hh([nn,rn],"gather");var sn=nn.shape.slice(),un=this.readSync(rn.dataId);sn[an]=un.length;for(var ln=dr(sn,nn.dtype),cn=this.bufferSync(nn),hn=0;hn<ln.size;++hn){var fn=ln.indexToLoc(hn),to=fn.slice();to[an]=un[fn[an]];var Xr=cn.locToIndex(to);ln.values[hn]=cn.values[Xr]}return ln.toTensor()},Mt.prototype.batchToSpaceND=function(nn,rn,an){Hh([nn],"batchToSpaceND");var sn=rn.reduce(function(to,Xr){return to*Xr}),un=zr(nn.shape,rn,sn),ln=Gr(un.length,rn.length),cn=Hr(nn.shape,rn,sn),hn=qr(an,rn.length),fn=Kr(cn,an,rn.length);return nn.reshape(un).transpose(ln).reshape(cn).slice(hn,fn)},Mt.prototype.spaceToBatchND=function(nn,rn,an){Hh([nn],"spaceToBatchND");var sn=rn.reduce(function(Xr,uo){return Xr*uo}),un=[[0,0]];un.push.apply(un,an);for(var ln=1+rn.length;ln<nn.shape.length;++ln)un.push([0,0]);var cn=nn.pad(un),hn=zr(cn.shape,rn,sn,!1),fn=Gr(hn.length,rn.length,!1),to=Hr(cn.shape,rn,sn,!1);return cn.reshape(hn).transpose(fn).reshape(to)},Mt.prototype.pool=function(nn,rn,an){Hh(nn,"pool");for(var sn=rn.strideHeight,un=rn.strideWidth,ln=rn.dilationHeight,cn=rn.dilationWidth,hn=rn.effectiveFilterHeight,fn=rn.effectiveFilterWidth,to=rn.padInfo.top,Xr=rn.padInfo.left,uo=an==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,co=this.readSync(nn.dataId),ho=dr(rn.outShape,nn.dtype),e0=ho.values,lo=rn.outShape[1]*rn.outShape[2]*rn.outShape[3],mo=rn.outShape[2]*rn.outShape[3],fo=rn.outShape[3],Uo=0;Uo<rn.batchSize;++Uo)for(var t0=Uo*lo,n0=Uo*nn.strides[0],i0=0;i0<rn.inChannels;++i0)for(var a0=0;a0<rn.outHeight;++a0)for(var s0=a0*sn-to,l0=Math.max(0,s0),d0=Math.min(rn.inHeight,hn+s0),h0=t0+a0*mo,v0=0;v0<rn.outWidth;++v0){for(var g0=v0*un-Xr,m0=Math.max(0,g0),u0=Math.min(rn.inWidth,fn+g0),c0=uo,r0=0,o0=0,f0=l0;f0<d0;f0+=ln){for(var p0=n0+f0*nn.strides[1],y0=m0;y0<u0;y0+=cn){var x0=co[p0+y0*nn.strides[2]+i0];an==="max"&&x0>c0?c0=x0:an==="avg"&&(r0+=x0,o0++)}if(isNaN(c0))break}e0[h0+v0*fo+i0]=an==="avg"?r0/o0:c0}return ho.toTensor()},Mt.prototype.maxPool=function(nn,rn){return this.pool(nn,rn,"max")},Mt.prototype.maxPoolPositions=function(nn,rn){for(var an=dr(rn.outShape,"int32"),sn=rn.strideHeight,un=rn.strideWidth,ln=rn.dilationHeight,cn=rn.dilationWidth,hn=rn.effectiveFilterHeight,fn=rn.effectiveFilterWidth,to=rn.padInfo.top,Xr=rn.padInfo.left,uo=this.bufferSync(nn),co=0;co<rn.batchSize;++co)for(var ho=0;ho<rn.inChannels;++ho)for(var e0=0;e0<rn.outHeight;++e0){for(var lo=e0*sn-to,mo=lo;mo<0;)mo+=ln;for(var fo=Math.min(rn.inHeight,hn+lo),Uo=0;Uo<rn.outWidth;++Uo){for(var t0=Uo*un-Xr,n0=t0;n0<0;)n0+=cn;for(var i0=Math.min(rn.inWidth,fn+t0),a0=Number.NEGATIVE_INFINITY,s0=-1,l0=mo;l0<fo;l0+=ln)for(var d0=l0-lo,h0=n0;h0<i0;h0+=cn){var v0=h0-t0,g0=uo.get(co,l0,h0,ho);g0>a0&&(a0=g0,s0=d0*fn+v0)}an.set(s0,co,e0,Uo,ho)}}return an.toTensor()},Mt.prototype.maxPoolBackprop=function(nn,rn,an,sn){Hh([rn,an],"maxPoolBackprop");for(var un=this.maxPoolPositions(rn,sn),ln=sn.strideHeight,cn=sn.strideWidth,hn=sn.dilationHeight,fn=sn.dilationWidth,to=sn.effectiveFilterHeight,Xr=sn.effectiveFilterWidth,uo=Xr-1-sn.padInfo.left,co=to-1-sn.padInfo.top,ho=dr(rn.shape,"float32"),e0=this.bufferSync(un),lo=this.bufferSync(nn),mo=0;mo<sn.batchSize;++mo)for(var fo=0;fo<sn.inChannels;++fo)for(var Uo=0;Uo<sn.inHeight;++Uo)for(var t0=0;t0<sn.inWidth;++t0){for(var n0=Uo-co,i0=t0-uo,a0=0,s0=0;s0<to;s0+=hn){var l0=(n0+s0)/ln;if(!(l0<0||l0>=sn.outHeight||Math.floor(l0)!==l0))for(var d0=0;d0<Xr;d0+=fn){var h0=(i0+d0)/cn;if(!(h0<0||h0>=sn.outWidth||Math.floor(h0)!==h0)){var v0=to*Xr-1-e0.get(mo,l0,h0,fo)===s0*Xr+d0?1:0;v0!==0&&(a0+=lo.get(mo,l0,h0,fo)*v0)}}}ho.set(a0,mo,Uo,t0,fo)}return ho.toTensor()},Mt.prototype.avgPoolBackprop=function(nn,rn,an){Hh([nn,rn],"avgPoolBackprop");for(var sn=an.strideHeight,un=an.strideWidth,ln=an.filterHeight,cn=an.filterWidth,hn=an.dilationHeight,fn=an.dilationWidth,to=an.effectiveFilterHeight,Xr=an.effectiveFilterWidth,uo=Xr-1-an.padInfo.left,co=to-1-an.padInfo.top,ho=dr(rn.shape,"float32"),e0=1/(ln*cn),lo=this.bufferSync(nn),mo=0;mo<an.batchSize;++mo)for(var fo=0;fo<an.inChannels;++fo)for(var Uo=0;Uo<an.inHeight;++Uo)for(var t0=0;t0<an.inWidth;++t0){for(var n0=Uo-co,i0=t0-uo,a0=0,s0=0;s0<to;s0+=hn){var l0=(n0+s0)/sn;if(!(l0<0||l0>=an.outHeight||Math.floor(l0)!==l0))for(var d0=0;d0<Xr;d0+=fn){var h0=(i0+d0)/un;h0<0||h0>=an.outWidth||Math.floor(h0)!==h0||(a0+=lo.get(mo,l0,h0,fo))}}ho.set(a0*e0,mo,Uo,t0,fo)}return ho.toTensor()},Mt.prototype.pool3d=function(nn,rn,an){Hh(nn,"pool3d");for(var sn=rn.strideDepth,un=rn.strideHeight,ln=rn.strideWidth,cn=rn.dilationDepth,hn=rn.dilationHeight,fn=rn.dilationWidth,to=rn.effectiveFilterDepth,Xr=rn.effectiveFilterHeight,uo=rn.effectiveFilterWidth,co=rn.padInfo.front,ho=rn.padInfo.top,e0=rn.padInfo.left,lo=an==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,mo=this.readSync(nn.dataId),fo=dr(rn.outShape,nn.dtype),Uo=fo.values,t0=rn.outShape[1]*rn.outShape[2]*rn.outShape[3]*rn.outShape[4],n0=rn.outShape[2]*rn.outShape[3]*rn.outShape[4],i0=rn.outShape[3]*rn.outShape[4],a0=rn.outShape[4],s0=0;s0<rn.batchSize;++s0)for(var l0=s0*t0,d0=s0*nn.strides[0],h0=0;h0<rn.inChannels;++h0)for(var v0=0;v0<rn.outDepth;++v0){for(var g0=v0*sn-co,m0=g0;m0<0;)m0+=cn;for(var u0=Math.min(rn.inDepth,to+g0),c0=l0+v0*n0,r0=0;r0<rn.outHeight;++r0){for(var o0=r0*un-ho,f0=o0;f0<0;)f0+=hn;for(var p0=Math.min(rn.inHeight,Xr+o0),y0=c0+r0*i0,x0=0;x0<rn.outWidth;++x0){for(var k0=x0*ln-e0,b0=k0;b0<0;)b0+=fn;for(var E0=Math.min(rn.inWidth,uo+k0),_0=y0+x0*a0,A0=lo,P0=0,R0=0,S0=m0;S0<u0;S0+=cn){for(var T0=d0+S0*nn.strides[1],C0=f0;C0<p0;C0+=hn){for(var w0=T0+C0*nn.strides[2],I0=b0;I0<E0;I0+=fn){var $0=mo[w0+I0*nn.strides[3]+h0];if(an==="max"&&$0>A0?A0=$0:an==="avg"&&(P0+=$0,R0++),isNaN(A0))break}if(isNaN(A0))break}if(isNaN(A0))break}Uo[_0+h0]=an==="avg"?P0/R0:A0}}}return fo.toTensor()},Mt.prototype.avgPool3d=function(nn,rn){return Hh(nn,"avgPool3d"),this.pool3d(nn,rn,"avg").toFloat()},Mt.prototype.avgPool3dBackprop=function(nn,rn,an){Hh([nn,rn],"avgPool3dBackprop");for(var sn=an.strideDepth,un=an.strideHeight,ln=an.strideWidth,cn=an.filterDepth,hn=an.filterHeight,fn=an.filterWidth,to=an.dilationDepth,Xr=an.dilationHeight,uo=an.dilationWidth,co=an.effectiveFilterDepth,ho=an.effectiveFilterHeight,e0=an.effectiveFilterWidth,lo=co-1-an.padInfo.front,mo=e0-1-an.padInfo.left,fo=ho-1-an.padInfo.top,Uo=dr(rn.shape,"float32"),t0=1/(cn*hn*fn),n0=this.bufferSync(nn),i0=0;i0<an.batchSize;++i0)for(var a0=0;a0<an.inChannels;++a0)for(var s0=0;s0<an.inDepth;++s0)for(var l0=0;l0<an.inHeight;++l0)for(var d0=0;d0<an.inWidth;++d0){for(var h0=s0-lo,v0=l0-fo,g0=d0-mo,m0=0,u0=0;u0<co;u0+=to){var c0=(h0+u0)/sn;if(!(c0<0||c0>=an.outDepth||Math.floor(c0)!==c0))for(var r0=0;r0<ho;r0+=Xr){var o0=(v0+r0)/un;if(!(o0<0||o0>=an.outHeight||Math.floor(o0)!==o0))for(var f0=0;f0<e0;f0+=uo){var p0=(g0+f0)/ln;p0<0||p0>=an.outWidth||Math.floor(p0)!==p0||(m0+=n0.get(i0,c0,o0,p0,a0))}}}Uo.set(m0*t0,i0,s0,l0,d0,a0)}return Uo.toTensor()},Mt.prototype.maxPool3d=function(nn,rn){return Hh(nn,"maxPool3d"),this.pool3d(nn,rn,"max").toFloat()},Mt.prototype.maxPool3dPositions=function(nn,rn){for(var an=dr(rn.outShape,"int32"),sn=rn.strideDepth,un=rn.strideHeight,ln=rn.strideWidth,cn=rn.dilationDepth,hn=rn.dilationHeight,fn=rn.dilationWidth,to=rn.effectiveFilterDepth,Xr=rn.effectiveFilterHeight,uo=rn.effectiveFilterWidth,co=rn.padInfo.front,ho=rn.padInfo.top,e0=rn.padInfo.left,lo=this.bufferSync(nn),mo=0;mo<rn.batchSize;++mo)for(var fo=0;fo<rn.inChannels;++fo)for(var Uo=0;Uo<rn.outDepth;++Uo){for(var t0=Uo*sn-co,n0=t0;n0<0;)n0+=cn;for(var i0=Math.min(rn.inDepth,to+t0),a0=0;a0<rn.outHeight;++a0){for(var s0=a0*un-ho,l0=s0;l0<0;)l0+=hn;for(var d0=Math.min(rn.inHeight,Xr+s0),h0=0;h0<rn.outWidth;++h0){for(var v0=h0*ln-e0,g0=v0;g0<0;)g0+=fn;for(var m0=Math.min(rn.inWidth,uo+v0),u0=Number.NEGATIVE_INFINITY,c0=-1,r0=n0;r0<i0;r0+=cn)for(var o0=r0-t0,f0=l0;f0<d0;f0+=hn)for(var p0=f0-s0,y0=g0;y0<m0;y0+=fn){var x0=y0-v0,k0=lo.get(mo,r0,f0,y0,fo);k0>=u0&&(u0=k0,c0=o0*Xr*uo+p0*Xr+x0)}an.set(c0,mo,Uo,a0,h0,fo)}}}return an.toTensor()},Mt.prototype.maxPool3dBackprop=function(nn,rn,an,sn){Hh([rn,an],"maxPool3dBackprop");for(var un=this.maxPool3dPositions(rn,sn),ln=sn.strideDepth,cn=sn.strideHeight,hn=sn.strideWidth,fn=sn.dilationDepth,to=sn.dilationHeight,Xr=sn.dilationWidth,uo=sn.effectiveFilterDepth,co=sn.effectiveFilterHeight,ho=sn.effectiveFilterWidth,e0=uo-1-sn.padInfo.front,lo=ho-1-sn.padInfo.left,mo=co-1-sn.padInfo.top,fo=dr(rn.shape,"float32"),Uo=this.bufferSync(un),t0=this.bufferSync(nn),n0=0;n0<sn.batchSize;++n0)for(var i0=0;i0<sn.inChannels;++i0)for(var a0=0;a0<sn.inDepth;++a0)for(var s0=0;s0<sn.inHeight;++s0)for(var l0=0;l0<sn.inWidth;++l0){for(var d0=a0-e0,h0=s0-mo,v0=l0-lo,g0=0,m0=0;m0<uo;m0+=fn){var u0=(d0+m0)/ln;if(!(u0<0||u0>=sn.outDepth||Math.floor(u0)!==u0))for(var c0=0;c0<co;c0+=to){var r0=(h0+c0)/cn;if(!(r0<0||r0>=sn.outHeight||Math.floor(r0)!==r0))for(var o0=0;o0<ho;o0+=Xr){var f0=(v0+o0)/hn;if(!(f0<0||f0>=sn.outWidth||Math.floor(f0)!==f0)){var p0=uo*co*ho-1-Uo.get(n0,u0,r0,f0,i0)===m0*co*ho+c0*ho+o0?1:0;p0!==0&&(g0+=t0.get(n0,u0,r0,f0,i0)*p0)}}}}fo.set(g0,n0,a0,s0,l0,i0)}return fo.toTensor()},Mt.prototype.cast=function(nn,rn){return Po(nn,rn,this)},Mt.prototype.reshape=function(nn,rn){return Lo(nn,rn)},Mt.prototype.avgPool=function(nn,rn){return Hh(nn,"avgPool"),this.pool(nn,rn,"avg").toFloat()},Mt.prototype.resizeBilinear=function(nn,rn,an,sn){Hh(nn,"resizeBilinear");for(var un=nn.shape,ln=un[0],cn=un[1],hn=un[2],fn=un[3],to=this.readSync(nn.dataId),Xr=new Float32Array(k([ln,rn,an,fn])),uo=[sn&&rn>1?cn-1:cn,sn&&an>1?hn-1:hn],co=[sn&&rn>1?rn-1:rn,sn&&an>1?an-1:an],ho=0,e0=uo[0]/co[0],lo=uo[1]/co[1],mo=0;mo<ln;mo++)for(var fo=0;fo<rn;fo++)for(var Uo=e0*fo,t0=Math.floor(Uo),n0=Uo-t0,i0=Math.min(cn-1,Math.ceil(Uo)),a0=mo*nn.strides[0]+t0*nn.strides[1],s0=mo*nn.strides[0]+i0*nn.strides[1],l0=0;l0<an;l0++)for(var d0=lo*l0,h0=Math.floor(d0),v0=d0-h0,g0=Math.min(hn-1,Math.ceil(d0)),m0=a0+h0*nn.strides[2],u0=s0+h0*nn.strides[2],c0=a0+g0*nn.strides[2],r0=s0+g0*nn.strides[2],o0=0;o0<fn;o0++){var f0=to[m0+o0],p0=to[u0+o0],y0=f0+(to[c0+o0]-f0)*v0,x0=y0+(p0+(to[r0+o0]-p0)*v0-y0)*n0;Xr[ho++]=x0}return Fn(Xr,[ln,rn,an,fn])},Mt.prototype.resizeBilinearBackprop=function(nn,rn,an){Hh([nn,rn],"resizeBilinearBackprop");for(var sn=rn.shape,un=sn[0],ln=sn[1],cn=sn[2],hn=sn[3],fn=nn.shape,to=fn[1],Xr=fn[2],uo=new Float32Array(un*ln*cn*hn),co=[an&&to>1?ln-1:ln,an&&Xr>1?cn-1:cn],ho=[an&&to>1?to-1:to,an&&Xr>1?Xr-1:Xr],e0=co[0]/ho[0],lo=co[1]/ho[1],mo=this.readSync(nn.dataId),fo=0,Uo=0;Uo<un;Uo++)for(var t0=Uo*rn.strides[0],n0=0;n0<to;n0++)for(var i0=n0*e0,a0=Math.floor(i0),s0=Math.min(Math.ceil(i0),ln-1),l0=t0+a0*rn.strides[1],d0=t0+s0*rn.strides[1],h0=i0-a0,v0=1-h0,g0=0;g0<Xr;g0++)for(var m0=g0*lo,u0=Math.floor(m0),c0=Math.min(Math.ceil(m0),cn-1),r0=m0-u0,o0=1-r0,f0=l0+u0*rn.strides[2],p0=l0+c0*rn.strides[2],y0=d0+u0*rn.strides[2],x0=d0+c0*rn.strides[2],k0=v0*o0,b0=v0*r0,E0=h0*o0,_0=h0*r0,A0=0;A0<hn;A0++){var P0=mo[fo++];uo[f0+A0]+=P0*k0,uo[p0+A0]+=P0*b0,uo[y0+A0]+=P0*E0,uo[x0+A0]+=P0*_0}return Ln(uo,[un,cn,ln,hn],rn.dtype)},Mt.prototype.resizeNearestNeighbor=function(nn,rn,an,sn){Hh(nn,"resizeNearestNeighbor");for(var un=nn.shape,ln=un[0],cn=un[1],hn=un[2],fn=un[3],to=this.readSync(nn.dataId),Xr=new Float32Array(ln*rn*an*fn),uo=[sn&&rn>1?cn-1:cn,sn&&an>1?hn-1:hn],co=[sn&&rn>1?rn-1:rn,sn&&an>1?an-1:an],ho=uo[0]/co[0],e0=uo[1]/co[1],lo=0,mo=0;mo<ln;mo++)for(var fo=mo*nn.strides[0],Uo=0;Uo<rn;Uo++)for(var t0=ho*Uo,n0=fo+Math.min(cn-1,sn?Math.round(t0):Math.floor(t0))*nn.strides[1],i0=0;i0<an;i0++)for(var a0=e0*i0,s0=n0+Math.min(hn-1,sn?Math.round(a0):Math.floor(a0))*nn.strides[2],l0=0;l0<fn;l0++){var d0=to[s0+l0];Xr[lo++]=d0}return Fn(Xr,[ln,rn,an,fn],nn.dtype)},Mt.prototype.resizeNearestNeighborBackprop=function(nn,rn,an){Hh([nn,rn],"resizeNearestNeighborBackprop");for(var sn=rn.shape,un=sn[0],ln=sn[1],cn=sn[2],hn=sn[3],fn=nn.shape,to=fn[1],Xr=fn[2],uo=new Float32Array(un*ln*cn*hn),co=this.readSync(nn.dataId),ho=[an&&to>1?ln-1:ln,an&&Xr>1?cn-1:cn],e0=[an&&to>1?to-1:to,an&&Xr>1?Xr-1:Xr],lo=ho[0]/e0[0],mo=ho[1]/e0[1],fo=1/lo,Uo=1/mo,t0=2*Math.ceil(fo)+2,n0=2*Math.ceil(Uo)+2,i0=0;i0<un;i0++)for(var a0=i0*rn.strides[0],s0=0;s0<ln;s0++)for(var l0=a0+s0*rn.strides[1],d0=Math.floor(s0*fo),h0=Math.floor(d0-t0/2),v0=0;v0<cn;v0++)for(var g0=l0+v0*rn.strides[2],m0=Math.floor(v0*Uo),u0=Math.floor(m0-n0/2),c0=0;c0<hn;c0++){for(var r0=0,o0=0;o0<t0;o0++){var f0=o0+h0;if(!(f0<0||f0>=to)){var p0=a0+f0*nn.strides[1],y0=f0*lo;if(s0===Math.min(ln-1,an?Math.round(y0):Math.floor(y0)))for(var x0=0;x0<n0;x0++){var k0=x0+u0;if(!(k0<0||k0>=Xr)){var b0=p0+k0*nn.strides[2],E0=k0*mo;v0===Math.min(cn-1,an?Math.round(E0):Math.floor(E0))&&(r0+=co[b0+c0])}}}}uo[g0+c0]=r0}return Ln(uo,rn.shape,rn.dtype)},Mt.prototype.batchNormalization=function(nn,rn,an,sn,un,ln){Hh([nn,rn,an,un,ln],"batchNorm");for(var cn=this.readSync(nn.dataId),hn=this.readSync(rn.dataId),fn=this.readSync(an.dataId),to=un?this.readSync(un.dataId):new Float32Array([1]),Xr=ln?this.readSync(ln.dataId):new Float32Array([0]),uo=new Float32Array(cn.length),co=Xr.length,ho=to.length,e0=fn.length,lo=hn.length,mo=0,fo=0,Uo=0,t0=0,n0=0;n0<cn.length;++n0)uo[n0]=Xr[mo++]+(cn[n0]-hn[fo++])*to[Uo++]/Math.sqrt(fn[t0++]+sn),mo>=co&&(mo=0),fo>=lo&&(fo=0),Uo>=ho&&(Uo=0),t0>=e0&&(t0=0);return Ln(uo,nn.shape)},Mt.prototype.localResponseNormalization4D=function(nn,rn,an,sn,un){Hh(nn,"localResponseNormalization4D");var ln=nn.shape[3],cn=ln-1,hn=this.readSync(nn.dataId),fn=nn.size,to=new Float32Array(fn);function Xr(e0){for(var lo=e0%ln,mo=e0-lo+Math.max(0,lo-rn),fo=e0-lo+Math.min(lo+rn,cn),Uo=0;mo<=fo;mo++){var t0=hn[mo];Uo+=t0*t0}return Uo}for(var uo=0;uo<fn;uo++){var co=Xr(uo),ho=hn[uo]*Math.pow(an+sn*co,-un);to[uo]=ho}return Ln(to,nn.shape)},Mt.prototype.LRNGrad=function(nn,rn,an,sn,un,ln,cn){Hh(nn,"LRNGrad");for(var hn=nn.shape[3],fn=this.readSync(nn.dataId),to=this.readSync(rn.dataId),Xr=this.readSync(an.dataId),uo=new Float32Array(nn.size),co=nn.size,ho=0;ho<co;ho++){for(var e0=ho%hn,lo=ho-e0+Math.max(0,e0-sn),mo=ho-e0+Math.min(hn,e0+sn+1),fo=0,Uo=lo;Uo<mo;Uo++)fo+=Math.pow(to[Uo],2);for(fo=ln*fo+un,Uo=lo;Uo<mo;Uo++){var t0=-2*ln*cn*to[Uo]*Xr[ho]/fo;ho===Uo&&(t0+=Math.pow(fo,-cn)),t0*=fn[ho],uo[Uo]+=t0}}return Ln(uo,nn.shape)},Mt.prototype.multinomial=function(nn,rn,an,sn){Hh(nn,"multinomial");for(var un=rn?nn:go(nn),ln=un.shape[0],cn=un.shape[1],hn=Gn([ln,an],"int32"),fn=this.readSync(hn.dataId),to=this.readSync(un.dataId),Xr=0;Xr<ln;++Xr){var uo=Xr*cn,co=new Float32Array(cn-1);co[0]=to[uo];for(var ho=1;ho<co.length;++ho)co[ho]=co[ho-1]+to[uo+ho];for(var e0=cr(sn.toString()),lo=Xr*an,mo=0;mo<an;++mo){var fo=e0();fn[lo+mo]=co.length;for(var Uo=0;Uo<co.length;Uo++)if(fo<co[Uo]){fn[lo+mo]=Uo;break}}}return hn},Mt.prototype.oneHot=function(nn,rn,an,sn){Hh(nn,"oneHot");var un=new Float32Array(nn.size*rn);un.fill(sn);for(var ln=this.readSync(nn.dataId),cn=0;cn<nn.size;++cn)ln[cn]>=0&&ln[cn]<rn&&(un[cn*rn+ln[cn]]=an);return Bn(un,[nn.size,rn],"int32")},Mt.prototype.nonMaxSuppression=function(nn,rn,an,sn,un){return Hh(nn,"nonMaxSuppression"),jo(this.readSync(nn.dataId),this.readSync(rn.dataId),an,sn,un)},Mt.prototype.fft=function(nn){return this.fftBatch(nn,!1)},Mt.prototype.ifft=function(nn){return this.fftBatch(nn,!0)},Mt.prototype.fftBatch=function(nn,rn){for(var an=nn.shape[0],sn=nn.shape[1],un=dr(nn.shape,"float32"),ln=dr(nn.shape,"float32"),cn=Tn(nn).as2D(an,sn),hn=Nn(nn).as2D(an,sn),fn=0;fn<an;fn++)for(var to=cn.slice([fn,0],[1,sn]),Xr=hn.slice([fn,0],[1,sn]),uo=Dn(to,Xr),co=this.readSync(this.fftImpl(uo,rn).dataId),ho=0;ho<sn;ho++){var e0=zo(co,ho);un.values[fn*sn+ho]=e0.real,ln.values[fn*sn+ho]=e0.imag}return Dn(un.toTensor(),ln.toTensor()).as2D(an,sn)},Mt.prototype.fftImpl=function(nn,rn){var an=nn.as1D(),sn=an.size;if(this.isExponentOf2(sn)){var un=this.fftRadix2(an,sn,rn).as2D(nn.shape[0],nn.shape[1]);return rn&&(un=Dn(Tn(un).div(On(sn)),Nn(un).div(On(sn)))),un}var ln=this.readSync(nn.dataId),cn=function(hn){for(var fn=new Float32Array(hn.length/2),to=new Float32Array(hn.length/2),Xr=0;Xr<hn.length;Xr+=2)fn[Xr/2]=hn[Xr],to[Xr/2]=hn[Xr+1];return{real:fn,imag:to}}(this.fourierTransformByMatmul(ln,sn,rn));return Dn(cn.real,cn.imag).as2D(nn.shape[0],nn.shape[1])},Mt.prototype.isExponentOf2=function(nn){return(nn&nn-1)==0},Mt.prototype.fftRadix2=function(nn,rn,an){if(rn===1)return nn;var sn=this.readSync(nn.dataId),un=rn/2,ln=function(lo){for(var mo=Math.ceil(lo.length/4),fo=new Float32Array(mo),Uo=new Float32Array(mo),t0=0;t0<lo.length;t0+=4)fo[Math.floor(t0/4)]=lo[t0],Uo[Math.floor(t0/4)]=lo[t0+1];return{real:fo,imag:Uo}}(sn),cn=Dn(ln.real,ln.imag).as1D(),hn=function(lo){for(var mo=Math.floor(lo.length/4),fo=new Float32Array(mo),Uo=new Float32Array(mo),t0=2;t0<lo.length;t0+=4)fo[Math.floor(t0/4)]=lo[t0],Uo[Math.floor(t0/4)]=lo[t0+1];return{real:fo,imag:Uo}}(sn),fn=Dn(hn.real,hn.imag).as1D();cn=this.fftRadix2(cn,un,an),fn=this.fftRadix2(fn,un,an);var to=function(lo,mo){for(var fo=new Float32Array(lo/2),Uo=new Float32Array(lo/2),t0=0;t0<Math.ceil(lo/2);t0++){var n0=(mo?2:-2)*Math.PI*(t0/lo);fo[t0]=Math.cos(n0),Uo[t0]=Math.sin(n0)}return{real:fo,imag:Uo}}(rn,an),Xr=Dn(to.real,to.imag).mul(fn),uo=cn.add(Xr),co=cn.sub(Xr),ho=Tn(uo).concat(Tn(co)),e0=Nn(uo).concat(Nn(co));return Dn(ho,e0).as1D()},Mt.prototype.fourierTransformByMatmul=function(nn,rn,an){for(var sn=new Float32Array(2*rn),un=0;un<rn;un++){for(var ln=0,cn=0,hn=0;hn<rn;hn++){var fn=Ho(un*hn,rn,an),to=zo(nn,hn);ln+=to.real*fn.real-to.imag*fn.imag,cn+=to.real*fn.imag+to.imag*fn.real}an&&(ln/=rn,cn/=rn),Go(sn,ln,cn,un)}return sn},Mt.prototype.depthToSpace=function(nn,rn,an){C(an==="NHWC",function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+an}),C(rn>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+rn});for(var sn=nn.shape[0],un=nn.shape[1],ln=nn.shape[2],cn=nn.shape[3],hn=un*rn,fn=ln*rn,to=cn/(rn*rn),Xr=this.readSync(nn.dataId),uo=new Float32Array(sn*hn*fn*to),co=0,ho=0;ho<sn;++ho)for(var e0=0;e0<hn;++e0)for(var lo=Math.floor(e0/rn),mo=e0%rn,fo=0;fo<fn;++fo)for(var Uo=Math.floor(fo/rn),t0=(mo*rn+fo%rn)*to,n0=0;n0<to;++n0){var i0=n0+t0+cn*(Uo+ln*(lo+un*ho));uo[co++]=Xr[i0]}return Ln(uo,[sn,hn,fn,to])},Mt.prototype.broadcastedBinaryOp=function(nn,rn,an,sn){var un=Ro(nn.shape,rn.shape),ln=dr(un,an),cn=this.readSync(nn.dataId),hn=this.readSync(rn.dataId),fn=Co(nn.shape,un),to=Co(rn.shape,un),Xr=ln.values;if(fn.length+to.length===0)for(var uo=0;uo<Xr.length;++uo)Xr[uo]=sn(cn[uo%cn.length],hn[uo%hn.length]);else{var co=this.bufferSync(nn),ho=this.bufferSync(rn),e0=function(lo){var mo=ln.indexToLoc(lo),fo=mo.slice(-nn.rank);fn.forEach(function(i0){return fo[i0]=0});var Uo=co.locToIndex(fo),t0=mo.slice(-rn.rank);to.forEach(function(i0){return t0[i0]=0});var n0=ho.locToIndex(t0);Xr[lo]=sn(cn[Uo],hn[n0])};for(uo=0;uo<Xr.length;++uo)e0(uo)}return ln.toTensor()},Mt.prototype.broadcastedBinaryComplexOp=function(nn,rn,an){var sn=Ro(nn.shape,rn.shape),un=dr(sn,"float32"),ln=dr(sn,"float32"),cn=this.readSync(nn.dataId),hn=this.readSync(rn.dataId),fn=Co(nn.shape,sn),to=Co(rn.shape,sn),Xr=un.values,uo=ln.values;if(fn.length+to.length===0)for(var co=0;co<Xr.length;co++){var ho=co%cn.length,e0=co%hn.length,lo=an(cn[2*ho],cn[2*ho+1],hn[2*e0],hn[2*e0+1]);Xr[co]=lo.real,uo[co]=lo.imag}else{var mo=this.bufferSync(this.data.get(nn.dataId).complexTensors.real),fo=this.bufferSync(this.data.get(rn.dataId).complexTensors.real),Uo=function(t0){var n0=un.indexToLoc(t0),i0=n0.slice(-nn.rank);fn.forEach(function(h0){return i0[h0]=0});var a0=mo.locToIndex(i0),s0=n0.slice(-rn.rank);to.forEach(function(h0){return s0[h0]=0});var l0=fo.locToIndex(s0),d0=an(cn[2*a0],cn[2*a0+1],hn[2*l0],hn[2*l0+1]);Xr[t0]=d0.real,uo[t0]=d0.imag};for(co=0;co<Xr.length;co++)Uo(co)}return this.complex(un.toTensor(),ln.toTensor())},Mt.prototype.split=function(nn,rn,an){return Zo(nn,rn,an)},Mt.prototype.dispose=function(){},Mt.prototype.floatPrecision=function(){return 32},Mt.prototype.epsilon=function(){return 1e-7},Mt.prototype.cropAndResize=function(nn,rn,an,sn,un,ln){for(var cn=nn.shape,hn=cn[0],fn=cn[1],to=cn[2],Xr=cn[3],uo=rn.shape[0],co=sn[0],ho=sn[1],e0=dr([uo,co,ho,Xr],"float32"),lo=this.readSync(rn.dataId),mo=this.readSync(an.dataId),fo=this.readSync(nn.dataId),Uo=nn.strides,t0=e0.strides,n0=0;n0<uo;n0++){var i0=4*n0,a0=lo[i0],s0=lo[i0+1],l0=lo[i0+2],d0=lo[i0+3],h0=mo[n0];if(!(h0>=hn))for(var v0=co>1?(l0-a0)*(fn-1)/(co-1):0,g0=ho>1?(d0-s0)*(to-1)/(ho-1):0,m0=0;m0<co;m0++){var u0=co>1?a0*(fn-1)+m0*v0:.5*(a0+l0)*(fn-1);if(u0<0||u0>fn-1)for(var c0=0;c0<ho;c0++)for(var r0=0;r0<Xr;r0++){var o0=r0+c0*t0[2]+m0*t0[1]+n0*t0[0];e0.values[o0]=ln}else if(un==="bilinear"){var f0=Math.floor(u0),p0=Math.ceil(u0),y0=u0-f0;for(c0=0;c0<ho;c0++)if((S0=ho>1?s0*(to-1)+c0*g0:.5*(s0+d0)*(to-1))<0||S0>to-1)for(r0=0;r0<Xr;r0++)o0=r0+c0*t0[2]+m0*t0[1]+n0*t0[0],e0.values[o0]=ln;else{var x0=Math.floor(S0),k0=Math.ceil(S0),b0=S0-x0;for(r0=0;r0<Xr;r0++){var E0=fo[o0=r0+x0*Uo[2]+f0*Uo[1]+h0*Uo[0]],_0=fo[o0=r0+k0*Uo[2]+f0*Uo[1]+h0*Uo[0]],A0=fo[o0=r0+x0*Uo[2]+p0*Uo[1]+h0*Uo[0]],P0=E0+(_0-E0)*b0,R0=A0+(fo[o0=r0+k0*Uo[2]+p0*Uo[1]+h0*Uo[0]]-A0)*b0;o0=r0+c0*t0[2]+m0*t0[1]+n0*t0[0],e0.values[o0]=P0+(R0-P0)*y0}}}else for(c0=0;c0<ho;++c0){var S0;if((S0=ho>1?s0*(to-1)+c0*g0:.5*(s0+d0)*(to-1))<0||S0>to-1)for(r0=0;r0<Xr;r0++)o0=r0+c0*t0[2]+m0*t0[1]+n0*t0[0],e0.values[o0]=ln;else{var T0=Math.round(S0),C0=Math.round(u0);for(r0=0;r0<Xr;r0++){var w0=r0+T0*Uo[2]+C0*Uo[1]+h0*Uo[0],I0=r0+c0*t0[2]+m0*t0[1]+n0*t0[0];e0.values[I0]=fo[w0]}}}}}return e0.toTensor()},Mt.prototype.sparseToDense=function(nn,rn,an,sn){var un=Zr(0,nn,an),ln=un.sliceRank,cn=un.numUpdates,hn=un.sliceSize,fn=un.strides,to=un.outputSize;return this.scatter(nn,rn,an,to,hn,cn,ln,fn,sn,!1)},Mt.prototype.gatherND=function(nn,rn){var an=rn.shape,sn=an[an.length-1],un=jr(nn,rn),ln=un[0],cn=un[1],hn=un[2],fn=un[3];if(cn===0)return Fn([],ln,nn.dtype);for(var to=new gt([cn,hn],nn.dtype),Xr=this.readSync(rn.dataId),uo=this.readSync(nn.dataId),co=0;co<cn;co++){for(var ho=[],e0=0,lo=0;lo<sn;lo++){var mo=Xr[co*sn+lo];e0+=mo*fn[lo],ho.push(mo)}if(e0<0||e0>=nn.size/hn)throw new Error("Invalid indices: "+ho+" does not index into "+nn.shape);for(var fo=0;fo<hn;fo++)to.values[co*hn+fo]=uo[e0*hn+fo]}return to.toTensor().reshape(ln)},Mt.prototype.scatterND=function(nn,rn,an){var sn=Zr(0,nn,an),un=sn.sliceRank,ln=sn.numUpdates,cn=sn.sliceSize,hn=sn.strides,fn=sn.outputSize,to=On(0);return this.scatter(nn,rn,an,fn,cn,ln,un,hn,to,!0)},Mt.prototype.fill=function(nn,rn,an){var sn=P(an=an||j(rn),k(nn));return sn.fill(rn),Lt.makeTensor(sn,nn,an,this)},Mt.prototype.onesLike=function(nn){if(nn.dtype==="string")throw new Error("onesLike is not supported for string tensors");return this.fill(nn.shape,1,nn.dtype)},Mt.prototype.zerosLike=function(nn){var rn=P(nn.dtype,k(nn.shape));return this.makeOutput(rn,nn.shape,nn.dtype)},Mt.prototype.linspace=function(nn,rn,an){return Wo(nn,rn,an)},Mt.prototype.scatter=function(nn,rn,an,sn,un,ln,cn,hn,fn,to){var Xr=[sn/un,un],uo=this.readSync(nn.dataId),co=this.readSync(rn.dataId);if(sn===0)return Fn([],an,rn.dtype);var ho=new gt(Xr,rn.dtype);ho.values.fill(this.readSync(fn.dataId)[0]);for(var e0=0;e0<ln;e0++){for(var lo=[],mo=0,fo=0;fo<cn;fo++){var Uo=uo[e0*cn+fo];lo.push(Uo),mo+=Uo*hn[fo]}if(mo<0||mo>=sn/un)throw new Error("Invalid indices: "+lo+" does not index into "+an);for(var t0=0;t0<un;t0++)to?ho.values[mo*un+t0]+=co[e0*un+t0]:ho.values[mo*un+t0]=rn.rank===0?co[0]:co[e0*un+t0]}return ho.toTensor().reshape(an)},Mt}(bo);Lt.registerBackend("cpu",function(){return new Kh},1);for(var jh=0,Xh=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(st){var Mt=st.inputs,nn=st.backend,rn=st.attrs,an=Mt,sn=an.boxes,un=an.scores,ln=rn,cn=ln.maxOutputSize,hn=ln.iouThreshold,fn=ln.scoreThreshold,to=ln.softNmsSigma,Xr=nn;Hh(sn,"NonMaxSuppressionWithScore");var uo=Xo(Xr.data.get(sn.dataId).values,Xr.data.get(un.dataId).values,cn,hn,fn,to);return[uo.selectedIndices,uo.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(st){var Mt=st.inputs,nn=st.backend,rn=Mt.x,an=nn;Hh(rn,"square");for(var sn=an.data.get(rn.dataId).values,un=new Float32Array(sn.length),ln=0;ln<sn.length;++ln){var cn=sn[ln];un[ln]=cn*cn}return{dataId:an.write(un,rn.shape,rn.dtype),shape:rn.shape,dtype:rn.dtype}}},{kernelName:eu,backendName:"cpu",kernelFunc:function(st){var Mt=st.inputs,nn=st.backend,rn=Mt,an=rn.a,sn=rn.b,un=nn;Hh([an,sn],eu);var ln=un.data.get(an.dataId).values,cn=un.data.get(sn.dataId).values,hn=function(Xr,uo,co,ho,e0,lo){var mo=Ro(Xr,uo),fo=mo.length,Uo=$(mo),t0=B(e0,k(mo)),n0=Xr.length,i0=uo.length,a0=$(Xr),s0=$(uo),l0=Co(Xr,mo),d0=Co(uo,mo);if(l0.length+d0.length===0)for(var h0=0;h0<t0.length;++h0)t0[h0]=lo(co[h0%co.length],ho[h0%ho.length]);else{var v0=function(g0){var m0=it(g0,fo,Uo),u0=m0.slice(-n0);l0.forEach(function(f0){return u0[f0]=0});var c0=at(u0,n0,a0),r0=m0.slice(-i0);d0.forEach(function(f0){return r0[f0]=0});var o0=at(r0,i0,s0);t0[g0]=lo(co[c0],ho[o0])};for(h0=0;h0<t0.length;++h0)v0(h0)}return[t0,mo]}(an.shape,sn.shape,ln,cn,an.dtype,function(Xr,uo){var co=Xr-uo;return co*co}),fn=hn[0],to=hn[1];return{dataId:un.write(fn,to,an.dtype),shape:to,dtype:an.dtype}}}];jh<Xh.length;jh++)d(Xh[jh]);var Yh,$h=function(st){this.variableNames=["A"];var Mt=ua(),nn=st[0],rn=st[1];this.outputShape=st,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+rn+".0, "+nn+`.0);

        vec4 values = `+Mt.texture2D+`(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `},Qh=function(st){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var Mt=ua(),nn=st[0],rn=st[1];this.outputShape=st,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(`+rn+".0, "+nn+`.0);
            vec4 values = `+Mt.texture2D+`(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        `+Mt.output+` = result;
      }
    `};for(var Jh=0,Zh=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(st){var Mt=st.inputs,nn=st.backend,rn=st.attrs,an=Mt.pixels,sn=rn.numChannels,un=typeof HTMLVideoElement<"u"&&an instanceof HTMLVideoElement,ln=typeof HTMLImageElement<"u"&&an instanceof HTMLImageElement,cn=un?[an.videoWidth,an.videoHeight]:[an.width,an.height],hn=cn[0],fn=cn[1],to=[fn,hn],Xr=[fn,hn,sn];(ln||un)&&(Yh==null&&(Yh=document.createElement("canvas").getContext("2d")),Yh.canvas.width=hn,Yh.canvas.height=fn,Yh.drawImage(an,0,0,hn,fn),an=Yh.canvas);var uo=nn.makeTensorInfo(to,"int32");nn.texData.get(uo.dataId).usage=zt.PIXELS,nn.gpgpu.uploadPixelDataToTexture(nn.getTexture(uo.dataId),an);var co=i$1().getBool("WEBGL_PACK")?new Qh(Xr):new $h(Xr),ho=nn.runWebGLProgram(co,[uo],"int32");return nn.disposeData(uo.dataId),ho}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(st){var Mt=st.inputs,nn=st.backend,rn=st.attrs;dn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var an=Mt,sn=an.boxes,un=an.scores,ln=rn,cn=ln.maxOutputSize,hn=ln.iouThreshold,fn=ln.scoreThreshold,to=ln.softNmsSigma,Xr=nn,uo=Xo(Xr.readSync(sn.dataId),Xr.readSync(un.dataId),cn,hn,fn,to);return[uo.selectedIndices,uo.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(st){var Mt=st.inputs,nn=st.backend,rn=Mt.x,an=nn,sn=new Cs(rn.shape,"return x * x;");return an.runWebGLProgram(sn,[rn],rn.dtype)}},{kernelName:eu,backendName:"webgl",kernelFunc:function(st){var Mt=st.inputs,nn=st.backend,rn=Mt,an=rn.a,sn=rn.b,un=nn,ln=i$1().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new La("return (a - b) * (a - b);",an.shape,sn.shape):new Ba("return (a - b) * (a - b);",an.shape,sn.shape);return un.compileAndRun(ln,[an,sn])}}];Jh<Zh.length;Jh++)d(Zh[Jh]);for(var tf=0,ef=[{kernelName:"Square",gradFunc:function(st,Mt){var nn=Mt[0];return{x:function(){return st.mul(nn.toFloat().mul(2))}}}},{kernelName:eu,gradFunc:function(st,Mt){var nn=Mt[0],rn=Mt[1],an=On(2);return{a:function(){return gc(st,gc(an,Cc(nn,rn)))},b:function(){return gc(st,gc(an,Cc(rn,nn)))}}}}];tf<ef.length;tf++)p(ef[tf]);var nf=function(){function st(){}return st.prototype.fetch=function(Mt,nn){return fetch(Mt,nn)},st.prototype.now=function(){return performance.now()},st.prototype.encode=function(Mt,nn){if(nn!=="utf-8"&&nn!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+nn);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(Mt)},st.prototype.decode=function(Mt,nn){return new TextDecoder(nn).decode(Mt)},st}();i$1().get("IS_BROWSER")&&i$1().setPlatform("browser",new nf);var rf,of=function(){return require("node-fetch")},af=function(){function st(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}return st.prototype.fetch=function(Mt,nn){return i$1().global.fetch!=null?i$1().global.fetch(Mt,nn):(rf==null&&(rf=of()),rf(Mt,nn))},st.prototype.now=function(){var Mt=process.hrtime();return 1e3*Mt[0]+Mt[1]/1e6},st.prototype.encode=function(Mt,nn){if(nn!=="utf-8"&&nn!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+nn);return this.textEncoder.encode(Mt)},st.prototype.decode=function(Mt,nn){return Mt.length===0?"":new this.util.TextDecoder(nn).decode(Mt)},st}();i$1().get("IS_NODE")&&i$1().setPlatform("node",new af);var sf={float32:4,int32:4,uint16:2,uint8:1,bool:1},uf=4;function cf(st,Mt){for(var nn={},rn=0,an=function(ln){var cn=ln.name,hn=ln.dtype,fn=ln.shape,to=k(fn),Xr=void 0;if("quantization"in ln){var uo=ln.quantization;if(uo.dtype!=="uint8"&&uo.dtype!=="uint16")throw new Error("Weight "+ln.name+" has unknown quantization dtype "+uo.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var co=sf[uo.dtype],ho=st.slice(rn,rn+to*co),e0=uo.dtype==="uint8"?new Uint8Array(ho):new Uint16Array(ho);if(hn==="float32")Xr=Float32Array.from(e0,function(n0){return n0*uo.scale+uo.min});else{if(hn!=="int32")throw new Error("Unsupported dtype in weight '"+cn+"': "+hn);Xr=Int32Array.from(e0,function(n0){return Math.round(n0*uo.scale+uo.min)})}rn+=to*co}else if(hn==="string"){var lo=k(ln.shape);Xr=[];for(var mo=0;mo<lo;mo++){var fo=new Uint32Array(st.slice(rn,rn+uf))[0];rn+=uf;var Uo=new Uint8Array(st.slice(rn,rn+fo));Xr.push(Uo),rn+=fo}}else{var t0=sf[hn];if(ho=st.slice(rn,rn+to*t0),hn==="float32")Xr=new Float32Array(ho);else if(hn==="int32")Xr=new Int32Array(ho);else{if(hn!=="bool")throw new Error("Unsupported dtype in weight '"+cn+"': "+hn);Xr=new Uint8Array(ho)}rn+=to*t0}nn[cn]=Fn(Xr,fn,hn)},sn=0,un=Mt;sn<un.length;sn++)an(un[sn]);return nn}function lf(st){if(st===null)throw new Error("Invalid input value: "+JSON.stringify(st));var Mt=0,nn=[];st.forEach(function(sn){if(Mt+=sn.byteLength,nn.push(sn.byteLength===sn.buffer.byteLength?sn:new sn.constructor(sn)),!(sn instanceof Float32Array||sn instanceof Int32Array||sn instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+sn.constructor.name)});var rn=new Uint8Array(Mt),an=0;return nn.forEach(function(sn){rn.set(new Uint8Array(sn.buffer),an),an+=sn.byteLength}),rn.buffer}var hf=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function ff(st){return hf?Buffer.byteLength(st):new Blob([st]).size}function df(st){var Mt=0;st.forEach(function(an){Mt+=an.byteLength});var nn=new Uint8Array(Mt),rn=0;return st.forEach(function(an){nn.set(new Uint8Array(an),rn),rn+=an.byteLength}),nn.buffer}function pf(st){for(st=st.trim();st.endsWith("/");)st=st.slice(0,st.length-1);var Mt=st.split("/");return Mt[Mt.length-1]}function vf(st){if(st.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:st.modelTopology==null?0:ff(JSON.stringify(st.modelTopology)),weightSpecsBytes:st.weightSpecs==null?0:ff(JSON.stringify(st.weightSpecs)),weightDataBytes:st.weightData==null?0:st.weightData.byteLength}}var mf=function(){function st(){this.saveRouters=[],this.loadRouters=[]}return st.getInstance=function(){return st.instance==null&&(st.instance=new st),st.instance},st.registerSaveRouter=function(Mt){st.getInstance().saveRouters.push(Mt)},st.registerLoadRouter=function(Mt){st.getInstance().loadRouters.push(Mt)},st.getSaveHandlers=function(Mt){return st.getHandlers(Mt,"save")},st.getLoadHandlers=function(Mt,nn){return st.getHandlers(Mt,"load",nn)},st.getHandlers=function(Mt,nn,rn){var an=[];return(nn==="load"?st.getInstance().loadRouters:st.getInstance().saveRouters).forEach(function(sn){var un=sn(Mt,rn);un!==null&&an.push(un)}),an},st}(),gf="://",yf=function(){function st(){this.managers={}}return st.getInstance=function(){return st.instance==null&&(st.instance=new st),st.instance},st.registerManager=function(Mt,nn){C(Mt!=null,function(){return"scheme must not be undefined or null."}),Mt.endsWith(gf)&&(Mt=Mt.slice(0,Mt.indexOf(gf))),C(Mt.length>0,function(){return"scheme must not be an empty string."});var rn=st.getInstance();C(rn.managers[Mt]==null,function(){return"A model store manager is already registered for scheme '"+Mt+"'."}),rn.managers[Mt]=nn},st.getManager=function(Mt){var nn=this.getInstance().managers[Mt];if(nn==null)throw new Error("Cannot find model manager for scheme '"+Mt+"'");return nn},st.getSchemes=function(){return Object.keys(this.getInstance().managers)},st}();function xf(st){if(st.indexOf(gf)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+yf.getSchemes().join(","));return{scheme:st.split(gf)[0],path:st.split(gf)[1]}}function bf(st,Mt,nn){return nn===void 0&&(nn=!1),n(this,void 0,void 0,function(){var rn,an,sn,un,ln,cn,hn,fn,to;return r(this,function(Xr){switch(Xr.label){case 0:return C(st!==Mt,function(){return"Old path and new path are the same: '"+st+"'"}),C((rn=mf.getLoadHandlers(st)).length>0,function(){return"Copying failed because no load handler is found for source URL "+st+"."}),C(rn.length<2,function(){return"Copying failed because more than one ("+rn.length+") load handlers for source URL "+st+"."}),an=rn[0],C((sn=mf.getSaveHandlers(Mt)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+Mt+"."}),C(sn.length<2,function(){return"Copying failed because more than one ("+rn.length+") save handlers for destination URL "+Mt+"."}),un=sn[0],ln=xf(st).scheme,cn=xf(st).path,hn=ln===xf(st).scheme,[4,an.load()];case 1:return fn=Xr.sent(),nn&&hn?[4,yf.getManager(ln).removeModel(cn)]:[3,3];case 2:Xr.sent(),Xr.label=3;case 3:return[4,un.save(fn)];case 4:return to=Xr.sent(),!nn||hn?[3,6]:[4,yf.getManager(ln).removeModel(cn)];case 5:Xr.sent(),Xr.label=6;case 6:return[2,to.modelArtifactsInfo]}})})}var wf="models_store",Cf="model_info_store";function Ef(){if(!i$1().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var st=window||self,Mt=st.indexedDB||st.mozIndexedDB||st.webkitIndexedDB||st.msIndexedDB||st.shimIndexedDB;if(Mt==null)throw new Error("The current browser does not appear to support IndexedDB.");return Mt}function Rf(st){var Mt=st.result;Mt.createObjectStore(wf,{keyPath:"modelPath"}),Mt.createObjectStore(Cf,{keyPath:"modelPath"})}var If=function(){function st(Mt){if(this.indexedDB=Ef(),Mt==null||!Mt)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=Mt}return st.prototype.save=function(Mt){return n(this,void 0,void 0,function(){return r(this,function(nn){if(Mt.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,Mt)]})})},st.prototype.load=function(){return n(this,void 0,void 0,function(){return r(this,function(Mt){return[2,this.databaseAction(this.modelPath)]})})},st.prototype.databaseAction=function(Mt,nn){var rn=this;return new Promise(function(an,sn){var un=rn.indexedDB.open("tensorflowjs",1);un.onupgradeneeded=function(){return Rf(un)},un.onsuccess=function(){var ln=un.result;if(nn==null){var cn=ln.transaction(wf,"readonly"),hn=cn.objectStore(wf).get(rn.modelPath);hn.onsuccess=function(){if(hn.result==null)return ln.close(),sn(new Error("Cannot find model with path '"+rn.modelPath+"' in IndexedDB."));an(hn.result.modelArtifacts)},hn.onerror=function(ho){return ln.close(),sn(hn.error)},cn.oncomplete=function(){return ln.close()}}else{var fn,to=vf(nn),Xr=ln.transaction(Cf,"readwrite"),uo=Xr.objectStore(Cf),co=uo.put({modelPath:rn.modelPath,modelArtifactsInfo:to});co.onsuccess=function(){var ho=(fn=ln.transaction(wf,"readwrite")).objectStore(wf).put({modelPath:rn.modelPath,modelArtifacts:nn,modelArtifactsInfo:to});ho.onsuccess=function(){return an({modelArtifactsInfo:to})},ho.onerror=function(e0){var lo=(uo=Xr.objectStore(Cf)).delete(rn.modelPath);lo.onsuccess=function(){return ln.close(),sn(ho.error)},lo.onerror=function(mo){return ln.close(),sn(ho.error)}}},co.onerror=function(ho){return ln.close(),sn(co.error)},Xr.oncomplete=function(){fn==null?ln.close():fn.oncomplete=function(){return ln.close()}}}},un.onerror=function(ln){return sn(un.error)}})},st.URL_SCHEME="indexeddb://",st}(),kf=function(st){return i$1().getBool("IS_BROWSER")&&!Array.isArray(st)&&st.startsWith(If.URL_SCHEME)?(Mt=st.slice(If.URL_SCHEME.length),new If(Mt)):null;var Mt};mf.registerSaveRouter(kf),mf.registerLoadRouter(kf);var Sf=function(){function st(){this.indexedDB=Ef()}return st.prototype.listModels=function(){return n(this,void 0,void 0,function(){var Mt=this;return r(this,function(nn){return[2,new Promise(function(rn,an){var sn=Mt.indexedDB.open("tensorflowjs",1);sn.onupgradeneeded=function(){return Rf(sn)},sn.onsuccess=function(){var un=sn.result,ln=un.transaction(Cf,"readonly"),cn=ln.objectStore(Cf).getAll();cn.onsuccess=function(){for(var hn={},fn=0,to=cn.result;fn<to.length;fn++){var Xr=to[fn];hn[Xr.modelPath]=Xr.modelArtifactsInfo}rn(hn)},cn.onerror=function(hn){return un.close(),an(cn.error)},ln.oncomplete=function(){return un.close()}},sn.onerror=function(un){return an(sn.error)}})]})})},st.prototype.removeModel=function(Mt){return n(this,void 0,void 0,function(){var nn=this;return r(this,function(rn){var an;return Mt=(an=Mt).startsWith(If.URL_SCHEME)?an.slice(If.URL_SCHEME.length):an,[2,new Promise(function(sn,un){var ln=nn.indexedDB.open("tensorflowjs",1);ln.onupgradeneeded=function(){return Rf(ln)},ln.onsuccess=function(){var cn,hn=ln.result,fn=hn.transaction(Cf,"readwrite"),to=fn.objectStore(Cf),Xr=to.get(Mt);Xr.onsuccess=function(){if(Xr.result==null)return hn.close(),un(new Error("Cannot find model with path '"+Mt+"' in IndexedDB."));var uo=to.delete(Mt),co=function(){var ho=(cn=hn.transaction(wf,"readwrite")).objectStore(wf).delete(Mt);ho.onsuccess=function(){return sn(Xr.result.modelArtifactsInfo)},ho.onerror=function(e0){return un(Xr.error)}};uo.onsuccess=co,uo.onerror=function(ho){return co(),hn.close(),un(Xr.error)}},Xr.onerror=function(uo){return hn.close(),un(Xr.error)},fn.oncomplete=function(){cn==null?hn.close():cn.oncomplete=function(){return hn.close()}}},ln.onerror=function(cn){return un(ln.error)}})]})})},st}();if(i$1().getBool("IS_BROWSER"))try{yf.registerManager(If.URL_SCHEME,new Sf)}catch{}var Af="/",Df="tensorflowjs_models",Tf="info",Nf="model_topology",Ff="weight_specs",_f="weight_data",Of="model_metadata";function Mf(st){return{info:[Df,st,Tf].join(Af),topology:[Df,st,Nf].join(Af),weightSpecs:[Df,st,Ff].join(Af),weightData:[Df,st,_f].join(Af),modelMetadata:[Df,st,Of].join(Af)}}function Bf(st){var Mt=st.split(Af);if(Mt.length<3)throw new Error("Invalid key format: "+st);return Mt.slice(1,Mt.length-1).join(Af)}var Pf=function(){function st(Mt){if(!i$1().getBool("IS_BROWSER")||typeof window>"u"||window.localStorage===void 0)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,Mt==null||!Mt)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=Mt,this.keys=Mf(this.modelPath)}return st.prototype.save=function(Mt){return n(this,void 0,void 0,function(){var nn,rn,an;return r(this,function(sn){if(Mt.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");nn=JSON.stringify(Mt.modelTopology),rn=JSON.stringify(Mt.weightSpecs),an=vf(Mt);try{return this.LS.setItem(this.keys.info,JSON.stringify(an)),this.LS.setItem(this.keys.topology,nn),this.LS.setItem(this.keys.weightSpecs,rn),this.LS.setItem(this.keys.weightData,function(un){if(hf)return Buffer.from(un).toString("base64");for(var ln=new Uint8Array(un),cn="",hn=0,fn=ln.length;hn<fn;hn++)cn+=String.fromCharCode(ln[hn]);return btoa(cn)}(Mt.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:Mt.format,generatedBy:Mt.generatedBy,convertedBy:Mt.convertedBy,userDefinedMetadata:Mt.userDefinedMetadata})),[2,{modelArtifactsInfo:an}]}catch{throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+an.modelTopologyBytes+", weightSpecsBytes="+an.weightSpecsBytes+", weightDataBytes="+an.weightDataBytes+".")}return[2]})})},st.prototype.load=function(){return n(this,void 0,void 0,function(){var Mt,nn,rn,an,sn,un,ln;return r(this,function(cn){if((Mt=JSON.parse(this.LS.getItem(this.keys.info)))==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(Mt.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(nn={},(rn=JSON.parse(this.LS.getItem(this.keys.topology)))==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(nn.modelTopology=rn,(an=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(nn.weightSpecs=an,(sn=this.LS.getItem(this.keys.modelMetadata))!=null&&(un=JSON.parse(sn),nn.format=un.format,nn.generatedBy=un.generatedBy,nn.convertedBy=un.convertedBy,nn.userDefinedMetadata=un.userDefinedMetadata),(ln=this.LS.getItem(this.keys.weightData))==null)throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return nn.weightData=function(hn){if(hf){var fn=Buffer.from(hn,"base64");return fn.buffer.slice(fn.byteOffset,fn.byteOffset+fn.byteLength)}for(var to=atob(hn),Xr=new Uint8Array(to.length),uo=0;uo<to.length;++uo)Xr.set([to.charCodeAt(uo)],uo);return Xr.buffer}(ln),[2,nn]})})},st.URL_SCHEME="localstorage://",st}(),Lf=function(st){return i$1().getBool("IS_BROWSER")&&!Array.isArray(st)&&st.startsWith(Pf.URL_SCHEME)?(Mt=st.slice(Pf.URL_SCHEME.length),new Pf(Mt)):null;var Mt};mf.registerSaveRouter(Lf),mf.registerLoadRouter(Lf);var Wf=function(){function st(){C(i$1().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),C(typeof window>"u"||window.localStorage!==void 0,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return st.prototype.listModels=function(){return n(this,void 0,void 0,function(){var Mt,nn,rn,an,sn,un;return r(this,function(ln){for(Mt={},nn=Df+Af,rn=Af+Tf,an=0;an<this.LS.length;++an)(sn=this.LS.key(an)).startsWith(nn)&&sn.endsWith(rn)&&(un=Bf(sn),Mt[un]=JSON.parse(this.LS.getItem(sn)));return[2,Mt]})})},st.prototype.removeModel=function(Mt){return n(this,void 0,void 0,function(){var nn,rn;return r(this,function(an){var sn;if(Mt=(sn=Mt).startsWith(Pf.URL_SCHEME)?sn.slice(Pf.URL_SCHEME.length):sn,nn=Mf(Mt),this.LS.getItem(nn.info)==null)throw new Error("Cannot find model at path '"+Mt+"'");return rn=JSON.parse(this.LS.getItem(nn.info)),this.LS.removeItem(nn.info),this.LS.removeItem(nn.topology),this.LS.removeItem(nn.weightSpecs),this.LS.removeItem(nn.weightData),[2,rn]})})},st}();if(i$1().getBool("IS_BROWSER"))try{yf.registerManager(Pf.URL_SCHEME,new Wf)}catch{}var Uf="model",Vf=".json",zf=".weights.bin";function Gf(st){return new Promise(function(Mt){return setTimeout(Mt)}).then(st)}var Hf=function(){function st(Mt){if(!i$1().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");Mt.startsWith(st.URL_SCHEME)&&(Mt=Mt.slice(st.URL_SCHEME.length)),Mt!=null&&Mt.length!==0||(Mt=Uf),this.modelTopologyFileName=Mt+Vf,this.weightDataFileName=Mt+zf}return st.prototype.save=function(Mt){return n(this,void 0,void 0,function(){var nn,rn,an,sn,un,ln;return r(this,function(cn){switch(cn.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(nn=window.URL.createObjectURL(new Blob([Mt.weightData],{type:"application/octet-stream"})),!(Mt.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return rn=[{paths:["./"+this.weightDataFileName],weights:Mt.weightSpecs}],an={modelTopology:Mt.modelTopology,format:Mt.format,generatedBy:Mt.generatedBy,convertedBy:Mt.convertedBy,weightsManifest:rn},sn=window.URL.createObjectURL(new Blob([JSON.stringify(an)],{type:"application/json"})),(un=this.jsonAnchor==null?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,un.href=sn,[4,Gf(function(){return un.dispatchEvent(new MouseEvent("click"))})];case 2:return cn.sent(),Mt.weightData==null?[3,4]:((ln=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,ln.href=nn,[4,Gf(function(){return ln.dispatchEvent(new MouseEvent("click"))})]);case 3:cn.sent(),cn.label=4;case 4:return[2,{modelArtifactsInfo:vf(Mt)}]}})})},st.URL_SCHEME="downloads://",st}(),qf=function(){function st(Mt){if(Mt==null||Mt.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+Mt);this.files=Mt}return st.prototype.load=function(){return n(this,void 0,void 0,function(){var Mt,nn,rn=this;return r(this,function(an){return Mt=this.files[0],nn=this.files.slice(1),[2,new Promise(function(sn,un){var ln=new FileReader;ln.onload=function(cn){var hn=JSON.parse(cn.target.result),fn=hn.modelTopology;if(fn!=null){nn.length===0&&sn({modelTopology:fn});var to=hn.weightsManifest;if(to!=null){var Xr;try{Xr=rn.checkManifestAndWeightFiles(to,nn)}catch(e0){return void un(e0)}var uo=[],co=[],ho=[];to.forEach(function(e0){e0.paths.forEach(function(lo){co.push(lo),ho.push(null)}),uo.push.apply(uo,e0.weights)}),to.forEach(function(e0){e0.paths.forEach(function(lo){var mo=new FileReader;mo.onload=function(fo){var Uo=fo.target.result,t0=co.indexOf(lo);ho[t0]=Uo,ho.indexOf(null)===-1&&sn({modelTopology:fn,weightSpecs:uo,weightData:df(ho),format:hn.format,generatedBy:hn.generatedBy,convertedBy:hn.convertedBy,userDefinedMetadata:hn.userDefinedMetadata})},mo.onerror=function(fo){return un("Failed to weights data from file of path '"+lo+"'.")},mo.readAsArrayBuffer(Xr[lo])})})}else un(new Error("weightManifest field is missing from file "+Mt.name))}else un(new Error("modelTopology field is missing from file "+Mt.name))},ln.onerror=function(cn){return un("Failed to read model topology and weights manifest JSON from file '"+Mt.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},ln.readAsText(Mt)})]})})},st.prototype.checkManifestAndWeightFiles=function(Mt,nn){for(var rn=[],an=nn.map(function(cn){return pf(cn.name)}),sn={},un=0,ln=Mt;un<ln.length;un++)ln[un].paths.forEach(function(cn){var hn=pf(cn);if(rn.indexOf(hn)!==-1)throw new Error("Duplicate file basename found in weights manifest: '"+hn+"'");if(rn.push(hn),an.indexOf(hn)===-1)throw new Error("Weight file with basename '"+hn+"' is not provided.");sn[cn]=nn[an.indexOf(hn)]});if(rn.length!==nn.length)throw new Error("Mismatch in the number of files in weights manifest ("+rn.length+") and the number of weight files provided ("+nn.length+").");return sn},st}();function Kf(st,Mt,nn,rn){(function(sn){C(sn!=null&&Array.isArray(sn)&&sn.length>0,function(){return"promises must be a none empty array"})})(st),function(sn,un){C(sn>=0&&sn<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+sn}),C(un>=0&&un<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+un}),C(un>=sn,function(){return"startFraction must be no more than endFraction, but got startFraction "+sn+" and endFraction "+un})}(nn=nn??0,rn=rn??1);var an=0;return Promise.all(st.map(function(sn){return sn.then(function(un){var ln=nn+ ++an/st.length*(rn-nn);return Mt(ln),un}),sn}))}function jf(st,Mt){return n(this,void 0,void 0,function(){var nn,rn,an,sn,un,ln,cn,hn,fn;return r(this,function(to){switch(to.label){case 0:return Mt==null&&(Mt={}),nn=Mt.fetchFunc==null?i$1().platform.fetch:Mt.fetchFunc,rn=st.map(function(Xr){return nn(Xr,Mt.requestInit,{isBinary:!0})}),an=0,sn=.5,Mt.onProgress!=null?[3,2]:[4,Promise.all(rn)];case 1:return un=to.sent(),[3,4];case 2:return[4,Kf(rn,Mt.onProgress,an,sn)];case 3:un=to.sent(),to.label=4;case 4:return ln=un.map(function(Xr){return Xr.arrayBuffer()}),cn=.5,hn=1,Mt.onProgress!=null?[3,6]:[4,Promise.all(ln)];case 5:return fn=to.sent(),[3,8];case 6:return[4,Kf(ln,Mt.onProgress,cn,hn)];case 7:fn=to.sent(),to.label=8;case 8:return[2,fn]}})})}function Xf(st){var Mt=this;return function(nn,rn,an){return rn===void 0&&(rn=""),n(Mt,void 0,void 0,function(){var sn,un,ln,cn,hn,fn,to,Xr,uo,co;return r(this,function(ho){switch(ho.label){case 0:if(sn=nn.map(function(){return!1}),un={},ln=an!=null?an.map(function(){return!1}):[],cn=[],nn.forEach(function(e0,lo){var mo=0;e0.weights.forEach(function(fo){var Uo="quantization"in fo?fo.quantization.dtype:fo.dtype,t0=sf[Uo]*k(fo.shape),n0=function(){sn[lo]=!0,un[lo]==null&&(un[lo]=[]),un[lo].push({manifestEntry:fo,groupOffset:mo,sizeBytes:t0})};an!=null?an.forEach(function(i0,a0){i0===fo.name&&(n0(),ln[a0]=!0)}):n0(),cn.push(fo.name),mo+=t0})}),!ln.every(function(e0){return e0}))throw hn=an.filter(function(e0,lo){return!ln[lo]}),new Error("Could not find weights in manifest with names: "+hn.join(", ")+`. 
Manifest JSON has weights with names: `+cn.join(", ")+".");return fn=sn.reduce(function(e0,lo,mo){return lo&&e0.push(mo),e0},[]),to=[],fn.forEach(function(e0){nn[e0].paths.forEach(function(lo){var mo=rn+(rn.endsWith("/")?"":"/")+lo;to.push(mo)})}),[4,st(to)];case 1:return Xr=ho.sent(),uo={},co=0,fn.forEach(function(e0){for(var lo=nn[e0].paths.length,mo=0,fo=0;fo<lo;fo++)mo+=Xr[co+fo].byteLength;for(var Uo=new ArrayBuffer(mo),t0=new Uint8Array(Uo),n0=0,i0=0;i0<lo;i0++){var a0=new Uint8Array(Xr[co+i0]);t0.set(a0,n0),n0+=a0.byteLength}un[e0].forEach(function(s0){var l0=cf(Uo.slice(s0.groupOffset,s0.groupOffset+s0.sizeBytes),[s0.manifestEntry]);for(var d0 in l0)uo[d0]=l0[d0]}),co+=lo}),[2,uo]}})})}}mf.registerSaveRouter(function(st){return i$1().getBool("IS_BROWSER")&&!Array.isArray(st)&&st.startsWith(Hf.URL_SCHEME)?function(Mt){return Mt===void 0&&(Mt="model"),new Hf(Mt)}(st.slice(Hf.URL_SCHEME.length)):null});var Yf=function(){function st(Mt,nn){if(this.DEFAULT_METHOD="POST",nn==null&&(nn={}),this.weightPathPrefix=nn.weightPathPrefix,this.onProgress=nn.onProgress,nn.fetchFunc!=null?(C(typeof nn.fetchFunc=="function",function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=nn.fetchFunc):this.fetch=i$1().platform.fetch,C(Mt!=null&&Mt.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(Mt)&&C(Mt.length===2,function(){return"URL paths for http must have a length of 2, (actual length is "+Mt.length+")."}),this.path=Mt,nn.requestInit!=null&&nn.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=nn.requestInit||{}}return st.prototype.save=function(Mt){return n(this,void 0,void 0,function(){var nn,rn,an,sn;return r(this,function(un){switch(un.label){case 0:if(Mt.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(nn=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,rn=[{paths:["./model.weights.bin"],weights:Mt.weightSpecs}],an={modelTopology:Mt.modelTopology,format:Mt.format,generatedBy:Mt.generatedBy,convertedBy:Mt.convertedBy,userDefinedMetadata:Mt.userDefinedMetadata,weightsManifest:rn},nn.body.append("model.json",new Blob([JSON.stringify(an)],{type:"application/json"}),"model.json"),Mt.weightData!=null&&nn.body.append("model.weights.bin",new Blob([Mt.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,nn)];case 1:if((sn=un.sent()).ok)return[2,{modelArtifactsInfo:vf(Mt),responses:[sn]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+sn.status+".")}})})},st.prototype.load=function(){return n(this,void 0,void 0,function(){var Mt,nn,rn,an,sn,un,ln,cn,hn,fn,to,Xr;return r(this,function(uo){switch(uo.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(Mt=uo.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+Mt.status+". Please verify this URL points to the model JSON of the model to load.");uo.label=2;case 2:return uo.trys.push([2,4,,5]),[4,Mt.json()];case 3:return nn=uo.sent(),[3,5];case 4:throw uo.sent(),rn="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?rn+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":rn+=" Please make sure the server is serving valid JSON for this request.",new Error(rn);case 5:if(an=nn.modelTopology,sn=nn.weightsManifest,un=nn.generatedBy,ln=nn.convertedBy,cn=nn.format,hn=nn.userDefinedMetadata,an==null&&sn==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return sn==null?[3,7]:[4,this.loadWeights(sn)];case 6:Xr=uo.sent(),fn=Xr[0],to=Xr[1],uo.label=7;case 7:return[2,{modelTopology:an,weightSpecs:fn,weightData:to,userDefinedMetadata:hn,generatedBy:un,convertedBy:ln,format:cn}]}})})},st.prototype.loadWeights=function(Mt){return n(this,void 0,void 0,function(){var nn,rn,an,sn,un,ln,cn,hn,fn,to,Xr;return r(this,function(uo){switch(uo.label){case 0:for(nn=Array.isArray(this.path)?this.path[1]:this.path,rn=function(co){var ho=co.lastIndexOf("/"),e0=co.lastIndexOf("?"),lo=co.substring(0,ho),mo=e0>ho?co.substring(e0):"";return[lo+"/",mo]}(nn),an=rn[0],sn=rn[1],un=this.weightPathPrefix||an,ln=[],cn=0,hn=Mt;cn<hn.length;cn++)fn=hn[cn],ln.push.apply(ln,fn.weights);return to=[],Mt.forEach(function(co){co.paths.forEach(function(ho){to.push(un+ho+sn)})}),[4,jf(to,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return Xr=uo.sent(),[2,[ln,df(Xr)]]}})})},st.URL_SCHEME_REGEX=/^https?:\/\//,st}();function $f(st){return st.match(Yf.URL_SCHEME_REGEX)!=null}var Qf=function(st,Mt){return typeof fetch>"u"?null:(Array.isArray(st)?st.every(function(nn){return $f(nn)}):$f(st))?Jf(st,{onProgress:Mt}):null};function Jf(st,Mt){return new Yf(st,Mt)}mf.registerSaveRouter(Qf),mf.registerLoadRouter(Qf);var Zf=function(){function st(Mt){this.modelArtifacts=Mt}return st.prototype.load=function(){return n(this,void 0,void 0,function(){return r(this,function(Mt){return[2,this.modelArtifacts]})})},st}(),td=function(){function st(Mt){this.saveHandler=Mt}return st.prototype.save=function(Mt){return n(this,void 0,void 0,function(){return r(this,function(nn){return[2,this.saveHandler(Mt)]})})},st}(),ed=Object.freeze({browserFiles:function(st){return new qf(st)},browserHTTPRequest:function(st,Mt){return Jf(st,Mt)},concatenateArrayBuffers:df,decodeWeights:cf,encodeWeights:function(st,Mt){return n(this,void 0,void 0,function(){var nn,rn,an,sn,un,ln=this;return r(this,function(cn){switch(cn.label){case 0:for(nn=[],rn=[],an=Array.isArray(st)?st.map(function(hn){return hn.name}):Object.keys(st),sn=function(hn){var fn=an[hn],to=Array.isArray(st)?st[hn].tensor:st[fn];if(to.dtype!=="float32"&&to.dtype!=="int32"&&to.dtype!=="bool"&&to.dtype!=="string")throw new Error("Unsupported dtype in weight '"+fn+"': "+to.dtype);var Xr={name:fn,shape:to.shape,dtype:to.dtype};if(to.dtype==="string"){var uo=new Promise(function(co){return n(ln,void 0,void 0,function(){var ho,e0,lo,mo,fo,Uo,t0;return r(this,function(n0){switch(n0.label){case 0:return[4,to.bytes()];case 1:for(ho=n0.sent(),e0=ho.reduce(function(i0,a0){return i0+a0.length},0)+uf*ho.length,lo=new Uint8Array(e0),mo=0,fo=0;fo<ho.length;fo++)Uo=ho[fo],t0=new Uint8Array(new Uint32Array([Uo.length]).buffer),lo.set(t0,mo),mo+=uf,lo.set(Uo,mo),mo+=Uo.length;return co(lo),[2]}})})});rn.push(uo)}else rn.push(to.data());Mt!=null&&(Xr.group=Mt),nn.push(Xr)},un=0;un<an.length;++un)sn(un);return[4,Promise.all(rn)];case 1:return[2,{data:lf(cn.sent()),specs:nn}]}})})},fromMemory:function(st,Mt,nn,rn){return arguments.length===1?st.modelTopology!=null||st.weightSpecs!=null?new Zf(st):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Zf({modelTopology:st})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Zf({modelTopology:st,weightSpecs:Mt,weightData:nn,trainingConfig:rn}))},getLoadHandlers:function(st,Mt){return mf.getLoadHandlers(st,Mt)},getModelArtifactsInfoForJSON:vf,getSaveHandlers:function(st){return mf.getSaveHandlers(st)},http:Jf,isHTTPScheme:$f,loadWeights:function(st,Mt,nn,rn){return Mt===void 0&&(Mt=""),n(this,void 0,void 0,function(){return r(this,function(an){return[2,Xf(function(sn){return jf(sn,{requestInit:rn})})(st,Mt,nn)]})})},registerLoadRouter:function(st){return mf.registerLoadRouter(st)},registerSaveRouter:function(st){return mf.registerSaveRouter(st)},weightsLoaderFactory:Xf,withSaveHandler:function(st){return new td(st)},copyModel:function(st,Mt){return n(this,void 0,void 0,function(){return r(this,function(nn){return[2,bf(st,Mt,!1)]})})},listModels:function(){return n(this,void 0,void 0,function(){var st,Mt,nn,rn,an,sn,un;return r(this,function(ln){switch(ln.label){case 0:st=yf.getSchemes(),Mt={},nn=0,rn=st,ln.label=1;case 1:return nn<rn.length?(an=rn[nn],[4,yf.getManager(an).listModels()]):[3,4];case 2:for(un in sn=ln.sent())Mt[an+gf+un]=sn[un];ln.label=3;case 3:return nn++,[3,1];case 4:return[2,Mt]}})})},moveModel:function(st,Mt){return n(this,void 0,void 0,function(){return r(this,function(nn){return[2,bf(st,Mt,!0)]})})},removeModel:function(st){return n(this,void 0,void 0,function(){var Mt;return r(this,function(nn){return Mt=xf(st),[2,yf.getManager(Mt.scheme).removeModel(Mt.path)]})})}}),nd;An({confusionMatrix_:function(st,Mt,nn){var rn=mn(st,"labels","confusionMatrix"),an=mn(Mt,"predictions","confusionMatrix");C(nn==null||nn>0&&Number.isInteger(nn),function(){return"If provided, numClasses must be a positive integer, but got "+nn}),C(rn.rank===1,function(){return"Expected the rank of labels to be 1, but got "+rn.rank}),C(an.rank===1,function(){return"Expected the rank of predictions to be 1, but got "+an.rank}),C(rn.shape[0]===an.shape[0],function(){return"Mismatch in the number of examples: "+rn.shape[0]+" vs. "+an.shape[0]+". Labels and predictions should have the same number of elements."}),C(nn>0&&Number.isInteger(nn),function(){return"numClasses is required to be a positive integer, but got "+nn});var sn=Rr(rn.asType("int32"),nn),un=Rr(an.asType("int32"),nn);return sn.transpose().matMul(un).asType("int32")}});var ad=An({fromPixels_:function(st,Mt){if(Mt===void 0&&(Mt=3),Mt>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(st==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var nn=!1,rn=!1,an=!1,sn=!1,un=!1;if(st.data instanceof Uint8Array)nn=!0;else if(typeof ImageData<"u"&&st instanceof ImageData)rn=!0;else if(typeof HTMLVideoElement<"u"&&st instanceof HTMLVideoElement)an=!0;else if(typeof HTMLImageElement<"u"&&st instanceof HTMLImageElement)sn=!0;else{if(st.getContext==null)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+st.constructor.name);un=!0}if(an&&an&&st.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(l("FromPixels",Lt.backendName)!=null)return Lt.runKernel("FromPixels",{pixels:st},{numChannels:Mt});var ln,cn,hn=an?[st.videoWidth,st.videoHeight]:[st.width,st.height],fn=hn[0],to=hn[1];if(un?ln=st.getContext("2d").getImageData(0,0,fn,to).data:rn||nn?ln=st.data:(sn||an)&&(nd==null&&(nd=document.createElement("canvas").getContext("2d")),nd.canvas.width=fn,nd.canvas.height=to,nd.drawImage(st,0,0,fn,to),ln=nd.getImageData(0,0,fn,to).data),Mt===4)cn=new Int32Array(ln);else{var Xr=fn*to;cn=new Int32Array(Xr*Mt);for(var uo=0;uo<Xr;uo++)for(var co=0;co<Mt;++co)cn[uo*Mt+co]=ln[4*uo+co]}return Pn(cn,[to,fn,Mt],"int32")}}),id=Object.freeze({toPixels:function(st,Mt){return n(this,void 0,void 0,function(){var nn,rn,an,sn,un,ln,cn,hn,fn,to,Xr,uo,co,ho,e0,lo,mo,fo,Uo,t0,n0,i0,a0;return r(this,function(s0){switch(s0.label){case 0:if(nn=mn(st,"img","toPixels"),st instanceof wt||(nn=nn.toInt()),nn.rank!==2&&nn.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+nn.rank+".");if(rn=nn.shape.slice(0,2),an=rn[0],sn=rn[1],(un=nn.rank===2?1:nn.shape[2])>4||un===2)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+un);return[4,nn.data()];case 1:return ln=s0.sent(),cn=nn.min(),hn=nn.max(),[4,Promise.all([cn.data(),hn.data()])];case 2:if(fn=s0.sent(),to=fn[0],Xr=fn[1],uo=to[0],co=Xr[0],cn.dispose(),hn.dispose(),nn.dtype==="float32"){if(uo<0||co>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+uo+" - "+co+"].")}else{if(nn.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+nn.dtype+". Please use float32 or int32 tensors.");if(uo<0||co>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+uo+" - "+co+"].")}for(ho=nn.dtype==="float32"?255:1,e0=new Uint8ClampedArray(sn*an*4),lo=0;lo<an*sn;++lo)mo=void 0,fo=void 0,Uo=void 0,t0=void 0,un===1?(mo=ln[lo]*ho,fo=ln[lo]*ho,Uo=ln[lo]*ho,t0=255):un===3?(mo=ln[3*lo]*ho,fo=ln[3*lo+1]*ho,Uo=ln[3*lo+2]*ho,t0=255):un===4&&(mo=ln[4*lo]*ho,fo=ln[4*lo+1]*ho,Uo=ln[4*lo+2]*ho,t0=ln[4*lo+3]*ho),e0[(n0=4*lo)+0]=Math.round(mo),e0[n0+1]=Math.round(fo),e0[n0+2]=Math.round(Uo),e0[n0+3]=Math.round(t0);return Mt!=null&&(Mt.width=sn,Mt.height=an,i0=Mt.getContext("2d"),a0=new ImageData(e0,sn,an),i0.putImageData(a0,0,0)),nn!==st&&nn.dispose(),[2,e0]}})})},fromPixels:ad}),sd=function(){function st(){}return st.prototype.getClassName=function(){return this.constructor.className},st.fromConfig=function(Mt,nn){return new Mt(nn)},st}(),ud=function(){function st(){this.classNameMap={}}return st.getMap=function(){return st.instance==null&&(st.instance=new st),st.instance},st.register=function(Mt){st.getMap().classNameMap[Mt.className]=[Mt,Mt.fromConfig]},st}();function cd(st){C(st.className!=null,function(){return"Class being registered does not have the static className property defined."}),C(typeof st.className=="string",function(){return"className is required to be a string, but got type "+typeof st.className}),C(st.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),ud.register(st)}var xd=function(st){function Mt(){return st!==null&&st.apply(this,arguments)||this}return e(Mt,st),Mt.prototype.minimize=function(nn,rn,an){rn===void 0&&(rn=!1);var sn=this.computeGradients(nn,an),un=sn.value,ln=sn.grads;if(an!=null){var cn=an.map(function(hn){return{name:hn.name,tensor:ln[hn.name]}});this.applyGradients(cn)}else this.applyGradients(ln);return tn(ln),rn?un:(un.dispose(),null)},Object.defineProperty(Mt.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),Mt.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},Mt.prototype.computeGradients=function(nn,rn){return po(nn,rn)},Mt.prototype.dispose=function(){this.iterations_!=null&&tn(this.iterations_)},Mt.prototype.saveIterations=function(){return n(this,void 0,void 0,function(){return r(this,function(nn){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:On(this.iterations_,"int32")}]})})},Mt.prototype.getWeights=function(){return n(this,void 0,void 0,function(){return r(this,function(nn){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},Mt.prototype.setWeights=function(nn){return n(this,void 0,void 0,function(){return r(this,function(rn){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},Mt.prototype.extractIterations=function(nn){return n(this,void 0,void 0,function(){var rn;return r(this,function(an){switch(an.label){case 0:return rn=this,[4,nn[0].tensor.data()];case 1:return rn.iterations_=an.sent()[0],[2,nn.slice(1)]}})})},Mt}(sd);Object.defineProperty(xd,Symbol.hasInstance,{value:function(st){return st.minimize!=null&&st.computeGradients!=null&&st.applyGradients!=null}});var bd=function(st){function Mt(nn,rn,an){an===void 0&&(an=null);var sn=st.call(this)||this;return sn.learningRate=nn,sn.rho=rn,sn.epsilon=an,sn.accumulatedGrads=[],sn.accumulatedUpdates=[],an==null&&(sn.epsilon=Lt.backend.epsilon()),sn}return e(Mt,st),Mt.prototype.applyGradients=function(nn){var rn=this;(Array.isArray(nn)?nn.map(function(an){return an.name}):Object.keys(nn)).forEach(function(an,sn){var un=Lt.registeredVariables[an];rn.accumulatedGrads[sn]==null&&(rn.accumulatedGrads[sn]={originalName:an+"/accum_grad",variable:Ze(function(){return Xn(un).variable(!1)})}),rn.accumulatedUpdates[sn]==null&&(rn.accumulatedUpdates[sn]={originalName:an+"/accum_var",variable:Ze(function(){return Xn(un).variable(!1)})});var ln=Array.isArray(nn)?nn[sn].tensor:nn[an];if(ln!=null){var cn=rn.accumulatedGrads[sn].variable,hn=rn.accumulatedUpdates[sn].variable;Ze(function(){var fn=cn.mul(rn.rho).add(ln.square().mul(1-rn.rho)),to=hn.add(rn.epsilon).sqrt().div(cn.add(rn.epsilon).sqrt()).mul(ln),Xr=hn.mul(rn.rho).add(to.square().mul(1-rn.rho));cn.assign(fn),hn.assign(Xr);var uo=to.mul(-rn.learningRate).add(un);un.assign(uo)})}}),this.incrementIterations()},Mt.prototype.dispose=function(){this.accumulatedUpdates!=null&&(tn(this.accumulatedGrads.map(function(nn){return nn.variable})),tn(this.accumulatedUpdates.map(function(nn){return nn.variable})))},Mt.prototype.getWeights=function(){return n(this,void 0,void 0,function(){var nn;return r(this,function(rn){switch(rn.label){case 0:return nn=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[rn.sent()].concat(nn.map(function(an){return{name:an.originalName,tensor:an.variable}}))]}})})},Mt.prototype.setWeights=function(nn){return n(this,void 0,void 0,function(){var rn;return r(this,function(an){switch(an.label){case 0:return[4,this.extractIterations(nn)];case 1:return nn=an.sent(),rn=nn.length/2,this.accumulatedGrads=nn.slice(0,rn).map(function(sn){return{originalName:sn.name,variable:sn.tensor.variable(!1)}}),this.accumulatedUpdates=nn.slice(rn,2*rn).map(function(sn){return{originalName:sn.name,variable:sn.tensor.variable(!1)}}),[2]}})})},Mt.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},Mt.fromConfig=function(nn,rn){return new nn(rn.learningRate,rn.rho,rn.epsilon)},Mt.className="Adadelta",Mt}(xd);cd(bd);var wd=function(st){function Mt(nn,rn){rn===void 0&&(rn=.1);var an=st.call(this)||this;return an.learningRate=nn,an.initialAccumulatorValue=rn,an.accumulatedGrads=[],an}return e(Mt,st),Mt.prototype.applyGradients=function(nn){var rn=this;(Array.isArray(nn)?nn.map(function(an){return an.name}):Object.keys(nn)).forEach(function(an,sn){var un=Lt.registeredVariables[an];rn.accumulatedGrads[sn]==null&&(rn.accumulatedGrads[sn]={originalName:an+"/accumulator",variable:Ze(function(){return Hn(un.shape,rn.initialAccumulatorValue).variable(!1)})});var ln=Array.isArray(nn)?nn[sn].tensor:nn[an];if(ln!=null){var cn=rn.accumulatedGrads[sn].variable;Ze(function(){var hn=cn.add(ln.square());cn.assign(hn);var fn=ln.div(hn.add(Lt.backend.epsilon()).sqrt()).mul(-rn.learningRate).add(un);un.assign(fn)})}}),this.incrementIterations()},Mt.prototype.dispose=function(){this.accumulatedGrads!=null&&tn(this.accumulatedGrads.map(function(nn){return nn.variable}))},Mt.prototype.getWeights=function(){return n(this,void 0,void 0,function(){return r(this,function(nn){switch(nn.label){case 0:return[4,this.saveIterations()];case 1:return[2,[nn.sent()].concat(this.accumulatedGrads.map(function(rn){return{name:rn.originalName,tensor:rn.variable}}))]}})})},Mt.prototype.setWeights=function(nn){return n(this,void 0,void 0,function(){return r(this,function(rn){switch(rn.label){case 0:return[4,this.extractIterations(nn)];case 1:return nn=rn.sent(),this.accumulatedGrads=nn.map(function(an){return{originalName:an.name,variable:an.tensor.variable(!1)}}),[2]}})})},Mt.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},Mt.fromConfig=function(nn,rn){return new nn(rn.learningRate,rn.initialAccumulatorValue)},Mt.className="Adagrad",Mt}(xd);cd(wd);var Cd=function(st){function Mt(nn,rn,an,sn){sn===void 0&&(sn=null);var un=st.call(this)||this;return un.learningRate=nn,un.beta1=rn,un.beta2=an,un.epsilon=sn,un.accumulatedFirstMoment=[],un.accumulatedSecondMoment=[],Ze(function(){un.accBeta1=On(rn).variable(),un.accBeta2=On(an).variable()}),sn==null&&(un.epsilon=Lt.backend.epsilon()),un}return e(Mt,st),Mt.prototype.applyGradients=function(nn){var rn=this,an=Array.isArray(nn)?nn.map(function(sn){return sn.name}):Object.keys(nn);Ze(function(){var sn=Cc(1,rn.accBeta1),un=Cc(1,rn.accBeta2);an.forEach(function(ln,cn){var hn=Lt.registeredVariables[ln];rn.accumulatedFirstMoment[cn]==null&&(rn.accumulatedFirstMoment[cn]={originalName:ln+"/m",variable:Ze(function(){return Xn(hn).variable(!1)})}),rn.accumulatedSecondMoment[cn]==null&&(rn.accumulatedSecondMoment[cn]={originalName:ln+"/v",variable:Ze(function(){return Xn(hn).variable(!1)})});var fn=Array.isArray(nn)?nn[cn].tensor:nn[ln];if(fn!=null){var to=rn.accumulatedFirstMoment[cn].variable,Xr=rn.accumulatedSecondMoment[cn].variable,uo=to.mul(rn.beta1).add(fn.mul(1-rn.beta1)),co=Xr.mul(rn.beta2).add(fn.square().mul(1-rn.beta2)),ho=uo.div(sn),e0=co.div(un);to.assign(uo),Xr.assign(co);var lo=ho.div(e0.sqrt().add(rn.epsilon)).mul(-rn.learningRate).add(hn);hn.assign(lo)}}),rn.accBeta1.assign(rn.accBeta1.mul(rn.beta1)),rn.accBeta2.assign(rn.accBeta2.mul(rn.beta2))}),this.incrementIterations()},Mt.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&tn(this.accumulatedFirstMoment.map(function(nn){return nn.variable})),this.accumulatedSecondMoment!=null&&tn(this.accumulatedSecondMoment.map(function(nn){return nn.variable}))},Mt.prototype.getWeights=function(){return n(this,void 0,void 0,function(){var nn;return r(this,function(rn){switch(rn.label){case 0:return nn=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[rn.sent()].concat(nn.map(function(an){return{name:an.originalName,tensor:an.variable}}))]}})})},Mt.prototype.setWeights=function(nn){return n(this,void 0,void 0,function(){var rn,an=this;return r(this,function(sn){switch(sn.label){case 0:return[4,this.extractIterations(nn)];case 1:return nn=sn.sent(),Ze(function(){an.accBeta1.assign(xc(an.beta1,an.iterations_+1)),an.accBeta2.assign(xc(an.beta2,an.iterations_+1))}),rn=nn.length/2,this.accumulatedFirstMoment=nn.slice(0,rn).map(function(un){return{originalName:un.name,variable:un.tensor.variable(!1)}}),this.accumulatedSecondMoment=nn.slice(rn,2*rn).map(function(un){return{originalName:un.name,variable:un.tensor.variable(!1)}}),[2]}})})},Mt.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},Mt.fromConfig=function(nn,rn){return new nn(rn.learningRate,rn.beta1,rn.beta2,rn.epsilon)},Mt.className="Adam",Mt}(xd);cd(Cd);var Ed=function(st){function Mt(nn,rn,an,sn,un){sn===void 0&&(sn=null),un===void 0&&(un=0);var ln=st.call(this)||this;return ln.learningRate=nn,ln.beta1=rn,ln.beta2=an,ln.epsilon=sn,ln.decay=un,ln.accumulatedFirstMoment=[],ln.accumulatedWeightedInfNorm=[],Ze(function(){ln.iteration=On(0).variable(),ln.accBeta1=On(rn).variable()}),sn==null&&(ln.epsilon=Lt.backend.epsilon()),ln}return e(Mt,st),Mt.prototype.applyGradients=function(nn){var rn=this,an=Array.isArray(nn)?nn.map(function(sn){return sn.name}):Object.keys(nn);Ze(function(){var sn=Cc(1,rn.accBeta1),un=sc(-rn.learningRate,rn.iteration.mul(rn.decay).add(1));an.forEach(function(ln,cn){var hn=Lt.registeredVariables[ln];rn.accumulatedFirstMoment[cn]==null&&(rn.accumulatedFirstMoment[cn]={originalName:ln+"/m",variable:Xn(hn).variable(!1)}),rn.accumulatedWeightedInfNorm[cn]==null&&(rn.accumulatedWeightedInfNorm[cn]={originalName:ln+"/v",variable:Xn(hn).variable(!1)});var fn=Array.isArray(nn)?nn[cn].tensor:nn[ln];if(fn!=null){var to=rn.accumulatedFirstMoment[cn].variable,Xr=rn.accumulatedWeightedInfNorm[cn].variable,uo=to.mul(rn.beta1).add(fn.mul(1-rn.beta1)),co=Xr.mul(rn.beta2),ho=fn.abs(),e0=co.maximum(ho);to.assign(uo),Xr.assign(e0);var lo=un.div(sn).mul(uo.div(e0.add(rn.epsilon))).add(hn);hn.assign(lo)}}),rn.iteration.assign(rn.iteration.add(1)),rn.accBeta1.assign(rn.accBeta1.mul(rn.beta1))}),this.incrementIterations()},Mt.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&tn(this.accumulatedFirstMoment.map(function(nn){return nn.variable})),this.accumulatedWeightedInfNorm!=null&&tn(this.accumulatedWeightedInfNorm.map(function(nn){return nn.variable}))},Mt.prototype.getWeights=function(){return n(this,void 0,void 0,function(){return r(this,function(nn){throw new Error("getWeights() is not implemented for Adamax yet.")})})},Mt.prototype.setWeights=function(nn){return n(this,void 0,void 0,function(){return r(this,function(rn){throw new Error("setWeights() is not implemented for Adamax yet.")})})},Mt.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},Mt.fromConfig=function(nn,rn){return new nn(rn.learningRate,rn.beta1,rn.beta2,rn.epsilon,rn.decay)},Mt.className="Adamax",Mt}(xd);cd(Ed);var Rd=function(st){function Mt(nn){var rn=st.call(this)||this;return rn.learningRate=nn,rn.setLearningRate(nn),rn}return e(Mt,st),Mt.prototype.applyGradients=function(nn){var rn=this;(Array.isArray(nn)?nn.map(function(an){return an.name}):Object.keys(nn)).forEach(function(an,sn){var un=Array.isArray(nn)?nn[sn].tensor:nn[an];if(un!=null){var ln=Lt.registeredVariables[an];Ze(function(){var cn=rn.c.mul(un).add(ln);ln.assign(cn)})}}),this.incrementIterations()},Mt.prototype.setLearningRate=function(nn){this.learningRate=nn,this.c!=null&&this.c.dispose(),this.c=en(On(-nn))},Mt.prototype.dispose=function(){this.c.dispose()},Mt.prototype.getWeights=function(){return n(this,void 0,void 0,function(){return r(this,function(nn){switch(nn.label){case 0:return[4,this.saveIterations()];case 1:return[2,[nn.sent()]]}})})},Mt.prototype.setWeights=function(nn){return n(this,void 0,void 0,function(){return r(this,function(rn){switch(rn.label){case 0:return[4,this.extractIterations(nn)];case 1:if((nn=rn.sent()).length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},Mt.prototype.getConfig=function(){return{learningRate:this.learningRate}},Mt.fromConfig=function(nn,rn){return new nn(rn.learningRate)},Mt.className="SGD",Mt}(xd);cd(Rd);var Id=function(st){function Mt(nn,rn,an){an===void 0&&(an=!1);var sn=st.call(this,nn)||this;return sn.learningRate=nn,sn.momentum=rn,sn.useNesterov=an,sn.accumulations=[],sn.m=On(sn.momentum),sn}return e(Mt,st),Mt.prototype.applyGradients=function(nn){var rn=this;(Array.isArray(nn)?nn.map(function(an){return an.name}):Object.keys(nn)).forEach(function(an,sn){var un=Lt.registeredVariables[an];rn.accumulations[sn]==null&&(rn.accumulations[sn]={originalName:an+"/momentum",variable:Ze(function(){return Xn(un).variable(!1)})});var ln=rn.accumulations[sn].variable,cn=Array.isArray(nn)?nn[sn].tensor:nn[an];cn!=null&&Ze(function(){var hn,fn=rn.m.mul(ln).add(cn);hn=rn.useNesterov?rn.c.mul(cn.add(fn.mul(rn.m))).add(un):rn.c.mul(fn).add(un),ln.assign(fn),un.assign(hn)})}),this.incrementIterations()},Mt.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&tn(this.accumulations.map(function(nn){return nn.variable}))},Mt.prototype.setMomentum=function(nn){this.momentum=nn},Mt.prototype.getWeights=function(){return n(this,void 0,void 0,function(){return r(this,function(nn){switch(nn.label){case 0:return[4,this.saveIterations()];case 1:return[2,[nn.sent()].concat(this.accumulations.map(function(rn){return{name:rn.originalName,tensor:rn.variable}}))]}})})},Mt.prototype.setWeights=function(nn){return n(this,void 0,void 0,function(){return r(this,function(rn){switch(rn.label){case 0:return[4,this.extractIterations(nn)];case 1:return nn=rn.sent(),this.accumulations=nn.map(function(an){return{originalName:an.name,variable:an.tensor.variable(!1)}}),[2]}})})},Mt.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},Mt.fromConfig=function(nn,rn){return new nn(rn.learningRate,rn.momentum,rn.useNesterov)},Mt.className="Momentum",Mt}(Rd);cd(Id);var kd=function(st){function Mt(nn,rn,an,sn,un){rn===void 0&&(rn=.9),an===void 0&&(an=0),sn===void 0&&(sn=null),un===void 0&&(un=!1);var ln=st.call(this)||this;if(ln.learningRate=nn,ln.decay=rn,ln.momentum=an,ln.epsilon=sn,ln.accumulatedMeanSquares=[],ln.accumulatedMoments=[],ln.accumulatedMeanGrads=[],ln.centered=un,sn==null&&(ln.epsilon=Lt.backend.epsilon()),nn==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return ln}return e(Mt,st),Mt.prototype.applyGradients=function(nn){var rn=this;(Array.isArray(nn)?nn.map(function(an){return an.name}):Object.keys(nn)).forEach(function(an,sn){var un=Lt.registeredVariables[an];rn.accumulatedMeanSquares[sn]==null&&(rn.accumulatedMeanSquares[sn]={originalName:an+"/rms",variable:Ze(function(){return Xn(un).variable(!1)})}),rn.accumulatedMoments[sn]==null&&(rn.accumulatedMoments[sn]={originalName:an+"/momentum",variable:Ze(function(){return Xn(un).variable(!1)})}),rn.accumulatedMeanGrads[sn]==null&&rn.centered&&(rn.accumulatedMeanGrads[sn]={originalName:an+"/mg",variable:Ze(function(){return Xn(un).variable(!1)})});var ln=Array.isArray(nn)?nn[sn].tensor:nn[an];if(ln!=null){var cn=rn.accumulatedMeanSquares[sn].variable,hn=rn.accumulatedMoments[sn].variable;Ze(function(){var fn=cn.mul(rn.decay).add(ln.square().mul(1-rn.decay));if(rn.centered){var to=rn.accumulatedMeanGrads[sn].variable,Xr=to.mul(rn.decay).add(ln.mul(1-rn.decay)),uo=hn.mul(rn.momentum).add(ln.mul(rn.learningRate).div(fn.sub(Xr.square().add(rn.epsilon)).sqrt()));cn.assign(fn),to.assign(Xr),hn.assign(uo);var co=un.sub(uo);un.assign(co)}else{var ho=cn.mul(rn.decay).add(ln.square().mul(1-rn.decay));uo=hn.mul(rn.momentum).add(ln.mul(rn.learningRate).div(ho.add(rn.epsilon).sqrt())),cn.assign(ho),hn.assign(uo),co=un.sub(uo),un.assign(co)}})}}),this.incrementIterations()},Mt.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&tn(this.accumulatedMeanSquares.map(function(nn){return nn.variable})),this.accumulatedMeanGrads!=null&&this.centered&&tn(this.accumulatedMeanGrads.map(function(nn){return nn.variable})),this.accumulatedMoments!=null&&tn(this.accumulatedMoments.map(function(nn){return nn.variable}))},Mt.prototype.getWeights=function(){return n(this,void 0,void 0,function(){var nn;return r(this,function(rn){switch(rn.label){case 0:return nn=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&nn.push.apply(nn,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[rn.sent()].concat(nn.map(function(an){return{name:an.originalName,tensor:an.variable}}))]}})})},Mt.prototype.setWeights=function(nn){return n(this,void 0,void 0,function(){var rn;return r(this,function(an){switch(an.label){case 0:return[4,this.extractIterations(nn)];case 1:return nn=an.sent(),rn=this.centered?nn.length/3:nn.length/2,this.accumulatedMeanSquares=nn.slice(0,rn).map(function(sn){return{originalName:sn.name,variable:sn.tensor.variable(!1)}}),this.accumulatedMoments=nn.slice(rn,2*rn).map(function(sn){return{originalName:sn.name,variable:sn.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=nn.slice(2*rn,3*rn).map(function(sn){return{originalName:sn.name,variable:sn.tensor.variable(!1)}})),[2]}})})},Mt.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},Mt.fromConfig=function(nn,rn){return new nn(rn.learningRate,rn.decay,rn.momentum,rn.epsilon,rn.centered)},Mt.className="RMSProp",Mt}(xd);cd(kd);typeof requestAnimationFrame<"u"||typeof setImmediate<"u"&&setImmediate;wt.prototype.squaredDifference=function(st){return nu(this,st)},xt=Gh;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(st,Mt){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nn,rn){nn.__proto__=rn}||function(nn,rn){for(var an in rn)rn.hasOwnProperty(an)&&(nn[an]=rn[an])},extendStatics(st,Mt)};function __extends(st,Mt){extendStatics(st,Mt);function nn(){this.constructor=st}st.prototype=Mt===null?Object.create(Mt):(nn.prototype=Mt.prototype,new nn)}var __assign=function(){return __assign=Object.assign||function(Mt){for(var nn,rn=1,an=arguments.length;rn<an;rn++){nn=arguments[rn];for(var sn in nn)Object.prototype.hasOwnProperty.call(nn,sn)&&(Mt[sn]=nn[sn])}return Mt},__assign.apply(this,arguments)};function __awaiter(st,Mt,nn,rn){function an(sn){return sn instanceof nn?sn:new nn(function(un){un(sn)})}return new(nn||(nn=Promise))(function(sn,un){function ln(fn){try{hn(rn.next(fn))}catch(to){un(to)}}function cn(fn){try{hn(rn.throw(fn))}catch(to){un(to)}}function hn(fn){fn.done?sn(fn.value):an(fn.value).then(ln,cn)}hn((rn=rn.apply(st,[])).next())})}function __generator(st,Mt){var nn={label:0,sent:function(){if(sn[0]&1)throw sn[1];return sn[1]},trys:[],ops:[]},rn,an,sn,un;return un={next:ln(0),throw:ln(1),return:ln(2)},typeof Symbol=="function"&&(un[Symbol.iterator]=function(){return this}),un;function ln(hn){return function(fn){return cn([hn,fn])}}function cn(hn){if(rn)throw new TypeError("Generator is already executing.");for(;nn;)try{if(rn=1,an&&(sn=hn[0]&2?an.return:hn[0]?an.throw||((sn=an.return)&&sn.call(an),0):an.next)&&!(sn=sn.call(an,hn[1])).done)return sn;switch(an=0,sn&&(hn=[hn[0]&2,sn.value]),hn[0]){case 0:case 1:sn=hn;break;case 4:return nn.label++,{value:hn[1],done:!1};case 5:nn.label++,an=hn[1],hn=[0];continue;case 7:hn=nn.ops.pop(),nn.trys.pop();continue;default:if(sn=nn.trys,!(sn=sn.length>0&&sn[sn.length-1])&&(hn[0]===6||hn[0]===2)){nn=0;continue}if(hn[0]===3&&(!sn||hn[1]>sn[0]&&hn[1]<sn[3])){nn.label=hn[1];break}if(hn[0]===6&&nn.label<sn[1]){nn.label=sn[1],sn=hn;break}if(sn&&nn.label<sn[2]){nn.label=sn[2],nn.ops.push(hn);break}sn[2]&&nn.ops.pop(),nn.trys.pop();continue}hn=Mt.call(st,nn)}catch(fn){hn=[6,fn],an=0}finally{rn=sn=0}if(hn[0]&5)throw hn[1];return{value:hn[0]?hn[1]:void 0,done:!0}}}function __spreadArrays(){for(var st=0,Mt=0,nn=arguments.length;Mt<nn;Mt++)st+=arguments[Mt].length;for(var rn=Array(st),an=0,Mt=0;Mt<nn;Mt++)for(var sn=arguments[Mt],un=0,ln=sn.length;un<ln;un++,an++)rn[an]=sn[un];return rn}var Dimensions=function(){function st(Mt,nn){if(!isValidNumber(Mt)||!isValidNumber(nn))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:Mt,height:nn}));this._width=Mt,this._height=nn}return Object.defineProperty(st.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),st.prototype.reverse=function(){return new st(1/this.width,1/this.height)},st}();function isTensor(st,Mt){return st instanceof wt&&st.shape.length===Mt}function isTensor2D(st){return isTensor(st,2)}function isTensor3D(st){return isTensor(st,3)}function isTensor4D(st){return isTensor(st,4)}function isFloat(st){return st%1!==0}function isEven(st){return st%2===0}function round(st,Mt){Mt===void 0&&(Mt=2);var nn=Math.pow(10,Mt);return Math.floor(st*nn)/nn}function isDimensions(st){return st&&st.width&&st.height}function computeReshapedDimensions(st,Mt){var nn=st.width,rn=st.height,an=Mt/Math.max(rn,nn);return new Dimensions(Math.round(nn*an),Math.round(rn*an))}function getCenterPoint(st){return st.reduce(function(Mt,nn){return Mt.add(nn)},new Point(0,0)).div(new Point(st.length,st.length))}function range(st,Mt,nn){return Array(st).fill(0).map(function(rn,an){return Mt+an*nn})}function isValidNumber(st){return!!st&&st!==1/0&&st!==-1/0&&!isNaN(st)||st===0}function isValidProbablitiy(st){return isValidNumber(st)&&0<=st&&st<=1}var Point=function(){function st(Mt,nn){this._x=Mt,this._y=nn}return Object.defineProperty(st.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),st.prototype.add=function(Mt){return new st(this.x+Mt.x,this.y+Mt.y)},st.prototype.sub=function(Mt){return new st(this.x-Mt.x,this.y-Mt.y)},st.prototype.mul=function(Mt){return new st(this.x*Mt.x,this.y*Mt.y)},st.prototype.div=function(Mt){return new st(this.x/Mt.x,this.y/Mt.y)},st.prototype.abs=function(){return new st(Math.abs(this.x),Math.abs(this.y))},st.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},st.prototype.floor=function(){return new st(Math.floor(this.x),Math.floor(this.y))},st}(),Box=function(){function st(Mt,nn){nn===void 0&&(nn=!0);var rn=Mt||{},an=[rn.left,rn.top,rn.right,rn.bottom].every(isValidNumber),sn=[rn.x,rn.y,rn.width,rn.height].every(isValidNumber);if(!sn&&!an)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(rn));var un=sn?[rn.x,rn.y,rn.width,rn.height]:[rn.left,rn.top,rn.right-rn.left,rn.bottom-rn.top],ln=un[0],cn=un[1],hn=un[2],fn=un[3];st.assertIsValidBox({x:ln,y:cn,width:hn,height:fn},"Box.constructor",nn),this._x=ln,this._y=cn,this._width=hn,this._height=fn}return st.isRect=function(Mt){return!!Mt&&[Mt.x,Mt.y,Mt.width,Mt.height].every(isValidNumber)},st.assertIsValidBox=function(Mt,nn,rn){if(rn===void 0&&(rn=!1),!st.isRect(Mt))throw new Error(nn+" - invalid box: "+JSON.stringify(Mt)+", expected object with properties x, y, width, height");if(!rn&&(Mt.width<0||Mt.height<0))throw new Error(nn+" - width ("+Mt.width+") and height ("+Mt.height+") must be positive numbers")},Object.defineProperty(st.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"topLeft",{get:function(){return new Point(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"topRight",{get:function(){return new Point(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"bottomLeft",{get:function(){return new Point(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"bottomRight",{get:function(){return new Point(this.right,this.bottom)},enumerable:!0,configurable:!0}),st.prototype.round=function(){var Mt=[this.x,this.y,this.width,this.height].map(function(un){return Math.round(un)}),nn=Mt[0],rn=Mt[1],an=Mt[2],sn=Mt[3];return new st({x:nn,y:rn,width:an,height:sn})},st.prototype.floor=function(){var Mt=[this.x,this.y,this.width,this.height].map(function(un){return Math.floor(un)}),nn=Mt[0],rn=Mt[1],an=Mt[2],sn=Mt[3];return new st({x:nn,y:rn,width:an,height:sn})},st.prototype.toSquare=function(){var Mt=this,nn=Mt.x,rn=Mt.y,an=Mt.width,sn=Mt.height,un=Math.abs(an-sn);return an<sn&&(nn-=un/2,an+=un),sn<an&&(rn-=un/2,sn+=un),new st({x:nn,y:rn,width:an,height:sn})},st.prototype.rescale=function(Mt){var nn=isDimensions(Mt)?Mt.width:Mt,rn=isDimensions(Mt)?Mt.height:Mt;return new st({x:this.x*nn,y:this.y*rn,width:this.width*nn,height:this.height*rn})},st.prototype.pad=function(Mt,nn){var rn=[this.x-Mt/2,this.y-nn/2,this.width+Mt,this.height+nn],an=rn[0],sn=rn[1],un=rn[2],ln=rn[3];return new st({x:an,y:sn,width:un,height:ln})},st.prototype.clipAtImageBorders=function(Mt,nn){var rn=this,an=rn.x,sn=rn.y,un=rn.right,ln=rn.bottom,cn=Math.max(an,0),hn=Math.max(sn,0),fn=un-cn,to=ln-hn,Xr=Math.min(fn,Mt-cn),uo=Math.min(to,nn-hn);return new st({x:cn,y:hn,width:Xr,height:uo}).floor()},st.prototype.shift=function(Mt,nn){var rn=this,an=rn.width,sn=rn.height,un=this.x+Mt,ln=this.y+nn;return new st({x:un,y:ln,width:an,height:sn})},st.prototype.padAtBorders=function(Mt,nn){var rn=this.width+1,an=this.height+1,sn=1,un=1,ln=rn,cn=an,hn=this.left,fn=this.top,to=this.right,Xr=this.bottom;return to>nn&&(ln=-to+nn+rn,to=nn),Xr>Mt&&(cn=-Xr+Mt+an,Xr=Mt),hn<1&&(cn=2-hn,hn=1),fn<1&&(cn=2-fn,fn=1),{dy:un,edy:cn,dx:sn,edx:ln,y:fn,ey:Xr,x:hn,ex:to,w:rn,h:an}},st.prototype.calibrate=function(Mt){return new st({left:this.left+Mt.left*this.width,top:this.top+Mt.top*this.height,right:this.right+Mt.right*this.width,bottom:this.bottom+Mt.bottom*this.height}).toSquare().round()},st}(),BoundingBox=function(st){__extends(Mt,st);function Mt(nn,rn,an,sn,un){return un===void 0&&(un=!1),st.call(this,{left:nn,top:rn,right:an,bottom:sn},un)||this}return Mt}(Box),ObjectDetection=function(){function st(Mt,nn,rn,an,sn){this._imageDims=new Dimensions(sn.width,sn.height),this._score=Mt,this._classScore=nn,this._className=rn,this._box=new Box(an).rescale(this._imageDims)}return Object.defineProperty(st.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"relativeBox",{get:function(){return new Box(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),st.prototype.forSize=function(Mt,nn){return new st(this.score,this.classScore,this.className,this.relativeBox,{width:Mt,height:nn})},st}(),FaceDetection=function(st){__extends(Mt,st);function Mt(nn,rn,an){return st.call(this,nn,nn,"",rn,an)||this}return Mt.prototype.forSize=function(nn,rn){var an=st.prototype.forSize.call(this,nn,rn),sn=an.score,un=an.relativeBox,ln=an.imageDims;return new Mt(sn,un,ln)},Mt}(ObjectDetection);function iou(st,Mt,nn){nn===void 0&&(nn=!0);var rn=Math.max(0,Math.min(st.right,Mt.right)-Math.max(st.left,Mt.left)),an=Math.max(0,Math.min(st.bottom,Mt.bottom)-Math.max(st.top,Mt.top)),sn=rn*an;return nn?sn/(st.area+Mt.area-sn):sn/Math.min(st.area,Mt.area)}function minBbox(st){var Mt=st.map(function(ln){return ln.x}),nn=st.map(function(ln){return ln.y}),rn=Mt.reduce(function(ln,cn){return cn<ln?cn:ln},1/0),an=nn.reduce(function(ln,cn){return cn<ln?cn:ln},1/0),sn=Mt.reduce(function(ln,cn){return ln<cn?cn:ln},0),un=nn.reduce(function(ln,cn){return ln<cn?cn:ln},0);return new BoundingBox(rn,an,sn,un)}function nonMaxSuppression$1(st,Mt,nn,rn){rn===void 0&&(rn=!0);for(var an=Mt.map(function(ln,cn){return{score:ln,boxIndex:cn}}).sort(function(ln,cn){return ln.score-cn.score}).map(function(ln){return ln.boxIndex}),sn=[],un=function(){var ln=an.pop();sn.push(ln);for(var cn=an,hn=[],fn=0;fn<cn.length;fn++){var to=cn[fn],Xr=st[ln],uo=st[to];hn.push(iou(Xr,uo,rn))}an=an.filter(function(co,ho){return hn[ho]<=nn})};an.length>0;)un();return sn}function normalize$1(st,Mt){return Ze(function(){var nn=Mt[0],rn=Mt[1],an=Mt[2],sn=Hn(__spreadArrays(st.shape.slice(0,3),[1]),nn),un=Hn(__spreadArrays(st.shape.slice(0,3),[1]),rn),ln=Hn(__spreadArrays(st.shape.slice(0,3),[1]),an),cn=Yn([sn,un,ln],3);return Cc(st,cn)})}function padToSquare(st,Mt){return Mt===void 0&&(Mt=!1),Ze(function(){var nn=st.shape.slice(1),rn=nn[0],an=nn[1];if(rn===an)return st;var sn=Math.abs(rn-an),un=Math.round(sn*(Mt?.5:1)),ln=rn>an?2:1,cn=function(uo){var co=st.shape.slice();return co[ln]=uo,Hn(co,0)},hn=cn(un),fn=sn-hn.shape[ln],to=Mt&&fn?cn(fn):null,Xr=[to,st,hn].filter(function(uo){return!!uo}).map(function(uo){return uo.toFloat()});return Yn(Xr,ln)})}function sigmoid(st){return 1/(1+Math.exp(-st))}var Rect=function(st){__extends(Mt,st);function Mt(nn,rn,an,sn,un){return un===void 0&&(un=!1),st.call(this,{x:nn,y:rn,width:an,height:sn},un)||this}return Mt}(Box),relX=.5,relY=.43,relScale=.45,FaceLandmarks=function(){function st(Mt,nn,rn){rn===void 0&&(rn=new Point(0,0));var an=nn.width,sn=nn.height;this._imgDims=new Dimensions(an,sn),this._shift=rn,this._positions=Mt.map(function(un){return un.mul(new Point(an,sn)).add(rn)})}return Object.defineProperty(st.prototype,"shift",{get:function(){return new Point(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"relativePositions",{get:function(){var Mt=this;return this._positions.map(function(nn){return nn.sub(Mt._shift).div(new Point(Mt.imageWidth,Mt.imageHeight))})},enumerable:!0,configurable:!0}),st.prototype.forSize=function(Mt,nn){return new this.constructor(this.relativePositions,{width:Mt,height:nn})},st.prototype.shiftBy=function(Mt,nn){return new this.constructor(this.relativePositions,this._imgDims,new Point(Mt,nn))},st.prototype.shiftByPoint=function(Mt){return this.shiftBy(Mt.x,Mt.y)},st.prototype.align=function(Mt,nn){if(nn===void 0&&(nn={}),Mt){var rn=Mt instanceof FaceDetection?Mt.box.floor():new Box(Mt);return this.shiftBy(rn.x,rn.y).align(null,nn)}var an=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},nn),sn=an.useDlibAlignment,un=an.minBoxPadding;return sn?this.alignDlib():this.alignMinBbox(un)},st.prototype.alignDlib=function(){var Mt=this.getRefPointsForAlignment(),nn=Mt[0],rn=Mt[1],an=Mt[2],sn=function(to){return an.sub(to).magnitude()},un=(sn(nn)+sn(rn))/2,ln=Math.floor(un/relScale),cn=getCenterPoint(Mt),hn=Math.floor(Math.max(0,cn.x-relX*ln)),fn=Math.floor(Math.max(0,cn.y-relY*ln));return new Rect(hn,fn,Math.min(ln,this.imageWidth+hn),Math.min(ln,this.imageHeight+fn))},st.prototype.alignMinBbox=function(Mt){var nn=minBbox(this.positions);return nn.pad(nn.width*Mt,nn.height*Mt)},st.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},st}(),FaceLandmarks5=function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt.prototype.getRefPointsForAlignment=function(){var nn=this.positions;return[nn[0],nn[1],getCenterPoint([nn[3],nn[4]])]},Mt}(FaceLandmarks),FaceLandmarks68=function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt.prototype.getJawOutline=function(){return this.positions.slice(0,17)},Mt.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},Mt.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},Mt.prototype.getNose=function(){return this.positions.slice(27,36)},Mt.prototype.getLeftEye=function(){return this.positions.slice(36,42)},Mt.prototype.getRightEye=function(){return this.positions.slice(42,48)},Mt.prototype.getMouth=function(){return this.positions.slice(48,68)},Mt.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(getCenterPoint)},Mt}(FaceLandmarks),FaceMatch=function(){function st(Mt,nn){this._label=Mt,this._distance=nn}return Object.defineProperty(st.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),st.prototype.toString=function(Mt){return Mt===void 0&&(Mt=!0),""+this.label+(Mt?" ("+round(this.distance)+")":"")},st}(),LabeledBox=function(st){__extends(Mt,st);function Mt(nn,rn){var an=st.call(this,nn)||this;return an._label=rn,an}return Mt.assertIsValidLabeledBox=function(nn,rn){if(Box.assertIsValidBox(nn,rn),!isValidNumber(nn.label))throw new Error(rn+" - expected property label ("+nn.label+") to be a number")},Object.defineProperty(Mt.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Mt}(Box),LabeledFaceDescriptors=function(){function st(Mt,nn){if(typeof Mt!="string")throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(nn)||nn.some(function(rn){return!(rn instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=Mt,this._descriptors=nn}return Object.defineProperty(st.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),st.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(Mt){return Array.from(Mt)})}},st.fromJSON=function(Mt){var nn=Mt.descriptors.map(function(rn){return new Float32Array(rn)});return new st(Mt.label,nn)},st}();(function(st){__extends(Mt,st);function Mt(nn,rn,an,sn){var un=st.call(this,nn,rn)||this;return un._score=an,un._classScore=sn,un}return Mt.assertIsValidPredictedBox=function(nn,rn){if(LabeledBox.assertIsValidLabeledBox(nn,rn),!isValidProbablitiy(nn.score)||!isValidProbablitiy(nn.classScore))throw new Error(rn+" - expected properties score ("+nn.score+") and ("+nn.classScore+") to be a number between [0, 1]")},Object.defineProperty(Mt.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(Mt.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Mt})(LabeledBox);function isWithFaceDetection(st){return st.detection instanceof FaceDetection}function extendWithFaceDetection(st,Mt){var nn={detection:Mt};return Object.assign({},st,nn)}function createBrowserEnv(){var st=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")},Mt=function(){throw new Error("readFile - filesystem not available for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:st,readFile:Mt}}function createFileSystem(st){var Mt="";if(!st)try{st=require("fs")}catch(rn){Mt=rn.toString()}var nn=st?function(rn){return new Promise(function(an,sn){st.readFile(rn,function(un,ln){return un?sn(un):an(ln)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+Mt)};return{readFile:nn}}function createNodejsEnv(){var st=global.Canvas||global.HTMLCanvasElement,Mt=global.Image||global.HTMLImageElement,nn=function(){if(st)return new st;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},rn=function(){if(Mt)return new Mt;throw new Error("createImageElement - missing Image implementation for nodejs environment")},an=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},sn=createFileSystem();return __assign({Canvas:st||function(){function un(){}return un}(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||function(){function un(){}return un}(),Image:Mt||function(){function un(){}return un}(),ImageData:global.ImageData||function(){function un(){}return un}(),Video:global.HTMLVideoElement||function(){function un(){}return un}(),createCanvasElement:nn,createImageElement:rn,fetch:an},sn)}function isBrowser(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function isNodejs(){return typeof global=="object"&&typeof require=="function"&&typeof module<"u"&&typeof process<"u"&&!!process.version}var environment;function getEnv(){if(!environment)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return environment}function setEnv(st){environment=st}function initialize(){isBrowser()&&setEnv(createBrowserEnv()),isNodejs()&&setEnv(createNodejsEnv())}function monkeyPatch(st){if(environment||initialize(),!environment)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var Mt=st.Canvas,nn=Mt===void 0?environment.Canvas:Mt,rn=st.Image,an=rn===void 0?environment.Image:rn;environment.Canvas=nn,environment.Image=an,environment.createCanvasElement=st.createCanvasElement||function(){return new nn},environment.createImageElement=st.createImageElement||function(){return new an},environment.ImageData=st.ImageData||environment.ImageData,environment.Video=st.Video||environment.Video,environment.fetch=st.fetch||environment.fetch,environment.readFile=st.readFile||environment.readFile}var env={getEnv,setEnv,initialize,createBrowserEnv,createFileSystem,createNodejsEnv,monkeyPatch,isBrowser,isNodejs};initialize();function resolveInput(st){return!env.isNodejs()&&typeof st=="string"?document.getElementById(st):st}function getContext2dOrThrow(st){var Mt=env.getEnv(),nn=Mt.Canvas,rn=Mt.CanvasRenderingContext2D;if(st instanceof rn)return st;var an=resolveInput(st);if(!(an instanceof nn))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var sn=an.getContext("2d");if(!sn)throw new Error("resolveContext2d - canvas 2d context is null");return sn}var AnchorPosition;(function(st){st.TOP_LEFT="TOP_LEFT",st.TOP_RIGHT="TOP_RIGHT",st.BOTTOM_LEFT="BOTTOM_LEFT",st.BOTTOM_RIGHT="BOTTOM_RIGHT"})(AnchorPosition||(AnchorPosition={}));function isMediaLoaded(st){var Mt=env.getEnv(),nn=Mt.Image,rn=Mt.Video;return st instanceof nn&&st.complete||st instanceof rn&&st.readyState>=3}function awaitMediaLoaded(st){return new Promise(function(Mt,nn){if(st instanceof env.getEnv().Canvas||isMediaLoaded(st))return Mt();function rn(sn){sn.currentTarget&&(sn.currentTarget.removeEventListener("load",rn),sn.currentTarget.removeEventListener("error",an),Mt(sn))}function an(sn){sn.currentTarget&&(sn.currentTarget.removeEventListener("load",rn),sn.currentTarget.removeEventListener("error",an),nn(sn))}st.addEventListener("load",rn),st.addEventListener("error",an)})}function getMediaDimensions(st){var Mt=env.getEnv(),nn=Mt.Image,rn=Mt.Video;return st instanceof nn?new Dimensions(st.naturalWidth,st.naturalHeight):st instanceof rn?new Dimensions(st.videoWidth,st.videoHeight):new Dimensions(st.width,st.height)}function createCanvas(st){var Mt=st.width,nn=st.height,rn=env.getEnv().createCanvasElement,an=rn();return an.width=Mt,an.height=nn,an}function createCanvasFromMedia(st,Mt){var nn=env.getEnv().ImageData;if(!(st instanceof nn)&&!isMediaLoaded(st))throw new Error("createCanvasFromMedia - media has not finished loading yet");var rn=getMediaDimensions(st),an=rn.width,sn=rn.height,un=createCanvas({width:an,height:sn});return st instanceof nn?getContext2dOrThrow(un).putImageData(st,0,0):getContext2dOrThrow(un).drawImage(st,0,0,an,sn),un}function imageTensorToCanvas(st,Mt){return __awaiter(this,void 0,void 0,function(){var nn,rn,an,sn,un,ln;return __generator(this,function(cn){switch(cn.label){case 0:return nn=env.getEnv().createCanvasElement(),rn=st.shape.slice(isTensor4D(st)?1:0),an=rn[0],sn=rn[1],un=rn[2],ln=Ze(function(){return st.as3D(an,sn,un).toInt()}),[4,id.toPixels(ln,nn)];case 1:return cn.sent(),ln.dispose(),[2,nn]}})})}function isMediaElement(st){var Mt=env.getEnv(),nn=Mt.Image,rn=Mt.Canvas,an=Mt.Video;return st instanceof nn||st instanceof rn||st instanceof an}function imageToSquare(st,Mt,nn){nn===void 0&&(nn=!1);var rn=env.getEnv(),an=rn.Image,sn=rn.Canvas;if(!(st instanceof an||st instanceof sn))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var un=getMediaDimensions(st),ln=Mt/Math.max(un.height,un.width),cn=ln*un.width,hn=ln*un.height,fn=createCanvas({width:Mt,height:Mt}),to=st instanceof sn?st:createCanvasFromMedia(st),Xr=Math.abs(cn-hn)/2,uo=nn&&cn<hn?Xr:0,co=nn&&hn<cn?Xr:0;return getContext2dOrThrow(fn).drawImage(to,uo,co,cn,hn),fn}var NetInput=function(){function st(Mt,nn){var rn=this;if(nn===void 0&&(nn=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(Mt))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+Mt);this._treatAsBatchInput=nn,this._batchSize=Mt.length,Mt.forEach(function(an,sn){if(isTensor3D(an)){rn._imageTensors[sn]=an,rn._inputDimensions[sn]=an.shape;return}if(isTensor4D(an)){var un=an.shape[0];if(un!==1)throw new Error("NetInput - tf.Tensor4D with batchSize "+un+" passed, but not supported in input array");rn._imageTensors[sn]=an,rn._inputDimensions[sn]=an.shape.slice(1);return}var ln=an instanceof env.getEnv().Canvas?an:createCanvasFromMedia(an);rn._canvases[sn]=ln,rn._inputDimensions[sn]=[ln.height,ln.width,3]})}return Object.defineProperty(st.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"reshapedInputDimensions",{get:function(){var Mt=this;return range(this.batchSize,0,1).map(function(nn,rn){return Mt.getReshapedInputDimensions(rn)})},enumerable:!0,configurable:!0}),st.prototype.getInput=function(Mt){return this.canvases[Mt]||this.imageTensors[Mt]},st.prototype.getInputDimensions=function(Mt){return this._inputDimensions[Mt]},st.prototype.getInputHeight=function(Mt){return this._inputDimensions[Mt][0]},st.prototype.getInputWidth=function(Mt){return this._inputDimensions[Mt][1]},st.prototype.getReshapedInputDimensions=function(Mt){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");var nn=this.getInputWidth(Mt),rn=this.getInputHeight(Mt);return computeReshapedDimensions({width:nn,height:rn},this.inputSize)},st.prototype.toBatchTensor=function(Mt,nn){var rn=this;return nn===void 0&&(nn=!0),this._inputSize=Mt,Ze(function(){var an=range(rn.batchSize,0,1).map(function(un){var ln=rn.getInput(un);if(ln instanceof wt){var cn=isTensor4D(ln)?ln:ln.expandDims();return cn=padToSquare(cn,nn),(cn.shape[1]!==Mt||cn.shape[2]!==Mt)&&(cn=Oh.resizeBilinear(cn,[Mt,Mt])),cn.as3D(Mt,Mt,3)}if(ln instanceof env.getEnv().Canvas)return id.fromPixels(imageToSquare(ln,Mt,nn));throw new Error("toBatchTensor - at batchIdx "+un+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+ln)}),sn=Pr(an.map(function(un){return un.toFloat()})).as4D(rn.batchSize,Mt,Mt,3);return sn})},st}();function toNetInput(st){return __awaiter(this,void 0,void 0,function(){var Mt,nn,rn;return __generator(this,function(an){switch(an.label){case 0:if(st instanceof NetInput)return[2,st];if(Mt=Array.isArray(st)?st:[st],!Mt.length)throw new Error("toNetInput - empty array passed as input");return nn=function(sn){return Array.isArray(st)?" at input index "+sn+":":""},rn=Mt.map(resolveInput),rn.forEach(function(sn,un){if(!isMediaElement(sn)&&!isTensor3D(sn)&&!isTensor4D(sn))throw typeof Mt[un]=="string"?new Error("toNetInput -"+nn(un)+" string passed, but could not resolve HTMLElement for element id "+Mt[un]):new Error("toNetInput -"+nn(un)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(isTensor4D(sn)){var ln=sn.shape[0];if(ln!==1)throw new Error("toNetInput -"+nn(un)+" tf.Tensor4D with batchSize "+ln+" passed, but not supported in input array")}}),[4,Promise.all(rn.map(function(sn){return isMediaElement(sn)&&awaitMediaLoaded(sn)}))];case 1:return an.sent(),[2,new NetInput(rn,Array.isArray(st))]}})})}function extractFaces(st,Mt){return __awaiter(this,void 0,void 0,function(){var nn,rn,an,sn,un,ln,cn;return __generator(this,function(hn){switch(hn.label){case 0:return nn=env.getEnv().Canvas,rn=st,st instanceof nn?[3,5]:[4,toNetInput(st)];case 1:if(an=hn.sent(),an.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return sn=an.getInput(0),sn instanceof nn?(un=sn,[3,4]):[3,2];case 2:return[4,imageTensorToCanvas(sn)];case 3:un=hn.sent(),hn.label=4;case 4:rn=un,hn.label=5;case 5:return ln=getContext2dOrThrow(rn),cn=Mt.map(function(fn){return fn instanceof FaceDetection?fn.forSize(rn.width,rn.height).box.floor():fn}).map(function(fn){return fn.clipAtImageBorders(rn.width,rn.height)}),[2,cn.map(function(fn){var to=fn.x,Xr=fn.y,uo=fn.width,co=fn.height,ho=createCanvas({width:uo,height:co});return getContext2dOrThrow(ho).putImageData(ln.getImageData(to,Xr,uo,co),0,0),ho})]}})})}function extractFaceTensors(st,Mt){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(nn){if(!isTensor3D(st)&&!isTensor4D(st))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(isTensor4D(st)&&st.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,Ze(function(){var rn=st.shape.slice(isTensor4D(st)?1:0),an=rn[0],sn=rn[1],un=rn[2],ln=Mt.map(function(hn){return hn instanceof FaceDetection?hn.forSize(sn,an).box:hn}).map(function(hn){return hn.clipAtImageBorders(sn,an)}),cn=ln.map(function(hn){var fn=hn.x,to=hn.y,Xr=hn.width,uo=hn.height;return xl(st.as3D(an,sn,un),[to,fn,0],[uo,Xr,un])});return cn})]})})}function fetchOrThrow(st,Mt){return __awaiter(this,void 0,void 0,function(){var nn,rn;return __generator(this,function(an){switch(an.label){case 0:return nn=env.getEnv().fetch,[4,nn(st,Mt)];case 1:if(rn=an.sent(),!(rn.status<400))throw new Error("failed to fetch: ("+rn.status+") "+rn.statusText+", from url: "+rn.url);return[2,rn]}})})}function fetchJson(st){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(Mt){switch(Mt.label){case 0:return[4,fetchOrThrow(st)];case 1:return[2,Mt.sent().json()]}})})}function getModelUris(st,Mt){var nn=Mt+"-weights_manifest.json";if(!st)return{modelBaseUri:"",manifestUri:nn};if(st==="/")return{modelBaseUri:"/",manifestUri:"/"+nn};var rn=st.startsWith("http://")?"http://":st.startsWith("https://")?"https://":"";st=st.replace(rn,"");var an=st.split("/").filter(function(ln){return ln}),sn=st.endsWith(".json")?an[an.length-1]:nn,un=rn+(st.endsWith(".json")?an.slice(0,an.length-1):an).join("/");return un=st.startsWith("/")?"/"+un:un,{modelBaseUri:un,manifestUri:un==="/"?"/"+sn:un+"/"+sn}}function loadWeightMap(st,Mt){return __awaiter(this,void 0,void 0,function(){var nn,rn,an,sn;return __generator(this,function(un){switch(un.label){case 0:return nn=getModelUris(st,Mt),rn=nn.manifestUri,an=nn.modelBaseUri,[4,fetchJson(rn)];case 1:return sn=un.sent(),[2,ed.loadWeights(sn,an)]}})})}var NeuralNetwork=function(){function st(Mt){this._name=Mt,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(st.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),st.prototype.getParamFromPath=function(Mt){var nn=this.traversePropertyPath(Mt),rn=nn.obj,an=nn.objProp;return rn[an]},st.prototype.reassignParamFromPath=function(Mt,nn){var rn=this.traversePropertyPath(Mt),an=rn.obj,sn=rn.objProp;an[sn].dispose(),an[sn]=nn},st.prototype.getParamList=function(){var Mt=this;return this._paramMappings.map(function(nn){var rn=nn.paramPath;return{path:rn,tensor:Mt.getParamFromPath(rn)}})},st.prototype.getTrainableParams=function(){return this.getParamList().filter(function(Mt){return Mt.tensor instanceof St})},st.prototype.getFrozenParams=function(){return this.getParamList().filter(function(Mt){return!(Mt.tensor instanceof St)})},st.prototype.variable=function(){var Mt=this;this.getFrozenParams().forEach(function(nn){var rn=nn.path,an=nn.tensor;Mt.reassignParamFromPath(rn,an.variable())})},st.prototype.freeze=function(){var Mt=this;this.getTrainableParams().forEach(function(nn){var rn=nn.path,an=nn.tensor,sn=Fn(an.dataSync());an.dispose(),Mt.reassignParamFromPath(rn,sn)})},st.prototype.dispose=function(Mt){Mt===void 0&&(Mt=!0),this.getParamList().forEach(function(nn){if(Mt&&nn.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+nn.path);nn.tensor.dispose()}),this._params=void 0},st.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(Mt){var nn=Mt.tensor;return Array.from(nn.dataSync())}).reduce(function(Mt,nn){return Mt.concat(nn)}))},st.prototype.load=function(Mt){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(nn){switch(nn.label){case 0:return Mt instanceof Float32Array?(this.extractWeights(Mt),[2]):[4,this.loadFromUri(Mt)];case 1:return nn.sent(),[2]}})})},st.prototype.loadFromUri=function(Mt){return __awaiter(this,void 0,void 0,function(){var nn;return __generator(this,function(rn){switch(rn.label){case 0:if(Mt&&typeof Mt!="string")throw new Error(this._name+".loadFromUri - expected model uri");return[4,loadWeightMap(Mt,this.getDefaultModelName())];case 1:return nn=rn.sent(),this.loadFromWeightMap(nn),[2]}})})},st.prototype.loadFromDisk=function(Mt){return __awaiter(this,void 0,void 0,function(){var nn,rn,an,sn,un,ln,cn,hn,fn,to;return __generator(this,function(Xr){switch(Xr.label){case 0:if(Mt&&typeof Mt!="string")throw new Error(this._name+".loadFromDisk - expected model file path");return nn=env.getEnv().readFile,rn=getModelUris(Mt,this.getDefaultModelName()),an=rn.manifestUri,sn=rn.modelBaseUri,un=function(uo){return Promise.all(uo.map(function(co){return nn(co).then(function(ho){return ho.buffer})}))},ln=ed.weightsLoaderFactory(un),fn=(hn=JSON).parse,[4,nn(an)];case 1:return cn=fn.apply(hn,[Xr.sent().toString()]),[4,ln(cn,sn)];case 2:return to=Xr.sent(),this.loadFromWeightMap(to),[2]}})})},st.prototype.loadFromWeightMap=function(Mt){var nn=this.extractParamsFromWeigthMap(Mt),rn=nn.paramMappings,an=nn.params;this._paramMappings=rn,this._params=an},st.prototype.extractWeights=function(Mt){var nn=this.extractParams(Mt),rn=nn.paramMappings,an=nn.params;this._paramMappings=rn,this._params=an},st.prototype.traversePropertyPath=function(Mt){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var nn=Mt.split("/").reduce(function(sn,un){if(!sn.nextObj.hasOwnProperty(un))throw new Error("traversePropertyPath - object does not have property "+un+", for path "+Mt);return{obj:sn.nextObj,objProp:un,nextObj:sn.nextObj[un]}},{nextObj:this.params}),rn=nn.obj,an=nn.objProp;if(!rn||!an||!(rn[an]instanceof wt))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+Mt);return{obj:rn,objProp:an}},st}();function depthwiseSeparableConv$1(st,Mt,nn){return Ze(function(){var rn=Jc(st,Mt.depthwise_filter,Mt.pointwise_filter,nn,"same");return rn=rc(rn,Mt.bias),rn})}function denseBlock3(st,Mt,nn){return nn===void 0&&(nn=!1),Ze(function(){var rn=Bl(nn?rc(qc(st,Mt.conv0.filters,[2,2],"same"),Mt.conv0.bias):depthwiseSeparableConv$1(st,Mt.conv0,[2,2])),an=depthwiseSeparableConv$1(rn,Mt.conv1,[1,1]),sn=Bl(rc(rn,an)),un=depthwiseSeparableConv$1(sn,Mt.conv2,[1,1]);return Bl(rc(rn,rc(an,un)))})}function denseBlock4(st,Mt,nn,rn){return nn===void 0&&(nn=!1),rn===void 0&&(rn=!0),Ze(function(){var an=Bl(nn?rc(qc(st,Mt.conv0.filters,rn?[2,2]:[1,1],"same"),Mt.conv0.bias):depthwiseSeparableConv$1(st,Mt.conv0,rn?[2,2]:[1,1])),sn=depthwiseSeparableConv$1(an,Mt.conv1,[1,1]),un=Bl(rc(an,sn)),ln=depthwiseSeparableConv$1(un,Mt.conv2,[1,1]),cn=Bl(rc(an,rc(sn,ln))),hn=depthwiseSeparableConv$1(cn,Mt.conv3,[1,1]);return Bl(rc(an,rc(sn,rc(ln,hn))))})}function convLayer$1(st,Mt,nn,rn){return nn===void 0&&(nn="same"),rn===void 0&&(rn=!1),Ze(function(){var an=rc(qc(st,Mt.filters,[1,1],nn),Mt.bias);return rn?Bl(an):an})}function disposeUnusedWeightTensors(st,Mt){Object.keys(st).forEach(function(nn){Mt.some(function(rn){return rn.originalPath===nn})||st[nn].dispose()})}function extractConvParamsFactory(st,Mt){return function(nn,rn,an,sn){var un=Ln(st(nn*rn*an*an),[an,an,nn,rn]),ln=Mn(st(rn));return Mt.push({paramPath:sn+"/filters"},{paramPath:sn+"/bias"}),{filters:un,bias:ln}}}function extractFCParamsFactory(st,Mt){return function(nn,rn,an){var sn=Bn(st(nn*rn),[nn,rn]),un=Mn(st(rn));return Mt.push({paramPath:an+"/weights"},{paramPath:an+"/bias"}),{weights:sn,bias:un}}}var SeparableConvParams=function(){function st(Mt,nn,rn){this.depthwise_filter=Mt,this.pointwise_filter=nn,this.bias=rn}return st}();function extractSeparableConvParamsFactory(st,Mt){return function(nn,rn,an){var sn=Ln(st(9*nn),[3,3,nn,1]),un=Ln(st(nn*rn),[1,1,nn,rn]),ln=Mn(st(rn));return Mt.push({paramPath:an+"/depthwise_filter"},{paramPath:an+"/pointwise_filter"},{paramPath:an+"/bias"}),new SeparableConvParams(sn,un,ln)}}function loadSeparableConvParamsFactory(st){return function(Mt){var nn=st(Mt+"/depthwise_filter",4),rn=st(Mt+"/pointwise_filter",4),an=st(Mt+"/bias",1);return new SeparableConvParams(nn,rn,an)}}function extractWeightEntryFactory(st,Mt){return function(nn,rn,an){var sn=st[nn];if(!isTensor(sn,rn))throw new Error("expected weightMap["+nn+"] to be a Tensor"+rn+"D, instead have "+sn);return Mt.push({originalPath:nn,paramPath:an||nn}),sn}}function extractWeightsFactory(st){var Mt=st;function nn(an){var sn=Mt.slice(0,an);return Mt=Mt.slice(an),sn}function rn(){return Mt}return{extractWeights:nn,getRemainingWeights:rn}}function extractorsFactory$9(st,Mt){var nn=extractConvParamsFactory(st,Mt),rn=extractSeparableConvParamsFactory(st,Mt);function an(un,ln,cn,hn){hn===void 0&&(hn=!1);var fn=hn?nn(un,ln,3,cn+"/conv0"):rn(un,ln,cn+"/conv0"),to=rn(ln,ln,cn+"/conv1"),Xr=rn(ln,ln,cn+"/conv2");return{conv0:fn,conv1:to,conv2:Xr}}function sn(un,ln,cn,hn){hn===void 0&&(hn=!1);var fn=an(un,ln,cn,hn),to=fn.conv0,Xr=fn.conv1,uo=fn.conv2,co=rn(ln,ln,cn+"/conv3");return{conv0:to,conv1:Xr,conv2:uo,conv3:co}}return{extractDenseBlock3Params:an,extractDenseBlock4Params:sn}}function extractParams$7(st){var Mt=[],nn=extractWeightsFactory(st),rn=nn.extractWeights,an=nn.getRemainingWeights,sn=extractorsFactory$9(rn,Mt).extractDenseBlock4Params,un=sn(3,32,"dense0",!0),ln=sn(32,64,"dense1"),cn=sn(64,128,"dense2"),hn=sn(128,256,"dense3");if(an().length!==0)throw new Error("weights remaing after extract: "+an().length);return{paramMappings:Mt,params:{dense0:un,dense1:ln,dense2:cn,dense3:hn}}}function loadConvParamsFactory(st){return function(Mt){var nn=st(Mt+"/filters",4),rn=st(Mt+"/bias",1);return{filters:nn,bias:rn}}}function loadParamsFactory$1(st,Mt){var nn=extractWeightEntryFactory(st,Mt),rn=loadConvParamsFactory(nn),an=loadSeparableConvParamsFactory(nn);function sn(ln,cn){cn===void 0&&(cn=!1);var hn=cn?rn(ln+"/conv0"):an(ln+"/conv0"),fn=an(ln+"/conv1"),to=an(ln+"/conv2");return{conv0:hn,conv1:fn,conv2:to}}function un(ln,cn){cn===void 0&&(cn=!1);var hn=cn?rn(ln+"/conv0"):an(ln+"/conv0"),fn=an(ln+"/conv1"),to=an(ln+"/conv2"),Xr=an(ln+"/conv3");return{conv0:hn,conv1:fn,conv2:to,conv3:Xr}}return{extractDenseBlock3Params:sn,extractDenseBlock4Params:un}}function extractParamsFromWeigthMap$7(st){var Mt=[],nn=loadParamsFactory$1(st,Mt).extractDenseBlock4Params,rn={dense0:nn("dense0",!0),dense1:nn("dense1"),dense2:nn("dense2"),dense3:nn("dense3")};return disposeUnusedWeightTensors(st,Mt),{params:rn,paramMappings:Mt}}var FaceFeatureExtractor=function(st){__extends(Mt,st);function Mt(){return st.call(this,"FaceFeatureExtractor")||this}return Mt.prototype.forwardInput=function(nn){var rn=this.params;if(!rn)throw new Error("FaceFeatureExtractor - load model before inference");return Ze(function(){var an=nn.toBatchTensor(112,!0),sn=[122.782,117.001,104.298],un=normalize$1(an,sn).div(On(255)),ln=denseBlock4(un,rn.dense0,!0);return ln=denseBlock4(ln,rn.dense1),ln=denseBlock4(ln,rn.dense2),ln=denseBlock4(ln,rn.dense3),ln=fl(ln,[7,7],[2,2],"valid"),ln})},Mt.prototype.forward=function(nn){return __awaiter(this,void 0,void 0,function(){var rn;return __generator(this,function(an){switch(an.label){case 0:return rn=this.forwardInput,[4,toNetInput(nn)];case 1:return[2,rn.apply(this,[an.sent()])]}})})},Mt.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},Mt.prototype.extractParamsFromWeigthMap=function(nn){return extractParamsFromWeigthMap$7(nn)},Mt.prototype.extractParams=function(nn){return extractParams$7(nn)},Mt}(NeuralNetwork);function fullyConnectedLayer(st,Mt){return Ze(function(){return rc(el(st,Mt.weights),Mt.bias)})}function extractParams$6(st,Mt,nn){var rn=[],an=extractWeightsFactory(st),sn=an.extractWeights,un=an.getRemainingWeights,ln=extractFCParamsFactory(sn,rn),cn=ln(Mt,nn,"fc");if(un().length!==0)throw new Error("weights remaing after extract: "+un().length);return{paramMappings:rn,params:{fc:cn}}}function extractParamsFromWeigthMap$6(st){var Mt=[],nn=extractWeightEntryFactory(st,Mt);function rn(sn){var un=nn(sn+"/weights",2),ln=nn(sn+"/bias",1);return{weights:un,bias:ln}}var an={fc:rn("fc")};return disposeUnusedWeightTensors(st,Mt),{params:an,paramMappings:Mt}}function seperateWeightMaps(st){var Mt={},nn={};return Object.keys(st).forEach(function(rn){var an=rn.startsWith("fc")?nn:Mt;an[rn]=st[rn]}),{featureExtractorMap:Mt,classifierMap:nn}}var FaceProcessor=function(st){__extends(Mt,st);function Mt(nn,rn){var an=st.call(this,nn)||this;return an._faceFeatureExtractor=rn,an}return Object.defineProperty(Mt.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),Mt.prototype.runNet=function(nn){var rn=this,an=this.params;if(!an)throw new Error(this._name+" - load model before inference");return Ze(function(){var sn=nn instanceof NetInput?rn.faceFeatureExtractor.forwardInput(nn):nn;return fullyConnectedLayer(sn.as2D(sn.shape[0],-1),an.fc)})},Mt.prototype.dispose=function(nn){nn===void 0&&(nn=!0),this.faceFeatureExtractor.dispose(nn),st.prototype.dispose.call(this,nn)},Mt.prototype.loadClassifierParams=function(nn){var rn=this.extractClassifierParams(nn),an=rn.params,sn=rn.paramMappings;this._params=an,this._paramMappings=sn},Mt.prototype.extractClassifierParams=function(nn){return extractParams$6(nn,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},Mt.prototype.extractParamsFromWeigthMap=function(nn){var rn=seperateWeightMaps(nn),an=rn.featureExtractorMap,sn=rn.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(an),extractParamsFromWeigthMap$6(sn)},Mt.prototype.extractParams=function(nn){var rn=this.getClassifierChannelsIn(),an=this.getClassifierChannelsOut(),sn=an*rn+an,un=nn.slice(0,nn.length-sn),ln=nn.slice(nn.length-sn);return this.faceFeatureExtractor.extractWeights(un),this.extractClassifierParams(ln)},Mt}(NeuralNetwork),FACE_EXPRESSION_LABELS=["neutral","happy","sad","angry","fearful","disgusted","surprised"],FaceExpressions=function(){function st(Mt){var nn=this;if(Mt.length!==7)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+Mt.length);FACE_EXPRESSION_LABELS.forEach(function(rn,an){nn[rn]=Mt[an]})}return st.prototype.asSortedArray=function(){var Mt=this;return FACE_EXPRESSION_LABELS.map(function(nn){return{expression:nn,probability:Mt[nn]}}).sort(function(nn,rn){return rn.probability-nn.probability})},st}(),FaceExpressionNet=function(st){__extends(Mt,st);function Mt(nn){return nn===void 0&&(nn=new FaceFeatureExtractor),st.call(this,"FaceExpressionNet",nn)||this}return Mt.prototype.forwardInput=function(nn){var rn=this;return Ze(function(){return go(rn.runNet(nn))})},Mt.prototype.forward=function(nn){return __awaiter(this,void 0,void 0,function(){var rn;return __generator(this,function(an){switch(an.label){case 0:return rn=this.forwardInput,[4,toNetInput(nn)];case 1:return[2,rn.apply(this,[an.sent()])]}})})},Mt.prototype.predictExpressions=function(nn){return __awaiter(this,void 0,void 0,function(){var rn,an,sn,un,ln=this;return __generator(this,function(cn){switch(cn.label){case 0:return[4,toNetInput(nn)];case 1:return rn=cn.sent(),[4,this.forwardInput(rn)];case 2:return an=cn.sent(),[4,Promise.all(Ur(an).map(function(hn){return __awaiter(ln,void 0,void 0,function(){var fn;return __generator(this,function(to){switch(to.label){case 0:return[4,hn.data()];case 1:return fn=to.sent(),hn.dispose(),[2,fn]}})})}))];case 3:return sn=cn.sent(),an.dispose(),un=sn.map(function(hn){return new FaceExpressions(hn)}),[2,rn.isBatchInput?un:un[0]]}})})},Mt.prototype.getDefaultModelName=function(){return"face_expression_model"},Mt.prototype.getClassifierChannelsIn=function(){return 256},Mt.prototype.getClassifierChannelsOut=function(){return 7},Mt}(FaceProcessor);function extendWithFaceExpressions(st,Mt){var nn={expressions:Mt};return Object.assign({},st,nn)}function isWithFaceLandmarks(st){return isWithFaceDetection(st)&&st.landmarks instanceof FaceLandmarks&&st.unshiftedLandmarks instanceof FaceLandmarks&&st.alignedRect instanceof FaceDetection}function extendWithFaceLandmarks(st,Mt){var nn=st.detection.box,rn=Mt.shiftBy(nn.x,nn.y),an=rn.align(),sn=st.detection.imageDims,un=new FaceDetection(st.detection.score,an.rescale(sn.reverse()),sn),ln={landmarks:rn,unshiftedLandmarks:Mt,alignedRect:un};return Object.assign({},st,ln)}function extractorsFactory$8(st,Mt){var nn=extractConvParamsFactory(st,Mt),rn=extractSeparableConvParamsFactory(st,Mt);function an(un,ln,cn){var hn=rn(un,ln,cn+"/separable_conv0"),fn=rn(ln,ln,cn+"/separable_conv1"),to=nn(un,ln,1,cn+"/expansion_conv");return{separable_conv0:hn,separable_conv1:fn,expansion_conv:to}}function sn(un,ln){var cn=rn(un,un,ln+"/separable_conv0"),hn=rn(un,un,ln+"/separable_conv1"),fn=rn(un,un,ln+"/separable_conv2");return{separable_conv0:cn,separable_conv1:hn,separable_conv2:fn}}return{extractConvParams:nn,extractSeparableConvParams:rn,extractReductionBlockParams:an,extractMainBlockParams:sn}}function extractParams$5(st,Mt){var nn=[],rn=extractWeightsFactory(st),an=rn.extractWeights,sn=rn.getRemainingWeights,un=extractorsFactory$8(an,nn),ln=un.extractConvParams,cn=un.extractSeparableConvParams,hn=un.extractReductionBlockParams,fn=un.extractMainBlockParams,to=ln(3,32,3,"entry_flow/conv_in"),Xr=hn(32,64,"entry_flow/reduction_block_0"),uo=hn(64,128,"entry_flow/reduction_block_1"),co={conv_in:to,reduction_block_0:Xr,reduction_block_1:uo},ho={};range(Mt,0,1).forEach(function(fo){ho["main_block_"+fo]=fn(128,"middle_flow/main_block_"+fo)});var e0=hn(128,256,"exit_flow/reduction_block"),lo=cn(256,512,"exit_flow/separable_conv"),mo={reduction_block:e0,separable_conv:lo};if(sn().length!==0)throw new Error("weights remaing after extract: "+sn().length);return{paramMappings:nn,params:{entry_flow:co,middle_flow:ho,exit_flow:mo}}}function loadParamsFactory(st,Mt){var nn=extractWeightEntryFactory(st,Mt),rn=loadConvParamsFactory(nn),an=loadSeparableConvParamsFactory(nn);function sn(ln){var cn=an(ln+"/separable_conv0"),hn=an(ln+"/separable_conv1"),fn=rn(ln+"/expansion_conv");return{separable_conv0:cn,separable_conv1:hn,expansion_conv:fn}}function un(ln){var cn=an(ln+"/separable_conv0"),hn=an(ln+"/separable_conv1"),fn=an(ln+"/separable_conv2");return{separable_conv0:cn,separable_conv1:hn,separable_conv2:fn}}return{extractConvParams:rn,extractSeparableConvParams:an,extractReductionBlockParams:sn,extractMainBlockParams:un}}function extractParamsFromWeigthMap$5(st,Mt){var nn=[],rn=loadParamsFactory(st,nn),an=rn.extractConvParams,sn=rn.extractSeparableConvParams,un=rn.extractReductionBlockParams,ln=rn.extractMainBlockParams,cn=an("entry_flow/conv_in"),hn=un("entry_flow/reduction_block_0"),fn=un("entry_flow/reduction_block_1"),to={conv_in:cn,reduction_block_0:hn,reduction_block_1:fn},Xr={};range(Mt,0,1).forEach(function(e0){Xr["main_block_"+e0]=ln("middle_flow/main_block_"+e0)});var uo=un("exit_flow/reduction_block"),co=sn("exit_flow/separable_conv"),ho={reduction_block:uo,separable_conv:co};return disposeUnusedWeightTensors(st,nn),{params:{entry_flow:to,middle_flow:Xr,exit_flow:ho},paramMappings:nn}}function conv$1(st,Mt,nn){return rc(qc(st,Mt.filters,nn,"same"),Mt.bias)}function reductionBlock(st,Mt,nn){nn===void 0&&(nn=!0);var rn=nn?Bl(st):st;return rn=depthwiseSeparableConv$1(rn,Mt.separable_conv0,[1,1]),rn=depthwiseSeparableConv$1(Bl(rn),Mt.separable_conv1,[1,1]),rn=hl(rn,[3,3],[2,2],"same"),rn=rc(rn,conv$1(st,Mt.expansion_conv,[2,2])),rn}function mainBlock(st,Mt){var nn=depthwiseSeparableConv$1(Bl(st),Mt.separable_conv0,[1,1]);return nn=depthwiseSeparableConv$1(Bl(nn),Mt.separable_conv1,[1,1]),nn=depthwiseSeparableConv$1(Bl(nn),Mt.separable_conv2,[1,1]),nn=rc(nn,st),nn}var TinyXception=function(st){__extends(Mt,st);function Mt(nn){var rn=st.call(this,"TinyXception")||this;return rn._numMainBlocks=nn,rn}return Mt.prototype.forwardInput=function(nn){var rn=this,an=this.params;if(!an)throw new Error("TinyXception - load model before inference");return Ze(function(){var sn=nn.toBatchTensor(112,!0),un=[122.782,117.001,104.298],ln=normalize$1(sn,un).div(On(256)),cn=Bl(conv$1(ln,an.entry_flow.conv_in,[2,2]));return cn=reductionBlock(cn,an.entry_flow.reduction_block_0,!1),cn=reductionBlock(cn,an.entry_flow.reduction_block_1),range(rn._numMainBlocks,0,1).forEach(function(hn){cn=mainBlock(cn,an.middle_flow["main_block_"+hn])}),cn=reductionBlock(cn,an.exit_flow.reduction_block),cn=Bl(depthwiseSeparableConv$1(cn,an.exit_flow.separable_conv,[1,1])),cn})},Mt.prototype.forward=function(nn){return __awaiter(this,void 0,void 0,function(){var rn;return __generator(this,function(an){switch(an.label){case 0:return rn=this.forwardInput,[4,toNetInput(nn)];case 1:return[2,rn.apply(this,[an.sent()])]}})})},Mt.prototype.getDefaultModelName=function(){return"tiny_xception_model"},Mt.prototype.extractParamsFromWeigthMap=function(nn){return extractParamsFromWeigthMap$5(nn,this._numMainBlocks)},Mt.prototype.extractParams=function(nn){return extractParams$5(nn,this._numMainBlocks)},Mt}(NeuralNetwork);function extractParams$4(st){var Mt=[],nn=extractWeightsFactory(st),rn=nn.extractWeights,an=nn.getRemainingWeights,sn=extractFCParamsFactory(rn,Mt),un=sn(512,1,"fc/age"),ln=sn(512,2,"fc/gender");if(an().length!==0)throw new Error("weights remaing after extract: "+an().length);return{paramMappings:Mt,params:{fc:{age:un,gender:ln}}}}function extractParamsFromWeigthMap$4(st){var Mt=[],nn=extractWeightEntryFactory(st,Mt);function rn(sn){var un=nn(sn+"/weights",2),ln=nn(sn+"/bias",1);return{weights:un,bias:ln}}var an={fc:{age:rn("fc/age"),gender:rn("fc/gender")}};return disposeUnusedWeightTensors(st,Mt),{params:an,paramMappings:Mt}}var Gender;(function(st){st.FEMALE="female",st.MALE="male"})(Gender||(Gender={}));var AgeGenderNet=function(st){__extends(Mt,st);function Mt(nn){nn===void 0&&(nn=new TinyXception(2));var rn=st.call(this,"AgeGenderNet")||this;return rn._faceFeatureExtractor=nn,rn}return Object.defineProperty(Mt.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),Mt.prototype.runNet=function(nn){var rn=this,an=this.params;if(!an)throw new Error(this._name+" - load model before inference");return Ze(function(){var sn=nn instanceof NetInput?rn.faceFeatureExtractor.forwardInput(nn):nn,un=fl(sn,[7,7],[2,2],"valid").as2D(sn.shape[0],-1),ln=fullyConnectedLayer(un,an.fc.age).as1D(),cn=fullyConnectedLayer(un,an.fc.gender);return{age:ln,gender:cn}})},Mt.prototype.forwardInput=function(nn){var rn=this;return Ze(function(){var an=rn.runNet(nn),sn=an.age,un=an.gender;return{age:sn,gender:go(un)}})},Mt.prototype.forward=function(nn){return __awaiter(this,void 0,void 0,function(){var rn;return __generator(this,function(an){switch(an.label){case 0:return rn=this.forwardInput,[4,toNetInput(nn)];case 1:return[2,rn.apply(this,[an.sent()])]}})})},Mt.prototype.predictAgeAndGender=function(nn){return __awaiter(this,void 0,void 0,function(){var rn,an,sn,un,ln,cn,hn=this;return __generator(this,function(fn){switch(fn.label){case 0:return[4,toNetInput(nn)];case 1:return rn=fn.sent(),[4,this.forwardInput(rn)];case 2:return an=fn.sent(),sn=Ur(an.age),un=Ur(an.gender),ln=sn.map(function(to,Xr){return{ageTensor:to,genderTensor:un[Xr]}}),[4,Promise.all(ln.map(function(to){var Xr=to.ageTensor,uo=to.genderTensor;return __awaiter(hn,void 0,void 0,function(){var co,ho,e0,lo,mo;return __generator(this,function(fo){switch(fo.label){case 0:return[4,Xr.data()];case 1:return co=fo.sent()[0],[4,uo.data()];case 2:return ho=fo.sent()[0],e0=ho>.5,lo=e0?Gender.MALE:Gender.FEMALE,mo=e0?ho:1-ho,Xr.dispose(),uo.dispose(),[2,{age:co,gender:lo,genderProbability:mo}]}})})}))];case 3:return cn=fn.sent(),an.age.dispose(),an.gender.dispose(),[2,rn.isBatchInput?cn:cn[0]]}})})},Mt.prototype.getDefaultModelName=function(){return"age_gender_model"},Mt.prototype.dispose=function(nn){nn===void 0&&(nn=!0),this.faceFeatureExtractor.dispose(nn),st.prototype.dispose.call(this,nn)},Mt.prototype.loadClassifierParams=function(nn){var rn=this.extractClassifierParams(nn),an=rn.params,sn=rn.paramMappings;this._params=an,this._paramMappings=sn},Mt.prototype.extractClassifierParams=function(nn){return extractParams$4(nn)},Mt.prototype.extractParamsFromWeigthMap=function(nn){var rn=seperateWeightMaps(nn),an=rn.featureExtractorMap,sn=rn.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(an),extractParamsFromWeigthMap$4(sn)},Mt.prototype.extractParams=function(nn){var rn=1539,an=nn.slice(0,nn.length-rn),sn=nn.slice(nn.length-rn);return this.faceFeatureExtractor.extractWeights(an),this.extractClassifierParams(sn)},Mt}(NeuralNetwork),FaceLandmark68NetBase=function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt.prototype.postProcess=function(nn,rn,an){var sn=an.map(function(ln){var cn=ln.width,hn=ln.height,fn=rn/Math.max(hn,cn);return{width:cn*fn,height:hn*fn}}),un=sn.length;return Ze(function(){var ln=function(Xr,uo){return Pr([Hn([68],Xr),Hn([68],uo)],1).as2D(1,136).as1D()},cn=function(Xr,uo){var co=sn[Xr],ho=co.width,e0=co.height;return uo(ho,e0)?Math.abs(ho-e0)/2:0},hn=function(Xr){return cn(Xr,function(uo,co){return uo<co})},fn=function(Xr){return cn(Xr,function(uo,co){return co<uo})},to=nn.mul(Hn([un,136],rn)).sub(Pr(Array.from(Array(un),function(Xr,uo){return ln(hn(uo),fn(uo))}))).div(Pr(Array.from(Array(un),function(Xr,uo){return ln(sn[uo].width,sn[uo].height)})));return to})},Mt.prototype.forwardInput=function(nn){var rn=this;return Ze(function(){var an=rn.runNet(nn);return rn.postProcess(an,nn.inputSize,nn.inputDimensions.map(function(sn){var un=sn[0],ln=sn[1];return{height:un,width:ln}}))})},Mt.prototype.forward=function(nn){return __awaiter(this,void 0,void 0,function(){var rn;return __generator(this,function(an){switch(an.label){case 0:return rn=this.forwardInput,[4,toNetInput(nn)];case 1:return[2,rn.apply(this,[an.sent()])]}})})},Mt.prototype.detectLandmarks=function(nn){return __awaiter(this,void 0,void 0,function(){var rn,an,sn,un=this;return __generator(this,function(ln){switch(ln.label){case 0:return[4,toNetInput(nn)];case 1:return rn=ln.sent(),an=Ze(function(){return Ur(un.forwardInput(rn))}),[4,Promise.all(an.map(function(cn,hn){return __awaiter(un,void 0,void 0,function(){var fn,to,Xr,uo,co;return __generator(this,function(ho){switch(ho.label){case 0:return Xr=(to=Array).from,[4,cn.data()];case 1:return fn=Xr.apply(to,[ho.sent()]),uo=fn.filter(function(e0,lo){return isEven(lo)}),co=fn.filter(function(e0,lo){return!isEven(lo)}),[2,new FaceLandmarks68(Array(68).fill(0).map(function(e0,lo){return new Point(uo[lo],co[lo])}),{height:rn.getInputHeight(hn),width:rn.getInputWidth(hn)})]}})})}))];case 2:return sn=ln.sent(),an.forEach(function(cn){return cn.dispose()}),[2,rn.isBatchInput?sn:sn[0]]}})})},Mt.prototype.getClassifierChannelsOut=function(){return 136},Mt}(FaceProcessor),FaceLandmark68Net=function(st){__extends(Mt,st);function Mt(nn){return nn===void 0&&(nn=new FaceFeatureExtractor),st.call(this,"FaceLandmark68Net",nn)||this}return Mt.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},Mt.prototype.getClassifierChannelsIn=function(){return 256},Mt}(FaceLandmark68NetBase);function extractParamsFromWeigthMapTiny(st){var Mt=[],nn=loadParamsFactory$1(st,Mt).extractDenseBlock3Params,rn={dense0:nn("dense0",!0),dense1:nn("dense1"),dense2:nn("dense2")};return disposeUnusedWeightTensors(st,Mt),{params:rn,paramMappings:Mt}}function extractParamsTiny(st){var Mt=[],nn=extractWeightsFactory(st),rn=nn.extractWeights,an=nn.getRemainingWeights,sn=extractorsFactory$9(rn,Mt).extractDenseBlock3Params,un=sn(3,32,"dense0",!0),ln=sn(32,64,"dense1"),cn=sn(64,128,"dense2");if(an().length!==0)throw new Error("weights remaing after extract: "+an().length);return{paramMappings:Mt,params:{dense0:un,dense1:ln,dense2:cn}}}var TinyFaceFeatureExtractor=function(st){__extends(Mt,st);function Mt(){return st.call(this,"TinyFaceFeatureExtractor")||this}return Mt.prototype.forwardInput=function(nn){var rn=this.params;if(!rn)throw new Error("TinyFaceFeatureExtractor - load model before inference");return Ze(function(){var an=nn.toBatchTensor(112,!0),sn=[122.782,117.001,104.298],un=normalize$1(an,sn).div(On(255)),ln=denseBlock3(un,rn.dense0,!0);return ln=denseBlock3(ln,rn.dense1),ln=denseBlock3(ln,rn.dense2),ln=fl(ln,[14,14],[2,2],"valid"),ln})},Mt.prototype.forward=function(nn){return __awaiter(this,void 0,void 0,function(){var rn;return __generator(this,function(an){switch(an.label){case 0:return rn=this.forwardInput,[4,toNetInput(nn)];case 1:return[2,rn.apply(this,[an.sent()])]}})})},Mt.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},Mt.prototype.extractParamsFromWeigthMap=function(nn){return extractParamsFromWeigthMapTiny(nn)},Mt.prototype.extractParams=function(nn){return extractParamsTiny(nn)},Mt}(NeuralNetwork),FaceLandmark68TinyNet=function(st){__extends(Mt,st);function Mt(nn){return nn===void 0&&(nn=new TinyFaceFeatureExtractor),st.call(this,"FaceLandmark68TinyNet",nn)||this}return Mt.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},Mt.prototype.getClassifierChannelsIn=function(){return 128},Mt}(FaceLandmark68NetBase);(function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt})(FaceLandmark68Net);function scale(st,Mt){return rc(gc(st,Mt.weights),Mt.biases)}function convLayer(st,Mt,nn,rn,an){an===void 0&&(an="same");var sn=Mt.conv,un=sn.filters,ln=sn.bias,cn=qc(st,un,nn,an);return cn=rc(cn,ln),cn=scale(cn,Mt.scale),rn?Bl(cn):cn}function conv(st,Mt){return convLayer(st,Mt,[1,1],!0)}function convNoRelu(st,Mt){return convLayer(st,Mt,[1,1],!1)}function convDown(st,Mt){return convLayer(st,Mt,[2,2],!0,"valid")}function extractorsFactory$7(st,Mt){function nn(ln,cn,hn){var fn=st(ln),to=fn.length/(cn*hn*hn);if(isFloat(to))throw new Error("depth has to be an integer: "+to+", weights.length: "+fn.length+", numFilters: "+cn+", filterSize: "+hn);return Ze(function(){return Wl(Ln(fn,[cn,to,hn,hn]),[2,3,1,0])})}function rn(ln,cn,hn,fn){var to=nn(ln,cn,hn),Xr=Mn(st(cn));return Mt.push({paramPath:fn+"/filters"},{paramPath:fn+"/bias"}),{filters:to,bias:Xr}}function an(ln,cn){var hn=Mn(st(ln)),fn=Mn(st(ln));return Mt.push({paramPath:cn+"/weights"},{paramPath:cn+"/biases"}),{weights:hn,biases:fn}}function sn(ln,cn,hn,fn){var to=rn(ln,cn,hn,fn+"/conv"),Xr=an(cn,fn+"/scale");return{conv:to,scale:Xr}}function un(ln,cn,hn,fn,to){to===void 0&&(to=!1);var Xr=sn((to?.5:1)*ln,cn,hn,fn+"/conv1"),uo=sn(ln,cn,hn,fn+"/conv2");return{conv1:Xr,conv2:uo}}return{extractConvLayerParams:sn,extractResidualLayerParams:un}}function extractParams$3(st){var Mt=extractWeightsFactory(st),nn=Mt.extractWeights,rn=Mt.getRemainingWeights,an=[],sn=extractorsFactory$7(nn,an),un=sn.extractConvLayerParams,ln=sn.extractResidualLayerParams,cn=un(4704,32,7,"conv32_down"),hn=ln(9216,32,3,"conv32_1"),fn=ln(9216,32,3,"conv32_2"),to=ln(9216,32,3,"conv32_3"),Xr=ln(36864,64,3,"conv64_down",!0),uo=ln(36864,64,3,"conv64_1"),co=ln(36864,64,3,"conv64_2"),ho=ln(36864,64,3,"conv64_3"),e0=ln(147456,128,3,"conv128_down",!0),lo=ln(147456,128,3,"conv128_1"),mo=ln(147456,128,3,"conv128_2"),fo=ln(589824,256,3,"conv256_down",!0),Uo=ln(589824,256,3,"conv256_1"),t0=ln(589824,256,3,"conv256_2"),n0=ln(589824,256,3,"conv256_down_out"),i0=Ze(function(){return Wl(Bn(nn(256*128),[128,256]),[1,0])});if(an.push({paramPath:"fc"}),rn().length!==0)throw new Error("weights remaing after extract: "+rn().length);var a0={conv32_down:cn,conv32_1:hn,conv32_2:fn,conv32_3:to,conv64_down:Xr,conv64_1:uo,conv64_2:co,conv64_3:ho,conv128_down:e0,conv128_1:lo,conv128_2:mo,conv256_down:fo,conv256_1:Uo,conv256_2:t0,conv256_down_out:n0,fc:i0};return{params:a0,paramMappings:an}}function extractorsFactory$6(st,Mt){var nn=extractWeightEntryFactory(st,Mt);function rn(un){var ln=nn(un+"/scale/weights",1),cn=nn(un+"/scale/biases",1);return{weights:ln,biases:cn}}function an(un){var ln=nn(un+"/conv/filters",4),cn=nn(un+"/conv/bias",1),hn=rn(un);return{conv:{filters:ln,bias:cn},scale:hn}}function sn(un){return{conv1:an(un+"/conv1"),conv2:an(un+"/conv2")}}return{extractConvLayerParams:an,extractResidualLayerParams:sn}}function extractParamsFromWeigthMap$3(st){var Mt=[],nn=extractorsFactory$6(st,Mt),rn=nn.extractConvLayerParams,an=nn.extractResidualLayerParams,sn=rn("conv32_down"),un=an("conv32_1"),ln=an("conv32_2"),cn=an("conv32_3"),hn=an("conv64_down"),fn=an("conv64_1"),to=an("conv64_2"),Xr=an("conv64_3"),uo=an("conv128_down"),co=an("conv128_1"),ho=an("conv128_2"),e0=an("conv256_down"),lo=an("conv256_1"),mo=an("conv256_2"),fo=an("conv256_down_out"),Uo=st.fc;if(Mt.push({originalPath:"fc",paramPath:"fc"}),!isTensor2D(Uo))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+Uo);var t0={conv32_down:sn,conv32_1:un,conv32_2:ln,conv32_3:cn,conv64_down:hn,conv64_1:fn,conv64_2:to,conv64_3:Xr,conv128_down:uo,conv128_1:co,conv128_2:ho,conv256_down:e0,conv256_1:lo,conv256_2:mo,conv256_down_out:fo,fc:Uo};return disposeUnusedWeightTensors(st,Mt),{params:t0,paramMappings:Mt}}function residual(st,Mt){var nn=conv(st,Mt.conv1);return nn=convNoRelu(nn,Mt.conv2),nn=rc(nn,st),nn=Bl(nn),nn}function residualDown(st,Mt){var nn=convDown(st,Mt.conv1);nn=convNoRelu(nn,Mt.conv2);var rn=fl(st,2,2,"valid"),an=Gn(rn.shape),sn=rn.shape[3]!==nn.shape[3],un=rn.shape[1]!==nn.shape[1]||rn.shape[2]!==nn.shape[2];if(un){var ln=__spreadArrays(nn.shape);ln[1]=1;var cn=Gn(ln);nn=Yn([nn,cn],1);var hn=__spreadArrays(nn.shape);hn[2]=1;var fn=Gn(hn);nn=Yn([nn,fn],2)}return rn=sn?Yn([rn,an],3):rn,nn=rc(rn,nn),nn=Bl(nn),nn}var FaceRecognitionNet=function(st){__extends(Mt,st);function Mt(){return st.call(this,"FaceRecognitionNet")||this}return Mt.prototype.forwardInput=function(nn){var rn=this.params;if(!rn)throw new Error("FaceRecognitionNet - load model before inference");return Ze(function(){var an=nn.toBatchTensor(150,!0).toFloat(),sn=[122.782,117.001,104.298],un=normalize$1(an,sn).div(On(256)),ln=convDown(un,rn.conv32_down);ln=hl(ln,3,2,"valid"),ln=residual(ln,rn.conv32_1),ln=residual(ln,rn.conv32_2),ln=residual(ln,rn.conv32_3),ln=residualDown(ln,rn.conv64_down),ln=residual(ln,rn.conv64_1),ln=residual(ln,rn.conv64_2),ln=residual(ln,rn.conv64_3),ln=residualDown(ln,rn.conv128_down),ln=residual(ln,rn.conv128_1),ln=residual(ln,rn.conv128_2),ln=residualDown(ln,rn.conv256_down),ln=residual(ln,rn.conv256_1),ln=residual(ln,rn.conv256_2),ln=residualDown(ln,rn.conv256_down_out);var cn=ln.mean([1,2]),hn=el(cn,rn.fc);return hn})},Mt.prototype.forward=function(nn){return __awaiter(this,void 0,void 0,function(){var rn;return __generator(this,function(an){switch(an.label){case 0:return rn=this.forwardInput,[4,toNetInput(nn)];case 1:return[2,rn.apply(this,[an.sent()])]}})})},Mt.prototype.computeFaceDescriptor=function(nn){return __awaiter(this,void 0,void 0,function(){var rn,an,sn,un=this;return __generator(this,function(ln){switch(ln.label){case 0:return[4,toNetInput(nn)];case 1:return rn=ln.sent(),an=Ze(function(){return Ur(un.forwardInput(rn))}),[4,Promise.all(an.map(function(cn){return cn.data()}))];case 2:return sn=ln.sent(),an.forEach(function(cn){return cn.dispose()}),[2,rn.isBatchInput?sn:sn[0]]}})})},Mt.prototype.getDefaultModelName=function(){return"face_recognition_model"},Mt.prototype.extractParamsFromWeigthMap=function(nn){return extractParamsFromWeigthMap$3(nn)},Mt.prototype.extractParams=function(nn){return extractParams$3(nn)},Mt}(NeuralNetwork);function extendWithFaceDescriptor(st,Mt){var nn={descriptor:Mt};return Object.assign({},st,nn)}function extendWithAge(st,Mt){var nn={age:Mt};return Object.assign({},st,nn)}function extendWithGender(st,Mt,nn){var rn={gender:Mt,genderProbability:nn};return Object.assign({},st,rn)}var MtcnnOptions=function(){function st(Mt){var nn=Mt===void 0?{}:Mt,rn=nn.minFaceSize,an=nn.scaleFactor,sn=nn.maxNumScales,un=nn.scoreThresholds,ln=nn.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=rn||20,this._scaleFactor=an||.709,this._maxNumScales=sn||10,this._scoreThresholds=un||[.6,.7,.7],this._scaleSteps=ln,typeof this._minFaceSize!="number"||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if(typeof this._scaleFactor!="number"||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if(typeof this._maxNumScales!="number"||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||this._scoreThresholds.length!==3||this._scoreThresholds.some(function(cn){return typeof cn!="number"}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(cn){return typeof cn!="number"})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(st.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),st}();function extractorsFactory$5(st,Mt){function nn(cn,hn){var fn=Ln(st(9*cn),[3,3,cn,1]),to=Mn(st(cn)),Xr=Mn(st(cn)),uo=Mn(st(cn)),co=Mn(st(cn));return Mt.push({paramPath:hn+"/filters"},{paramPath:hn+"/batch_norm_scale"},{paramPath:hn+"/batch_norm_offset"},{paramPath:hn+"/batch_norm_mean"},{paramPath:hn+"/batch_norm_variance"}),{filters:fn,batch_norm_scale:to,batch_norm_offset:Xr,batch_norm_mean:uo,batch_norm_variance:co}}function rn(cn,hn,fn,to,Xr){var uo=Ln(st(cn*hn*fn*fn),[fn,fn,cn,hn]),co=Mn(st(hn));return Mt.push({paramPath:to+"/filters"},{paramPath:to+"/"+(Xr?"batch_norm_offset":"bias")}),{filters:uo,bias:co}}function an(cn,hn,fn,to){var Xr=rn(cn,hn,fn,to,!0),uo=Xr.filters,co=Xr.bias;return{filters:uo,batch_norm_offset:co}}function sn(cn,hn,fn){var to=nn(cn,fn+"/depthwise_conv"),Xr=an(cn,hn,1,fn+"/pointwise_conv");return{depthwise_conv:to,pointwise_conv:Xr}}function un(){var cn=an(3,32,3,"mobilenetv1/conv_0"),hn=sn(32,64,"mobilenetv1/conv_1"),fn=sn(64,128,"mobilenetv1/conv_2"),to=sn(128,128,"mobilenetv1/conv_3"),Xr=sn(128,256,"mobilenetv1/conv_4"),uo=sn(256,256,"mobilenetv1/conv_5"),co=sn(256,512,"mobilenetv1/conv_6"),ho=sn(512,512,"mobilenetv1/conv_7"),e0=sn(512,512,"mobilenetv1/conv_8"),lo=sn(512,512,"mobilenetv1/conv_9"),mo=sn(512,512,"mobilenetv1/conv_10"),fo=sn(512,512,"mobilenetv1/conv_11"),Uo=sn(512,1024,"mobilenetv1/conv_12"),t0=sn(1024,1024,"mobilenetv1/conv_13");return{conv_0:cn,conv_1:hn,conv_2:fn,conv_3:to,conv_4:Xr,conv_5:uo,conv_6:co,conv_7:ho,conv_8:e0,conv_9:lo,conv_10:mo,conv_11:fo,conv_12:Uo,conv_13:t0}}function ln(){var cn=an(1024,256,1,"prediction_layer/conv_0"),hn=an(256,512,3,"prediction_layer/conv_1"),fn=an(512,128,1,"prediction_layer/conv_2"),to=an(128,256,3,"prediction_layer/conv_3"),Xr=an(256,128,1,"prediction_layer/conv_4"),uo=an(128,256,3,"prediction_layer/conv_5"),co=an(256,64,1,"prediction_layer/conv_6"),ho=an(64,128,3,"prediction_layer/conv_7"),e0=rn(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),lo=rn(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),mo=rn(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),fo=rn(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),Uo=rn(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),t0=rn(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),n0=rn(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),i0=rn(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),a0=rn(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),s0=rn(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),l0=rn(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),d0=rn(128,18,1,"prediction_layer/box_predictor_5/class_predictor"),h0={box_encoding_predictor:e0,class_predictor:lo},v0={box_encoding_predictor:mo,class_predictor:fo},g0={box_encoding_predictor:Uo,class_predictor:t0},m0={box_encoding_predictor:n0,class_predictor:i0},u0={box_encoding_predictor:a0,class_predictor:s0},c0={box_encoding_predictor:l0,class_predictor:d0};return{conv_0:cn,conv_1:hn,conv_2:fn,conv_3:to,conv_4:Xr,conv_5:uo,conv_6:co,conv_7:ho,box_predictor_0:h0,box_predictor_1:v0,box_predictor_2:g0,box_predictor_3:m0,box_predictor_4:u0,box_predictor_5:c0}}return{extractMobilenetV1Params:un,extractPredictionLayerParams:ln}}function extractParams$2(st){var Mt=[],nn=extractWeightsFactory(st),rn=nn.extractWeights,an=nn.getRemainingWeights,sn=extractorsFactory$5(rn,Mt),un=sn.extractMobilenetV1Params,ln=sn.extractPredictionLayerParams,cn=un(),hn=ln(),fn=Pn(rn(5118*4),[1,5118,4]),to={extra_dim:fn};if(Mt.push({paramPath:"output_layer/extra_dim"}),an().length!==0)throw new Error("weights remaing after extract: "+an().length);return{params:{mobilenetv1:cn,prediction_layer:hn,output_layer:to},paramMappings:Mt}}function extractorsFactory$4(st,Mt){var nn=extractWeightEntryFactory(st,Mt);function rn(hn,fn,to){var Xr=nn(hn+"/Conv2d_"+fn+"_pointwise/weights",4,to+"/filters"),uo=nn(hn+"/Conv2d_"+fn+"_pointwise/convolution_bn_offset",1,to+"/batch_norm_offset");return{filters:Xr,batch_norm_offset:uo}}function an(hn){var fn="mobilenetv1/conv_"+hn,to="MobilenetV1/Conv2d_"+hn+"_depthwise",Xr=fn+"/depthwise_conv",uo=fn+"/pointwise_conv",co=nn(to+"/depthwise_weights",4,Xr+"/filters"),ho=nn(to+"/BatchNorm/gamma",1,Xr+"/batch_norm_scale"),e0=nn(to+"/BatchNorm/beta",1,Xr+"/batch_norm_offset"),lo=nn(to+"/BatchNorm/moving_mean",1,Xr+"/batch_norm_mean"),mo=nn(to+"/BatchNorm/moving_variance",1,Xr+"/batch_norm_variance");return{depthwise_conv:{filters:co,batch_norm_scale:ho,batch_norm_offset:e0,batch_norm_mean:lo,batch_norm_variance:mo},pointwise_conv:rn("MobilenetV1",hn,uo)}}function sn(){return{conv_0:rn("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:an(1),conv_2:an(2),conv_3:an(3),conv_4:an(4),conv_5:an(5),conv_6:an(6),conv_7:an(7),conv_8:an(8),conv_9:an(9),conv_10:an(10),conv_11:an(11),conv_12:an(12),conv_13:an(13)}}function un(hn,fn){var to=nn(hn+"/weights",4,fn+"/filters"),Xr=nn(hn+"/biases",1,fn+"/bias");return{filters:to,bias:Xr}}function ln(hn){var fn=un("Prediction/BoxPredictor_"+hn+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+hn+"/box_encoding_predictor"),to=un("Prediction/BoxPredictor_"+hn+"/ClassPredictor","prediction_layer/box_predictor_"+hn+"/class_predictor");return{box_encoding_predictor:fn,class_predictor:to}}function cn(){return{conv_0:rn("Prediction",0,"prediction_layer/conv_0"),conv_1:rn("Prediction",1,"prediction_layer/conv_1"),conv_2:rn("Prediction",2,"prediction_layer/conv_2"),conv_3:rn("Prediction",3,"prediction_layer/conv_3"),conv_4:rn("Prediction",4,"prediction_layer/conv_4"),conv_5:rn("Prediction",5,"prediction_layer/conv_5"),conv_6:rn("Prediction",6,"prediction_layer/conv_6"),conv_7:rn("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:ln(0),box_predictor_1:ln(1),box_predictor_2:ln(2),box_predictor_3:ln(3),box_predictor_4:ln(4),box_predictor_5:ln(5)}}return{extractMobilenetV1Params:sn,extractPredictionLayerParams:cn}}function extractParamsFromWeigthMap$2(st){var Mt=[],nn=extractorsFactory$4(st,Mt),rn=nn.extractMobilenetV1Params,an=nn.extractPredictionLayerParams,sn=st["Output/extra_dim"];if(Mt.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!isTensor3D(sn))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+sn);var un={mobilenetv1:rn(),prediction_layer:an(),output_layer:{extra_dim:sn}};return disposeUnusedWeightTensors(st,Mt),{params:un,paramMappings:Mt}}function pointwiseConvLayer(st,Mt,nn){return Ze(function(){var rn=qc(st,Mt.filters,nn,"same");return rn=rc(rn,Mt.batch_norm_offset),hu(rn,0,6)})}var epsilon=.0010000000474974513;function depthwiseConvLayer(st,Mt,nn){return Ze(function(){var rn=Yc(st,Mt.filters,nn,"same");return rn=ju(rn,Mt.batch_norm_mean,Mt.batch_norm_variance,Mt.batch_norm_offset,Mt.batch_norm_scale,epsilon),hu(rn,0,6)})}function getStridesForLayerIdx(st){return[2,4,6,12].some(function(Mt){return Mt===st})?[2,2]:[1,1]}function mobileNetV1(st,Mt){return Ze(function(){var nn=null,rn=pointwiseConvLayer(st,Mt.conv_0,[2,2]),an=[Mt.conv_1,Mt.conv_2,Mt.conv_3,Mt.conv_4,Mt.conv_5,Mt.conv_6,Mt.conv_7,Mt.conv_8,Mt.conv_9,Mt.conv_10,Mt.conv_11,Mt.conv_12,Mt.conv_13];if(an.forEach(function(sn,un){var ln=un+1,cn=getStridesForLayerIdx(ln);rn=depthwiseConvLayer(rn,sn.depthwise_conv,cn),rn=pointwiseConvLayer(rn,sn.pointwise_conv,[1,1]),ln===11&&(nn=rn)}),nn===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:rn,conv11:nn}})}function nonMaxSuppression(st,Mt,nn,rn,an){var sn=st.shape[0],un=Math.min(nn,sn),ln=Mt.map(function(fn,to){return{score:fn,boxIndex:to}}).filter(function(fn){return fn.score>an}).sort(function(fn,to){return to.score-fn.score}),cn=function(fn){return fn<=rn?1:0},hn=[];return ln.forEach(function(fn){if(!(hn.length>=un)){for(var to=fn.score,Xr=hn.length-1;Xr>=0;--Xr){var uo=IOU(st,fn.boxIndex,hn[Xr]);if(uo!==0&&(fn.score*=cn(uo),fn.score<=an))break}to===fn.score&&hn.push(fn.boxIndex)}}),hn}function IOU(st,Mt,nn){var rn=st.arraySync(),an=Math.min(rn[Mt][0],rn[Mt][2]),sn=Math.min(rn[Mt][1],rn[Mt][3]),un=Math.max(rn[Mt][0],rn[Mt][2]),ln=Math.max(rn[Mt][1],rn[Mt][3]),cn=Math.min(rn[nn][0],rn[nn][2]),hn=Math.min(rn[nn][1],rn[nn][3]),fn=Math.max(rn[nn][0],rn[nn][2]),to=Math.max(rn[nn][1],rn[nn][3]),Xr=(un-an)*(ln-sn),uo=(fn-cn)*(to-hn);if(Xr<=0||uo<=0)return 0;var co=Math.max(an,cn),ho=Math.max(sn,hn),e0=Math.min(un,fn),lo=Math.min(ln,to),mo=Math.max(e0-co,0)*Math.max(lo-ho,0);return mo/(Xr+uo-mo)}function getCenterCoordinatesAndSizesLayer(st){var Mt=Ur(Wl(st,[1,0])),nn=[Cc(Mt[2],Mt[0]),Cc(Mt[3],Mt[1])],rn=[rc(Mt[0],sc(nn[0],On(2))),rc(Mt[1],sc(nn[1],On(2)))];return{sizes:nn,centers:rn}}function decodeBoxesLayer(st,Mt){var nn=getCenterCoordinatesAndSizesLayer(st),rn=nn.sizes,an=nn.centers,sn=Ur(Wl(Mt,[1,0])),un=sc(gc(vu(sc(sn[2],On(5))),rn[0]),On(2)),ln=rc(gc(sc(sn[0],On(10)),rn[0]),an[0]),cn=sc(gc(vu(sc(sn[3],On(5))),rn[1]),On(2)),hn=rc(gc(sc(sn[1],On(10)),rn[1]),an[1]);return Wl(Pr([Cc(ln,un),Cc(hn,cn),rc(ln,un),rc(hn,cn)]),[1,0])}function outputLayer(st,Mt,nn){return Ze(function(){var rn=st.shape[0],an=decodeBoxesLayer(Or(Lr(nn.extra_dim,[rn,1,1]),[-1,4]),Or(st,[-1,4]));an=Or(an,[rn,an.shape[0]/rn,4]);var sn=Iu(ml(Mt,[0,0,1],[-1,-1,-1])),un=ml(sn,[0,0,0],[-1,-1,1]);un=Or(un,[rn,un.shape[1]]);var ln=Ur(an),cn=Ur(un);return{boxes:ln,scores:cn}})}function boxPredictionLayer(st,Mt){return Ze(function(){var nn=st.shape[0],rn=Or(convLayer$1(st,Mt.box_encoding_predictor),[nn,-1,1,4]),an=Or(convLayer$1(st,Mt.class_predictor),[nn,-1,3]);return{boxPredictionEncoding:rn,classPrediction:an}})}function predictionLayer(st,Mt,nn){return Ze(function(){var rn=pointwiseConvLayer(st,nn.conv_0,[1,1]),an=pointwiseConvLayer(rn,nn.conv_1,[2,2]),sn=pointwiseConvLayer(an,nn.conv_2,[1,1]),un=pointwiseConvLayer(sn,nn.conv_3,[2,2]),ln=pointwiseConvLayer(un,nn.conv_4,[1,1]),cn=pointwiseConvLayer(ln,nn.conv_5,[2,2]),hn=pointwiseConvLayer(cn,nn.conv_6,[1,1]),fn=pointwiseConvLayer(hn,nn.conv_7,[2,2]),to=boxPredictionLayer(Mt,nn.box_predictor_0),Xr=boxPredictionLayer(st,nn.box_predictor_1),uo=boxPredictionLayer(an,nn.box_predictor_2),co=boxPredictionLayer(un,nn.box_predictor_3),ho=boxPredictionLayer(cn,nn.box_predictor_4),e0=boxPredictionLayer(fn,nn.box_predictor_5),lo=Yn([to.boxPredictionEncoding,Xr.boxPredictionEncoding,uo.boxPredictionEncoding,co.boxPredictionEncoding,ho.boxPredictionEncoding,e0.boxPredictionEncoding],1),mo=Yn([to.classPrediction,Xr.classPrediction,uo.classPrediction,co.classPrediction,ho.classPrediction,e0.classPrediction],1);return{boxPredictions:lo,classPredictions:mo}})}var SsdMobilenetv1Options=function(){function st(Mt){var nn=Mt===void 0?{}:Mt,rn=nn.minConfidence,an=nn.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=rn||.5,this._maxResults=an||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if(typeof this._maxResults!="number")throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(st.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),st}(),SsdMobilenetv1=function(st){__extends(Mt,st);function Mt(){return st.call(this,"SsdMobilenetv1")||this}return Mt.prototype.forwardInput=function(nn){var rn=this.params;if(!rn)throw new Error("SsdMobilenetv1 - load model before inference");return Ze(function(){var an=nn.toBatchTensor(512,!1).toFloat(),sn=Cc(gc(an,On(.007843137718737125)),On(1)),un=mobileNetV1(sn,rn.mobilenetv1),ln=predictionLayer(un.out,un.conv11,rn.prediction_layer),cn=ln.boxPredictions,hn=ln.classPredictions;return outputLayer(cn,hn,rn.output_layer)})},Mt.prototype.forward=function(nn){return __awaiter(this,void 0,void 0,function(){var rn;return __generator(this,function(an){switch(an.label){case 0:return rn=this.forwardInput,[4,toNetInput(nn)];case 1:return[2,rn.apply(this,[an.sent()])]}})})},Mt.prototype.locateFaces=function(nn,rn){return rn===void 0&&(rn={}),__awaiter(this,void 0,void 0,function(){var an,sn,un,ln,cn,hn,fn,to,Xr,uo,co,ho,e0,lo,mo,fo,Uo,t0,n0,i0,a0;return __generator(this,function(s0){switch(s0.label){case 0:return an=new SsdMobilenetv1Options(rn),sn=an.maxResults,un=an.minConfidence,[4,toNetInput(nn)];case 1:for(ln=s0.sent(),cn=this.forwardInput(ln),hn=cn.boxes,fn=cn.scores,to=hn[0],Xr=fn[0],uo=1;uo<hn.length;uo++)hn[uo].dispose(),fn[uo].dispose();return e0=(ho=Array).from,[4,Xr.data()];case 2:return co=e0.apply(ho,[s0.sent()]),lo=.5,mo=nonMaxSuppression(to,co,sn,lo,un),fo=ln.getReshapedInputDimensions(0),Uo=ln.inputSize,t0=Uo/fo.width,n0=Uo/fo.height,i0=to.arraySync(),a0=mo.map(function(l0){var d0=[Math.max(0,i0[l0][0]),Math.min(1,i0[l0][2])].map(function(c0){return c0*n0}),h0=d0[0],v0=d0[1],g0=[Math.max(0,i0[l0][1]),Math.min(1,i0[l0][3])].map(function(c0){return c0*t0}),m0=g0[0],u0=g0[1];return new FaceDetection(co[l0],new Rect(m0,h0,u0-m0,v0-h0),{height:ln.getInputHeight(0),width:ln.getInputWidth(0)})}),to.dispose(),Xr.dispose(),[2,a0]}})})},Mt.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},Mt.prototype.extractParamsFromWeigthMap=function(nn){return extractParamsFromWeigthMap$2(nn)},Mt.prototype.extractParams=function(nn){return extractParams$2(nn)},Mt}(NeuralNetwork);(function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt})(SsdMobilenetv1);var IOU_THRESHOLD$1=.4,BOX_ANCHORS$1=[new Point(.738768,.874946),new Point(2.42204,2.65704),new Point(4.30971,7.04493),new Point(10.246,4.59428),new Point(12.6868,11.8741)],BOX_ANCHORS_SEPARABLE=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB_SEPARABLE=[117.001,114.697,97.404],DEFAULT_MODEL_NAME="tiny_yolov2_model",DEFAULT_MODEL_NAME_SEPARABLE_CONV="tiny_yolov2_separable_conv_model",isNumber=function(st){return typeof st=="number"};function validateConfig(st){if(!st)throw new Error("invalid config: "+st);if(typeof st.withSeparableConvs!="boolean")throw new Error("config.withSeparableConvs has to be a boolean, have: "+st.withSeparableConvs);if(!isNumber(st.iouThreshold)||st.iouThreshold<0||st.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+st.iouThreshold);if(!Array.isArray(st.classes)||!st.classes.length||!st.classes.every(function(Mt){return typeof Mt=="string"}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(st.classes));if(!Array.isArray(st.anchors)||!st.anchors.length||!st.anchors.map(function(Mt){return Mt||{}}).every(function(Mt){return isNumber(Mt.x)&&isNumber(Mt.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(st.anchors));if(st.meanRgb&&(!Array.isArray(st.meanRgb)||st.meanRgb.length!==3||!st.meanRgb.every(isNumber)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(st.meanRgb))}function leaky(st){return Ze(function(){var Mt=gc(st,On(.10000000149011612));return rc(Bl(Cc(st,Mt)),Mt)})}function convWithBatchNorm(st,Mt){return Ze(function(){var nn=Ir(st,[[0,0],[1,1],[1,1],[0,0]]);return nn=qc(nn,Mt.conv.filters,[1,1],"valid"),nn=Cc(nn,Mt.bn.sub),nn=gc(nn,Mt.bn.truediv),nn=rc(nn,Mt.conv.bias),leaky(nn)})}function depthwiseSeparableConv(st,Mt){return Ze(function(){var nn=Ir(st,[[0,0],[1,1],[1,1],[0,0]]);return nn=Jc(nn,Mt.depthwise_filter,Mt.pointwise_filter,[1,1],"valid"),nn=rc(nn,Mt.bias),leaky(nn)})}function extractorsFactory$3(st,Mt){var nn=extractConvParamsFactory(st,Mt);function rn(un,ln){var cn=Mn(st(un)),hn=Mn(st(un));return Mt.push({paramPath:ln+"/sub"},{paramPath:ln+"/truediv"}),{sub:cn,truediv:hn}}function an(un,ln,cn){var hn=nn(un,ln,3,cn+"/conv"),fn=rn(ln,cn+"/bn");return{conv:hn,bn:fn}}var sn=extractSeparableConvParamsFactory(st,Mt);return{extractConvParams:nn,extractConvWithBatchNormParams:an,extractSeparableConvParams:sn}}function extractParams$1(st,Mt,nn,rn){var an=extractWeightsFactory(st),sn=an.extractWeights,un=an.getRemainingWeights,ln=[],cn=extractorsFactory$3(sn,ln),hn=cn.extractConvParams,fn=cn.extractConvWithBatchNormParams,to=cn.extractSeparableConvParams,Xr;if(Mt.withSeparableConvs){var uo=rn[0],co=rn[1],ho=rn[2],e0=rn[3],lo=rn[4],mo=rn[5],fo=rn[6],Uo=rn[7],t0=rn[8],n0=Mt.isFirstLayerConv2d?hn(uo,co,3,"conv0"):to(uo,co,"conv0"),i0=to(co,ho,"conv1"),a0=to(ho,e0,"conv2"),s0=to(e0,lo,"conv3"),l0=to(lo,mo,"conv4"),d0=to(mo,fo,"conv5"),h0=Uo?to(fo,Uo,"conv6"):void 0,v0=t0?to(Uo,t0,"conv7"):void 0,g0=hn(t0||Uo||fo,5*nn,1,"conv8");Xr={conv0:n0,conv1:i0,conv2:a0,conv3:s0,conv4:l0,conv5:d0,conv6:h0,conv7:v0,conv8:g0}}else{var uo=rn[0],co=rn[1],ho=rn[2],e0=rn[3],lo=rn[4],mo=rn[5],fo=rn[6],Uo=rn[7],t0=rn[8],n0=fn(uo,co,"conv0"),i0=fn(co,ho,"conv1"),a0=fn(ho,e0,"conv2"),s0=fn(e0,lo,"conv3"),l0=fn(lo,mo,"conv4"),d0=fn(mo,fo,"conv5"),h0=fn(fo,Uo,"conv6"),v0=fn(Uo,t0,"conv7"),g0=hn(t0,5*nn,1,"conv8");Xr={conv0:n0,conv1:i0,conv2:a0,conv3:s0,conv4:l0,conv5:d0,conv6:h0,conv7:v0,conv8:g0}}if(un().length!==0)throw new Error("weights remaing after extract: "+un().length);return{params:Xr,paramMappings:ln}}function extractorsFactory$2(st,Mt){var nn=extractWeightEntryFactory(st,Mt);function rn(ln){var cn=nn(ln+"/sub",1),hn=nn(ln+"/truediv",1);return{sub:cn,truediv:hn}}function an(ln){var cn=nn(ln+"/filters",4),hn=nn(ln+"/bias",1);return{filters:cn,bias:hn}}function sn(ln){var cn=an(ln+"/conv"),hn=rn(ln+"/bn");return{conv:cn,bn:hn}}var un=loadSeparableConvParamsFactory(nn);return{extractConvParams:an,extractConvWithBatchNormParams:sn,extractSeparableConvParams:un}}function extractParamsFromWeigthMap$1(st,Mt){var nn=[],rn=extractorsFactory$2(st,nn),an=rn.extractConvParams,sn=rn.extractConvWithBatchNormParams,un=rn.extractSeparableConvParams,ln;if(Mt.withSeparableConvs){var cn=Mt.filterSizes&&Mt.filterSizes.length||9;ln={conv0:Mt.isFirstLayerConv2d?an("conv0"):un("conv0"),conv1:un("conv1"),conv2:un("conv2"),conv3:un("conv3"),conv4:un("conv4"),conv5:un("conv5"),conv6:cn>7?un("conv6"):void 0,conv7:cn>8?un("conv7"):void 0,conv8:an("conv8")}}else ln={conv0:sn("conv0"),conv1:sn("conv1"),conv2:sn("conv2"),conv3:sn("conv3"),conv4:sn("conv4"),conv5:sn("conv5"),conv6:sn("conv6"),conv7:sn("conv7"),conv8:an("conv8")};return disposeUnusedWeightTensors(st,nn),{params:ln,paramMappings:nn}}var TinyYolov2SizeType;(function(st){st[st.XS=224]="XS",st[st.SM=320]="SM",st[st.MD=416]="MD",st[st.LG=608]="LG"})(TinyYolov2SizeType||(TinyYolov2SizeType={}));var TinyYolov2Options=function(){function st(Mt){var nn=Mt===void 0?{}:Mt,rn=nn.inputSize,an=nn.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=rn||416,this._scoreThreshold=an||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(st.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),st}(),TinyYolov2Base=function(st){__extends(Mt,st);function Mt(nn){var rn=st.call(this,"TinyYolov2")||this;return validateConfig(nn),rn._config=nn,rn}return Object.defineProperty(Mt.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(Mt.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(Mt.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),Mt.prototype.runTinyYolov2=function(nn,rn){var an=convWithBatchNorm(nn,rn.conv0);return an=hl(an,[2,2],[2,2],"same"),an=convWithBatchNorm(an,rn.conv1),an=hl(an,[2,2],[2,2],"same"),an=convWithBatchNorm(an,rn.conv2),an=hl(an,[2,2],[2,2],"same"),an=convWithBatchNorm(an,rn.conv3),an=hl(an,[2,2],[2,2],"same"),an=convWithBatchNorm(an,rn.conv4),an=hl(an,[2,2],[2,2],"same"),an=convWithBatchNorm(an,rn.conv5),an=hl(an,[2,2],[1,1],"same"),an=convWithBatchNorm(an,rn.conv6),an=convWithBatchNorm(an,rn.conv7),convLayer$1(an,rn.conv8,"valid",!1)},Mt.prototype.runMobilenet=function(nn,rn){var an=this.config.isFirstLayerConv2d?leaky(convLayer$1(nn,rn.conv0,"valid",!1)):depthwiseSeparableConv(nn,rn.conv0);return an=hl(an,[2,2],[2,2],"same"),an=depthwiseSeparableConv(an,rn.conv1),an=hl(an,[2,2],[2,2],"same"),an=depthwiseSeparableConv(an,rn.conv2),an=hl(an,[2,2],[2,2],"same"),an=depthwiseSeparableConv(an,rn.conv3),an=hl(an,[2,2],[2,2],"same"),an=depthwiseSeparableConv(an,rn.conv4),an=hl(an,[2,2],[2,2],"same"),an=depthwiseSeparableConv(an,rn.conv5),an=hl(an,[2,2],[1,1],"same"),an=rn.conv6?depthwiseSeparableConv(an,rn.conv6):an,an=rn.conv7?depthwiseSeparableConv(an,rn.conv7):an,convLayer$1(an,rn.conv8,"valid",!1)},Mt.prototype.forwardInput=function(nn,rn){var an=this,sn=this.params;if(!sn)throw new Error("TinyYolov2 - load model before inference");return Ze(function(){var un=nn.toBatchTensor(rn,!1).toFloat();return un=an.config.meanRgb?normalize$1(un,an.config.meanRgb):un,un=un.div(On(256)),an.config.withSeparableConvs?an.runMobilenet(un,sn):an.runTinyYolov2(un,sn)})},Mt.prototype.forward=function(nn,rn){return __awaiter(this,void 0,void 0,function(){var an;return __generator(this,function(sn){switch(sn.label){case 0:return an=this.forwardInput,[4,toNetInput(nn)];case 1:return[4,an.apply(this,[sn.sent(),rn])];case 2:return[2,sn.sent()]}})})},Mt.prototype.detect=function(nn,rn){return rn===void 0&&(rn={}),__awaiter(this,void 0,void 0,function(){var an,sn,un,ln,cn,hn,fn,to,Xr,uo,co,ho,e0,lo,mo=this;return __generator(this,function(fo){switch(fo.label){case 0:return an=new TinyYolov2Options(rn),sn=an.inputSize,un=an.scoreThreshold,[4,toNetInput(nn)];case 1:return ln=fo.sent(),[4,this.forwardInput(ln,sn)];case 2:return cn=fo.sent(),hn=Ze(function(){return Ur(cn)[0].expandDims()}),fn={width:ln.getInputWidth(0),height:ln.getInputHeight(0)},[4,this.extractBoxes(hn,ln.getReshapedInputDimensions(0),un)];case 3:return to=fo.sent(),cn.dispose(),hn.dispose(),Xr=to.map(function(Uo){return Uo.box}),uo=to.map(function(Uo){return Uo.score}),co=to.map(function(Uo){return Uo.classScore}),ho=to.map(function(Uo){return mo.config.classes[Uo.label]}),e0=nonMaxSuppression$1(Xr.map(function(Uo){return Uo.rescale(sn)}),uo,this.config.iouThreshold,!0),lo=e0.map(function(Uo){return new ObjectDetection(uo[Uo],co[Uo],ho[Uo],Xr[Uo],fn)}),[2,lo]}})})},Mt.prototype.getDefaultModelName=function(){return""},Mt.prototype.extractParamsFromWeigthMap=function(nn){return extractParamsFromWeigthMap$1(nn,this.config)},Mt.prototype.extractParams=function(nn){var rn=this.config.filterSizes||Mt.DEFAULT_FILTER_SIZES,an=rn?rn.length:void 0;if(an!==7&&an!==8&&an!==9)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+an+" filterSizes in config");return extractParams$1(nn,this.config,this.boxEncodingSize,rn)},Mt.prototype.extractBoxes=function(nn,rn,an){return __awaiter(this,void 0,void 0,function(){var sn,un,ln,cn,hn,fn,to,Xr,uo,co,ho,e0,lo,mo,fo,Uo,t0,n0,i0,a0,s0,l0,d0,h0,v0,g0,m0,u0,c0,r0=this;return __generator(this,function(o0){switch(o0.label){case 0:return sn=rn.width,un=rn.height,ln=Math.max(sn,un),cn=ln/sn,hn=ln/un,fn=nn.shape[1],to=this.config.anchors.length,Xr=Ze(function(){var f0=nn.reshape([fn,fn,to,r0.boxEncodingSize]),p0=f0.slice([0,0,0,0],[fn,fn,to,4]),y0=f0.slice([0,0,0,4],[fn,fn,to,1]),x0=r0.withClassScores?go(f0.slice([0,0,0,5],[fn,fn,to,r0.config.classes.length]),3):On(0);return[p0,y0,x0]}),uo=Xr[0],co=Xr[1],ho=Xr[2],e0=[],[4,co.array()];case 1:return lo=o0.sent(),[4,uo.array()];case 2:mo=o0.sent(),fo=0,o0.label=3;case 3:if(!(fo<fn))return[3,12];Uo=0,o0.label=4;case 4:if(!(Uo<fn))return[3,11];t0=0,o0.label=5;case 5:return t0<to?(n0=sigmoid(lo[fo][Uo][t0][0]),!an||n0>an?(i0=(Uo+sigmoid(mo[fo][Uo][t0][0]))/fn*cn,a0=(fo+sigmoid(mo[fo][Uo][t0][1]))/fn*hn,s0=Math.exp(mo[fo][Uo][t0][2])*this.config.anchors[t0].x/fn*cn,l0=Math.exp(mo[fo][Uo][t0][3])*this.config.anchors[t0].y/fn*hn,d0=i0-s0/2,h0=a0-l0/2,v0={row:fo,col:Uo,anchor:t0},this.withClassScores?[4,this.extractPredictedClass(ho,v0)]:[3,7]):[3,9]):[3,10];case 6:return c0=o0.sent(),[3,8];case 7:c0={classScore:1,label:0},o0.label=8;case 8:g0=c0,m0=g0.classScore,u0=g0.label,e0.push(__assign({box:new BoundingBox(d0,h0,d0+s0,h0+l0),score:n0,classScore:n0*m0,label:u0},v0)),o0.label=9;case 9:return t0++,[3,5];case 10:return Uo++,[3,4];case 11:return fo++,[3,3];case 12:return uo.dispose(),co.dispose(),ho.dispose(),[2,e0]}})})},Mt.prototype.extractPredictedClass=function(nn,rn){return __awaiter(this,void 0,void 0,function(){var an,sn,un,ln;return __generator(this,function(cn){switch(cn.label){case 0:return an=rn.row,sn=rn.col,un=rn.anchor,[4,nn.array()];case 1:return ln=cn.sent(),[2,Array(this.config.classes.length).fill(0).map(function(hn,fn){return ln[an][sn][un][fn]}).map(function(hn,fn){return{classScore:hn,label:fn}}).reduce(function(hn,fn){return hn.classScore>fn.classScore?hn:fn})]}})})},Mt.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],Mt}(NeuralNetwork),TinyYolov2=function(st){__extends(Mt,st);function Mt(nn){nn===void 0&&(nn=!0);var rn=this,an=Object.assign({},{withSeparableConvs:nn,iouThreshold:IOU_THRESHOLD$1,classes:["face"]},nn?{anchors:BOX_ANCHORS_SEPARABLE,meanRgb:MEAN_RGB_SEPARABLE}:{anchors:BOX_ANCHORS$1,withClassScores:!0});return rn=st.call(this,an)||this,rn}return Object.defineProperty(Mt.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(Mt.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),Mt.prototype.locateFaces=function(nn,rn){return __awaiter(this,void 0,void 0,function(){var an;return __generator(this,function(sn){switch(sn.label){case 0:return[4,this.detect(nn,rn)];case 1:return an=sn.sent(),[2,an.map(function(un){return new FaceDetection(un.score,un.relativeBox,{width:un.imageWidth,height:un.imageHeight})})]}})})},Mt.prototype.getDefaultModelName=function(){return this.withSeparableConvs?DEFAULT_MODEL_NAME_SEPARABLE_CONV:DEFAULT_MODEL_NAME},Mt.prototype.extractParamsFromWeigthMap=function(nn){return st.prototype.extractParamsFromWeigthMap.call(this,nn)},Mt}(TinyYolov2Base),TinyFaceDetectorOptions=function(st){__extends(Mt,st);function Mt(){var nn=st!==null&&st.apply(this,arguments)||this;return nn._name="TinyFaceDetectorOptions",nn}return Mt}(TinyYolov2Options),ComposableTask=function(){function st(){}return st.prototype.then=function(Mt){return __awaiter(this,void 0,void 0,function(){var nn;return __generator(this,function(rn){switch(rn.label){case 0:return nn=Mt,[4,this.run()];case 1:return[2,nn.apply(void 0,[rn.sent()])]}})})},st.prototype.run=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(Mt){throw new Error("ComposableTask - run is not implemented")})})},st}();function extractAllFacesAndComputeResults(st,Mt,nn,rn,an){return an===void 0&&(an=function(sn){var un=sn.alignedRect;return un}),__awaiter(this,void 0,void 0,function(){var sn,un,ln,cn,hn;return __generator(this,function(fn){switch(fn.label){case 0:return sn=st.map(function(to){return isWithFaceLandmarks(to)?an(to):to.detection}),ln=rn,ln?[3,5]:Mt instanceof wt?[4,extractFaceTensors(Mt,sn)]:[3,2];case 1:return cn=fn.sent(),[3,4];case 2:return[4,extractFaces(Mt,sn)];case 3:cn=fn.sent(),fn.label=4;case 4:ln=cn,fn.label=5;case 5:return un=ln,[4,nn(un)];case 6:return hn=fn.sent(),un.forEach(function(to){return to instanceof wt&&to.dispose()}),[2,hn]}})})}function extractSingleFaceAndComputeResult(st,Mt,nn,rn,an){return __awaiter(this,void 0,void 0,function(){var sn=this;return __generator(this,function(un){return[2,extractAllFacesAndComputeResults([st],Mt,function(ln){return __awaiter(sn,void 0,void 0,function(){return __generator(this,function(cn){return[2,nn(ln[0])]})})},rn,an)]})})}function bgrToRgbTensor(st){return Ze(function(){return Pr(Ur(st,3).reverse(),3)})}var CELL_STRIDE=2,CELL_SIZE=12;function extractorsFactory$1(st,Mt){var nn=extractConvParamsFactory(st,Mt),rn=extractFCParamsFactory(st,Mt);function an(hn,fn){var to=Mn(st(hn));return Mt.push({paramPath:fn}),to}function sn(hn,fn,to){to===void 0&&(to=!1);var Xr=nn(hn[0],hn[1],3,fn+"/conv1"),uo=an(hn[1],fn+"/prelu1_alpha"),co=nn(hn[1],hn[2],3,fn+"/conv2"),ho=an(hn[2],fn+"/prelu2_alpha"),e0=nn(hn[2],hn[3],to?2:3,fn+"/conv3"),lo=an(hn[3],fn+"/prelu3_alpha");return{conv1:Xr,prelu1_alpha:uo,conv2:co,prelu2_alpha:ho,conv3:e0,prelu3_alpha:lo}}function un(){var hn=sn([3,10,16,32],"pnet"),fn=nn(32,2,1,"pnet/conv4_1"),to=nn(32,4,1,"pnet/conv4_2");return __assign(__assign({},hn),{conv4_1:fn,conv4_2:to})}function ln(){var hn=sn([3,28,48,64],"rnet",!0),fn=rn(576,128,"rnet/fc1"),to=an(128,"rnet/prelu4_alpha"),Xr=rn(128,2,"rnet/fc2_1"),uo=rn(128,4,"rnet/fc2_2");return __assign(__assign({},hn),{fc1:fn,prelu4_alpha:to,fc2_1:Xr,fc2_2:uo})}function cn(){var hn=sn([3,32,64,64],"onet"),fn=nn(64,128,2,"onet/conv4"),to=an(128,"onet/prelu4_alpha"),Xr=rn(1152,256,"onet/fc1"),uo=an(256,"onet/prelu5_alpha"),co=rn(256,2,"onet/fc2_1"),ho=rn(256,4,"onet/fc2_2"),e0=rn(256,10,"onet/fc2_3");return __assign(__assign({},hn),{conv4:fn,prelu4_alpha:to,fc1:Xr,prelu5_alpha:uo,fc2_1:co,fc2_2:ho,fc2_3:e0})}return{extractPNetParams:un,extractRNetParams:ln,extractONetParams:cn}}function extractParams(st){var Mt=extractWeightsFactory(st),nn=Mt.extractWeights,rn=Mt.getRemainingWeights,an=[],sn=extractorsFactory$1(nn,an),un=sn.extractPNetParams,ln=sn.extractRNetParams,cn=sn.extractONetParams,hn=un(),fn=ln(),to=cn();if(rn().length!==0)throw new Error("weights remaing after extract: "+rn().length);return{params:{pnet:hn,rnet:fn,onet:to},paramMappings:an}}function extractorsFactory(st,Mt){var nn=extractWeightEntryFactory(st,Mt);function rn(fn){var to=nn(fn+"/weights",4,fn+"/filters"),Xr=nn(fn+"/bias",1);return{filters:to,bias:Xr}}function an(fn){var to=nn(fn+"/weights",2),Xr=nn(fn+"/bias",1);return{weights:to,bias:Xr}}function sn(fn){return nn(fn,1)}function un(fn){var to=rn(fn+"/conv1"),Xr=sn(fn+"/prelu1_alpha"),uo=rn(fn+"/conv2"),co=sn(fn+"/prelu2_alpha"),ho=rn(fn+"/conv3"),e0=sn(fn+"/prelu3_alpha");return{conv1:to,prelu1_alpha:Xr,conv2:uo,prelu2_alpha:co,conv3:ho,prelu3_alpha:e0}}function ln(){var fn=un("pnet"),to=rn("pnet/conv4_1"),Xr=rn("pnet/conv4_2");return __assign(__assign({},fn),{conv4_1:to,conv4_2:Xr})}function cn(){var fn=un("rnet"),to=an("rnet/fc1"),Xr=sn("rnet/prelu4_alpha"),uo=an("rnet/fc2_1"),co=an("rnet/fc2_2");return __assign(__assign({},fn),{fc1:to,prelu4_alpha:Xr,fc2_1:uo,fc2_2:co})}function hn(){var fn=un("onet"),to=rn("onet/conv4"),Xr=sn("onet/prelu4_alpha"),uo=an("onet/fc1"),co=sn("onet/prelu5_alpha"),ho=an("onet/fc2_1"),e0=an("onet/fc2_2"),lo=an("onet/fc2_3");return __assign(__assign({},fn),{conv4:to,prelu4_alpha:Xr,fc1:uo,prelu5_alpha:co,fc2_1:ho,fc2_2:e0,fc2_3:lo})}return{extractPNetParams:ln,extractRNetParams:cn,extractONetParams:hn}}function extractParamsFromWeigthMap(st){var Mt=[],nn=extractorsFactory(st,Mt),rn=nn.extractPNetParams,an=nn.extractRNetParams,sn=nn.extractONetParams,un=rn(),ln=an(),cn=sn();return disposeUnusedWeightTensors(st,Mt),{params:{pnet:un,rnet:ln,onet:cn},paramMappings:Mt}}function getSizesForScale(st,Mt){var nn=Mt[0],rn=Mt[1];return{height:Math.floor(nn*st),width:Math.floor(rn*st)}}function pyramidDown(st,Mt,nn){for(var rn=nn[0],an=nn[1],sn=CELL_SIZE/st,un=[],ln=Math.min(rn,an)*sn,cn=0;ln>=12;)un.push(sn*Math.pow(Mt,cn)),ln=ln*Mt,cn+=1;return un}var MtcnnBox=function(st){__extends(Mt,st);function Mt(nn,rn,an,sn){return st.call(this,{left:nn,top:rn,right:an,bottom:sn},!0)||this}return Mt}(Box);function normalize(st){return Ze(function(){return gc(Cc(st,On(127.5)),On(.0078125))})}function prelu(st,Mt){return Ze(function(){return rc(Bl(st),gc(Mt,wu(Bl(wu(st)))))})}function sharedLayer(st,Mt,nn){return nn===void 0&&(nn=!1),Ze(function(){var rn=convLayer$1(st,Mt.conv1,"valid");return rn=prelu(rn,Mt.prelu1_alpha),rn=hl(rn,nn?[2,2]:[3,3],[2,2],"same"),rn=convLayer$1(rn,Mt.conv2,"valid"),rn=prelu(rn,Mt.prelu2_alpha),rn=nn?rn:hl(rn,[3,3],[2,2],"valid"),rn=convLayer$1(rn,Mt.conv3,"valid"),rn=prelu(rn,Mt.prelu3_alpha),rn})}function PNet(st,Mt){return Ze(function(){var nn=sharedLayer(st,Mt,!0),rn=convLayer$1(nn,Mt.conv4_1,"valid"),an=wr(Sl(rn,3),3),sn=go(Cc(rn,an),3),un=convLayer$1(nn,Mt.conv4_2,"valid");return{prob:sn,regions:un}})}function rescaleAndNormalize(st,Mt){return Ze(function(){var nn=getSizesForScale(Mt,st.shape.slice(1)),rn=nn.height,an=nn.width,sn=Oh.resizeBilinear(st,[rn,an]),un=normalize(sn);return Wl(un,[0,2,1,3])})}function extractBoundingBoxes(st,Mt,nn,rn){for(var an=[],sn=st.arraySync(),un=0;un<st.shape[0];un++)for(var ln=0;ln<st.shape[1];ln++)sn[un][ln]>=rn&&an.push(new Point(ln,un));var cn=an.map(function(hn){var fn=new BoundingBox(Math.round((hn.y*CELL_STRIDE+1)/nn),Math.round((hn.x*CELL_STRIDE+1)/nn),Math.round((hn.y*CELL_STRIDE+CELL_SIZE)/nn),Math.round((hn.x*CELL_STRIDE+CELL_SIZE)/nn)),to=sn[hn.y][hn.x],Xr=Mt.arraySync(),uo=new MtcnnBox(Xr[hn.y][hn.x][0],Xr[hn.y][hn.x][1],Xr[hn.y][hn.x][2],Xr[hn.y][hn.x][3]);return{cell:fn,score:to,region:uo}});return cn}function stage1(st,Mt,nn,rn,an){an.stage1=[];var sn=Mt.map(function(Xr){return Ze(function(){var uo={scale:Xr},co=rescaleAndNormalize(st,Xr),ho=Date.now(),e0=PNet(co,rn),lo=e0.prob,mo=e0.regions;uo.pnet=Date.now()-ho;var fo=Ur(Ur(lo,3)[1])[0],Uo=Ur(mo)[0];return{scoresTensor:fo,regionsTensor:Uo,scale:Xr,statsForScale:uo}})}),un=sn.map(function(Xr){var uo=Xr.scoresTensor,co=Xr.regionsTensor,ho=Xr.scale,e0=Xr.statsForScale,lo=extractBoundingBoxes(uo,co,ho,nn);if(uo.dispose(),co.dispose(),!lo.length)return an.stage1.push(e0),[];var mo=Date.now(),fo=nonMaxSuppression$1(lo.map(function(Uo){return Uo.cell}),lo.map(function(Uo){return Uo.score}),.5);return e0.nms=Date.now()-mo,e0.numBoxes=fo.length,an.stage1.push(e0),fo.map(function(Uo){return lo[Uo]})}),ln=un.reduce(function(Xr,uo){return Xr.concat(uo)},[]),cn=[],hn=[];if(ln.length>0){var fn=Date.now(),to=nonMaxSuppression$1(ln.map(function(Xr){return Xr.cell}),ln.map(function(Xr){return Xr.score}),.7);an.stage1_nms=Date.now()-fn,hn=to.map(function(Xr){return ln[Xr].score}),cn=to.map(function(Xr){return ln[Xr]}).map(function(Xr){var uo=Xr.cell,co=Xr.region;return new BoundingBox(uo.left+co.left*uo.width,uo.top+co.top*uo.height,uo.right+co.right*uo.width,uo.bottom+co.bottom*uo.height).toSquare().round()})}return{boxes:cn,scores:hn}}function extractImagePatches(st,Mt,nn){var rn=nn.width,an=nn.height;return __awaiter(this,void 0,void 0,function(){var sn,un,ln,cn=this;return __generator(this,function(hn){switch(hn.label){case 0:return sn=getContext2dOrThrow(st),[4,Promise.all(Mt.map(function(fn){return __awaiter(cn,void 0,void 0,function(){var to,Xr,uo,co,ho,e0,lo,mo;return __generator(this,function(fo){return to=fn.padAtBorders(st.height,st.width),Xr=to.y,uo=to.ey,co=to.x,ho=to.ex,e0=co-1,lo=Xr-1,mo=sn.getImageData(e0,lo,ho-e0,uo-lo),[2,env.isNodejs()?createCanvasFromMedia(mo):createImageBitmap(mo)]})})}))];case 1:return un=hn.sent(),ln=[],un.forEach(function(fn){var to=createCanvas({width:rn,height:an}),Xr=getContext2dOrThrow(to);Xr.drawImage(fn,0,0,rn,an);for(var uo=Xr.getImageData(0,0,rn,an).data,co=[],ho=0;ho<uo.length;ho+=4)co.push(uo[ho+2]),co.push(uo[ho+1]),co.push(uo[ho]);ln.push(co)}),[2,ln.map(function(fn){var to=Ze(function(){var Xr=Wl(Ln(fn,[1,rn,an,3]),[0,2,1,3]).toFloat();return normalize(Xr)});return to})]}})})}function RNet(st,Mt){return Ze(function(){var nn=sharedLayer(st,Mt),rn=Or(nn,[nn.shape[0],Mt.fc1.weights.shape[0]]),an=fullyConnectedLayer(rn,Mt.fc1),sn=prelu(an,Mt.prelu4_alpha),un=fullyConnectedLayer(sn,Mt.fc2_1),ln=wr(Sl(un,1),1),cn=go(Cc(un,ln),1),hn=fullyConnectedLayer(sn,Mt.fc2_2),fn=Ur(cn,1)[1];return{scores:fn,regions:hn}})}function stage2(st,Mt,nn,rn,an){return __awaiter(this,void 0,void 0,function(){var sn,un,ln,cn,hn,fn,to,Xr,uo,co,ho,e0,lo,mo;return __generator(this,function(fo){switch(fo.label){case 0:return sn=Date.now(),[4,extractImagePatches(st,Mt,{width:24,height:24})];case 1:return un=fo.sent(),an.stage2_extractImagePatches=Date.now()-sn,sn=Date.now(),ln=un.map(function(Uo){var t0=RNet(Uo,rn);return Uo.dispose(),t0}),an.stage2_rnet=Date.now()-sn,cn=ln.length>1?Yn(ln.map(function(Uo){return Uo.scores})):ln[0].scores,to=(fn=Array).from,[4,cn.data()];case 2:return hn=to.apply(fn,[fo.sent()]),cn.dispose(),Xr=hn.map(function(Uo,t0){return{score:Uo,idx:t0}}).filter(function(Uo){return Uo.score>nn}).map(function(Uo){var t0=Uo.idx;return t0}),uo=Xr.map(function(Uo){return Mt[Uo]}),co=Xr.map(function(Uo){return hn[Uo]}),ho=[],e0=[],uo.length>0&&(sn=Date.now(),lo=nonMaxSuppression$1(uo,co,.7),an.stage2_nms=Date.now()-sn,mo=lo.map(function(Uo){var t0=ln[Xr[Uo]].regions.arraySync();return new MtcnnBox(t0[0][0],t0[0][1],t0[0][2],t0[0][3])}),e0=lo.map(function(Uo){return co[Uo]}),ho=lo.map(function(Uo,t0){return uo[Uo].calibrate(mo[t0])})),ln.forEach(function(Uo){Uo.regions.dispose(),Uo.scores.dispose()}),[2,{boxes:ho,scores:e0}]}})})}function ONet(st,Mt){return Ze(function(){var nn=sharedLayer(st,Mt);nn=hl(nn,[2,2],[2,2],"same"),nn=convLayer$1(nn,Mt.conv4,"valid"),nn=prelu(nn,Mt.prelu4_alpha);var rn=Or(nn,[nn.shape[0],Mt.fc1.weights.shape[0]]),an=fullyConnectedLayer(rn,Mt.fc1),sn=prelu(an,Mt.prelu5_alpha),un=fullyConnectedLayer(sn,Mt.fc2_1),ln=wr(Sl(un,1),1),cn=go(Cc(un,ln),1),hn=fullyConnectedLayer(sn,Mt.fc2_2),fn=fullyConnectedLayer(sn,Mt.fc2_3),to=Ur(cn,1)[1];return{scores:to,regions:hn,points:fn}})}function stage3(st,Mt,nn,rn,an){return __awaiter(this,void 0,void 0,function(){var sn,un,ln,cn,hn,fn,to,Xr,uo,co,ho,e0,lo,mo,fo;return __generator(this,function(Uo){switch(Uo.label){case 0:return sn=Date.now(),[4,extractImagePatches(st,Mt,{width:48,height:48})];case 1:return un=Uo.sent(),an.stage3_extractImagePatches=Date.now()-sn,sn=Date.now(),ln=un.map(function(t0){var n0=ONet(t0,rn);return t0.dispose(),n0}),an.stage3_onet=Date.now()-sn,cn=ln.length>1?Yn(ln.map(function(t0){return t0.scores})):ln[0].scores,to=(fn=Array).from,[4,cn.data()];case 2:return hn=to.apply(fn,[Uo.sent()]),cn.dispose(),Xr=hn.map(function(t0,n0){return{score:t0,idx:n0}}).filter(function(t0){return t0.score>nn}).map(function(t0){var n0=t0.idx;return n0}),uo=Xr.map(function(t0){var n0=ln[t0].regions.arraySync();return new MtcnnBox(n0[0][0],n0[0][1],n0[0][2],n0[0][3])}),co=Xr.map(function(t0,n0){return Mt[t0].calibrate(uo[n0])}),ho=Xr.map(function(t0){return hn[t0]}),e0=[],lo=[],mo=[],co.length>0&&(sn=Date.now(),fo=nonMaxSuppression$1(co,ho,.7,!1),an.stage3_nms=Date.now()-sn,e0=fo.map(function(t0){return co[t0]}),lo=fo.map(function(t0){return ho[t0]}),mo=fo.map(function(t0,n0){return Array(5).fill(0).map(function(i0,a0){var s0=ln[t0].points.arraySync();return new Point(s0[0][a0]*(e0[n0].width+1)+e0[n0].left,s0[0][a0+5]*(e0[n0].height+1)+e0[n0].top)})})),ln.forEach(function(t0){t0.regions.dispose(),t0.scores.dispose(),t0.points.dispose()}),[2,{boxes:e0,scores:lo,points:mo}]}})})}var Mtcnn=function(st){__extends(Mt,st);function Mt(){return st.call(this,"Mtcnn")||this}return Mt.prototype.load=function(nn){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(rn){return console.warn("mtcnn is deprecated and will be removed soon"),[2,st.prototype.load.call(this,nn)]})})},Mt.prototype.loadFromDisk=function(nn){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(rn){return console.warn("mtcnn is deprecated and will be removed soon"),[2,st.prototype.loadFromDisk.call(this,nn)]})})},Mt.prototype.forwardInput=function(nn,rn){return rn===void 0&&(rn={}),__awaiter(this,void 0,void 0,function(){var an,sn,un,ln,cn,hn,fn,to,Xr,uo,co,ho,e0,lo,mo,fo,Uo,t0,n0,i0,a0;return __generator(this,function(s0){switch(s0.label){case 0:if(an=this.params,!an)throw new Error("Mtcnn - load model before inference");if(sn=nn.canvases[0],!sn)throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return un={},ln=Date.now(),cn=Ze(function(){return bgrToRgbTensor(wr(id.fromPixels(sn)).toFloat())}),hn=function(l0){return cn.dispose(),un.total=Date.now()-ln,l0},fn=cn.shape.slice(1),to=fn[0],Xr=fn[1],uo=new MtcnnOptions(rn),co=uo.minFaceSize,ho=uo.scaleFactor,e0=uo.maxNumScales,lo=uo.scoreThresholds,mo=uo.scaleSteps,fo=(mo||pyramidDown(co,ho,[to,Xr])).filter(function(l0){var d0=getSizesForScale(l0,[to,Xr]);return Math.min(d0.width,d0.height)>CELL_SIZE}).slice(0,e0),un.scales=fo,un.pyramid=fo.map(function(l0){return getSizesForScale(l0,[to,Xr])}),Uo=Date.now(),[4,stage1(cn,fo,lo[0],an.pnet,un)];case 1:return t0=s0.sent(),un.total_stage1=Date.now()-Uo,t0.boxes.length?(un.stage2_numInputBoxes=t0.boxes.length,Uo=Date.now(),[4,stage2(sn,t0.boxes,lo[1],an.rnet,un)]):[2,hn({results:[],stats:un})];case 2:return n0=s0.sent(),un.total_stage2=Date.now()-Uo,n0.boxes.length?(un.stage3_numInputBoxes=n0.boxes.length,Uo=Date.now(),[4,stage3(sn,n0.boxes,lo[2],an.onet,un)]):[2,hn({results:[],stats:un})];case 3:return i0=s0.sent(),un.total_stage3=Date.now()-Uo,a0=i0.boxes.map(function(l0,d0){return extendWithFaceLandmarks(extendWithFaceDetection({},new FaceDetection(i0.scores[d0],new Rect(l0.left/Xr,l0.top/to,l0.width/Xr,l0.height/to),{height:to,width:Xr})),new FaceLandmarks5(i0.points[d0].map(function(h0){return h0.sub(new Point(l0.left,l0.top)).div(new Point(l0.width,l0.height))}),{width:l0.width,height:l0.height}))}),[2,hn({results:a0,stats:un})]}})})},Mt.prototype.forward=function(nn,rn){return rn===void 0&&(rn={}),__awaiter(this,void 0,void 0,function(){var an;return __generator(this,function(sn){switch(sn.label){case 0:return an=this.forwardInput,[4,toNetInput(nn)];case 1:return[4,an.apply(this,[sn.sent(),rn])];case 2:return[2,sn.sent().results]}})})},Mt.prototype.forwardWithStats=function(nn,rn){return rn===void 0&&(rn={}),__awaiter(this,void 0,void 0,function(){var an;return __generator(this,function(sn){switch(sn.label){case 0:return an=this.forwardInput,[4,toNetInput(nn)];case 1:return[2,an.apply(this,[sn.sent(),rn])]}})})},Mt.prototype.getDefaultModelName=function(){return"mtcnn_model"},Mt.prototype.extractParamsFromWeigthMap=function(nn){return extractParamsFromWeigthMap(nn)},Mt.prototype.extractParams=function(nn){return extractParams(nn)},Mt}(NeuralNetwork),IOU_THRESHOLD=.4,BOX_ANCHORS=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB=[117.001,114.697,97.404],TinyFaceDetector=function(st){__extends(Mt,st);function Mt(){var nn=this,rn={withSeparableConvs:!0,iouThreshold:IOU_THRESHOLD,classes:["face"],anchors:BOX_ANCHORS,meanRgb:MEAN_RGB,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return nn=st.call(this,rn)||this,nn}return Object.defineProperty(Mt.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),Mt.prototype.locateFaces=function(nn,rn){return __awaiter(this,void 0,void 0,function(){var an;return __generator(this,function(sn){switch(sn.label){case 0:return[4,this.detect(nn,rn)];case 1:return an=sn.sent(),[2,an.map(function(un){return new FaceDetection(un.score,un.relativeBox,{width:un.imageWidth,height:un.imageHeight})})]}})})},Mt.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},Mt.prototype.extractParamsFromWeigthMap=function(nn){return st.prototype.extractParamsFromWeigthMap.call(this,nn)},Mt}(TinyYolov2Base),nets={ssdMobilenetv1:new SsdMobilenetv1,tinyFaceDetector:new TinyFaceDetector,tinyYolov2:new TinyYolov2,mtcnn:new Mtcnn,faceLandmark68Net:new FaceLandmark68Net,faceLandmark68TinyNet:new FaceLandmark68TinyNet,faceRecognitionNet:new FaceRecognitionNet,faceExpressionNet:new FaceExpressionNet,ageGenderNet:new AgeGenderNet},PredictFaceExpressionsTaskBase=function(st){__extends(Mt,st);function Mt(nn,rn,an){var sn=st.call(this)||this;return sn.parentTask=nn,sn.input=rn,sn.extractedFaces=an,sn}return Mt}(ComposableTask),PredictAllFaceExpressionsTask=function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt.prototype.run=function(){return __awaiter(this,void 0,void 0,function(){var nn,rn,an=this;return __generator(this,function(sn){switch(sn.label){case 0:return[4,this.parentTask];case 1:return nn=sn.sent(),[4,extractAllFacesAndComputeResults(nn,this.input,function(un){return __awaiter(an,void 0,void 0,function(){return __generator(this,function(ln){switch(ln.label){case 0:return[4,Promise.all(un.map(function(cn){return nets.faceExpressionNet.predictExpressions(cn)}))];case 1:return[2,ln.sent()]}})})},this.extractedFaces)];case 2:return rn=sn.sent(),[2,nn.map(function(un,ln){return extendWithFaceExpressions(un,rn[ln])})]}})})},Mt.prototype.withAgeAndGender=function(){return new PredictAllAgeAndGenderTask(this,this.input)},Mt}(PredictFaceExpressionsTaskBase),PredictSingleFaceExpressionsTask=function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt.prototype.run=function(){return __awaiter(this,void 0,void 0,function(){var nn,rn;return __generator(this,function(an){switch(an.label){case 0:return[4,this.parentTask];case 1:return nn=an.sent(),nn?[4,extractSingleFaceAndComputeResult(nn,this.input,function(sn){return nets.faceExpressionNet.predictExpressions(sn)},this.extractedFaces)]:[2];case 2:return rn=an.sent(),[2,extendWithFaceExpressions(nn,rn)]}})})},Mt.prototype.withAgeAndGender=function(){return new PredictSingleAgeAndGenderTask(this,this.input)},Mt}(PredictFaceExpressionsTaskBase),PredictAllFaceExpressionsWithFaceAlignmentTask=function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt.prototype.withAgeAndGender=function(){return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this.input)},Mt.prototype.withFaceDescriptors=function(){return new ComputeAllFaceDescriptorsTask(this,this.input)},Mt}(PredictAllFaceExpressionsTask),PredictSingleFaceExpressionsWithFaceAlignmentTask=function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt.prototype.withAgeAndGender=function(){return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this.input)},Mt.prototype.withFaceDescriptor=function(){return new ComputeSingleFaceDescriptorTask(this,this.input)},Mt}(PredictSingleFaceExpressionsTask),PredictAgeAndGenderTaskBase=function(st){__extends(Mt,st);function Mt(nn,rn,an){var sn=st.call(this)||this;return sn.parentTask=nn,sn.input=rn,sn.extractedFaces=an,sn}return Mt}(ComposableTask),PredictAllAgeAndGenderTask=function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt.prototype.run=function(){return __awaiter(this,void 0,void 0,function(){var nn,rn,an=this;return __generator(this,function(sn){switch(sn.label){case 0:return[4,this.parentTask];case 1:return nn=sn.sent(),[4,extractAllFacesAndComputeResults(nn,this.input,function(un){return __awaiter(an,void 0,void 0,function(){return __generator(this,function(ln){switch(ln.label){case 0:return[4,Promise.all(un.map(function(cn){return nets.ageGenderNet.predictAgeAndGender(cn)}))];case 1:return[2,ln.sent()]}})})},this.extractedFaces)];case 2:return rn=sn.sent(),[2,nn.map(function(un,ln){var cn=rn[ln],hn=cn.age,fn=cn.gender,to=cn.genderProbability;return extendWithAge(extendWithGender(un,fn,to),hn)})]}})})},Mt.prototype.withFaceExpressions=function(){return new PredictAllFaceExpressionsTask(this,this.input)},Mt}(PredictAgeAndGenderTaskBase),PredictSingleAgeAndGenderTask=function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt.prototype.run=function(){return __awaiter(this,void 0,void 0,function(){var nn,rn,an,sn,un;return __generator(this,function(ln){switch(ln.label){case 0:return[4,this.parentTask];case 1:return nn=ln.sent(),nn?[4,extractSingleFaceAndComputeResult(nn,this.input,function(cn){return nets.ageGenderNet.predictAgeAndGender(cn)},this.extractedFaces)]:[2];case 2:return rn=ln.sent(),an=rn.age,sn=rn.gender,un=rn.genderProbability,[2,extendWithAge(extendWithGender(nn,sn,un),an)]}})})},Mt.prototype.withFaceExpressions=function(){return new PredictSingleFaceExpressionsTask(this,this.input)},Mt}(PredictAgeAndGenderTaskBase),PredictAllAgeAndGenderWithFaceAlignmentTask=function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt.prototype.withFaceExpressions=function(){return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this.input)},Mt.prototype.withFaceDescriptors=function(){return new ComputeAllFaceDescriptorsTask(this,this.input)},Mt}(PredictAllAgeAndGenderTask),PredictSingleAgeAndGenderWithFaceAlignmentTask=function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt.prototype.withFaceExpressions=function(){return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this.input)},Mt.prototype.withFaceDescriptor=function(){return new ComputeSingleFaceDescriptorTask(this,this.input)},Mt}(PredictSingleAgeAndGenderTask),ComputeFaceDescriptorsTaskBase=function(st){__extends(Mt,st);function Mt(nn,rn){var an=st.call(this)||this;return an.parentTask=nn,an.input=rn,an}return Mt}(ComposableTask),ComputeAllFaceDescriptorsTask=function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt.prototype.run=function(){return __awaiter(this,void 0,void 0,function(){var nn,rn;return __generator(this,function(an){switch(an.label){case 0:return[4,this.parentTask];case 1:return nn=an.sent(),[4,extractAllFacesAndComputeResults(nn,this.input,function(sn){return Promise.all(sn.map(function(un){return nets.faceRecognitionNet.computeFaceDescriptor(un)}))},null,function(sn){return sn.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return rn=an.sent(),[2,rn.map(function(sn,un){return extendWithFaceDescriptor(nn[un],sn)})]}})})},Mt.prototype.withFaceExpressions=function(){return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this.input)},Mt.prototype.withAgeAndGender=function(){return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this.input)},Mt}(ComputeFaceDescriptorsTaskBase),ComputeSingleFaceDescriptorTask=function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt.prototype.run=function(){return __awaiter(this,void 0,void 0,function(){var nn,rn;return __generator(this,function(an){switch(an.label){case 0:return[4,this.parentTask];case 1:return nn=an.sent(),nn?[4,extractSingleFaceAndComputeResult(nn,this.input,function(sn){return nets.faceRecognitionNet.computeFaceDescriptor(sn)},null,function(sn){return sn.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return rn=an.sent(),[2,extendWithFaceDescriptor(nn,rn)]}})})},Mt.prototype.withFaceExpressions=function(){return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this.input)},Mt.prototype.withAgeAndGender=function(){return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this.input)},Mt}(ComputeFaceDescriptorsTaskBase),DetectFaceLandmarksTaskBase=function(st){__extends(Mt,st);function Mt(nn,rn,an){var sn=st.call(this)||this;return sn.parentTask=nn,sn.input=rn,sn.useTinyLandmarkNet=an,sn}return Object.defineProperty(Mt.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?nets.faceLandmark68TinyNet:nets.faceLandmark68Net},enumerable:!0,configurable:!0}),Mt}(ComposableTask),DetectAllFaceLandmarksTask=function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt.prototype.run=function(){return __awaiter(this,void 0,void 0,function(){var nn,rn,an,sn,un,ln=this;return __generator(this,function(cn){switch(cn.label){case 0:return[4,this.parentTask];case 1:return nn=cn.sent(),rn=nn.map(function(hn){return hn.detection}),this.input instanceof wt?[4,extractFaceTensors(this.input,rn)]:[3,3];case 2:return sn=cn.sent(),[3,5];case 3:return[4,extractFaces(this.input,rn)];case 4:sn=cn.sent(),cn.label=5;case 5:return an=sn,[4,Promise.all(an.map(function(hn){return ln.landmarkNet.detectLandmarks(hn)}))];case 6:return un=cn.sent(),an.forEach(function(hn){return hn instanceof wt&&hn.dispose()}),[2,nn.map(function(hn,fn){return extendWithFaceLandmarks(hn,un[fn])})]}})})},Mt.prototype.withFaceExpressions=function(){return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this.input)},Mt.prototype.withAgeAndGender=function(){return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this.input)},Mt.prototype.withFaceDescriptors=function(){return new ComputeAllFaceDescriptorsTask(this,this.input)},Mt}(DetectFaceLandmarksTaskBase),DetectSingleFaceLandmarksTask=function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt.prototype.run=function(){return __awaiter(this,void 0,void 0,function(){var nn,rn,an,sn,un;return __generator(this,function(ln){switch(ln.label){case 0:return[4,this.parentTask];case 1:return nn=ln.sent(),nn?(rn=nn.detection,this.input instanceof wt?[4,extractFaceTensors(this.input,[rn])]:[3,3]):[2];case 2:return sn=ln.sent(),[3,5];case 3:return[4,extractFaces(this.input,[rn])];case 4:sn=ln.sent(),ln.label=5;case 5:return an=sn,[4,this.landmarkNet.detectLandmarks(an[0])];case 6:return un=ln.sent(),an.forEach(function(cn){return cn instanceof wt&&cn.dispose()}),[2,extendWithFaceLandmarks(nn,un)]}})})},Mt.prototype.withFaceExpressions=function(){return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this.input)},Mt.prototype.withAgeAndGender=function(){return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this.input)},Mt.prototype.withFaceDescriptor=function(){return new ComputeSingleFaceDescriptorTask(this,this.input)},Mt}(DetectFaceLandmarksTaskBase),DetectFacesTaskBase=function(st){__extends(Mt,st);function Mt(nn,rn){rn===void 0&&(rn=new SsdMobilenetv1Options);var an=st.call(this)||this;return an.input=nn,an.options=rn,an}return Mt}(ComposableTask),DetectAllFacesTask=function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt.prototype.run=function(){return __awaiter(this,void 0,void 0,function(){var nn,rn,an,sn;return __generator(this,function(un){switch(un.label){case 0:return nn=this,rn=nn.input,an=nn.options,an instanceof MtcnnOptions?[4,nets.mtcnn.forward(rn,an)]:[3,2];case 1:return[2,un.sent().map(function(ln){return ln.detection})];case 2:if(sn=an instanceof TinyFaceDetectorOptions?function(ln){return nets.tinyFaceDetector.locateFaces(ln,an)}:an instanceof SsdMobilenetv1Options?function(ln){return nets.ssdMobilenetv1.locateFaces(ln,an)}:an instanceof TinyYolov2Options?function(ln){return nets.tinyYolov2.locateFaces(ln,an)}:null,!sn)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,sn(rn)]}})})},Mt.prototype.runAndExtendWithFaceDetections=function(){var nn=this;return new Promise(function(rn){return __awaiter(nn,void 0,void 0,function(){var an;return __generator(this,function(sn){switch(sn.label){case 0:return[4,this.run()];case 1:return an=sn.sent(),[2,rn(an.map(function(un){return extendWithFaceDetection({},un)}))]}})})})},Mt.prototype.withFaceLandmarks=function(nn){return nn===void 0&&(nn=!1),new DetectAllFaceLandmarksTask(this.runAndExtendWithFaceDetections(),this.input,nn)},Mt.prototype.withFaceExpressions=function(){return new PredictAllFaceExpressionsTask(this.runAndExtendWithFaceDetections(),this.input)},Mt.prototype.withAgeAndGender=function(){return new PredictAllAgeAndGenderTask(this.runAndExtendWithFaceDetections(),this.input)},Mt}(DetectFacesTaskBase);(function(st){__extends(Mt,st);function Mt(){return st!==null&&st.apply(this,arguments)||this}return Mt.prototype.run=function(){return __awaiter(this,void 0,void 0,function(){var nn,rn;return __generator(this,function(an){switch(an.label){case 0:return[4,new DetectAllFacesTask(this.input,this.options)];case 1:return nn=an.sent(),rn=nn[0],nn.forEach(function(sn){sn.score>rn.score&&(rn=sn)}),[2,rn]}})})},Mt.prototype.runAndExtendWithFaceDetection=function(){var nn=this;return new Promise(function(rn){return __awaiter(nn,void 0,void 0,function(){var an;return __generator(this,function(sn){switch(sn.label){case 0:return[4,this.run()];case 1:return an=sn.sent(),[2,rn(an?extendWithFaceDetection({},an):void 0)]}})})})},Mt.prototype.withFaceLandmarks=function(nn){return nn===void 0&&(nn=!1),new DetectSingleFaceLandmarksTask(this.runAndExtendWithFaceDetection(),this.input,nn)},Mt.prototype.withFaceExpressions=function(){return new PredictSingleFaceExpressionsTask(this.runAndExtendWithFaceDetection(),this.input)},Mt.prototype.withAgeAndGender=function(){return new PredictSingleAgeAndGenderTask(this.runAndExtendWithFaceDetection(),this.input)},Mt})(DetectFacesTaskBase);function detectAllFaces(st,Mt){return Mt===void 0&&(Mt=new SsdMobilenetv1Options),new DetectAllFacesTask(st,Mt)}function euclideanDistance(st,Mt){if(st.length!==Mt.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var nn=Array.from(st),rn=Array.from(Mt);return Math.sqrt(nn.map(function(an,sn){return an-rn[sn]}).reduce(function(an,sn){return an+Math.pow(sn,2)},0))}(function(){function st(Mt,nn){nn===void 0&&(nn=.6),this._distanceThreshold=nn;var rn=Array.isArray(Mt)?Mt:[Mt];if(!rn.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var an=1,sn=function(){return"person "+an++};this._labeledDescriptors=rn.map(function(un){if(un instanceof LabeledFaceDescriptors)return un;if(un instanceof Float32Array)return new LabeledFaceDescriptors(sn(),[un]);if(un.descriptor&&un.descriptor instanceof Float32Array)return new LabeledFaceDescriptors(sn(),[un.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(st.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(st.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),st.prototype.computeMeanDistance=function(Mt,nn){return nn.map(function(rn){return euclideanDistance(rn,Mt)}).reduce(function(rn,an){return rn+an},0)/(nn.length||1)},st.prototype.matchDescriptor=function(Mt){var nn=this;return this.labeledDescriptors.map(function(rn){var an=rn.descriptors,sn=rn.label;return new FaceMatch(sn,nn.computeMeanDistance(Mt,an))}).reduce(function(rn,an){return rn.distance<an.distance?rn:an})},st.prototype.findBestMatch=function(Mt){var nn=this.matchDescriptor(Mt);return nn.distance<this.distanceThreshold?nn:new FaceMatch("unknown",nn.distance)},st.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(Mt){return Mt.toJSON()})}},st.fromJSON=function(Mt){var nn=Mt.labeledDescriptors.map(function(rn){return LabeledFaceDescriptors.fromJSON(rn)});return new st(nn,Mt.distanceThreshold)},st})();const PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(st=>{PACKET_TYPES_REVERSE[PACKET_TYPES[st]]=st});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=st=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(st):st&&st.buffer instanceof ArrayBuffer,encodePacket=({type:st,data:Mt},nn,rn)=>withNativeBlob$1&&Mt instanceof Blob?nn?rn(Mt):encodeBlobAsBase64(Mt,rn):withNativeArrayBuffer$2&&(Mt instanceof ArrayBuffer||isView$1(Mt))?nn?rn(Mt):encodeBlobAsBase64(new Blob([Mt]),rn):rn(PACKET_TYPES[st]+(Mt||"")),encodeBlobAsBase64=(st,Mt)=>{const nn=new FileReader;return nn.onload=function(){const rn=nn.result.split(",")[1];Mt("b"+(rn||""))},nn.readAsDataURL(st)};function toArray(st){return st instanceof Uint8Array?st:st instanceof ArrayBuffer?new Uint8Array(st):new Uint8Array(st.buffer,st.byteOffset,st.byteLength)}let TEXT_ENCODER;function encodePacketToBinary(st,Mt){if(withNativeBlob$1&&st.data instanceof Blob)return st.data.arrayBuffer().then(toArray).then(Mt);if(withNativeArrayBuffer$2&&(st.data instanceof ArrayBuffer||isView$1(st.data)))return Mt(toArray(st.data));encodePacket(st,!1,nn=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),Mt(TEXT_ENCODER.encode(nn))})}const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let st=0;st<chars.length;st++)lookup$1[chars.charCodeAt(st)]=st;const decode$1=st=>{let Mt=st.length*.75,nn=st.length,rn,an=0,sn,un,ln,cn;st[st.length-1]==="="&&(Mt--,st[st.length-2]==="="&&Mt--);const hn=new ArrayBuffer(Mt),fn=new Uint8Array(hn);for(rn=0;rn<nn;rn+=4)sn=lookup$1[st.charCodeAt(rn)],un=lookup$1[st.charCodeAt(rn+1)],ln=lookup$1[st.charCodeAt(rn+2)],cn=lookup$1[st.charCodeAt(rn+3)],fn[an++]=sn<<2|un>>4,fn[an++]=(un&15)<<4|ln>>2,fn[an++]=(ln&3)<<6|cn&63;return hn},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(st,Mt)=>{if(typeof st!="string")return{type:"message",data:mapBinary(st,Mt)};const nn=st.charAt(0);return nn==="b"?{type:"message",data:decodeBase64Packet(st.substring(1),Mt)}:PACKET_TYPES_REVERSE[nn]?st.length>1?{type:PACKET_TYPES_REVERSE[nn],data:st.substring(1)}:{type:PACKET_TYPES_REVERSE[nn]}:ERROR_PACKET},decodeBase64Packet=(st,Mt)=>{if(withNativeArrayBuffer$1){const nn=decode$1(st);return mapBinary(nn,Mt)}else return{base64:!0,data:st}},mapBinary=(st,Mt)=>{switch(Mt){case"blob":return st instanceof Blob?st:new Blob([st]);case"arraybuffer":default:return st instanceof ArrayBuffer?st:st.buffer}},SEPARATOR="",encodePayload=(st,Mt)=>{const nn=st.length,rn=new Array(nn);let an=0;st.forEach((sn,un)=>{encodePacket(sn,!1,ln=>{rn[un]=ln,++an===nn&&Mt(rn.join(SEPARATOR))})})},decodePayload=(st,Mt)=>{const nn=st.split(SEPARATOR),rn=[];for(let an=0;an<nn.length;an++){const sn=decodePacket(nn[an],Mt);if(rn.push(sn),sn.type==="error")break}return rn};function createPacketEncoderStream(){return new TransformStream({transform(st,Mt){encodePacketToBinary(st,nn=>{const rn=nn.length;let an;if(rn<126)an=new Uint8Array(1),new DataView(an.buffer).setUint8(0,rn);else if(rn<65536){an=new Uint8Array(3);const sn=new DataView(an.buffer);sn.setUint8(0,126),sn.setUint16(1,rn)}else{an=new Uint8Array(9);const sn=new DataView(an.buffer);sn.setUint8(0,127),sn.setBigUint64(1,BigInt(rn))}st.data&&typeof st.data!="string"&&(an[0]|=128),Mt.enqueue(an),Mt.enqueue(nn)})}})}let TEXT_DECODER;function totalLength(st){return st.reduce((Mt,nn)=>Mt+nn.length,0)}function concatChunks(st,Mt){if(st[0].length===Mt)return st.shift();const nn=new Uint8Array(Mt);let rn=0;for(let an=0;an<Mt;an++)nn[an]=st[0][rn++],rn===st[0].length&&(st.shift(),rn=0);return st.length&&rn<st[0].length&&(st[0]=st[0].slice(rn)),nn}function createPacketDecoderStream(st,Mt){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const nn=[];let rn=0,an=-1,sn=!1;return new TransformStream({transform(un,ln){for(nn.push(un);;){if(rn===0){if(totalLength(nn)<1)break;const cn=concatChunks(nn,1);sn=(cn[0]&128)===128,an=cn[0]&127,an<126?rn=3:an===126?rn=1:rn=2}else if(rn===1){if(totalLength(nn)<2)break;const cn=concatChunks(nn,2);an=new DataView(cn.buffer,cn.byteOffset,cn.length).getUint16(0),rn=3}else if(rn===2){if(totalLength(nn)<8)break;const cn=concatChunks(nn,8),hn=new DataView(cn.buffer,cn.byteOffset,cn.length),fn=hn.getUint32(0);if(fn>Math.pow(2,21)-1){ln.enqueue(ERROR_PACKET);break}an=fn*Math.pow(2,32)+hn.getUint32(4),rn=3}else{if(totalLength(nn)<an)break;const cn=concatChunks(nn,an);ln.enqueue(decodePacket(sn?cn:TEXT_DECODER.decode(cn),Mt)),rn=0}if(an===0||an>st){ln.enqueue(ERROR_PACKET);break}}}})}const protocol$1=4;function Emitter(st){if(st)return mixin(st)}function mixin(st){for(var Mt in Emitter.prototype)st[Mt]=Emitter.prototype[Mt];return st}Emitter.prototype.on=Emitter.prototype.addEventListener=function(st,Mt){return this._callbacks=this._callbacks||{},(this._callbacks["$"+st]=this._callbacks["$"+st]||[]).push(Mt),this};Emitter.prototype.once=function(st,Mt){function nn(){this.off(st,nn),Mt.apply(this,arguments)}return nn.fn=Mt,this.on(st,nn),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(st,Mt){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var nn=this._callbacks["$"+st];if(!nn)return this;if(arguments.length==1)return delete this._callbacks["$"+st],this;for(var rn,an=0;an<nn.length;an++)if(rn=nn[an],rn===Mt||rn.fn===Mt){nn.splice(an,1);break}return nn.length===0&&delete this._callbacks["$"+st],this};Emitter.prototype.emit=function(st){this._callbacks=this._callbacks||{};for(var Mt=new Array(arguments.length-1),nn=this._callbacks["$"+st],rn=1;rn<arguments.length;rn++)Mt[rn-1]=arguments[rn];if(nn){nn=nn.slice(0);for(var rn=0,an=nn.length;rn<an;++rn)nn[rn].apply(this,Mt)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(st){return this._callbacks=this._callbacks||{},this._callbacks["$"+st]||[]};Emitter.prototype.hasListeners=function(st){return!!this.listeners(st).length};const globalThisShim=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function pick(st,...Mt){return Mt.reduce((nn,rn)=>(st.hasOwnProperty(rn)&&(nn[rn]=st[rn]),nn),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(st,Mt){Mt.useNativeTimers?(st.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),st.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(st.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),st.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(st){return typeof st=="string"?utf8Length(st):Math.ceil((st.byteLength||st.size)*BASE64_OVERHEAD)}function utf8Length(st){let Mt=0,nn=0;for(let rn=0,an=st.length;rn<an;rn++)Mt=st.charCodeAt(rn),Mt<128?nn+=1:Mt<2048?nn+=2:Mt<55296||Mt>=57344?nn+=3:(rn++,nn+=4);return nn}function encode$1(st){let Mt="";for(let nn in st)st.hasOwnProperty(nn)&&(Mt.length&&(Mt+="&"),Mt+=encodeURIComponent(nn)+"="+encodeURIComponent(st[nn]));return Mt}function decode(st){let Mt={},nn=st.split("&");for(let rn=0,an=nn.length;rn<an;rn++){let sn=nn[rn].split("=");Mt[decodeURIComponent(sn[0])]=decodeURIComponent(sn[1])}return Mt}class TransportError extends Error{constructor(Mt,nn,rn){super(Mt),this.description=nn,this.context=rn,this.type="TransportError"}}class Transport extends Emitter{constructor(Mt){super(),this.writable=!1,installTimerFunctions(this,Mt),this.opts=Mt,this.query=Mt.query,this.socket=Mt.socket}onError(Mt,nn,rn){return super.emitReserved("error",new TransportError(Mt,nn,rn)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(Mt){this.readyState==="open"&&this.write(Mt)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(Mt){const nn=decodePacket(Mt,this.socket.binaryType);this.onPacket(nn)}onPacket(Mt){super.emitReserved("packet",Mt)}onClose(Mt){this.readyState="closed",super.emitReserved("close",Mt)}pause(Mt){}createUri(Mt,nn={}){return Mt+"://"+this._hostname()+this._port()+this.opts.path+this._query(nn)}_hostname(){const Mt=this.opts.hostname;return Mt.indexOf(":")===-1?Mt:"["+Mt+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(Mt){const nn=encode$1(Mt);return nn.length?"?"+nn:""}}const alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={};let seed=0,i=0,prev;function encode(st){let Mt="";do Mt=alphabet[st%length]+Mt,st=Math.floor(st/length);while(st>0);return Mt}function yeast(){const st=encode(+new Date);return st!==prev?(seed=0,prev=st):st+"."+encode(seed++)}for(;i<length;i++)map[alphabet[i]]=i;let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const hasCORS=value;function XHR(st){const Mt=st.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!Mt||hasCORS))return new XMLHttpRequest}catch{}if(!Mt)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function createCookieJar(){}function empty(){}const hasXHR2=function(){return new XHR({xdomain:!1}).responseType!=null}();class Polling extends Transport{constructor(Mt){if(super(Mt),this.polling=!1,typeof location<"u"){const rn=location.protocol==="https:";let an=location.port;an||(an=rn?"443":"80"),this.xd=typeof location<"u"&&Mt.hostname!==location.hostname||an!==Mt.port}const nn=Mt&&Mt.forceBase64;this.supportsBinary=hasXHR2&&!nn,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(Mt){this.readyState="pausing";const nn=()=>{this.readyState="paused",Mt()};if(this.polling||!this.writable){let rn=0;this.polling&&(rn++,this.once("pollComplete",function(){--rn||nn()})),this.writable||(rn++,this.once("drain",function(){--rn||nn()}))}else nn()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(Mt){const nn=rn=>{if(this.readyState==="opening"&&rn.type==="open"&&this.onOpen(),rn.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(rn)};decodePayload(Mt,this.socket.binaryType).forEach(nn),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const Mt=()=>{this.write([{type:"close"}])};this.readyState==="open"?Mt():this.once("open",Mt)}write(Mt){this.writable=!1,encodePayload(Mt,nn=>{this.doWrite(nn,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const Mt=this.opts.secure?"https":"http",nn=this.query||{};return this.opts.timestampRequests!==!1&&(nn[this.opts.timestampParam]=yeast()),!this.supportsBinary&&!nn.sid&&(nn.b64=1),this.createUri(Mt,nn)}request(Mt={}){return Object.assign(Mt,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Request(this.uri(),Mt)}doWrite(Mt,nn){const rn=this.request({method:"POST",data:Mt});rn.on("success",nn),rn.on("error",(an,sn)=>{this.onError("xhr post error",an,sn)})}doPoll(){const Mt=this.request();Mt.on("data",this.onData.bind(this)),Mt.on("error",(nn,rn)=>{this.onError("xhr poll error",nn,rn)}),this.pollXhr=Mt}}class Request extends Emitter{constructor(Mt,nn){super(),installTimerFunctions(this,nn),this.opts=nn,this.method=nn.method||"GET",this.uri=Mt,this.data=nn.data!==void 0?nn.data:null,this.create()}create(){var Mt;const nn=pick(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");nn.xdomain=!!this.opts.xd;const rn=this.xhr=new XHR(nn);try{rn.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){rn.setDisableHeaderCheck&&rn.setDisableHeaderCheck(!0);for(let an in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(an)&&rn.setRequestHeader(an,this.opts.extraHeaders[an])}}catch{}if(this.method==="POST")try{rn.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{rn.setRequestHeader("Accept","*/*")}catch{}(Mt=this.opts.cookieJar)===null||Mt===void 0||Mt.addCookies(rn),"withCredentials"in rn&&(rn.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(rn.timeout=this.opts.requestTimeout),rn.onreadystatechange=()=>{var an;rn.readyState===3&&((an=this.opts.cookieJar)===null||an===void 0||an.parseCookies(rn)),rn.readyState===4&&(rn.status===200||rn.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof rn.status=="number"?rn.status:0)},0))},rn.send(this.data)}catch(an){this.setTimeoutFn(()=>{this.onError(an)},0);return}typeof document<"u"&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)}onError(Mt){this.emitReserved("error",Mt,this.xhr),this.cleanup(!0)}cleanup(Mt){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=empty,Mt)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Request.requests[this.index],this.xhr=null}}onLoad(){const Mt=this.xhr.responseText;Mt!==null&&(this.emitReserved("data",Mt),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Request.requestsCount=0;Request.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const st="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(st,unloadHandler,!1)}}function unloadHandler(){for(let st in Request.requests)Request.requests.hasOwnProperty(st)&&Request.requests[st].abort()}const nextTick=typeof Promise=="function"&&typeof Promise.resolve=="function"?Mt=>Promise.resolve().then(Mt):(Mt,nn)=>nn(Mt,0),WebSocket=globalThisShim.WebSocket||globalThisShim.MozWebSocket,usingBrowserWebSocket=!0,defaultBinaryType="arraybuffer",isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class WS extends Transport{constructor(Mt){super(Mt),this.supportsBinary=!Mt.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const Mt=this.uri(),nn=this.opts.protocols,rn=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(rn.headers=this.opts.extraHeaders);try{this.ws=usingBrowserWebSocket&&!isReactNative?nn?new WebSocket(Mt,nn):new WebSocket(Mt):new WebSocket(Mt,nn,rn)}catch(an){return this.emitReserved("error",an)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=Mt=>this.onClose({description:"websocket connection closed",context:Mt}),this.ws.onmessage=Mt=>this.onData(Mt.data),this.ws.onerror=Mt=>this.onError("websocket error",Mt)}write(Mt){this.writable=!1;for(let nn=0;nn<Mt.length;nn++){const rn=Mt[nn],an=nn===Mt.length-1;encodePacket(rn,this.supportsBinary,sn=>{const un={};try{usingBrowserWebSocket&&this.ws.send(sn)}catch{}an&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const Mt=this.opts.secure?"wss":"ws",nn=this.query||{};return this.opts.timestampRequests&&(nn[this.opts.timestampParam]=yeast()),this.supportsBinary||(nn.b64=1),this.createUri(Mt,nn)}check(){return!!WebSocket}}class WT extends Transport{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(Mt=>{this.onError("webtransport error",Mt)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(Mt=>{const nn=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),rn=Mt.readable.pipeThrough(nn).getReader(),an=createPacketEncoderStream();an.readable.pipeTo(Mt.writable),this.writer=an.writable.getWriter();const sn=()=>{rn.read().then(({done:ln,value:cn})=>{ln||(this.onPacket(cn),sn())}).catch(ln=>{})};sn();const un={type:"open"};this.query.sid&&(un.data=`{"sid":"${this.query.sid}"}`),this.writer.write(un).then(()=>this.onOpen())})}))}write(Mt){this.writable=!1;for(let nn=0;nn<Mt.length;nn++){const rn=Mt[nn],an=nn===Mt.length-1;this.writer.write(rn).then(()=>{an&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var Mt;(Mt=this.transport)===null||Mt===void 0||Mt.close()}}const transports={websocket:WS,webtransport:WT,polling:Polling},re=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse(st){if(st.length>2e3)throw"URI too long";const Mt=st,nn=st.indexOf("["),rn=st.indexOf("]");nn!=-1&&rn!=-1&&(st=st.substring(0,nn)+st.substring(nn,rn).replace(/:/g,";")+st.substring(rn,st.length));let an=re.exec(st||""),sn={},un=14;for(;un--;)sn[parts[un]]=an[un]||"";return nn!=-1&&rn!=-1&&(sn.source=Mt,sn.host=sn.host.substring(1,sn.host.length-1).replace(/;/g,":"),sn.authority=sn.authority.replace("[","").replace("]","").replace(/;/g,":"),sn.ipv6uri=!0),sn.pathNames=pathNames(sn,sn.path),sn.queryKey=queryKey(sn,sn.query),sn}function pathNames(st,Mt){const nn=/\/{2,9}/g,rn=Mt.replace(nn,"/").split("/");return(Mt.slice(0,1)=="/"||Mt.length===0)&&rn.splice(0,1),Mt.slice(-1)=="/"&&rn.splice(rn.length-1,1),rn}function queryKey(st,Mt){const nn={};return Mt.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(rn,an,sn){an&&(nn[an]=sn)}),nn}let Socket$1=class q0 extends Emitter{constructor(Mt,nn={}){super(),this.binaryType=defaultBinaryType,this.writeBuffer=[],Mt&&typeof Mt=="object"&&(nn=Mt,Mt=null),Mt?(Mt=parse(Mt),nn.hostname=Mt.host,nn.secure=Mt.protocol==="https"||Mt.protocol==="wss",nn.port=Mt.port,Mt.query&&(nn.query=Mt.query)):nn.host&&(nn.hostname=parse(nn.host).host),installTimerFunctions(this,nn),this.secure=nn.secure!=null?nn.secure:typeof location<"u"&&location.protocol==="https:",nn.hostname&&!nn.port&&(nn.port=this.secure?"443":"80"),this.hostname=nn.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=nn.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=nn.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},nn),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(Mt){const nn=Object.assign({},this.opts.query);nn.EIO=protocol$1,nn.transport=Mt,this.id&&(nn.sid=this.id);const rn=Object.assign({},this.opts,{query:nn,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[Mt]);return new transports[Mt](rn)}open(){let Mt;if(this.opts.rememberUpgrade&&q0.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)Mt="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else Mt=this.transports[0];this.readyState="opening";try{Mt=this.createTransport(Mt)}catch{this.transports.shift(),this.open();return}Mt.open(),this.setTransport(Mt)}setTransport(Mt){this.transport&&this.transport.removeAllListeners(),this.transport=Mt,Mt.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",nn=>this.onClose("transport close",nn))}probe(Mt){let nn=this.createTransport(Mt),rn=!1;q0.priorWebsocketSuccess=!1;const an=()=>{rn||(nn.send([{type:"ping",data:"probe"}]),nn.once("packet",to=>{if(!rn)if(to.type==="pong"&&to.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",nn),!nn)return;q0.priorWebsocketSuccess=nn.name==="websocket",this.transport.pause(()=>{rn||this.readyState!=="closed"&&(fn(),this.setTransport(nn),nn.send([{type:"upgrade"}]),this.emitReserved("upgrade",nn),nn=null,this.upgrading=!1,this.flush())})}else{const Xr=new Error("probe error");Xr.transport=nn.name,this.emitReserved("upgradeError",Xr)}}))};function sn(){rn||(rn=!0,fn(),nn.close(),nn=null)}const un=to=>{const Xr=new Error("probe error: "+to);Xr.transport=nn.name,sn(),this.emitReserved("upgradeError",Xr)};function ln(){un("transport closed")}function cn(){un("socket closed")}function hn(to){nn&&to.name!==nn.name&&sn()}const fn=()=>{nn.removeListener("open",an),nn.removeListener("error",un),nn.removeListener("close",ln),this.off("close",cn),this.off("upgrading",hn)};nn.once("open",an),nn.once("error",un),nn.once("close",ln),this.once("close",cn),this.once("upgrading",hn),this.upgrades.indexOf("webtransport")!==-1&&Mt!=="webtransport"?this.setTimeoutFn(()=>{rn||nn.open()},200):nn.open()}onOpen(){if(this.readyState="open",q0.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let Mt=0;const nn=this.upgrades.length;for(;Mt<nn;Mt++)this.probe(this.upgrades[Mt])}}onPacket(Mt){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",Mt),this.emitReserved("heartbeat"),this.resetPingTimeout(),Mt.type){case"open":this.onHandshake(JSON.parse(Mt.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const nn=new Error("server error");nn.code=Mt.data,this.onError(nn);break;case"message":this.emitReserved("data",Mt.data),this.emitReserved("message",Mt.data);break}}onHandshake(Mt){this.emitReserved("handshake",Mt),this.id=Mt.sid,this.transport.query.sid=Mt.sid,this.upgrades=this.filterUpgrades(Mt.upgrades),this.pingInterval=Mt.pingInterval,this.pingTimeout=Mt.pingTimeout,this.maxPayload=Mt.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const Mt=this.getWritablePackets();this.transport.send(Mt),this.prevBufferLen=Mt.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let nn=1;for(let rn=0;rn<this.writeBuffer.length;rn++){const an=this.writeBuffer[rn].data;if(an&&(nn+=byteLength(an)),rn>0&&nn>this.maxPayload)return this.writeBuffer.slice(0,rn);nn+=2}return this.writeBuffer}write(Mt,nn,rn){return this.sendPacket("message",Mt,nn,rn),this}send(Mt,nn,rn){return this.sendPacket("message",Mt,nn,rn),this}sendPacket(Mt,nn,rn,an){if(typeof nn=="function"&&(an=nn,nn=void 0),typeof rn=="function"&&(an=rn,rn=null),this.readyState==="closing"||this.readyState==="closed")return;rn=rn||{},rn.compress=rn.compress!==!1;const sn={type:Mt,data:nn,options:rn};this.emitReserved("packetCreate",sn),this.writeBuffer.push(sn),an&&this.once("flush",an),this.flush()}close(){const Mt=()=>{this.onClose("forced close"),this.transport.close()},nn=()=>{this.off("upgrade",nn),this.off("upgradeError",nn),Mt()},rn=()=>{this.once("upgrade",nn),this.once("upgradeError",nn)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?rn():Mt()}):this.upgrading?rn():Mt()),this}onError(Mt){q0.priorWebsocketSuccess=!1,this.emitReserved("error",Mt),this.onClose("transport error",Mt)}onClose(Mt,nn){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",Mt,nn),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(Mt){const nn=[];let rn=0;const an=Mt.length;for(;rn<an;rn++)~this.transports.indexOf(Mt[rn])&&nn.push(Mt[rn]);return nn}};Socket$1.protocol=protocol$1;function url(st,Mt="",nn){let rn=st;nn=nn||typeof location<"u"&&location,st==null&&(st=nn.protocol+"//"+nn.host),typeof st=="string"&&(st.charAt(0)==="/"&&(st.charAt(1)==="/"?st=nn.protocol+st:st=nn.host+st),/^(https?|wss?):\/\//.test(st)||(typeof nn<"u"?st=nn.protocol+"//"+st:st="https://"+st),rn=parse(st)),rn.port||(/^(http|ws)$/.test(rn.protocol)?rn.port="80":/^(http|ws)s$/.test(rn.protocol)&&(rn.port="443")),rn.path=rn.path||"/";const sn=rn.host.indexOf(":")!==-1?"["+rn.host+"]":rn.host;return rn.id=rn.protocol+"://"+sn+":"+rn.port+Mt,rn.href=rn.protocol+"://"+sn+(nn&&nn.port===rn.port?"":":"+rn.port),rn}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=st=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(st):st.buffer instanceof ArrayBuffer,toString=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString.call(File)==="[object FileConstructor]";function isBinary(st){return withNativeArrayBuffer&&(st instanceof ArrayBuffer||isView(st))||withNativeBlob&&st instanceof Blob||withNativeFile&&st instanceof File}function hasBinary(st,Mt){if(!st||typeof st!="object")return!1;if(Array.isArray(st)){for(let nn=0,rn=st.length;nn<rn;nn++)if(hasBinary(st[nn]))return!0;return!1}if(isBinary(st))return!0;if(st.toJSON&&typeof st.toJSON=="function"&&arguments.length===1)return hasBinary(st.toJSON(),!0);for(const nn in st)if(Object.prototype.hasOwnProperty.call(st,nn)&&hasBinary(st[nn]))return!0;return!1}function deconstructPacket(st){const Mt=[],nn=st.data,rn=st;return rn.data=_deconstructPacket(nn,Mt),rn.attachments=Mt.length,{packet:rn,buffers:Mt}}function _deconstructPacket(st,Mt){if(!st)return st;if(isBinary(st)){const nn={_placeholder:!0,num:Mt.length};return Mt.push(st),nn}else if(Array.isArray(st)){const nn=new Array(st.length);for(let rn=0;rn<st.length;rn++)nn[rn]=_deconstructPacket(st[rn],Mt);return nn}else if(typeof st=="object"&&!(st instanceof Date)){const nn={};for(const rn in st)Object.prototype.hasOwnProperty.call(st,rn)&&(nn[rn]=_deconstructPacket(st[rn],Mt));return nn}return st}function reconstructPacket(st,Mt){return st.data=_reconstructPacket(st.data,Mt),delete st.attachments,st}function _reconstructPacket(st,Mt){if(!st)return st;if(st&&st._placeholder===!0){if(typeof st.num=="number"&&st.num>=0&&st.num<Mt.length)return Mt[st.num];throw new Error("illegal attachments")}else if(Array.isArray(st))for(let nn=0;nn<st.length;nn++)st[nn]=_reconstructPacket(st[nn],Mt);else if(typeof st=="object")for(const nn in st)Object.prototype.hasOwnProperty.call(st,nn)&&(st[nn]=_reconstructPacket(st[nn],Mt));return st}const RESERVED_EVENTS$1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],protocol=5;var PacketType;(function(st){st[st.CONNECT=0]="CONNECT",st[st.DISCONNECT=1]="DISCONNECT",st[st.EVENT=2]="EVENT",st[st.ACK=3]="ACK",st[st.CONNECT_ERROR=4]="CONNECT_ERROR",st[st.BINARY_EVENT=5]="BINARY_EVENT",st[st.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor(Mt){this.replacer=Mt}encode(Mt){return(Mt.type===PacketType.EVENT||Mt.type===PacketType.ACK)&&hasBinary(Mt)?this.encodeAsBinary({type:Mt.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:Mt.nsp,data:Mt.data,id:Mt.id}):[this.encodeAsString(Mt)]}encodeAsString(Mt){let nn=""+Mt.type;return(Mt.type===PacketType.BINARY_EVENT||Mt.type===PacketType.BINARY_ACK)&&(nn+=Mt.attachments+"-"),Mt.nsp&&Mt.nsp!=="/"&&(nn+=Mt.nsp+","),Mt.id!=null&&(nn+=Mt.id),Mt.data!=null&&(nn+=JSON.stringify(Mt.data,this.replacer)),nn}encodeAsBinary(Mt){const nn=deconstructPacket(Mt),rn=this.encodeAsString(nn.packet),an=nn.buffers;return an.unshift(rn),an}}function isObject(st){return Object.prototype.toString.call(st)==="[object Object]"}class Decoder extends Emitter{constructor(Mt){super(),this.reviver=Mt}add(Mt){let nn;if(typeof Mt=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");nn=this.decodeString(Mt);const rn=nn.type===PacketType.BINARY_EVENT;rn||nn.type===PacketType.BINARY_ACK?(nn.type=rn?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(nn),nn.attachments===0&&super.emitReserved("decoded",nn)):super.emitReserved("decoded",nn)}else if(isBinary(Mt)||Mt.base64)if(this.reconstructor)nn=this.reconstructor.takeBinaryData(Mt),nn&&(this.reconstructor=null,super.emitReserved("decoded",nn));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+Mt)}decodeString(Mt){let nn=0;const rn={type:Number(Mt.charAt(0))};if(PacketType[rn.type]===void 0)throw new Error("unknown packet type "+rn.type);if(rn.type===PacketType.BINARY_EVENT||rn.type===PacketType.BINARY_ACK){const sn=nn+1;for(;Mt.charAt(++nn)!=="-"&&nn!=Mt.length;);const un=Mt.substring(sn,nn);if(un!=Number(un)||Mt.charAt(nn)!=="-")throw new Error("Illegal attachments");rn.attachments=Number(un)}if(Mt.charAt(nn+1)==="/"){const sn=nn+1;for(;++nn&&!(Mt.charAt(nn)===","||nn===Mt.length););rn.nsp=Mt.substring(sn,nn)}else rn.nsp="/";const an=Mt.charAt(nn+1);if(an!==""&&Number(an)==an){const sn=nn+1;for(;++nn;){const un=Mt.charAt(nn);if(un==null||Number(un)!=un){--nn;break}if(nn===Mt.length)break}rn.id=Number(Mt.substring(sn,nn+1))}if(Mt.charAt(++nn)){const sn=this.tryParse(Mt.substr(nn));if(Decoder.isPayloadValid(rn.type,sn))rn.data=sn;else throw new Error("invalid payload")}return rn}tryParse(Mt){try{return JSON.parse(Mt,this.reviver)}catch{return!1}}static isPayloadValid(Mt,nn){switch(Mt){case PacketType.CONNECT:return isObject(nn);case PacketType.DISCONNECT:return nn===void 0;case PacketType.CONNECT_ERROR:return typeof nn=="string"||isObject(nn);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(nn)&&(typeof nn[0]=="number"||typeof nn[0]=="string"&&RESERVED_EVENTS$1.indexOf(nn[0])===-1);case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(nn)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(Mt){this.packet=Mt,this.buffers=[],this.reconPack=Mt}takeBinaryData(Mt){if(this.buffers.push(Mt),this.buffers.length===this.reconPack.attachments){const nn=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),nn}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const parser=Object.freeze(Object.defineProperty({__proto__:null,Decoder,Encoder,get PacketType(){return PacketType},protocol},Symbol.toStringTag,{value:"Module"}));function on(st,Mt,nn){return st.on(Mt,nn),function(){st.off(Mt,nn)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(Mt,nn,rn){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=Mt,this.nsp=nn,rn&&rn.auth&&(this.auth=rn.auth),this._opts=Object.assign({},rn),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const Mt=this.io;this.subs=[on(Mt,"open",this.onopen.bind(this)),on(Mt,"packet",this.onpacket.bind(this)),on(Mt,"error",this.onerror.bind(this)),on(Mt,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...Mt){return Mt.unshift("message"),this.emit.apply(this,Mt),this}emit(Mt,...nn){if(RESERVED_EVENTS.hasOwnProperty(Mt))throw new Error('"'+Mt.toString()+'" is a reserved event name');if(nn.unshift(Mt),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(nn),this;const rn={type:PacketType.EVENT,data:nn};if(rn.options={},rn.options.compress=this.flags.compress!==!1,typeof nn[nn.length-1]=="function"){const un=this.ids++,ln=nn.pop();this._registerAckCallback(un,ln),rn.id=un}const an=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!an||!this.connected)||(this.connected?(this.notifyOutgoingListeners(rn),this.packet(rn)):this.sendBuffer.push(rn)),this.flags={},this}_registerAckCallback(Mt,nn){var rn;const an=(rn=this.flags.timeout)!==null&&rn!==void 0?rn:this._opts.ackTimeout;if(an===void 0){this.acks[Mt]=nn;return}const sn=this.io.setTimeoutFn(()=>{delete this.acks[Mt];for(let ln=0;ln<this.sendBuffer.length;ln++)this.sendBuffer[ln].id===Mt&&this.sendBuffer.splice(ln,1);nn.call(this,new Error("operation has timed out"))},an),un=(...ln)=>{this.io.clearTimeoutFn(sn),nn.apply(this,ln)};un.withError=!0,this.acks[Mt]=un}emitWithAck(Mt,...nn){return new Promise((rn,an)=>{const sn=(un,ln)=>un?an(un):rn(ln);sn.withError=!0,nn.push(sn),this.emit(Mt,...nn)})}_addToQueue(Mt){let nn;typeof Mt[Mt.length-1]=="function"&&(nn=Mt.pop());const rn={id:this._queueSeq++,tryCount:0,pending:!1,args:Mt,flags:Object.assign({fromQueue:!0},this.flags)};Mt.push((an,...sn)=>rn!==this._queue[0]?void 0:(an!==null?rn.tryCount>this._opts.retries&&(this._queue.shift(),nn&&nn(an)):(this._queue.shift(),nn&&nn(null,...sn)),rn.pending=!1,this._drainQueue())),this._queue.push(rn),this._drainQueue()}_drainQueue(Mt=!1){if(!this.connected||this._queue.length===0)return;const nn=this._queue[0];nn.pending&&!Mt||(nn.pending=!0,nn.tryCount++,this.flags=nn.flags,this.emit.apply(this,nn.args))}packet(Mt){Mt.nsp=this.nsp,this.io._packet(Mt)}onopen(){typeof this.auth=="function"?this.auth(Mt=>{this._sendConnectPacket(Mt)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(Mt){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},Mt):Mt})}onerror(Mt){this.connected||this.emitReserved("connect_error",Mt)}onclose(Mt,nn){this.connected=!1,delete this.id,this.emitReserved("disconnect",Mt,nn),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(Mt=>{if(!this.sendBuffer.some(rn=>String(rn.id)===Mt)){const rn=this.acks[Mt];delete this.acks[Mt],rn.withError&&rn.call(this,new Error("socket has been disconnected"))}})}onpacket(Mt){if(Mt.nsp===this.nsp)switch(Mt.type){case PacketType.CONNECT:Mt.data&&Mt.data.sid?this.onconnect(Mt.data.sid,Mt.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(Mt);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(Mt);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const rn=new Error(Mt.data.message);rn.data=Mt.data.data,this.emitReserved("connect_error",rn);break}}onevent(Mt){const nn=Mt.data||[];Mt.id!=null&&nn.push(this.ack(Mt.id)),this.connected?this.emitEvent(nn):this.receiveBuffer.push(Object.freeze(nn))}emitEvent(Mt){if(this._anyListeners&&this._anyListeners.length){const nn=this._anyListeners.slice();for(const rn of nn)rn.apply(this,Mt)}super.emit.apply(this,Mt),this._pid&&Mt.length&&typeof Mt[Mt.length-1]=="string"&&(this._lastOffset=Mt[Mt.length-1])}ack(Mt){const nn=this;let rn=!1;return function(...an){rn||(rn=!0,nn.packet({type:PacketType.ACK,id:Mt,data:an}))}}onack(Mt){const nn=this.acks[Mt.id];typeof nn=="function"&&(delete this.acks[Mt.id],nn.withError&&Mt.data.unshift(null),nn.apply(this,Mt.data))}onconnect(Mt,nn){this.id=Mt,this.recovered=nn&&this._pid===nn,this._pid=nn,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(Mt=>this.emitEvent(Mt)),this.receiveBuffer=[],this.sendBuffer.forEach(Mt=>{this.notifyOutgoingListeners(Mt),this.packet(Mt)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(Mt=>Mt()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(Mt){return this.flags.compress=Mt,this}get volatile(){return this.flags.volatile=!0,this}timeout(Mt){return this.flags.timeout=Mt,this}onAny(Mt){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(Mt),this}prependAny(Mt){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(Mt),this}offAny(Mt){if(!this._anyListeners)return this;if(Mt){const nn=this._anyListeners;for(let rn=0;rn<nn.length;rn++)if(Mt===nn[rn])return nn.splice(rn,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(Mt){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(Mt),this}prependAnyOutgoing(Mt){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(Mt),this}offAnyOutgoing(Mt){if(!this._anyOutgoingListeners)return this;if(Mt){const nn=this._anyOutgoingListeners;for(let rn=0;rn<nn.length;rn++)if(Mt===nn[rn])return nn.splice(rn,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(Mt){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const nn=this._anyOutgoingListeners.slice();for(const rn of nn)rn.apply(this,Mt.data)}}}function Backoff(st){st=st||{},this.ms=st.min||100,this.max=st.max||1e4,this.factor=st.factor||2,this.jitter=st.jitter>0&&st.jitter<=1?st.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var st=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var Mt=Math.random(),nn=Math.floor(Mt*this.jitter*st);st=Math.floor(Mt*10)&1?st+nn:st-nn}return Math.min(st,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(st){this.ms=st};Backoff.prototype.setMax=function(st){this.max=st};Backoff.prototype.setJitter=function(st){this.jitter=st};class Manager extends Emitter{constructor(Mt,nn){var rn;super(),this.nsps={},this.subs=[],Mt&&typeof Mt=="object"&&(nn=Mt,Mt=void 0),nn=nn||{},nn.path=nn.path||"/socket.io",this.opts=nn,installTimerFunctions(this,nn),this.reconnection(nn.reconnection!==!1),this.reconnectionAttempts(nn.reconnectionAttempts||1/0),this.reconnectionDelay(nn.reconnectionDelay||1e3),this.reconnectionDelayMax(nn.reconnectionDelayMax||5e3),this.randomizationFactor((rn=nn.randomizationFactor)!==null&&rn!==void 0?rn:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(nn.timeout==null?2e4:nn.timeout),this._readyState="closed",this.uri=Mt;const an=nn.parser||parser;this.encoder=new an.Encoder,this.decoder=new an.Decoder,this._autoConnect=nn.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(Mt){return arguments.length?(this._reconnection=!!Mt,this):this._reconnection}reconnectionAttempts(Mt){return Mt===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=Mt,this)}reconnectionDelay(Mt){var nn;return Mt===void 0?this._reconnectionDelay:(this._reconnectionDelay=Mt,(nn=this.backoff)===null||nn===void 0||nn.setMin(Mt),this)}randomizationFactor(Mt){var nn;return Mt===void 0?this._randomizationFactor:(this._randomizationFactor=Mt,(nn=this.backoff)===null||nn===void 0||nn.setJitter(Mt),this)}reconnectionDelayMax(Mt){var nn;return Mt===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=Mt,(nn=this.backoff)===null||nn===void 0||nn.setMax(Mt),this)}timeout(Mt){return arguments.length?(this._timeout=Mt,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(Mt){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const nn=this.engine,rn=this;this._readyState="opening",this.skipReconnect=!1;const an=on(nn,"open",function(){rn.onopen(),Mt&&Mt()}),sn=ln=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",ln),Mt?Mt(ln):this.maybeReconnectOnOpen()},un=on(nn,"error",sn);if(this._timeout!==!1){const ln=this._timeout,cn=this.setTimeoutFn(()=>{an(),sn(new Error("timeout")),nn.close()},ln);this.opts.autoUnref&&cn.unref(),this.subs.push(()=>{this.clearTimeoutFn(cn)})}return this.subs.push(an),this.subs.push(un),this}connect(Mt){return this.open(Mt)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const Mt=this.engine;this.subs.push(on(Mt,"ping",this.onping.bind(this)),on(Mt,"data",this.ondata.bind(this)),on(Mt,"error",this.onerror.bind(this)),on(Mt,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(Mt){try{this.decoder.add(Mt)}catch(nn){this.onclose("parse error",nn)}}ondecoded(Mt){nextTick(()=>{this.emitReserved("packet",Mt)},this.setTimeoutFn)}onerror(Mt){this.emitReserved("error",Mt)}socket(Mt,nn){let rn=this.nsps[Mt];return rn?this._autoConnect&&!rn.active&&rn.connect():(rn=new Socket(this,Mt,nn),this.nsps[Mt]=rn),rn}_destroy(Mt){const nn=Object.keys(this.nsps);for(const rn of nn)if(this.nsps[rn].active)return;this._close()}_packet(Mt){const nn=this.encoder.encode(Mt);for(let rn=0;rn<nn.length;rn++)this.engine.write(nn[rn],Mt.options)}cleanup(){this.subs.forEach(Mt=>Mt()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(Mt,nn){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",Mt,nn),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const Mt=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const nn=this.backoff.duration();this._reconnecting=!0;const rn=this.setTimeoutFn(()=>{Mt.skipReconnect||(this.emitReserved("reconnect_attempt",Mt.backoff.attempts),!Mt.skipReconnect&&Mt.open(an=>{an?(Mt._reconnecting=!1,Mt.reconnect(),this.emitReserved("reconnect_error",an)):Mt.onreconnect()}))},nn);this.opts.autoUnref&&rn.unref(),this.subs.push(()=>{this.clearTimeoutFn(rn)})}}onreconnect(){const Mt=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",Mt)}}const cache={};function lookup(st,Mt){typeof st=="object"&&(Mt=st,st=void 0),Mt=Mt||{};const nn=url(st,Mt.path||"/socket.io"),rn=nn.source,an=nn.id,sn=nn.path,un=cache[an]&&sn in cache[an].nsps,ln=Mt.forceNew||Mt["force new connection"]||Mt.multiplex===!1||un;let cn;return ln?cn=new Manager(rn,Mt):(cache[an]||(cache[an]=new Manager(rn,Mt)),cn=cache[an]),nn.query&&!Mt.query&&(Mt.query=nn.queryKey),cn.socket(nn.path,Mt)}Object.assign(lookup,{Manager,Socket,io:lookup,connect:lookup});const URL$1="http://localhost:3000",Room=({name:st,localAudioTrack:Mt,localVideoTrack:nn})=>{const[rn,an]=reactExports.useState(!0),[sn,un]=reactExports.useState(null),[ln,cn]=reactExports.useState(null),[hn,fn]=reactExports.useState(null),[to,Xr]=reactExports.useState(null),[uo,co]=reactExports.useState(null),[ho,e0]=reactExports.useState(null),lo=reactExports.useRef(null),mo=reactExports.useRef(null);reactExports.useEffect(()=>{const Uo=lookup(URL$1);Uo.on("send-offer",async({roomId:t0})=>{console.log("sending offer"),an(!1);const n0=new RTCPeerConnection;cn(n0),nn&&(console.error("added tack"),console.log(nn),n0.addTrack(nn)),Mt&&(console.error("added tack"),console.log(Mt),n0.addTrack(Mt)),n0.onicecandidate=async i0=>{console.log("receiving ice candidate locally"),i0.candidate&&Uo.emit("add-ice-candidate",{candidate:i0.candidate,type:"sender",roomId:t0})},n0.onnegotiationneeded=async()=>{console.log("on negotiation neeeded, sending offer");const i0=await n0.createOffer();n0.setLocalDescription(i0),Uo.emit("offer",{sdp:i0,roomId:t0})}}),Uo.on("offer",async({roomId:t0,sdp:n0})=>{console.log("received offer"),an(!1);const i0=new RTCPeerConnection;i0.setRemoteDescription(n0);const a0=await i0.createAnswer();i0.setLocalDescription(a0);const s0=new MediaStream;lo.current&&(lo.current.srcObject=s0),e0(s0),fn(i0),window.pc=i0,i0.ontrack=()=>{alert("ontrack")},i0.onicecandidate=async l0=>{l0.candidate&&(console.log(" ice candidate on receiving side"),l0.candidate&&Uo.emit("add-ice-candidate",{candidate:l0.candidate,type:"receiver",roomId:t0}))},Uo.emit("answer",{roomId:t0,sdp:a0}),setTimeout(()=>{const l0=i0.getTransceivers()[0].receiver.track,d0=i0.getTransceivers()[1].receiver.track;console.log(l0),l0.kind==="video"?(co(d0),Xr(l0)):(co(l0),Xr(d0)),lo.current.srcObject.addTrack(l0),lo.current.srcObject.addTrack(d0),lo.current.play()},5e3)}),Uo.on("answer",({roomId:t0,sdp:n0})=>{an(!1),cn(i0=>(i0==null||i0.setRemoteDescription(n0),i0)),console.log("loop closed")}),Uo.on("lobby",()=>{an(!0)}),Uo.on("add-ice-candidate",({candidate:t0,type:n0})=>{console.log("add ice candidate from remote"),console.log({candidate:t0,type:n0}),n0=="sender"?fn(i0=>(console.error(i0?i0.ontrack:"receiving pc not found"),i0==null||i0.addIceCandidate(t0),i0)):cn(i0=>(i0||console.error("sending pc nout found"),i0==null||i0.addIceCandidate(t0),i0))}),un(Uo)},[st]),reactExports.useEffect(()=>{mo.current&&nn&&(mo.current.srcObject=new MediaStream([nn]),mo.current.play())},[mo]);const fo=Uo=>{Uo&&(Uo.emit("end-call"),to&&to.stop(),uo&&uo.stop(),ln==null||ln.close(),hn==null||hn.close(),an(!0),cn(null),fn(null),co(null),Xr(null),e0(null),lo.current&&(lo.current.srcObject=null))};return jsxRuntimeExports.jsxs("div",{className:"room-container",children:[jsxRuntimeExports.jsxs("header",{className:"room-header",children:[jsxRuntimeExports.jsxs("h1",{className:"room-title",children:[" Hi, ",st,"!"]}),jsxRuntimeExports.jsx("p",{className:"room-subtitle",children:rn?"Get ready to connect with someone amazing!":"You're connected! Have a great conversation."})]}),jsxRuntimeExports.jsxs("div",{className:"video-container",children:[jsxRuntimeExports.jsxs("div",{className:"video-box local",children:[jsxRuntimeExports.jsx("video",{autoPlay:!0,ref:mo,className:"local-video"}),jsxRuntimeExports.jsx("p",{className:"video-label",children:"You"})]}),rn&&jsxRuntimeExports.jsx("div",{className:"lobby-message",children:jsxRuntimeExports.jsx("p",{children:" Waiting to connect you to someone..."})}),jsxRuntimeExports.jsxs("div",{className:"video-box remote",children:[jsxRuntimeExports.jsx("video",{autoPlay:!0,ref:lo,className:"remote-video"}),to&&jsxRuntimeExports.jsx("p",{className:"video-label",children:"Stranger"})]})]}),!rn&&jsxRuntimeExports.jsx("footer",{className:"room-footer",children:jsxRuntimeExports.jsx("button",{className:"end-call-button",onClick:()=>fo(sn),children:"End Call"})})]})},Landing=()=>{const st=reactExports.useRef(null),[Mt,nn]=reactExports.useState(!1),[rn,an]=reactExports.useState(""),[sn,un]=reactExports.useState(!1),[ln,cn]=reactExports.useState(!0),[hn,fn]=reactExports.useState(null),[to,Xr]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{try{await nets.tinyFaceDetector.loadFromUri("https://cdn.jsdelivr.net/gh/justadudewhohacks/face-api.js/weights"),await nets.faceLandmark68Net.loadFromUri("https://cdn.jsdelivr.net/gh/justadudewhohacks/face-api.js/weights"),await nets.faceRecognitionNet.loadFromUri("https://cdn.jsdelivr.net/gh/justadudewhohacks/face-api.js/weights"),uo()}catch(ho){console.error("Error loading face detection models:",ho)}})()},[]);const uo=async()=>{try{const co=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});st.current&&(st.current.srcObject=co);const ho=co.getAudioTracks()[0],e0=co.getVideoTracks()[0];fn(ho),Xr(e0)}catch(co){console.error("Error accessing webcam:",co)}};return reactExports.useEffect(()=>{const co=setInterval(async()=>{if(st.current){const ho=await detectAllFaces(st.current,new TinyFaceDetectorOptions).withFaceLandmarks().withFaceDescriptors();nn(ho.length>0)}},1e3);return()=>clearInterval(co)},[]),reactExports.useEffect(()=>{cn(!Mt)},[Mt]),sn?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{children:["Welcome, ",rn,"!"]}),jsxRuntimeExports.jsx(Room,{name:rn,localAudioTrack:hn,localVideoTrack:to})]}):jsxRuntimeExports.jsxs("div",{className:"landing-container",children:[jsxRuntimeExports.jsx("div",{className:`face-detection-popup ${ln?"visible":""}`,children:Mt?"Face Detected!":"Please make sure your face is visible."}),jsxRuntimeExports.jsx("video",{ref:st,autoPlay:!0,muted:!0,className:"video-background"}),jsxRuntimeExports.jsxs("div",{className:"overlay",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter your name",onChange:co=>an(co.target.value),className:"name-input"}),jsxRuntimeExports.jsx("button",{onClick:()=>un(!0),disabled:!rn||!Mt,className:"join-button",children:"Join"})]})]})};var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(st,Mt){module.exports=Mt()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(Mt){_useWebWorker=!!Mt},getWebWorker=function(){return _useWebWorker},setLocationHref=function(Mt){locationHref=Mt},getLocationHref=function(){return locationHref};function createTag(st){return document.createElement(st)}function extendPrototype(st,Mt){var nn,rn=st.length,an;for(nn=0;nn<rn;nn+=1){an=st[nn].prototype;for(var sn in an)Object.prototype.hasOwnProperty.call(an,sn)&&(Mt.prototype[sn]=an[sn])}}function getDescriptor(st,Mt){return Object.getOwnPropertyDescriptor(st,Mt)}function createProxyFunction(st){function Mt(){}return Mt.prototype=st,Mt}var audioControllerFactory=function(){function st(Mt){this.audios=[],this.audioFactory=Mt,this._volume=1,this._isMuted=!1}return st.prototype={addAudio:function(nn){this.audios.push(nn)},pause:function(){var nn,rn=this.audios.length;for(nn=0;nn<rn;nn+=1)this.audios[nn].pause()},resume:function(){var nn,rn=this.audios.length;for(nn=0;nn<rn;nn+=1)this.audios[nn].resume()},setRate:function(nn){var rn,an=this.audios.length;for(rn=0;rn<an;rn+=1)this.audios[rn].setRate(nn)},createAudio:function(nn){return this.audioFactory?this.audioFactory(nn):window.Howl?new window.Howl({src:[nn]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(nn){this.audioFactory=nn},setVolume:function(nn){this._volume=nn,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var nn,rn=this.audios.length;for(nn=0;nn<rn;nn+=1)this.audios[nn].volume(this._volume*(this._isMuted?0:1))}},function(){return new st}}(),createTypedArray=function(){function st(nn,rn){var an=0,sn=[],un;switch(nn){case"int16":case"uint8c":un=1;break;default:un=1.1;break}for(an=0;an<rn;an+=1)sn.push(un);return sn}function Mt(nn,rn){return nn==="float32"?new Float32Array(rn):nn==="int16"?new Int16Array(rn):nn==="uint8c"?new Uint8ClampedArray(rn):st(nn,rn)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?Mt:st}();function createSizedArray(st){return Array.apply(null,{length:st})}function _typeof$6(st){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(nn){return typeof nn}:_typeof$6=function(nn){return nn&&typeof Symbol=="function"&&nn.constructor===Symbol&&nn!==Symbol.prototype?"symbol":typeof nn},_typeof$6(st)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var st=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],Mt,nn=st.length;for(Mt=0;Mt<nn;Mt+=1)BMMath[st[Mt]]=Math[st[Mt]]})(),BMMath.random=Math.random,BMMath.abs=function(st){var Mt=_typeof$6(st);if(Mt==="object"&&st.length){var nn=createSizedArray(st.length),rn,an=st.length;for(rn=0;rn<an;rn+=1)nn[rn]=Math.abs(st[rn]);return nn}return Math.abs(st)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(st){st.style.position="absolute",st.style.top=0,st.style.left=0,st.style.display="block",st.style.transformOrigin="0 0",st.style.webkitTransformOrigin="0 0",st.style.backfaceVisibility="visible",st.style.webkitBackfaceVisibility="visible",st.style.transformStyle="preserve-3d",st.style.webkitTransformStyle="preserve-3d",st.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(st,Mt,nn,rn){this.type=st,this.currentTime=Mt,this.totalTime=nn,this.direction=rn<0?-1:1}function BMCompleteEvent(st,Mt){this.type=st,this.direction=Mt<0?-1:1}function BMCompleteLoopEvent(st,Mt,nn,rn){this.type=st,this.currentLoop=nn,this.totalLoops=Mt,this.direction=rn<0?-1:1}function BMSegmentStartEvent(st,Mt,nn){this.type=st,this.firstFrame=Mt,this.totalFrames=nn}function BMDestroyEvent(st,Mt){this.type=st,this.target=Mt}function BMRenderFrameErrorEvent(st,Mt){this.type="renderFrameError",this.nativeError=st,this.currentTime=Mt}function BMConfigErrorEvent(st){this.type="configError",this.nativeError=st}var createElementID=function(){var st=0;return function(){return st+=1,idPrefix$1+"__lottie_element_"+st}}();function HSVtoRGB(st,Mt,nn){var rn,an,sn,un,ln,cn,hn,fn;switch(un=Math.floor(st*6),ln=st*6-un,cn=nn*(1-Mt),hn=nn*(1-ln*Mt),fn=nn*(1-(1-ln)*Mt),un%6){case 0:rn=nn,an=fn,sn=cn;break;case 1:rn=hn,an=nn,sn=cn;break;case 2:rn=cn,an=nn,sn=fn;break;case 3:rn=cn,an=hn,sn=nn;break;case 4:rn=fn,an=cn,sn=nn;break;case 5:rn=nn,an=cn,sn=hn;break}return[rn,an,sn]}function RGBtoHSV(st,Mt,nn){var rn=Math.max(st,Mt,nn),an=Math.min(st,Mt,nn),sn=rn-an,un,ln=rn===0?0:sn/rn,cn=rn/255;switch(rn){case an:un=0;break;case st:un=Mt-nn+sn*(Mt<nn?6:0),un/=6*sn;break;case Mt:un=nn-st+sn*2,un/=6*sn;break;case nn:un=st-Mt+sn*4,un/=6*sn;break}return[un,ln,cn]}function addSaturationToRGB(st,Mt){var nn=RGBtoHSV(st[0]*255,st[1]*255,st[2]*255);return nn[1]+=Mt,nn[1]>1?nn[1]=1:nn[1]<=0&&(nn[1]=0),HSVtoRGB(nn[0],nn[1],nn[2])}function addBrightnessToRGB(st,Mt){var nn=RGBtoHSV(st[0]*255,st[1]*255,st[2]*255);return nn[2]+=Mt,nn[2]>1?nn[2]=1:nn[2]<0&&(nn[2]=0),HSVtoRGB(nn[0],nn[1],nn[2])}function addHueToRGB(st,Mt){var nn=RGBtoHSV(st[0]*255,st[1]*255,st[2]*255);return nn[0]+=Mt/360,nn[0]>1?nn[0]-=1:nn[0]<0&&(nn[0]+=1),HSVtoRGB(nn[0],nn[1],nn[2])}var rgbToHex=function(){var st=[],Mt,nn;for(Mt=0;Mt<256;Mt+=1)nn=Mt.toString(16),st[Mt]=nn.length===1?"0"+nn:nn;return function(rn,an,sn){return rn<0&&(rn=0),an<0&&(an=0),sn<0&&(sn=0),"#"+st[rn]+st[an]+st[sn]}}(),setSubframeEnabled=function(Mt){subframeEnabled=!!Mt},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(Mt){expressionsPlugin=Mt},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(Mt){expressionsInterfaces=Mt},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(Mt){defaultCurveSegments=Mt},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(Mt){idPrefix$1=Mt};function createNS(st){return document.createElementNS(svgNS,st)}function _typeof$5(st){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(nn){return typeof nn}:_typeof$5=function(nn){return nn&&typeof Symbol=="function"&&nn.constructor===Symbol&&nn!==Symbol.prototype?"symbol":typeof nn},_typeof$5(st)}var dataManager=function(){var st=1,Mt=[],nn,rn,an={onmessage:function(){},postMessage:function(uo){nn({data:uo})}},sn={postMessage:function(uo){an.onmessage({data:uo})}};function un(Xr){if(window.Worker&&window.Blob&&getWebWorker()){var uo=new Blob(["var _workerSelf = self; self.onmessage = ",Xr.toString()],{type:"text/javascript"}),co=URL.createObjectURL(uo);return new Worker(co)}return nn=Xr,an}function ln(){rn||(rn=un(function(uo){function co(){function e0(m0,u0){var c0,r0,o0=m0.length,f0,p0,y0,x0;for(r0=0;r0<o0;r0+=1)if(c0=m0[r0],"ks"in c0&&!c0.completed){if(c0.completed=!0,c0.hasMask){var k0=c0.masksProperties;for(p0=k0.length,f0=0;f0<p0;f0+=1)if(k0[f0].pt.k.i)t0(k0[f0].pt.k);else for(x0=k0[f0].pt.k.length,y0=0;y0<x0;y0+=1)k0[f0].pt.k[y0].s&&t0(k0[f0].pt.k[y0].s[0]),k0[f0].pt.k[y0].e&&t0(k0[f0].pt.k[y0].e[0])}c0.ty===0?(c0.layers=fo(c0.refId,u0),e0(c0.layers,u0)):c0.ty===4?Uo(c0.shapes):c0.ty===5&&v0(c0)}}function lo(m0,u0){if(m0){var c0=0,r0=m0.length;for(c0=0;c0<r0;c0+=1)m0[c0].t===1&&(m0[c0].data.layers=fo(m0[c0].data.refId,u0),e0(m0[c0].data.layers,u0))}}function mo(m0,u0){for(var c0=0,r0=u0.length;c0<r0;){if(u0[c0].id===m0)return u0[c0];c0+=1}return null}function fo(m0,u0){var c0=mo(m0,u0);return c0?c0.layers.__used?JSON.parse(JSON.stringify(c0.layers)):(c0.layers.__used=!0,c0.layers):null}function Uo(m0){var u0,c0=m0.length,r0,o0;for(u0=c0-1;u0>=0;u0-=1)if(m0[u0].ty==="sh")if(m0[u0].ks.k.i)t0(m0[u0].ks.k);else for(o0=m0[u0].ks.k.length,r0=0;r0<o0;r0+=1)m0[u0].ks.k[r0].s&&t0(m0[u0].ks.k[r0].s[0]),m0[u0].ks.k[r0].e&&t0(m0[u0].ks.k[r0].e[0]);else m0[u0].ty==="gr"&&Uo(m0[u0].it)}function t0(m0){var u0,c0=m0.i.length;for(u0=0;u0<c0;u0+=1)m0.i[u0][0]+=m0.v[u0][0],m0.i[u0][1]+=m0.v[u0][1],m0.o[u0][0]+=m0.v[u0][0],m0.o[u0][1]+=m0.v[u0][1]}function n0(m0,u0){var c0=u0?u0.split("."):[100,100,100];return m0[0]>c0[0]?!0:c0[0]>m0[0]?!1:m0[1]>c0[1]?!0:c0[1]>m0[1]?!1:m0[2]>c0[2]?!0:c0[2]>m0[2]?!1:null}var i0=function(){var m0=[4,4,14];function u0(r0){var o0=r0.t.d;r0.t.d={k:[{s:o0,t:0}]}}function c0(r0){var o0,f0=r0.length;for(o0=0;o0<f0;o0+=1)r0[o0].ty===5&&u0(r0[o0])}return function(r0){if(n0(m0,r0.v)&&(c0(r0.layers),r0.assets)){var o0,f0=r0.assets.length;for(o0=0;o0<f0;o0+=1)r0.assets[o0].layers&&c0(r0.assets[o0].layers)}}}(),a0=function(){var m0=[4,7,99];return function(u0){if(u0.chars&&!n0(m0,u0.v)){var c0,r0=u0.chars.length;for(c0=0;c0<r0;c0+=1){var o0=u0.chars[c0];o0.data&&o0.data.shapes&&(Uo(o0.data.shapes),o0.data.ip=0,o0.data.op=99999,o0.data.st=0,o0.data.sr=1,o0.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},u0.chars[c0].t||(o0.data.shapes.push({ty:"no"}),o0.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),s0=function(){var m0=[5,7,15];function u0(r0){var o0=r0.t.p;typeof o0.a=="number"&&(o0.a={a:0,k:o0.a}),typeof o0.p=="number"&&(o0.p={a:0,k:o0.p}),typeof o0.r=="number"&&(o0.r={a:0,k:o0.r})}function c0(r0){var o0,f0=r0.length;for(o0=0;o0<f0;o0+=1)r0[o0].ty===5&&u0(r0[o0])}return function(r0){if(n0(m0,r0.v)&&(c0(r0.layers),r0.assets)){var o0,f0=r0.assets.length;for(o0=0;o0<f0;o0+=1)r0.assets[o0].layers&&c0(r0.assets[o0].layers)}}}(),l0=function(){var m0=[4,1,9];function u0(r0){var o0,f0=r0.length,p0,y0;for(o0=0;o0<f0;o0+=1)if(r0[o0].ty==="gr")u0(r0[o0].it);else if(r0[o0].ty==="fl"||r0[o0].ty==="st")if(r0[o0].c.k&&r0[o0].c.k[0].i)for(y0=r0[o0].c.k.length,p0=0;p0<y0;p0+=1)r0[o0].c.k[p0].s&&(r0[o0].c.k[p0].s[0]/=255,r0[o0].c.k[p0].s[1]/=255,r0[o0].c.k[p0].s[2]/=255,r0[o0].c.k[p0].s[3]/=255),r0[o0].c.k[p0].e&&(r0[o0].c.k[p0].e[0]/=255,r0[o0].c.k[p0].e[1]/=255,r0[o0].c.k[p0].e[2]/=255,r0[o0].c.k[p0].e[3]/=255);else r0[o0].c.k[0]/=255,r0[o0].c.k[1]/=255,r0[o0].c.k[2]/=255,r0[o0].c.k[3]/=255}function c0(r0){var o0,f0=r0.length;for(o0=0;o0<f0;o0+=1)r0[o0].ty===4&&u0(r0[o0].shapes)}return function(r0){if(n0(m0,r0.v)&&(c0(r0.layers),r0.assets)){var o0,f0=r0.assets.length;for(o0=0;o0<f0;o0+=1)r0.assets[o0].layers&&c0(r0.assets[o0].layers)}}}(),d0=function(){var m0=[4,4,18];function u0(r0){var o0,f0=r0.length,p0,y0;for(o0=f0-1;o0>=0;o0-=1)if(r0[o0].ty==="sh")if(r0[o0].ks.k.i)r0[o0].ks.k.c=r0[o0].closed;else for(y0=r0[o0].ks.k.length,p0=0;p0<y0;p0+=1)r0[o0].ks.k[p0].s&&(r0[o0].ks.k[p0].s[0].c=r0[o0].closed),r0[o0].ks.k[p0].e&&(r0[o0].ks.k[p0].e[0].c=r0[o0].closed);else r0[o0].ty==="gr"&&u0(r0[o0].it)}function c0(r0){var o0,f0,p0=r0.length,y0,x0,k0,b0;for(f0=0;f0<p0;f0+=1){if(o0=r0[f0],o0.hasMask){var E0=o0.masksProperties;for(x0=E0.length,y0=0;y0<x0;y0+=1)if(E0[y0].pt.k.i)E0[y0].pt.k.c=E0[y0].cl;else for(b0=E0[y0].pt.k.length,k0=0;k0<b0;k0+=1)E0[y0].pt.k[k0].s&&(E0[y0].pt.k[k0].s[0].c=E0[y0].cl),E0[y0].pt.k[k0].e&&(E0[y0].pt.k[k0].e[0].c=E0[y0].cl)}o0.ty===4&&u0(o0.shapes)}}return function(r0){if(n0(m0,r0.v)&&(c0(r0.layers),r0.assets)){var o0,f0=r0.assets.length;for(o0=0;o0<f0;o0+=1)r0.assets[o0].layers&&c0(r0.assets[o0].layers)}}}();function h0(m0){m0.__complete||(l0(m0),i0(m0),a0(m0),s0(m0),d0(m0),e0(m0.layers,m0.assets),lo(m0.chars,m0.assets),m0.__complete=!0)}function v0(m0){m0.t.a.length===0&&"m"in m0.t.p}var g0={};return g0.completeData=h0,g0.checkColors=l0,g0.checkChars=a0,g0.checkPathProperties=s0,g0.checkShapes=d0,g0.completeLayers=e0,g0}if(sn.dataManager||(sn.dataManager=co()),sn.assetLoader||(sn.assetLoader=function(){function e0(mo){var fo=mo.getResponseHeader("content-type");return fo&&mo.responseType==="json"&&fo.indexOf("json")!==-1||mo.response&&_typeof$5(mo.response)==="object"?mo.response:mo.response&&typeof mo.response=="string"?JSON.parse(mo.response):mo.responseText?JSON.parse(mo.responseText):null}function lo(mo,fo,Uo,t0){var n0,i0=new XMLHttpRequest;try{i0.responseType="json"}catch{}i0.onreadystatechange=function(){if(i0.readyState===4)if(i0.status===200)n0=e0(i0),Uo(n0);else try{n0=e0(i0),Uo(n0)}catch(a0){t0&&t0(a0)}};try{i0.open(["G","E","T"].join(""),mo,!0)}catch{i0.open(["G","E","T"].join(""),fo+"/"+mo,!0)}i0.send()}return{load:lo}}()),uo.data.type==="loadAnimation")sn.assetLoader.load(uo.data.path,uo.data.fullPath,function(e0){sn.dataManager.completeData(e0),sn.postMessage({id:uo.data.id,payload:e0,status:"success"})},function(){sn.postMessage({id:uo.data.id,status:"error"})});else if(uo.data.type==="complete"){var ho=uo.data.animation;sn.dataManager.completeData(ho),sn.postMessage({id:uo.data.id,payload:ho,status:"success"})}else uo.data.type==="loadData"&&sn.assetLoader.load(uo.data.path,uo.data.fullPath,function(e0){sn.postMessage({id:uo.data.id,payload:e0,status:"success"})},function(){sn.postMessage({id:uo.data.id,status:"error"})})}),rn.onmessage=function(Xr){var uo=Xr.data,co=uo.id,ho=Mt[co];Mt[co]=null,uo.status==="success"?ho.onComplete(uo.payload):ho.onError&&ho.onError()})}function cn(Xr,uo){st+=1;var co="processId_"+st;return Mt[co]={onComplete:Xr,onError:uo},co}function hn(Xr,uo,co){ln();var ho=cn(uo,co);rn.postMessage({type:"loadAnimation",path:Xr,fullPath:window.location.origin+window.location.pathname,id:ho})}function fn(Xr,uo,co){ln();var ho=cn(uo,co);rn.postMessage({type:"loadData",path:Xr,fullPath:window.location.origin+window.location.pathname,id:ho})}function to(Xr,uo,co){ln();var ho=cn(uo,co);rn.postMessage({type:"complete",animation:Xr,id:ho})}return{loadAnimation:hn,loadData:fn,completeAnimation:to}}(),ImagePreloader=function(){var st=function(){var lo=createTag("canvas");lo.width=1,lo.height=1;var mo=lo.getContext("2d");return mo.fillStyle="rgba(0,0,0,0)",mo.fillRect(0,0,1,1),lo}();function Mt(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function nn(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function rn(lo,mo,fo){var Uo="";if(lo.e)Uo=lo.p;else if(mo){var t0=lo.p;t0.indexOf("images/")!==-1&&(t0=t0.split("/")[1]),Uo=mo+t0}else Uo=fo,Uo+=lo.u?lo.u:"",Uo+=lo.p;return Uo}function an(lo){var mo=0,fo=setInterval((function(){var Uo=lo.getBBox();(Uo.width||mo>500)&&(this._imageLoaded(),clearInterval(fo)),mo+=1}).bind(this),50)}function sn(lo){var mo=rn(lo,this.assetsPath,this.path),fo=createNS("image");isSafari?this.testImageLoaded(fo):fo.addEventListener("load",this._imageLoaded,!1),fo.addEventListener("error",(function(){Uo.img=st,this._imageLoaded()}).bind(this),!1),fo.setAttributeNS("http://www.w3.org/1999/xlink","href",mo),this._elementHelper.append?this._elementHelper.append(fo):this._elementHelper.appendChild(fo);var Uo={img:fo,assetData:lo};return Uo}function un(lo){var mo=rn(lo,this.assetsPath,this.path),fo=createTag("img");fo.crossOrigin="anonymous",fo.addEventListener("load",this._imageLoaded,!1),fo.addEventListener("error",(function(){Uo.img=st,this._imageLoaded()}).bind(this),!1),fo.src=mo;var Uo={img:fo,assetData:lo};return Uo}function ln(lo){var mo={assetData:lo},fo=rn(lo,this.assetsPath,this.path);return dataManager.loadData(fo,(function(Uo){mo.img=Uo,this._footageLoaded()}).bind(this),(function(){mo.img={},this._footageLoaded()}).bind(this)),mo}function cn(lo,mo){this.imagesLoadedCb=mo;var fo,Uo=lo.length;for(fo=0;fo<Uo;fo+=1)lo[fo].layers||(!lo[fo].t||lo[fo].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(lo[fo]))):lo[fo].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(lo[fo]))))}function hn(lo){this.path=lo||""}function fn(lo){this.assetsPath=lo||""}function to(lo){for(var mo=0,fo=this.images.length;mo<fo;){if(this.images[mo].assetData===lo)return this.images[mo].img;mo+=1}return null}function Xr(){this.imagesLoadedCb=null,this.images.length=0}function uo(){return this.totalImages===this.loadedAssets}function co(){return this.totalFootages===this.loadedFootagesCount}function ho(lo,mo){lo==="svg"?(this._elementHelper=mo,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function e0(){this._imageLoaded=Mt.bind(this),this._footageLoaded=nn.bind(this),this.testImageLoaded=an.bind(this),this.createFootageData=ln.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return e0.prototype={loadAssets:cn,setAssetsPath:fn,setPath:hn,loadedImages:uo,loadedFootages:co,destroy:Xr,getAsset:to,createImgData:un,createImageData:sn,imageLoaded:Mt,footageLoaded:nn,setCacheType:ho},e0}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(Mt,nn){if(this._cbs[Mt])for(var rn=this._cbs[Mt],an=0;an<rn.length;an+=1)rn[an](nn)},addEventListener:function(Mt,nn){return this._cbs[Mt]||(this._cbs[Mt]=[]),this._cbs[Mt].push(nn),(function(){this.removeEventListener(Mt,nn)}).bind(this)},removeEventListener:function(Mt,nn){if(!nn)this._cbs[Mt]=null;else if(this._cbs[Mt]){for(var rn=0,an=this._cbs[Mt].length;rn<an;)this._cbs[Mt][rn]===nn&&(this._cbs[Mt].splice(rn,1),rn-=1,an-=1),rn+=1;this._cbs[Mt].length||(this._cbs[Mt]=null)}}};var markerParser=function(){function st(Mt){for(var nn=Mt.split(`\r
`),rn={},an,sn=0,un=0;un<nn.length;un+=1)an=nn[un].split(":"),an.length===2&&(rn[an[0]]=an[1].trim(),sn+=1);if(sn===0)throw new Error;return rn}return function(Mt){for(var nn=[],rn=0;rn<Mt.length;rn+=1){var an=Mt[rn],sn={time:an.tm,duration:an.dr};try{sn.payload=JSON.parse(Mt[rn].cm)}catch{try{sn.payload=st(Mt[rn].cm)}catch{sn.payload={name:Mt[rn].cm}}}nn.push(sn)}return nn}}(),ProjectInterface=function(){function st(Mt){this.compositions.push(Mt)}return function(){function Mt(nn){for(var rn=0,an=this.compositions.length;rn<an;){if(this.compositions[rn].data&&this.compositions[rn].data.nm===nn)return this.compositions[rn].prepareFrame&&this.compositions[rn].data.xt&&this.compositions[rn].prepareFrame(this.currentFrame),this.compositions[rn].compInterface;rn+=1}return null}return Mt.compositions=[],Mt.currentFrame=0,Mt.registerComposition=st,Mt}}(),renderers={},registerRenderer=function(Mt,nn){renderers[Mt]=nn};function getRenderer(st){return renderers[st]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var st in renderers)if(renderers[st])return st;return""}function _typeof$4(st){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(nn){return typeof nn}:_typeof$4=function(nn){return nn&&typeof Symbol=="function"&&nn.constructor===Symbol&&nn!==Symbol.prototype?"symbol":typeof nn},_typeof$4(st)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(st){(st.wrapper||st.container)&&(this.wrapper=st.wrapper||st.container);var Mt="svg";st.animType?Mt=st.animType:st.renderer&&(Mt=st.renderer);var nn=getRenderer(Mt);this.renderer=new nn(this,st.rendererSettings),this.imagePreloader.setCacheType(Mt,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=Mt,st.loop===""||st.loop===null||st.loop===void 0||st.loop===!0?this.loop=!0:st.loop===!1?this.loop=!1:this.loop=parseInt(st.loop,10),this.autoplay="autoplay"in st?st.autoplay:!0,this.name=st.name?st.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(st,"autoloadSegments")?st.autoloadSegments:!0,this.assetsPath=st.assetsPath,this.initialSegment=st.initialSegment,st.audioFactory&&this.audioController.setAudioFactory(st.audioFactory),st.animationData?this.setupAnimation(st.animationData):st.path&&(st.path.lastIndexOf("\\")!==-1?this.path=st.path.substr(0,st.path.lastIndexOf("\\")+1):this.path=st.path.substr(0,st.path.lastIndexOf("/")+1),this.fileName=st.path.substr(st.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(st.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(st){dataManager.completeAnimation(st,this.configAnimation)},AnimationItem.prototype.setData=function(st,Mt){Mt&&_typeof$4(Mt)!=="object"&&(Mt=JSON.parse(Mt));var nn={wrapper:st,animationData:Mt},rn=st.attributes;nn.path=rn.getNamedItem("data-animation-path")?rn.getNamedItem("data-animation-path").value:rn.getNamedItem("data-bm-path")?rn.getNamedItem("data-bm-path").value:rn.getNamedItem("bm-path")?rn.getNamedItem("bm-path").value:"",nn.animType=rn.getNamedItem("data-anim-type")?rn.getNamedItem("data-anim-type").value:rn.getNamedItem("data-bm-type")?rn.getNamedItem("data-bm-type").value:rn.getNamedItem("bm-type")?rn.getNamedItem("bm-type").value:rn.getNamedItem("data-bm-renderer")?rn.getNamedItem("data-bm-renderer").value:rn.getNamedItem("bm-renderer")?rn.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var an=rn.getNamedItem("data-anim-loop")?rn.getNamedItem("data-anim-loop").value:rn.getNamedItem("data-bm-loop")?rn.getNamedItem("data-bm-loop").value:rn.getNamedItem("bm-loop")?rn.getNamedItem("bm-loop").value:"";an==="false"?nn.loop=!1:an==="true"?nn.loop=!0:an!==""&&(nn.loop=parseInt(an,10));var sn=rn.getNamedItem("data-anim-autoplay")?rn.getNamedItem("data-anim-autoplay").value:rn.getNamedItem("data-bm-autoplay")?rn.getNamedItem("data-bm-autoplay").value:rn.getNamedItem("bm-autoplay")?rn.getNamedItem("bm-autoplay").value:!0;nn.autoplay=sn!=="false",nn.name=rn.getNamedItem("data-name")?rn.getNamedItem("data-name").value:rn.getNamedItem("data-bm-name")?rn.getNamedItem("data-bm-name").value:rn.getNamedItem("bm-name")?rn.getNamedItem("bm-name").value:"";var un=rn.getNamedItem("data-anim-prerender")?rn.getNamedItem("data-anim-prerender").value:rn.getNamedItem("data-bm-prerender")?rn.getNamedItem("data-bm-prerender").value:rn.getNamedItem("bm-prerender")?rn.getNamedItem("bm-prerender").value:"";un==="false"&&(nn.prerender=!1),nn.path?this.setParams(nn):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(st){st.op>this.animationData.op&&(this.animationData.op=st.op,this.totalFrames=Math.floor(st.op-this.animationData.ip));var Mt=this.animationData.layers,nn,rn=Mt.length,an=st.layers,sn,un=an.length;for(sn=0;sn<un;sn+=1)for(nn=0;nn<rn;){if(Mt[nn].id===an[sn].id){Mt[nn]=an[sn];break}nn+=1}if((st.chars||st.fonts)&&(this.renderer.globalData.fontManager.addChars(st.chars),this.renderer.globalData.fontManager.addFonts(st.fonts,this.renderer.globalData.defs)),st.assets)for(rn=st.assets.length,nn=0;nn<rn;nn+=1)this.animationData.assets.push(st.assets[nn]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(st){this.animationData=st;var Mt=getExpressionsPlugin();Mt&&Mt.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var st=this.animationData.segments;if(!st||st.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var Mt=st.shift();this.timeCompleted=Mt.time*this.frameRate;var nn=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(nn,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var st=this.animationData.segments;st||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(st){if(this.renderer)try{this.animationData=st,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(st),st.assets||(st.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(st.assets),this.markers=markerParser(st.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(Mt){this.triggerConfigError(Mt)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var st=getExpressionsPlugin();st&&st.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(st,Mt){var nn=typeof st=="number"?st:void 0,rn=typeof Mt=="number"?Mt:void 0;this.renderer.updateContainerSize(nn,rn)},AnimationItem.prototype.setSubframe=function(st){this.isSubframeEnabled=!!st},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(st){this.triggerRenderFrameError(st)}},AnimationItem.prototype.play=function(st){st&&this.name!==st||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(st){st&&this.name!==st||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(st){st&&this.name!==st||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(st){st&&this.name!==st||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(st){for(var Mt,nn=0;nn<this.markers.length;nn+=1)if(Mt=this.markers[nn],Mt.payload&&Mt.payload.name===st)return Mt;return null},AnimationItem.prototype.goToAndStop=function(st,Mt,nn){if(!(nn&&this.name!==nn)){var rn=Number(st);if(isNaN(rn)){var an=this.getMarkerData(st);an&&this.goToAndStop(an.time,!0)}else Mt?this.setCurrentRawFrameValue(st):this.setCurrentRawFrameValue(st*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(st,Mt,nn){if(!(nn&&this.name!==nn)){var rn=Number(st);if(isNaN(rn)){var an=this.getMarkerData(st);an&&(an.duration?this.playSegments([an.time,an.time+an.duration],!0):this.goToAndStop(an.time,!0))}else this.goToAndStop(rn,Mt,nn);this.play()}},AnimationItem.prototype.advanceTime=function(st){if(!(this.isPaused===!0||this.isLoaded===!1)){var Mt=this.currentRawFrame+st*this.frameModifier,nn=!1;Mt>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(Mt>this.totalFrames?Mt%this.totalFrames:0)||(nn=!0,Mt=this.totalFrames-1):Mt>=this.totalFrames?(this.playCount+=1,this.checkSegments(Mt%this.totalFrames)||(this.setCurrentRawFrameValue(Mt%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(Mt):Mt<0?this.checkSegments(Mt%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+Mt%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(nn=!0,Mt=0)):this.setCurrentRawFrameValue(Mt),nn&&(this.setCurrentRawFrameValue(Mt),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(st,Mt){this.playCount=0,st[1]<st[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=st[0]-st[1],this.timeCompleted=this.totalFrames,this.firstFrame=st[1],this.setCurrentRawFrameValue(this.totalFrames-.001-Mt)):st[1]>st[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=st[1]-st[0],this.timeCompleted=this.totalFrames,this.firstFrame=st[0],this.setCurrentRawFrameValue(.001+Mt)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(st,Mt){var nn=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<st?nn=st:this.currentRawFrame+this.firstFrame>Mt&&(nn=Mt-st)),this.firstFrame=st,this.totalFrames=Mt-st,this.timeCompleted=this.totalFrames,nn!==-1&&this.goToAndStop(nn,!0)},AnimationItem.prototype.playSegments=function(st,Mt){if(Mt&&(this.segments.length=0),_typeof$4(st[0])==="object"){var nn,rn=st.length;for(nn=0;nn<rn;nn+=1)this.segments.push(st[nn])}else this.segments.push(st);this.segments.length&&Mt&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(st){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),st&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(st){return this.segments.length?(this.adjustSegment(this.segments.shift(),st),!0):!1},AnimationItem.prototype.destroy=function(st){st&&this.name!==st||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(st){this.currentRawFrame=st,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(st){this.playSpeed=st,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(st){this.playDirection=st<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(st){this.loop=st},AnimationItem.prototype.setVolume=function(st,Mt){Mt&&this.name!==Mt||this.audioController.setVolume(st)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(st){st&&this.name!==st||this.audioController.mute()},AnimationItem.prototype.unmute=function(st){st&&this.name!==st||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(st){var Mt="";if(st.e)Mt=st.p;else if(this.assetsPath){var nn=st.p;nn.indexOf("images/")!==-1&&(nn=nn.split("/")[1]),Mt=this.assetsPath+nn}else Mt=this.path,Mt+=st.u?st.u:"",Mt+=st.p;return Mt},AnimationItem.prototype.getAssetData=function(st){for(var Mt=0,nn=this.assets.length;Mt<nn;){if(st===this.assets[Mt].id)return this.assets[Mt];Mt+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(st){return st?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(st,Mt,nn){try{var rn=this.renderer.getElementByPath(st);rn.updateDocumentData(Mt,nn)}catch{}},AnimationItem.prototype.trigger=function(st){if(this._cbs&&this._cbs[st])switch(st){case"enterFrame":this.triggerEvent(st,new BMEnterFrameEvent(st,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(st,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(st,new BMCompleteLoopEvent(st,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(st,new BMCompleteEvent(st,this.frameMult));break;case"segmentStart":this.triggerEvent(st,new BMSegmentStartEvent(st,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(st,new BMDestroyEvent(st,this));break;default:this.triggerEvent(st)}st==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(st,this.currentFrame,this.totalFrames,this.frameMult)),st==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(st,this.loop,this.playCount,this.frameMult)),st==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(st,this.frameMult)),st==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(st,this.firstFrame,this.totalFrames)),st==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(st,this))},AnimationItem.prototype.triggerRenderFrameError=function(st){var Mt=new BMRenderFrameErrorEvent(st,this.currentFrame);this.triggerEvent("error",Mt),this.onError&&this.onError.call(this,Mt)},AnimationItem.prototype.triggerConfigError=function(st){var Mt=new BMConfigErrorEvent(st,this.currentFrame);this.triggerEvent("error",Mt),this.onError&&this.onError.call(this,Mt)};var animationManager=function(){var st={},Mt=[],nn=0,rn=0,an=0,sn=!0,un=!1;function ln(u0){for(var c0=0,r0=u0.target;c0<rn;)Mt[c0].animation===r0&&(Mt.splice(c0,1),c0-=1,rn-=1,r0.isPaused||to()),c0+=1}function cn(u0,c0){if(!u0)return null;for(var r0=0;r0<rn;){if(Mt[r0].elem===u0&&Mt[r0].elem!==null)return Mt[r0].animation;r0+=1}var o0=new AnimationItem;return Xr(o0,u0),o0.setData(u0,c0),o0}function hn(){var u0,c0=Mt.length,r0=[];for(u0=0;u0<c0;u0+=1)r0.push(Mt[u0].animation);return r0}function fn(){an+=1,l0()}function to(){an-=1}function Xr(u0,c0){u0.addEventListener("destroy",ln),u0.addEventListener("_active",fn),u0.addEventListener("_idle",to),Mt.push({elem:c0,animation:u0}),rn+=1}function uo(u0){var c0=new AnimationItem;return Xr(c0,null),c0.setParams(u0),c0}function co(u0,c0){var r0;for(r0=0;r0<rn;r0+=1)Mt[r0].animation.setSpeed(u0,c0)}function ho(u0,c0){var r0;for(r0=0;r0<rn;r0+=1)Mt[r0].animation.setDirection(u0,c0)}function e0(u0){var c0;for(c0=0;c0<rn;c0+=1)Mt[c0].animation.play(u0)}function lo(u0){var c0=u0-nn,r0;for(r0=0;r0<rn;r0+=1)Mt[r0].animation.advanceTime(c0);nn=u0,an&&!un?window.requestAnimationFrame(lo):sn=!0}function mo(u0){nn=u0,window.requestAnimationFrame(lo)}function fo(u0){var c0;for(c0=0;c0<rn;c0+=1)Mt[c0].animation.pause(u0)}function Uo(u0,c0,r0){var o0;for(o0=0;o0<rn;o0+=1)Mt[o0].animation.goToAndStop(u0,c0,r0)}function t0(u0){var c0;for(c0=0;c0<rn;c0+=1)Mt[c0].animation.stop(u0)}function n0(u0){var c0;for(c0=0;c0<rn;c0+=1)Mt[c0].animation.togglePause(u0)}function i0(u0){var c0;for(c0=rn-1;c0>=0;c0-=1)Mt[c0].animation.destroy(u0)}function a0(u0,c0,r0){var o0=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),f0,p0=o0.length;for(f0=0;f0<p0;f0+=1)r0&&o0[f0].setAttribute("data-bm-type",r0),cn(o0[f0],u0);if(c0&&p0===0){r0||(r0="svg");var y0=document.getElementsByTagName("body")[0];y0.innerText="";var x0=createTag("div");x0.style.width="100%",x0.style.height="100%",x0.setAttribute("data-bm-type",r0),y0.appendChild(x0),cn(x0,u0)}}function s0(){var u0;for(u0=0;u0<rn;u0+=1)Mt[u0].animation.resize()}function l0(){!un&&an&&sn&&(window.requestAnimationFrame(mo),sn=!1)}function d0(){un=!0}function h0(){un=!1,l0()}function v0(u0,c0){var r0;for(r0=0;r0<rn;r0+=1)Mt[r0].animation.setVolume(u0,c0)}function g0(u0){var c0;for(c0=0;c0<rn;c0+=1)Mt[c0].animation.mute(u0)}function m0(u0){var c0;for(c0=0;c0<rn;c0+=1)Mt[c0].animation.unmute(u0)}return st.registerAnimation=cn,st.loadAnimation=uo,st.setSpeed=co,st.setDirection=ho,st.play=e0,st.pause=fo,st.stop=t0,st.togglePause=n0,st.searchAnimations=a0,st.resize=s0,st.goToAndStop=Uo,st.destroy=i0,st.freeze=d0,st.unfreeze=h0,st.setVolume=v0,st.mute=g0,st.unmute=m0,st.getRegisteredAnimations=hn,st}(),BezierFactory=function(){var st={};st.getBezierEasing=nn;var Mt={};function nn(mo,fo,Uo,t0,n0){var i0=n0||("bez_"+mo+"_"+fo+"_"+Uo+"_"+t0).replace(/\./g,"p");if(Mt[i0])return Mt[i0];var a0=new lo([mo,fo,Uo,t0]);return Mt[i0]=a0,a0}var rn=4,an=.001,sn=1e-7,un=10,ln=11,cn=1/(ln-1),hn=typeof Float32Array=="function";function fn(mo,fo){return 1-3*fo+3*mo}function to(mo,fo){return 3*fo-6*mo}function Xr(mo){return 3*mo}function uo(mo,fo,Uo){return((fn(fo,Uo)*mo+to(fo,Uo))*mo+Xr(fo))*mo}function co(mo,fo,Uo){return 3*fn(fo,Uo)*mo*mo+2*to(fo,Uo)*mo+Xr(fo)}function ho(mo,fo,Uo,t0,n0){var i0,a0,s0=0;do a0=fo+(Uo-fo)/2,i0=uo(a0,t0,n0)-mo,i0>0?Uo=a0:fo=a0;while(Math.abs(i0)>sn&&++s0<un);return a0}function e0(mo,fo,Uo,t0){for(var n0=0;n0<rn;++n0){var i0=co(fo,Uo,t0);if(i0===0)return fo;var a0=uo(fo,Uo,t0)-mo;fo-=a0/i0}return fo}function lo(mo){this._p=mo,this._mSampleValues=hn?new Float32Array(ln):new Array(ln),this._precomputed=!1,this.get=this.get.bind(this)}return lo.prototype={get:function(fo){var Uo=this._p[0],t0=this._p[1],n0=this._p[2],i0=this._p[3];return this._precomputed||this._precompute(),Uo===t0&&n0===i0?fo:fo===0?0:fo===1?1:uo(this._getTForX(fo),t0,i0)},_precompute:function(){var fo=this._p[0],Uo=this._p[1],t0=this._p[2],n0=this._p[3];this._precomputed=!0,(fo!==Uo||t0!==n0)&&this._calcSampleValues()},_calcSampleValues:function(){for(var fo=this._p[0],Uo=this._p[2],t0=0;t0<ln;++t0)this._mSampleValues[t0]=uo(t0*cn,fo,Uo)},_getTForX:function(fo){for(var Uo=this._p[0],t0=this._p[2],n0=this._mSampleValues,i0=0,a0=1,s0=ln-1;a0!==s0&&n0[a0]<=fo;++a0)i0+=cn;--a0;var l0=(fo-n0[a0])/(n0[a0+1]-n0[a0]),d0=i0+l0*cn,h0=co(d0,Uo,t0);return h0>=an?e0(fo,d0,Uo,t0):h0===0?d0:ho(fo,i0,i0+cn,Uo,t0)}},st}(),pooling=function(){function st(Mt){return Mt.concat(createSizedArray(Mt.length))}return{double:st}}(),poolFactory=function(){return function(st,Mt,nn){var rn=0,an=st,sn=createSizedArray(an),un={newElement:ln,release:cn};function ln(){var hn;return rn?(rn-=1,hn=sn[rn]):hn=Mt(),hn}function cn(hn){rn===an&&(sn=pooling.double(sn),an*=2),nn&&nn(hn),sn[rn]=hn,rn+=1}return un}}(),bezierLengthPool=function(){function st(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,st)}(),segmentsLengthPool=function(){function st(){return{lengths:[],totalLength:0}}function Mt(nn){var rn,an=nn.lengths.length;for(rn=0;rn<an;rn+=1)bezierLengthPool.release(nn.lengths[rn]);nn.lengths.length=0}return poolFactory(8,st,Mt)}();function bezFunction(){var st=Math;function Mt(Xr,uo,co,ho,e0,lo){var mo=Xr*ho+uo*e0+co*lo-e0*ho-lo*Xr-co*uo;return mo>-.001&&mo<.001}function nn(Xr,uo,co,ho,e0,lo,mo,fo,Uo){if(co===0&&lo===0&&Uo===0)return Mt(Xr,uo,ho,e0,mo,fo);var t0=st.sqrt(st.pow(ho-Xr,2)+st.pow(e0-uo,2)+st.pow(lo-co,2)),n0=st.sqrt(st.pow(mo-Xr,2)+st.pow(fo-uo,2)+st.pow(Uo-co,2)),i0=st.sqrt(st.pow(mo-ho,2)+st.pow(fo-e0,2)+st.pow(Uo-lo,2)),a0;return t0>n0?t0>i0?a0=t0-n0-i0:a0=i0-n0-t0:i0>n0?a0=i0-n0-t0:a0=n0-t0-i0,a0>-1e-4&&a0<1e-4}var rn=function(){return function(Xr,uo,co,ho){var e0=getDefaultCurveSegments(),lo,mo,fo,Uo,t0,n0=0,i0,a0=[],s0=[],l0=bezierLengthPool.newElement();for(fo=co.length,lo=0;lo<e0;lo+=1){for(t0=lo/(e0-1),i0=0,mo=0;mo<fo;mo+=1)Uo=bmPow(1-t0,3)*Xr[mo]+3*bmPow(1-t0,2)*t0*co[mo]+3*(1-t0)*bmPow(t0,2)*ho[mo]+bmPow(t0,3)*uo[mo],a0[mo]=Uo,s0[mo]!==null&&(i0+=bmPow(a0[mo]-s0[mo],2)),s0[mo]=a0[mo];i0&&(i0=bmSqrt(i0),n0+=i0),l0.percents[lo]=t0,l0.lengths[lo]=n0}return l0.addedLength=n0,l0}}();function an(Xr){var uo=segmentsLengthPool.newElement(),co=Xr.c,ho=Xr.v,e0=Xr.o,lo=Xr.i,mo,fo=Xr._length,Uo=uo.lengths,t0=0;for(mo=0;mo<fo-1;mo+=1)Uo[mo]=rn(ho[mo],ho[mo+1],e0[mo],lo[mo+1]),t0+=Uo[mo].addedLength;return co&&fo&&(Uo[mo]=rn(ho[mo],ho[0],e0[mo],lo[0]),t0+=Uo[mo].addedLength),uo.totalLength=t0,uo}function sn(Xr){this.segmentLength=0,this.points=new Array(Xr)}function un(Xr,uo){this.partialLength=Xr,this.point=uo}var ln=function(){var Xr={};return function(uo,co,ho,e0){var lo=(uo[0]+"_"+uo[1]+"_"+co[0]+"_"+co[1]+"_"+ho[0]+"_"+ho[1]+"_"+e0[0]+"_"+e0[1]).replace(/\./g,"p");if(!Xr[lo]){var mo=getDefaultCurveSegments(),fo,Uo,t0,n0,i0,a0=0,s0,l0,d0=null;uo.length===2&&(uo[0]!==co[0]||uo[1]!==co[1])&&Mt(uo[0],uo[1],co[0],co[1],uo[0]+ho[0],uo[1]+ho[1])&&Mt(uo[0],uo[1],co[0],co[1],co[0]+e0[0],co[1]+e0[1])&&(mo=2);var h0=new sn(mo);for(t0=ho.length,fo=0;fo<mo;fo+=1){for(l0=createSizedArray(t0),i0=fo/(mo-1),s0=0,Uo=0;Uo<t0;Uo+=1)n0=bmPow(1-i0,3)*uo[Uo]+3*bmPow(1-i0,2)*i0*(uo[Uo]+ho[Uo])+3*(1-i0)*bmPow(i0,2)*(co[Uo]+e0[Uo])+bmPow(i0,3)*co[Uo],l0[Uo]=n0,d0!==null&&(s0+=bmPow(l0[Uo]-d0[Uo],2));s0=bmSqrt(s0),a0+=s0,h0.points[fo]=new un(s0,l0),d0=l0}h0.segmentLength=a0,Xr[lo]=h0}return Xr[lo]}}();function cn(Xr,uo){var co=uo.percents,ho=uo.lengths,e0=co.length,lo=bmFloor((e0-1)*Xr),mo=Xr*uo.addedLength,fo=0;if(lo===e0-1||lo===0||mo===ho[lo])return co[lo];for(var Uo=ho[lo]>mo?-1:1,t0=!0;t0;)if(ho[lo]<=mo&&ho[lo+1]>mo?(fo=(mo-ho[lo])/(ho[lo+1]-ho[lo]),t0=!1):lo+=Uo,lo<0||lo>=e0-1){if(lo===e0-1)return co[lo];t0=!1}return co[lo]+(co[lo+1]-co[lo])*fo}function hn(Xr,uo,co,ho,e0,lo){var mo=cn(e0,lo),fo=1-mo,Uo=st.round((fo*fo*fo*Xr[0]+(mo*fo*fo+fo*mo*fo+fo*fo*mo)*co[0]+(mo*mo*fo+fo*mo*mo+mo*fo*mo)*ho[0]+mo*mo*mo*uo[0])*1e3)/1e3,t0=st.round((fo*fo*fo*Xr[1]+(mo*fo*fo+fo*mo*fo+fo*fo*mo)*co[1]+(mo*mo*fo+fo*mo*mo+mo*fo*mo)*ho[1]+mo*mo*mo*uo[1])*1e3)/1e3;return[Uo,t0]}var fn=createTypedArray("float32",8);function to(Xr,uo,co,ho,e0,lo,mo){e0<0?e0=0:e0>1&&(e0=1);var fo=cn(e0,mo);lo=lo>1?1:lo;var Uo=cn(lo,mo),t0,n0=Xr.length,i0=1-fo,a0=1-Uo,s0=i0*i0*i0,l0=fo*i0*i0*3,d0=fo*fo*i0*3,h0=fo*fo*fo,v0=i0*i0*a0,g0=fo*i0*a0+i0*fo*a0+i0*i0*Uo,m0=fo*fo*a0+i0*fo*Uo+fo*i0*Uo,u0=fo*fo*Uo,c0=i0*a0*a0,r0=fo*a0*a0+i0*Uo*a0+i0*a0*Uo,o0=fo*Uo*a0+i0*Uo*Uo+fo*a0*Uo,f0=fo*Uo*Uo,p0=a0*a0*a0,y0=Uo*a0*a0+a0*Uo*a0+a0*a0*Uo,x0=Uo*Uo*a0+a0*Uo*Uo+Uo*a0*Uo,k0=Uo*Uo*Uo;for(t0=0;t0<n0;t0+=1)fn[t0*4]=st.round((s0*Xr[t0]+l0*co[t0]+d0*ho[t0]+h0*uo[t0])*1e3)/1e3,fn[t0*4+1]=st.round((v0*Xr[t0]+g0*co[t0]+m0*ho[t0]+u0*uo[t0])*1e3)/1e3,fn[t0*4+2]=st.round((c0*Xr[t0]+r0*co[t0]+o0*ho[t0]+f0*uo[t0])*1e3)/1e3,fn[t0*4+3]=st.round((p0*Xr[t0]+y0*co[t0]+x0*ho[t0]+k0*uo[t0])*1e3)/1e3;return fn}return{getSegmentsLength:an,getNewSegment:to,getPointInSegment:hn,buildBezierData:ln,pointOnLine2D:Mt,pointOnLine3D:nn}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(st,Mt){var nn=this.offsetTime,rn;this.propType==="multidimensional"&&(rn=createTypedArray("float32",this.pv.length));for(var an=Mt.lastIndex,sn=an,un=this.keyframes.length-1,ln=!0,cn,hn,fn;ln;){if(cn=this.keyframes[sn],hn=this.keyframes[sn+1],sn===un-1&&st>=hn.t-nn){cn.h&&(cn=hn),an=0;break}if(hn.t-nn>st){an=sn;break}sn<un-1?sn+=1:(an=0,ln=!1)}fn=this.keyframesMetadata[sn]||{};var to,Xr,uo,co,ho,e0,lo=hn.t-nn,mo=cn.t-nn,fo;if(cn.to){fn.bezierData||(fn.bezierData=bez.buildBezierData(cn.s,hn.s||cn.e,cn.to,cn.ti));var Uo=fn.bezierData;if(st>=lo||st<mo){var t0=st>=lo?Uo.points.length-1:0;for(Xr=Uo.points[t0].point.length,to=0;to<Xr;to+=1)rn[to]=Uo.points[t0].point[to]}else{fn.__fnct?e0=fn.__fnct:(e0=BezierFactory.getBezierEasing(cn.o.x,cn.o.y,cn.i.x,cn.i.y,cn.n).get,fn.__fnct=e0),uo=e0((st-mo)/(lo-mo));var n0=Uo.segmentLength*uo,i0,a0=Mt.lastFrame<st&&Mt._lastKeyframeIndex===sn?Mt._lastAddedLength:0;for(ho=Mt.lastFrame<st&&Mt._lastKeyframeIndex===sn?Mt._lastPoint:0,ln=!0,co=Uo.points.length;ln;){if(a0+=Uo.points[ho].partialLength,n0===0||uo===0||ho===Uo.points.length-1){for(Xr=Uo.points[ho].point.length,to=0;to<Xr;to+=1)rn[to]=Uo.points[ho].point[to];break}else if(n0>=a0&&n0<a0+Uo.points[ho+1].partialLength){for(i0=(n0-a0)/Uo.points[ho+1].partialLength,Xr=Uo.points[ho].point.length,to=0;to<Xr;to+=1)rn[to]=Uo.points[ho].point[to]+(Uo.points[ho+1].point[to]-Uo.points[ho].point[to])*i0;break}ho<co-1?ho+=1:ln=!1}Mt._lastPoint=ho,Mt._lastAddedLength=a0-Uo.points[ho].partialLength,Mt._lastKeyframeIndex=sn}}else{var s0,l0,d0,h0,v0;if(un=cn.s.length,fo=hn.s||cn.e,this.sh&&cn.h!==1)if(st>=lo)rn[0]=fo[0],rn[1]=fo[1],rn[2]=fo[2];else if(st<=mo)rn[0]=cn.s[0],rn[1]=cn.s[1],rn[2]=cn.s[2];else{var g0=createQuaternion(cn.s),m0=createQuaternion(fo),u0=(st-mo)/(lo-mo);quaternionToEuler(rn,slerp(g0,m0,u0))}else for(sn=0;sn<un;sn+=1)cn.h!==1&&(st>=lo?uo=1:st<mo?uo=0:(cn.o.x.constructor===Array?(fn.__fnct||(fn.__fnct=[]),fn.__fnct[sn]?e0=fn.__fnct[sn]:(s0=cn.o.x[sn]===void 0?cn.o.x[0]:cn.o.x[sn],l0=cn.o.y[sn]===void 0?cn.o.y[0]:cn.o.y[sn],d0=cn.i.x[sn]===void 0?cn.i.x[0]:cn.i.x[sn],h0=cn.i.y[sn]===void 0?cn.i.y[0]:cn.i.y[sn],e0=BezierFactory.getBezierEasing(s0,l0,d0,h0).get,fn.__fnct[sn]=e0)):fn.__fnct?e0=fn.__fnct:(s0=cn.o.x,l0=cn.o.y,d0=cn.i.x,h0=cn.i.y,e0=BezierFactory.getBezierEasing(s0,l0,d0,h0).get,cn.keyframeMetadata=e0),uo=e0((st-mo)/(lo-mo)))),fo=hn.s||cn.e,v0=cn.h===1?cn.s[sn]:cn.s[sn]+(fo[sn]-cn.s[sn])*uo,this.propType==="multidimensional"?rn[sn]=v0:rn=v0}return Mt.lastIndex=an,rn}function slerp(st,Mt,nn){var rn=[],an=st[0],sn=st[1],un=st[2],ln=st[3],cn=Mt[0],hn=Mt[1],fn=Mt[2],to=Mt[3],Xr,uo,co,ho,e0;return uo=an*cn+sn*hn+un*fn+ln*to,uo<0&&(uo=-uo,cn=-cn,hn=-hn,fn=-fn,to=-to),1-uo>1e-6?(Xr=Math.acos(uo),co=Math.sin(Xr),ho=Math.sin((1-nn)*Xr)/co,e0=Math.sin(nn*Xr)/co):(ho=1-nn,e0=nn),rn[0]=ho*an+e0*cn,rn[1]=ho*sn+e0*hn,rn[2]=ho*un+e0*fn,rn[3]=ho*ln+e0*to,rn}function quaternionToEuler(st,Mt){var nn=Mt[0],rn=Mt[1],an=Mt[2],sn=Mt[3],un=Math.atan2(2*rn*sn-2*nn*an,1-2*rn*rn-2*an*an),ln=Math.asin(2*nn*rn+2*an*sn),cn=Math.atan2(2*nn*sn-2*rn*an,1-2*nn*nn-2*an*an);st[0]=un/degToRads,st[1]=ln/degToRads,st[2]=cn/degToRads}function createQuaternion(st){var Mt=st[0]*degToRads,nn=st[1]*degToRads,rn=st[2]*degToRads,an=Math.cos(Mt/2),sn=Math.cos(nn/2),un=Math.cos(rn/2),ln=Math.sin(Mt/2),cn=Math.sin(nn/2),hn=Math.sin(rn/2),fn=an*sn*un-ln*cn*hn,to=ln*cn*un+an*sn*hn,Xr=ln*sn*un+an*cn*hn,uo=an*cn*un-ln*sn*hn;return[to,Xr,uo,fn]}function getValueAtCurrentTime(){var st=this.comp.renderedFrame-this.offsetTime,Mt=this.keyframes[0].t-this.offsetTime,nn=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(st===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=nn&&st>=nn||this._caching.lastFrame<Mt&&st<Mt))){this._caching.lastFrame>=st&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var rn=this.interpolateValue(st,this._caching);this.pv=rn}return this._caching.lastFrame=st,this.pv}function setVValue(st){var Mt;if(this.propType==="unidimensional")Mt=st*this.mult,mathAbs(this.v-Mt)>1e-5&&(this.v=Mt,this._mdf=!0);else for(var nn=0,rn=this.v.length;nn<rn;)Mt=st[nn]*this.mult,mathAbs(this.v[nn]-Mt)>1e-5&&(this.v[nn]=Mt,this._mdf=!0),nn+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var st,Mt=this.effectsSequence.length,nn=this.kf?this.pv:this.data.k;for(st=0;st<Mt;st+=1)nn=this.effectsSequence[st](nn);this.setVValue(nn),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(st){this.effectsSequence.push(st),this.container.addDynamicProperty(this)}function ValueProperty(st,Mt,nn,rn){this.propType="unidimensional",this.mult=nn||1,this.data=Mt,this.v=nn?Mt.k*nn:Mt.k,this.pv=Mt.k,this._mdf=!1,this.elem=st,this.container=rn,this.comp=st.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(st,Mt,nn,rn){this.propType="multidimensional",this.mult=nn||1,this.data=Mt,this._mdf=!1,this.elem=st,this.container=rn,this.comp=st.comp,this.k=!1,this.kf=!1,this.frameId=-1;var an,sn=Mt.k.length;for(this.v=createTypedArray("float32",sn),this.pv=createTypedArray("float32",sn),this.vel=createTypedArray("float32",sn),an=0;an<sn;an+=1)this.v[an]=Mt.k[an]*this.mult,this.pv[an]=Mt.k[an];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(st,Mt,nn,rn){this.propType="unidimensional",this.keyframes=Mt.k,this.keyframesMetadata=[],this.offsetTime=st.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=Mt,this.mult=nn||1,this.elem=st,this.container=rn,this.comp=st.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(st,Mt,nn,rn){this.propType="multidimensional";var an,sn=Mt.k.length,un,ln,cn,hn;for(an=0;an<sn-1;an+=1)Mt.k[an].to&&Mt.k[an].s&&Mt.k[an+1]&&Mt.k[an+1].s&&(un=Mt.k[an].s,ln=Mt.k[an+1].s,cn=Mt.k[an].to,hn=Mt.k[an].ti,(un.length===2&&!(un[0]===ln[0]&&un[1]===ln[1])&&bez.pointOnLine2D(un[0],un[1],ln[0],ln[1],un[0]+cn[0],un[1]+cn[1])&&bez.pointOnLine2D(un[0],un[1],ln[0],ln[1],ln[0]+hn[0],ln[1]+hn[1])||un.length===3&&!(un[0]===ln[0]&&un[1]===ln[1]&&un[2]===ln[2])&&bez.pointOnLine3D(un[0],un[1],un[2],ln[0],ln[1],ln[2],un[0]+cn[0],un[1]+cn[1],un[2]+cn[2])&&bez.pointOnLine3D(un[0],un[1],un[2],ln[0],ln[1],ln[2],ln[0]+hn[0],ln[1]+hn[1],ln[2]+hn[2]))&&(Mt.k[an].to=null,Mt.k[an].ti=null),un[0]===ln[0]&&un[1]===ln[1]&&cn[0]===0&&cn[1]===0&&hn[0]===0&&hn[1]===0&&(un.length===2||un[2]===ln[2]&&cn[2]===0&&hn[2]===0)&&(Mt.k[an].to=null,Mt.k[an].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=Mt,this.keyframes=Mt.k,this.keyframesMetadata=[],this.offsetTime=st.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=nn||1,this.elem=st,this.container=rn,this.comp=st.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var fn=Mt.k[0].s.length;for(this.v=createTypedArray("float32",fn),this.pv=createTypedArray("float32",fn),an=0;an<fn;an+=1)this.v[an]=initFrame,this.pv[an]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",fn)},this.addEffect=addEffect}var PropertyFactory=function(){function st(nn,rn,an,sn,un){rn.sid&&(rn=nn.globalData.slotManager.getProp(rn));var ln;if(!rn.k.length)ln=new ValueProperty(nn,rn,sn,un);else if(typeof rn.k[0]=="number")ln=new MultiDimensionalProperty(nn,rn,sn,un);else switch(an){case 0:ln=new KeyframedValueProperty(nn,rn,sn,un);break;case 1:ln=new KeyframedMultidimensionalProperty(nn,rn,sn,un);break}return ln.effectsSequence.length&&un.addDynamicProperty(ln),ln}var Mt={getProp:st};return Mt}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(Mt){this.dynamicProperties.indexOf(Mt)===-1&&(this.dynamicProperties.push(Mt),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var Mt,nn=this.dynamicProperties.length;for(Mt=0;Mt<nn;Mt+=1)this.dynamicProperties[Mt].getValue(),this.dynamicProperties[Mt]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(Mt){this.container=Mt,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function st(){return createTypedArray("float32",2)}return poolFactory(8,st)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(st,Mt){this.c=st,this.setLength(Mt);for(var nn=0;nn<Mt;)this.v[nn]=pointPool.newElement(),this.o[nn]=pointPool.newElement(),this.i[nn]=pointPool.newElement(),nn+=1},ShapePath.prototype.setLength=function(st){for(;this._maxLength<st;)this.doubleArrayLength();this._length=st},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(st,Mt,nn,rn,an){var sn;switch(this._length=Math.max(this._length,rn+1),this._length>=this._maxLength&&this.doubleArrayLength(),nn){case"v":sn=this.v;break;case"i":sn=this.i;break;case"o":sn=this.o;break;default:sn=[];break}(!sn[rn]||sn[rn]&&!an)&&(sn[rn]=pointPool.newElement()),sn[rn][0]=st,sn[rn][1]=Mt},ShapePath.prototype.setTripleAt=function(st,Mt,nn,rn,an,sn,un,ln){this.setXYAt(st,Mt,"v",un,ln),this.setXYAt(nn,rn,"o",un,ln),this.setXYAt(an,sn,"i",un,ln)},ShapePath.prototype.reverse=function(){var st=new ShapePath;st.setPathData(this.c,this._length);var Mt=this.v,nn=this.o,rn=this.i,an=0;this.c&&(st.setTripleAt(Mt[0][0],Mt[0][1],rn[0][0],rn[0][1],nn[0][0],nn[0][1],0,!1),an=1);var sn=this._length-1,un=this._length,ln;for(ln=an;ln<un;ln+=1)st.setTripleAt(Mt[sn][0],Mt[sn][1],rn[sn][0],rn[sn][1],nn[sn][0],nn[sn][1],ln,!1),sn-=1;return st},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function st(){return new ShapePath}function Mt(an){var sn=an._length,un;for(un=0;un<sn;un+=1)pointPool.release(an.v[un]),pointPool.release(an.i[un]),pointPool.release(an.o[un]),an.v[un]=null,an.i[un]=null,an.o[un]=null;an._length=0,an.c=!1}function nn(an){var sn=rn.newElement(),un,ln=an._length===void 0?an.v.length:an._length;for(sn.setLength(ln),sn.c=an.c,un=0;un<ln;un+=1)sn.setTripleAt(an.v[un][0],an.v[un][1],an.o[un][0],an.o[un][1],an.i[un][0],an.i[un][1],un);return sn}var rn=poolFactory(4,st,Mt);return rn.clone=nn,rn}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(st){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=st,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var st;for(st=0;st<this._length;st+=1)shapePool.release(this.shapes[st]);this._length=0};var shapeCollectionPool=function(){var st={newShapeCollection:an,release:sn},Mt=0,nn=4,rn=createSizedArray(nn);function an(){var un;return Mt?(Mt-=1,un=rn[Mt]):un=new ShapeCollection,un}function sn(un){var ln,cn=un._length;for(ln=0;ln<cn;ln+=1)shapePool.release(un.shapes[ln]);un._length=0,Mt===nn&&(rn=pooling.double(rn),nn*=2),rn[Mt]=un,Mt+=1}return st}(),ShapePropertyFactory=function(){var st=-999999;function Mt(lo,mo,fo){var Uo=fo.lastIndex,t0,n0,i0,a0,s0,l0,d0,h0,v0,g0=this.keyframes;if(lo<g0[0].t-this.offsetTime)t0=g0[0].s[0],i0=!0,Uo=0;else if(lo>=g0[g0.length-1].t-this.offsetTime)t0=g0[g0.length-1].s?g0[g0.length-1].s[0]:g0[g0.length-2].e[0],i0=!0;else{for(var m0=Uo,u0=g0.length-1,c0=!0,r0,o0,f0;c0&&(r0=g0[m0],o0=g0[m0+1],!(o0.t-this.offsetTime>lo));)m0<u0-1?m0+=1:c0=!1;if(f0=this.keyframesMetadata[m0]||{},i0=r0.h===1,Uo=m0,!i0){if(lo>=o0.t-this.offsetTime)h0=1;else if(lo<r0.t-this.offsetTime)h0=0;else{var p0;f0.__fnct?p0=f0.__fnct:(p0=BezierFactory.getBezierEasing(r0.o.x,r0.o.y,r0.i.x,r0.i.y).get,f0.__fnct=p0),h0=p0((lo-(r0.t-this.offsetTime))/(o0.t-this.offsetTime-(r0.t-this.offsetTime)))}n0=o0.s?o0.s[0]:r0.e[0]}t0=r0.s[0]}for(l0=mo._length,d0=t0.i[0].length,fo.lastIndex=Uo,a0=0;a0<l0;a0+=1)for(s0=0;s0<d0;s0+=1)v0=i0?t0.i[a0][s0]:t0.i[a0][s0]+(n0.i[a0][s0]-t0.i[a0][s0])*h0,mo.i[a0][s0]=v0,v0=i0?t0.o[a0][s0]:t0.o[a0][s0]+(n0.o[a0][s0]-t0.o[a0][s0])*h0,mo.o[a0][s0]=v0,v0=i0?t0.v[a0][s0]:t0.v[a0][s0]+(n0.v[a0][s0]-t0.v[a0][s0])*h0,mo.v[a0][s0]=v0}function nn(){var lo=this.comp.renderedFrame-this.offsetTime,mo=this.keyframes[0].t-this.offsetTime,fo=this.keyframes[this.keyframes.length-1].t-this.offsetTime,Uo=this._caching.lastFrame;return Uo!==st&&(Uo<mo&&lo<mo||Uo>fo&&lo>fo)||(this._caching.lastIndex=Uo<lo?this._caching.lastIndex:0,this.interpolateShape(lo,this.pv,this._caching)),this._caching.lastFrame=lo,this.pv}function rn(){this.paths=this.localShapeCollection}function an(lo,mo){if(lo._length!==mo._length||lo.c!==mo.c)return!1;var fo,Uo=lo._length;for(fo=0;fo<Uo;fo+=1)if(lo.v[fo][0]!==mo.v[fo][0]||lo.v[fo][1]!==mo.v[fo][1]||lo.o[fo][0]!==mo.o[fo][0]||lo.o[fo][1]!==mo.o[fo][1]||lo.i[fo][0]!==mo.i[fo][0]||lo.i[fo][1]!==mo.i[fo][1])return!1;return!0}function sn(lo){an(this.v,lo)||(this.v=shapePool.clone(lo),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function un(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var lo;this.kf?lo=this.pv:this.data.ks?lo=this.data.ks.k:lo=this.data.pt.k;var mo,fo=this.effectsSequence.length;for(mo=0;mo<fo;mo+=1)lo=this.effectsSequence[mo](lo);this.setVValue(lo),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ln(lo,mo,fo){this.propType="shape",this.comp=lo.comp,this.container=lo,this.elem=lo,this.data=mo,this.k=!1,this.kf=!1,this._mdf=!1;var Uo=fo===3?mo.pt.k:mo.ks.k;this.v=shapePool.clone(Uo),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=rn,this.effectsSequence=[]}function cn(lo){this.effectsSequence.push(lo),this.container.addDynamicProperty(this)}ln.prototype.interpolateShape=Mt,ln.prototype.getValue=un,ln.prototype.setVValue=sn,ln.prototype.addEffect=cn;function hn(lo,mo,fo){this.propType="shape",this.comp=lo.comp,this.elem=lo,this.container=lo,this.offsetTime=lo.data.st,this.keyframes=fo===3?mo.pt.k:mo.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var Uo=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,Uo),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=st,this.reset=rn,this._caching={lastFrame:st,lastIndex:0},this.effectsSequence=[nn.bind(this)]}hn.prototype.getValue=un,hn.prototype.interpolateShape=Mt,hn.prototype.setVValue=sn,hn.prototype.addEffect=cn;var fn=function(){var lo=roundCorner;function mo(fo,Uo){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=Uo.d,this.elem=fo,this.comp=fo.comp,this.frameId=-1,this.initDynamicPropertyContainer(fo),this.p=PropertyFactory.getProp(fo,Uo.p,1,0,this),this.s=PropertyFactory.getProp(fo,Uo.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return mo.prototype={reset:rn,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var Uo=this.p.v[0],t0=this.p.v[1],n0=this.s.v[0]/2,i0=this.s.v[1]/2,a0=this.d!==3,s0=this.v;s0.v[0][0]=Uo,s0.v[0][1]=t0-i0,s0.v[1][0]=a0?Uo+n0:Uo-n0,s0.v[1][1]=t0,s0.v[2][0]=Uo,s0.v[2][1]=t0+i0,s0.v[3][0]=a0?Uo-n0:Uo+n0,s0.v[3][1]=t0,s0.i[0][0]=a0?Uo-n0*lo:Uo+n0*lo,s0.i[0][1]=t0-i0,s0.i[1][0]=a0?Uo+n0:Uo-n0,s0.i[1][1]=t0-i0*lo,s0.i[2][0]=a0?Uo+n0*lo:Uo-n0*lo,s0.i[2][1]=t0+i0,s0.i[3][0]=a0?Uo-n0:Uo+n0,s0.i[3][1]=t0+i0*lo,s0.o[0][0]=a0?Uo+n0*lo:Uo-n0*lo,s0.o[0][1]=t0-i0,s0.o[1][0]=a0?Uo+n0:Uo-n0,s0.o[1][1]=t0+i0*lo,s0.o[2][0]=a0?Uo-n0*lo:Uo+n0*lo,s0.o[2][1]=t0+i0,s0.o[3][0]=a0?Uo-n0:Uo+n0,s0.o[3][1]=t0-i0*lo}},extendPrototype([DynamicPropertyContainer],mo),mo}(),to=function(){function lo(mo,fo){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=mo,this.comp=mo.comp,this.data=fo,this.frameId=-1,this.d=fo.d,this.initDynamicPropertyContainer(mo),fo.sy===1?(this.ir=PropertyFactory.getProp(mo,fo.ir,0,0,this),this.is=PropertyFactory.getProp(mo,fo.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(mo,fo.pt,0,0,this),this.p=PropertyFactory.getProp(mo,fo.p,1,0,this),this.r=PropertyFactory.getProp(mo,fo.r,0,degToRads,this),this.or=PropertyFactory.getProp(mo,fo.or,0,0,this),this.os=PropertyFactory.getProp(mo,fo.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return lo.prototype={reset:rn,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var fo=Math.floor(this.pt.v)*2,Uo=Math.PI*2/fo,t0=!0,n0=this.or.v,i0=this.ir.v,a0=this.os.v,s0=this.is.v,l0=2*Math.PI*n0/(fo*2),d0=2*Math.PI*i0/(fo*2),h0,v0,g0,m0,u0=-Math.PI/2;u0+=this.r.v;var c0=this.data.d===3?-1:1;for(this.v._length=0,h0=0;h0<fo;h0+=1){v0=t0?n0:i0,g0=t0?a0:s0,m0=t0?l0:d0;var r0=v0*Math.cos(u0),o0=v0*Math.sin(u0),f0=r0===0&&o0===0?0:o0/Math.sqrt(r0*r0+o0*o0),p0=r0===0&&o0===0?0:-r0/Math.sqrt(r0*r0+o0*o0);r0+=+this.p.v[0],o0+=+this.p.v[1],this.v.setTripleAt(r0,o0,r0-f0*m0*g0*c0,o0-p0*m0*g0*c0,r0+f0*m0*g0*c0,o0+p0*m0*g0*c0,h0,!0),t0=!t0,u0+=Uo*c0}},convertPolygonToPath:function(){var fo=Math.floor(this.pt.v),Uo=Math.PI*2/fo,t0=this.or.v,n0=this.os.v,i0=2*Math.PI*t0/(fo*4),a0,s0=-Math.PI*.5,l0=this.data.d===3?-1:1;for(s0+=this.r.v,this.v._length=0,a0=0;a0<fo;a0+=1){var d0=t0*Math.cos(s0),h0=t0*Math.sin(s0),v0=d0===0&&h0===0?0:h0/Math.sqrt(d0*d0+h0*h0),g0=d0===0&&h0===0?0:-d0/Math.sqrt(d0*d0+h0*h0);d0+=+this.p.v[0],h0+=+this.p.v[1],this.v.setTripleAt(d0,h0,d0-v0*i0*n0*l0,h0-g0*i0*n0*l0,d0+v0*i0*n0*l0,h0+g0*i0*n0*l0,a0,!0),s0+=Uo*l0}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],lo),lo}(),Xr=function(){function lo(mo,fo){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=mo,this.comp=mo.comp,this.frameId=-1,this.d=fo.d,this.initDynamicPropertyContainer(mo),this.p=PropertyFactory.getProp(mo,fo.p,1,0,this),this.s=PropertyFactory.getProp(mo,fo.s,1,0,this),this.r=PropertyFactory.getProp(mo,fo.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return lo.prototype={convertRectToPath:function(){var fo=this.p.v[0],Uo=this.p.v[1],t0=this.s.v[0]/2,n0=this.s.v[1]/2,i0=bmMin(t0,n0,this.r.v),a0=i0*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(fo+t0,Uo-n0+i0,fo+t0,Uo-n0+i0,fo+t0,Uo-n0+a0,0,!0),this.v.setTripleAt(fo+t0,Uo+n0-i0,fo+t0,Uo+n0-a0,fo+t0,Uo+n0-i0,1,!0),i0!==0?(this.v.setTripleAt(fo+t0-i0,Uo+n0,fo+t0-i0,Uo+n0,fo+t0-a0,Uo+n0,2,!0),this.v.setTripleAt(fo-t0+i0,Uo+n0,fo-t0+a0,Uo+n0,fo-t0+i0,Uo+n0,3,!0),this.v.setTripleAt(fo-t0,Uo+n0-i0,fo-t0,Uo+n0-i0,fo-t0,Uo+n0-a0,4,!0),this.v.setTripleAt(fo-t0,Uo-n0+i0,fo-t0,Uo-n0+a0,fo-t0,Uo-n0+i0,5,!0),this.v.setTripleAt(fo-t0+i0,Uo-n0,fo-t0+i0,Uo-n0,fo-t0+a0,Uo-n0,6,!0),this.v.setTripleAt(fo+t0-i0,Uo-n0,fo+t0-a0,Uo-n0,fo+t0-i0,Uo-n0,7,!0)):(this.v.setTripleAt(fo-t0,Uo+n0,fo-t0+a0,Uo+n0,fo-t0,Uo+n0,2),this.v.setTripleAt(fo-t0,Uo-n0,fo-t0,Uo-n0+a0,fo-t0,Uo-n0,3))):(this.v.setTripleAt(fo+t0,Uo-n0+i0,fo+t0,Uo-n0+a0,fo+t0,Uo-n0+i0,0,!0),i0!==0?(this.v.setTripleAt(fo+t0-i0,Uo-n0,fo+t0-i0,Uo-n0,fo+t0-a0,Uo-n0,1,!0),this.v.setTripleAt(fo-t0+i0,Uo-n0,fo-t0+a0,Uo-n0,fo-t0+i0,Uo-n0,2,!0),this.v.setTripleAt(fo-t0,Uo-n0+i0,fo-t0,Uo-n0+i0,fo-t0,Uo-n0+a0,3,!0),this.v.setTripleAt(fo-t0,Uo+n0-i0,fo-t0,Uo+n0-a0,fo-t0,Uo+n0-i0,4,!0),this.v.setTripleAt(fo-t0+i0,Uo+n0,fo-t0+i0,Uo+n0,fo-t0+a0,Uo+n0,5,!0),this.v.setTripleAt(fo+t0-i0,Uo+n0,fo+t0-a0,Uo+n0,fo+t0-i0,Uo+n0,6,!0),this.v.setTripleAt(fo+t0,Uo+n0-i0,fo+t0,Uo+n0-i0,fo+t0,Uo+n0-a0,7,!0)):(this.v.setTripleAt(fo-t0,Uo-n0,fo-t0+a0,Uo-n0,fo-t0,Uo-n0,1,!0),this.v.setTripleAt(fo-t0,Uo+n0,fo-t0,Uo+n0-a0,fo-t0,Uo+n0,2,!0),this.v.setTripleAt(fo+t0,Uo+n0,fo+t0-a0,Uo+n0,fo+t0,Uo+n0,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:rn},extendPrototype([DynamicPropertyContainer],lo),lo}();function uo(lo,mo,fo){var Uo;if(fo===3||fo===4){var t0=fo===3?mo.pt:mo.ks,n0=t0.k;n0.length?Uo=new hn(lo,mo,fo):Uo=new ln(lo,mo,fo)}else fo===5?Uo=new Xr(lo,mo):fo===6?Uo=new fn(lo,mo):fo===7&&(Uo=new to(lo,mo));return Uo.k&&lo.addDynamicProperty(Uo),Uo}function co(){return ln}function ho(){return hn}var e0={};return e0.getShapeProp=uo,e0.getConstructorFunction=co,e0.getKeyframedConstructorFunction=ho,e0}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var st=Math.cos,Mt=Math.sin,nn=Math.tan,rn=Math.round;function an(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function sn(r0){if(r0===0)return this;var o0=st(r0),f0=Mt(r0);return this._t(o0,-f0,0,0,f0,o0,0,0,0,0,1,0,0,0,0,1)}function un(r0){if(r0===0)return this;var o0=st(r0),f0=Mt(r0);return this._t(1,0,0,0,0,o0,-f0,0,0,f0,o0,0,0,0,0,1)}function ln(r0){if(r0===0)return this;var o0=st(r0),f0=Mt(r0);return this._t(o0,0,f0,0,0,1,0,0,-f0,0,o0,0,0,0,0,1)}function cn(r0){if(r0===0)return this;var o0=st(r0),f0=Mt(r0);return this._t(o0,-f0,0,0,f0,o0,0,0,0,0,1,0,0,0,0,1)}function hn(r0,o0){return this._t(1,o0,r0,1,0,0)}function fn(r0,o0){return this.shear(nn(r0),nn(o0))}function to(r0,o0){var f0=st(o0),p0=Mt(o0);return this._t(f0,p0,0,0,-p0,f0,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,nn(r0),1,0,0,0,0,1,0,0,0,0,1)._t(f0,-p0,0,0,p0,f0,0,0,0,0,1,0,0,0,0,1)}function Xr(r0,o0,f0){return!f0&&f0!==0&&(f0=1),r0===1&&o0===1&&f0===1?this:this._t(r0,0,0,0,0,o0,0,0,0,0,f0,0,0,0,0,1)}function uo(r0,o0,f0,p0,y0,x0,k0,b0,E0,_0,A0,P0,R0,S0,T0,C0){return this.props[0]=r0,this.props[1]=o0,this.props[2]=f0,this.props[3]=p0,this.props[4]=y0,this.props[5]=x0,this.props[6]=k0,this.props[7]=b0,this.props[8]=E0,this.props[9]=_0,this.props[10]=A0,this.props[11]=P0,this.props[12]=R0,this.props[13]=S0,this.props[14]=T0,this.props[15]=C0,this}function co(r0,o0,f0){return f0=f0||0,r0!==0||o0!==0||f0!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,r0,o0,f0,1):this}function ho(r0,o0,f0,p0,y0,x0,k0,b0,E0,_0,A0,P0,R0,S0,T0,C0){var w0=this.props;if(r0===1&&o0===0&&f0===0&&p0===0&&y0===0&&x0===1&&k0===0&&b0===0&&E0===0&&_0===0&&A0===1&&P0===0)return w0[12]=w0[12]*r0+w0[15]*R0,w0[13]=w0[13]*x0+w0[15]*S0,w0[14]=w0[14]*A0+w0[15]*T0,w0[15]*=C0,this._identityCalculated=!1,this;var I0=w0[0],$0=w0[1],B0=w0[2],M0=w0[3],D0=w0[4],G0=w0[5],F0=w0[6],V0=w0[7],N0=w0[8],L0=w0[9],O0=w0[10],z0=w0[11],j0=w0[12],W0=w0[13],H0=w0[14],U0=w0[15];return w0[0]=I0*r0+$0*y0+B0*E0+M0*R0,w0[1]=I0*o0+$0*x0+B0*_0+M0*S0,w0[2]=I0*f0+$0*k0+B0*A0+M0*T0,w0[3]=I0*p0+$0*b0+B0*P0+M0*C0,w0[4]=D0*r0+G0*y0+F0*E0+V0*R0,w0[5]=D0*o0+G0*x0+F0*_0+V0*S0,w0[6]=D0*f0+G0*k0+F0*A0+V0*T0,w0[7]=D0*p0+G0*b0+F0*P0+V0*C0,w0[8]=N0*r0+L0*y0+O0*E0+z0*R0,w0[9]=N0*o0+L0*x0+O0*_0+z0*S0,w0[10]=N0*f0+L0*k0+O0*A0+z0*T0,w0[11]=N0*p0+L0*b0+O0*P0+z0*C0,w0[12]=j0*r0+W0*y0+H0*E0+U0*R0,w0[13]=j0*o0+W0*x0+H0*_0+U0*S0,w0[14]=j0*f0+W0*k0+H0*A0+U0*T0,w0[15]=j0*p0+W0*b0+H0*P0+U0*C0,this._identityCalculated=!1,this}function e0(r0){var o0=r0.props;return this.transform(o0[0],o0[1],o0[2],o0[3],o0[4],o0[5],o0[6],o0[7],o0[8],o0[9],o0[10],o0[11],o0[12],o0[13],o0[14],o0[15])}function lo(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function mo(r0){for(var o0=0;o0<16;){if(r0.props[o0]!==this.props[o0])return!1;o0+=1}return!0}function fo(r0){var o0;for(o0=0;o0<16;o0+=1)r0.props[o0]=this.props[o0];return r0}function Uo(r0){var o0;for(o0=0;o0<16;o0+=1)this.props[o0]=r0[o0]}function t0(r0,o0,f0){return{x:r0*this.props[0]+o0*this.props[4]+f0*this.props[8]+this.props[12],y:r0*this.props[1]+o0*this.props[5]+f0*this.props[9]+this.props[13],z:r0*this.props[2]+o0*this.props[6]+f0*this.props[10]+this.props[14]}}function n0(r0,o0,f0){return r0*this.props[0]+o0*this.props[4]+f0*this.props[8]+this.props[12]}function i0(r0,o0,f0){return r0*this.props[1]+o0*this.props[5]+f0*this.props[9]+this.props[13]}function a0(r0,o0,f0){return r0*this.props[2]+o0*this.props[6]+f0*this.props[10]+this.props[14]}function s0(){var r0=this.props[0]*this.props[5]-this.props[1]*this.props[4],o0=this.props[5]/r0,f0=-this.props[1]/r0,p0=-this.props[4]/r0,y0=this.props[0]/r0,x0=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/r0,k0=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/r0,b0=new Matrix;return b0.props[0]=o0,b0.props[1]=f0,b0.props[4]=p0,b0.props[5]=y0,b0.props[12]=x0,b0.props[13]=k0,b0}function l0(r0){var o0=this.getInverseMatrix();return o0.applyToPointArray(r0[0],r0[1],r0[2]||0)}function d0(r0){var o0,f0=r0.length,p0=[];for(o0=0;o0<f0;o0+=1)p0[o0]=l0(r0[o0]);return p0}function h0(r0,o0,f0){var p0=createTypedArray("float32",6);if(this.isIdentity())p0[0]=r0[0],p0[1]=r0[1],p0[2]=o0[0],p0[3]=o0[1],p0[4]=f0[0],p0[5]=f0[1];else{var y0=this.props[0],x0=this.props[1],k0=this.props[4],b0=this.props[5],E0=this.props[12],_0=this.props[13];p0[0]=r0[0]*y0+r0[1]*k0+E0,p0[1]=r0[0]*x0+r0[1]*b0+_0,p0[2]=o0[0]*y0+o0[1]*k0+E0,p0[3]=o0[0]*x0+o0[1]*b0+_0,p0[4]=f0[0]*y0+f0[1]*k0+E0,p0[5]=f0[0]*x0+f0[1]*b0+_0}return p0}function v0(r0,o0,f0){var p0;return this.isIdentity()?p0=[r0,o0,f0]:p0=[r0*this.props[0]+o0*this.props[4]+f0*this.props[8]+this.props[12],r0*this.props[1]+o0*this.props[5]+f0*this.props[9]+this.props[13],r0*this.props[2]+o0*this.props[6]+f0*this.props[10]+this.props[14]],p0}function g0(r0,o0){if(this.isIdentity())return r0+","+o0;var f0=this.props;return Math.round((r0*f0[0]+o0*f0[4]+f0[12])*100)/100+","+Math.round((r0*f0[1]+o0*f0[5]+f0[13])*100)/100}function m0(){for(var r0=0,o0=this.props,f0="matrix3d(",p0=1e4;r0<16;)f0+=rn(o0[r0]*p0)/p0,f0+=r0===15?")":",",r0+=1;return f0}function u0(r0){var o0=1e4;return r0<1e-6&&r0>0||r0>-1e-6&&r0<0?rn(r0*o0)/o0:r0}function c0(){var r0=this.props,o0=u0(r0[0]),f0=u0(r0[1]),p0=u0(r0[4]),y0=u0(r0[5]),x0=u0(r0[12]),k0=u0(r0[13]);return"matrix("+o0+","+f0+","+p0+","+y0+","+x0+","+k0+")"}return function(){this.reset=an,this.rotate=sn,this.rotateX=un,this.rotateY=ln,this.rotateZ=cn,this.skew=fn,this.skewFromAxis=to,this.shear=hn,this.scale=Xr,this.setTransform=uo,this.translate=co,this.transform=ho,this.multiply=e0,this.applyToPoint=t0,this.applyToX=n0,this.applyToY=i0,this.applyToZ=a0,this.applyToPointArray=v0,this.applyToTriplePoints=h0,this.applyToPointStringified=g0,this.toCSS=m0,this.to2dCSS=c0,this.clone=fo,this.cloneFromProps=Uo,this.equals=mo,this.inversePoints=d0,this.inversePoint=l0,this.getInverseMatrix=s0,this._t=this.transform,this.isIdentity=lo,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(st){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(nn){return typeof nn}:_typeof$3=function(nn){return nn&&typeof Symbol=="function"&&nn.constructor===Symbol&&nn!==Symbol.prototype?"symbol":typeof nn},_typeof$3(st)}var lottie={};function setLocation(st){setLocationHref(st)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(st){setSubframeEnabled(st)}function setPrefix(st){setIdPrefix(st)}function loadAnimation(st){return animationManager.loadAnimation(st)}function setQuality(st){if(typeof st=="string")switch(st){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(st)&&st>1&&setDefaultCurveSegments(st)}function inBrowser(){return typeof navigator<"u"}function installPlugin(st,Mt){st==="expressions"&&setExpressionsPlugin(Mt)}function getFactory(st){switch(st){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(st){for(var Mt=queryString.split("&"),nn=0;nn<Mt.length;nn+=1){var rn=Mt[nn].split("=");if(decodeURIComponent(rn[0])==st)return decodeURIComponent(rn[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(st){}var ShapeModifiers=function(){var st={},Mt={};st.registerModifier=nn,st.getModifier=rn;function nn(an,sn){Mt[an]||(Mt[an]=sn)}function rn(an,sn,un){return new Mt[an](sn,un)}return st}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(st){if(!this.closed){st.sh.container.addDynamicProperty(st.sh);var Mt={shape:st.sh,data:st,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(Mt),this.addShapeToModifier(Mt),this._isAnimated&&st.setAsAnimated()}},ShapeModifier.prototype.init=function(st,Mt){this.shapes=[],this.elem=st,this.initDynamicPropertyContainer(st),this.initModifierProperties(st,Mt),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(st,Mt){this.s=PropertyFactory.getProp(st,Mt.s,0,.01,this),this.e=PropertyFactory.getProp(st,Mt.e,0,.01,this),this.o=PropertyFactory.getProp(st,Mt.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=Mt.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(st){st.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(st,Mt,nn,rn,an){var sn=[];Mt<=1?sn.push({s:st,e:Mt}):st>=1?sn.push({s:st-1,e:Mt-1}):(sn.push({s:st,e:1}),sn.push({s:0,e:Mt-1}));var un=[],ln,cn=sn.length,hn;for(ln=0;ln<cn;ln+=1)if(hn=sn[ln],!(hn.e*an<rn||hn.s*an>rn+nn)){var fn,to;hn.s*an<=rn?fn=0:fn=(hn.s*an-rn)/nn,hn.e*an>=rn+nn?to=1:to=(hn.e*an-rn)/nn,un.push([fn,to])}return un.length||un.push([0,0]),un},TrimModifier.prototype.releasePathsData=function(st){var Mt,nn=st.length;for(Mt=0;Mt<nn;Mt+=1)segmentsLengthPool.release(st[Mt]);return st.length=0,st},TrimModifier.prototype.processShapes=function(st){var Mt,nn;if(this._mdf||st){var rn=this.o.v%360/360;if(rn<0&&(rn+=1),this.s.v>1?Mt=1+rn:this.s.v<0?Mt=0+rn:Mt=this.s.v+rn,this.e.v>1?nn=1+rn:this.e.v<0?nn=0+rn:nn=this.e.v+rn,Mt>nn){var an=Mt;Mt=nn,nn=an}Mt=Math.round(Mt*1e4)*1e-4,nn=Math.round(nn*1e4)*1e-4,this.sValue=Mt,this.eValue=nn}else Mt=this.sValue,nn=this.eValue;var sn,un,ln=this.shapes.length,cn,hn,fn,to,Xr,uo=0;if(nn===Mt)for(un=0;un<ln;un+=1)this.shapes[un].localShapeCollection.releaseShapes(),this.shapes[un].shape._mdf=!0,this.shapes[un].shape.paths=this.shapes[un].localShapeCollection,this._mdf&&(this.shapes[un].pathsData.length=0);else if(nn===1&&Mt===0||nn===0&&Mt===1){if(this._mdf)for(un=0;un<ln;un+=1)this.shapes[un].pathsData.length=0,this.shapes[un].shape._mdf=!0}else{var co=[],ho,e0;for(un=0;un<ln;un+=1)if(ho=this.shapes[un],!ho.shape._mdf&&!this._mdf&&!st&&this.m!==2)ho.shape.paths=ho.localShapeCollection;else{if(sn=ho.shape.paths,hn=sn._length,Xr=0,!ho.shape._mdf&&ho.pathsData.length)Xr=ho.totalShapeLength;else{for(fn=this.releasePathsData(ho.pathsData),cn=0;cn<hn;cn+=1)to=bez.getSegmentsLength(sn.shapes[cn]),fn.push(to),Xr+=to.totalLength;ho.totalShapeLength=Xr,ho.pathsData=fn}uo+=Xr,ho.shape._mdf=!0}var lo=Mt,mo=nn,fo=0,Uo;for(un=ln-1;un>=0;un-=1)if(ho=this.shapes[un],ho.shape._mdf){for(e0=ho.localShapeCollection,e0.releaseShapes(),this.m===2&&ln>1?(Uo=this.calculateShapeEdges(Mt,nn,ho.totalShapeLength,fo,uo),fo+=ho.totalShapeLength):Uo=[[lo,mo]],hn=Uo.length,cn=0;cn<hn;cn+=1){lo=Uo[cn][0],mo=Uo[cn][1],co.length=0,mo<=1?co.push({s:ho.totalShapeLength*lo,e:ho.totalShapeLength*mo}):lo>=1?co.push({s:ho.totalShapeLength*(lo-1),e:ho.totalShapeLength*(mo-1)}):(co.push({s:ho.totalShapeLength*lo,e:ho.totalShapeLength}),co.push({s:0,e:ho.totalShapeLength*(mo-1)}));var t0=this.addShapes(ho,co[0]);if(co[0].s!==co[0].e){if(co.length>1){var n0=ho.shape.paths.shapes[ho.shape.paths._length-1];if(n0.c){var i0=t0.pop();this.addPaths(t0,e0),t0=this.addShapes(ho,co[1],i0)}else this.addPaths(t0,e0),t0=this.addShapes(ho,co[1])}this.addPaths(t0,e0)}}ho.shape.paths=e0}}},TrimModifier.prototype.addPaths=function(st,Mt){var nn,rn=st.length;for(nn=0;nn<rn;nn+=1)Mt.addShape(st[nn])},TrimModifier.prototype.addSegment=function(st,Mt,nn,rn,an,sn,un){an.setXYAt(Mt[0],Mt[1],"o",sn),an.setXYAt(nn[0],nn[1],"i",sn+1),un&&an.setXYAt(st[0],st[1],"v",sn),an.setXYAt(rn[0],rn[1],"v",sn+1)},TrimModifier.prototype.addSegmentFromArray=function(st,Mt,nn,rn){Mt.setXYAt(st[1],st[5],"o",nn),Mt.setXYAt(st[2],st[6],"i",nn+1),rn&&Mt.setXYAt(st[0],st[4],"v",nn),Mt.setXYAt(st[3],st[7],"v",nn+1)},TrimModifier.prototype.addShapes=function(st,Mt,nn){var rn=st.pathsData,an=st.shape.paths.shapes,sn,un=st.shape.paths._length,ln,cn,hn=0,fn,to,Xr,uo,co=[],ho,e0=!0;for(nn?(to=nn._length,ho=nn._length):(nn=shapePool.newElement(),to=0,ho=0),co.push(nn),sn=0;sn<un;sn+=1){for(Xr=rn[sn].lengths,nn.c=an[sn].c,cn=an[sn].c?Xr.length:Xr.length+1,ln=1;ln<cn;ln+=1)if(fn=Xr[ln-1],hn+fn.addedLength<Mt.s)hn+=fn.addedLength,nn.c=!1;else if(hn>Mt.e){nn.c=!1;break}else Mt.s<=hn&&Mt.e>=hn+fn.addedLength?(this.addSegment(an[sn].v[ln-1],an[sn].o[ln-1],an[sn].i[ln],an[sn].v[ln],nn,to,e0),e0=!1):(uo=bez.getNewSegment(an[sn].v[ln-1],an[sn].v[ln],an[sn].o[ln-1],an[sn].i[ln],(Mt.s-hn)/fn.addedLength,(Mt.e-hn)/fn.addedLength,Xr[ln-1]),this.addSegmentFromArray(uo,nn,to,e0),e0=!1,nn.c=!1),hn+=fn.addedLength,to+=1;if(an[sn].c&&Xr.length){if(fn=Xr[ln-1],hn<=Mt.e){var lo=Xr[ln-1].addedLength;Mt.s<=hn&&Mt.e>=hn+lo?(this.addSegment(an[sn].v[ln-1],an[sn].o[ln-1],an[sn].i[0],an[sn].v[0],nn,to,e0),e0=!1):(uo=bez.getNewSegment(an[sn].v[ln-1],an[sn].v[0],an[sn].o[ln-1],an[sn].i[0],(Mt.s-hn)/lo,(Mt.e-hn)/lo,Xr[ln-1]),this.addSegmentFromArray(uo,nn,to,e0),e0=!1,nn.c=!1)}else nn.c=!1;hn+=fn.addedLength,to+=1}if(nn._length&&(nn.setXYAt(nn.v[ho][0],nn.v[ho][1],"i",ho),nn.setXYAt(nn.v[nn._length-1][0],nn.v[nn._length-1][1],"o",nn._length-1)),hn>Mt.e)break;sn<un-1&&(nn=shapePool.newElement(),e0=!0,co.push(nn),to=0)}return co};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(st,Mt){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(st,Mt.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(st,Mt){var nn=Mt/100,rn=[0,0],an=st._length,sn=0;for(sn=0;sn<an;sn+=1)rn[0]+=st.v[sn][0],rn[1]+=st.v[sn][1];rn[0]/=an,rn[1]/=an;var un=shapePool.newElement();un.c=st.c;var ln,cn,hn,fn,to,Xr;for(sn=0;sn<an;sn+=1)ln=st.v[sn][0]+(rn[0]-st.v[sn][0])*nn,cn=st.v[sn][1]+(rn[1]-st.v[sn][1])*nn,hn=st.o[sn][0]+(rn[0]-st.o[sn][0])*-nn,fn=st.o[sn][1]+(rn[1]-st.o[sn][1])*-nn,to=st.i[sn][0]+(rn[0]-st.i[sn][0])*-nn,Xr=st.i[sn][1]+(rn[1]-st.i[sn][1])*-nn,un.setTripleAt(ln,cn,hn,fn,to,Xr,sn);return un},PuckerAndBloatModifier.prototype.processShapes=function(st){var Mt,nn,rn=this.shapes.length,an,sn,un=this.amount.v;if(un!==0){var ln,cn;for(nn=0;nn<rn;nn+=1){if(ln=this.shapes[nn],cn=ln.localShapeCollection,!(!ln.shape._mdf&&!this._mdf&&!st))for(cn.releaseShapes(),ln.shape._mdf=!0,Mt=ln.shape.paths.shapes,sn=ln.shape.paths._length,an=0;an<sn;an+=1)cn.addShape(this.processPath(Mt[an],un));ln.shape.paths=ln.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var st=[0,0];function Mt(cn){var hn=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||hn,this.a&&cn.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&cn.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&cn.skewFromAxis(-this.sk.v,this.sa.v),this.r?cn.rotate(-this.r.v):cn.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?cn.translate(this.px.v,this.py.v,-this.pz.v):cn.translate(this.px.v,this.py.v,0):cn.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function nn(cn){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||cn){var hn;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var fn,to;if(hn=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(fn=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/hn,0),to=this.p.getValueAtTime(this.p.keyframes[0].t/hn,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(fn=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/hn,0),to=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/hn,0)):(fn=this.p.pv,to=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/hn,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){fn=[],to=[];var Xr=this.px,uo=this.py;Xr._caching.lastFrame+Xr.offsetTime<=Xr.keyframes[0].t?(fn[0]=Xr.getValueAtTime((Xr.keyframes[0].t+.01)/hn,0),fn[1]=uo.getValueAtTime((uo.keyframes[0].t+.01)/hn,0),to[0]=Xr.getValueAtTime(Xr.keyframes[0].t/hn,0),to[1]=uo.getValueAtTime(uo.keyframes[0].t/hn,0)):Xr._caching.lastFrame+Xr.offsetTime>=Xr.keyframes[Xr.keyframes.length-1].t?(fn[0]=Xr.getValueAtTime(Xr.keyframes[Xr.keyframes.length-1].t/hn,0),fn[1]=uo.getValueAtTime(uo.keyframes[uo.keyframes.length-1].t/hn,0),to[0]=Xr.getValueAtTime((Xr.keyframes[Xr.keyframes.length-1].t-.01)/hn,0),to[1]=uo.getValueAtTime((uo.keyframes[uo.keyframes.length-1].t-.01)/hn,0)):(fn=[Xr.pv,uo.pv],to[0]=Xr.getValueAtTime((Xr._caching.lastFrame+Xr.offsetTime-.01)/hn,Xr.offsetTime),to[1]=uo.getValueAtTime((uo._caching.lastFrame+uo.offsetTime-.01)/hn,uo.offsetTime))}else to=st,fn=to;this.v.rotate(-Math.atan2(fn[1]-to[1],fn[0]-to[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function rn(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function an(){}function sn(cn){this._addDynamicProperty(cn),this.elem.addDynamicProperty(cn),this._isDirty=!0}function un(cn,hn,fn){if(this.elem=cn,this.frameId=-1,this.propType="transform",this.data=hn,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(fn||cn),hn.p&&hn.p.s?(this.px=PropertyFactory.getProp(cn,hn.p.x,0,0,this),this.py=PropertyFactory.getProp(cn,hn.p.y,0,0,this),hn.p.z&&(this.pz=PropertyFactory.getProp(cn,hn.p.z,0,0,this))):this.p=PropertyFactory.getProp(cn,hn.p||{k:[0,0,0]},1,0,this),hn.rx){if(this.rx=PropertyFactory.getProp(cn,hn.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(cn,hn.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(cn,hn.rz,0,degToRads,this),hn.or.k[0].ti){var to,Xr=hn.or.k.length;for(to=0;to<Xr;to+=1)hn.or.k[to].to=null,hn.or.k[to].ti=null}this.or=PropertyFactory.getProp(cn,hn.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(cn,hn.r||{k:0},0,degToRads,this);hn.sk&&(this.sk=PropertyFactory.getProp(cn,hn.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(cn,hn.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(cn,hn.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(cn,hn.s||{k:[100,100,100]},1,.01,this),hn.o?this.o=PropertyFactory.getProp(cn,hn.o,0,.01,cn):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}un.prototype={applyToMatrix:Mt,getValue:nn,precalculateMatrix:rn,autoOrient:an},extendPrototype([DynamicPropertyContainer],un),un.prototype.addDynamicProperty=sn,un.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function ln(cn,hn,fn){return new un(cn,hn,fn)}return{getTransformProperty:ln}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(st,Mt){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(st,Mt.c,0,null,this),this.o=PropertyFactory.getProp(st,Mt.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(st,Mt.tr,this),this.so=PropertyFactory.getProp(st,Mt.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(st,Mt.tr.eo,0,.01,this),this.data=Mt,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(st,Mt,nn,rn,an,sn){var un=sn?-1:1,ln=rn.s.v[0]+(1-rn.s.v[0])*(1-an),cn=rn.s.v[1]+(1-rn.s.v[1])*(1-an);st.translate(rn.p.v[0]*un*an,rn.p.v[1]*un*an,rn.p.v[2]),Mt.translate(-rn.a.v[0],-rn.a.v[1],rn.a.v[2]),Mt.rotate(-rn.r.v*un*an),Mt.translate(rn.a.v[0],rn.a.v[1],rn.a.v[2]),nn.translate(-rn.a.v[0],-rn.a.v[1],rn.a.v[2]),nn.scale(sn?1/ln:ln,sn?1/cn:cn),nn.translate(rn.a.v[0],rn.a.v[1],rn.a.v[2])},RepeaterModifier.prototype.init=function(st,Mt,nn,rn){for(this.elem=st,this.arr=Mt,this.pos=nn,this.elemsData=rn,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(st),this.initModifierProperties(st,Mt[nn]);nn>0;)nn-=1,this._elements.unshift(Mt[nn]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(st){var Mt,nn=st.length;for(Mt=0;Mt<nn;Mt+=1)st[Mt]._processed=!1,st[Mt].ty==="gr"&&this.resetElements(st[Mt].it)},RepeaterModifier.prototype.cloneElements=function(st){var Mt=JSON.parse(JSON.stringify(st));return this.resetElements(Mt),Mt},RepeaterModifier.prototype.changeGroupRender=function(st,Mt){var nn,rn=st.length;for(nn=0;nn<rn;nn+=1)st[nn]._render=Mt,st[nn].ty==="gr"&&this.changeGroupRender(st[nn].it,Mt)},RepeaterModifier.prototype.processShapes=function(st){var Mt,nn,rn,an,sn,un=!1;if(this._mdf||st){var ln=Math.ceil(this.c.v);if(this._groups.length<ln){for(;this._groups.length<ln;){var cn={it:this.cloneElements(this._elements),ty:"gr"};cn.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,cn),this._groups.splice(0,0,cn),this._currentCopies+=1}this.elem.reloadShapes(),un=!0}sn=0;var hn;for(rn=0;rn<=this._groups.length-1;rn+=1){if(hn=sn<ln,this._groups[rn]._render=hn,this.changeGroupRender(this._groups[rn].it,hn),!hn){var fn=this.elemsData[rn].it,to=fn[fn.length-1];to.transform.op.v!==0?(to.transform.op._mdf=!0,to.transform.op.v=0):to.transform.op._mdf=!1}sn+=1}this._currentCopies=ln;var Xr=this.o.v,uo=Xr%1,co=Xr>0?Math.floor(Xr):Math.ceil(Xr),ho=this.pMatrix.props,e0=this.rMatrix.props,lo=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var mo=0;if(Xr>0){for(;mo<co;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),mo+=1;uo&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,uo,!1),mo+=uo)}else if(Xr<0){for(;mo>co;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),mo-=1;uo&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-uo,!0),mo-=uo)}rn=this.data.m===1?0:this._currentCopies-1,an=this.data.m===1?1:-1,sn=this._currentCopies;for(var fo,Uo;sn;){if(Mt=this.elemsData[rn].it,nn=Mt[Mt.length-1].transform.mProps.v.props,Uo=nn.length,Mt[Mt.length-1].transform.mProps._mdf=!0,Mt[Mt.length-1].transform.op._mdf=!0,Mt[Mt.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(rn/(this._currentCopies-1)),mo!==0){for((rn!==0&&an===1||rn!==this._currentCopies-1&&an===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(e0[0],e0[1],e0[2],e0[3],e0[4],e0[5],e0[6],e0[7],e0[8],e0[9],e0[10],e0[11],e0[12],e0[13],e0[14],e0[15]),this.matrix.transform(lo[0],lo[1],lo[2],lo[3],lo[4],lo[5],lo[6],lo[7],lo[8],lo[9],lo[10],lo[11],lo[12],lo[13],lo[14],lo[15]),this.matrix.transform(ho[0],ho[1],ho[2],ho[3],ho[4],ho[5],ho[6],ho[7],ho[8],ho[9],ho[10],ho[11],ho[12],ho[13],ho[14],ho[15]),fo=0;fo<Uo;fo+=1)nn[fo]=this.matrix.props[fo];this.matrix.reset()}else for(this.matrix.reset(),fo=0;fo<Uo;fo+=1)nn[fo]=this.matrix.props[fo];mo+=1,sn-=1,rn+=an}}else for(sn=this._currentCopies,rn=0,an=1;sn;)Mt=this.elemsData[rn].it,nn=Mt[Mt.length-1].transform.mProps.v.props,Mt[Mt.length-1].transform.mProps._mdf=!1,Mt[Mt.length-1].transform.op._mdf=!1,sn-=1,rn+=an;return un},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(st,Mt){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(st,Mt.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(st,Mt){var nn=shapePool.newElement();nn.c=st.c;var rn,an=st._length,sn,un,ln,cn,hn,fn,to=0,Xr,uo,co,ho,e0,lo;for(rn=0;rn<an;rn+=1)sn=st.v[rn],ln=st.o[rn],un=st.i[rn],sn[0]===ln[0]&&sn[1]===ln[1]&&sn[0]===un[0]&&sn[1]===un[1]?(rn===0||rn===an-1)&&!st.c?(nn.setTripleAt(sn[0],sn[1],ln[0],ln[1],un[0],un[1],to),to+=1):(rn===0?cn=st.v[an-1]:cn=st.v[rn-1],hn=Math.sqrt(Math.pow(sn[0]-cn[0],2)+Math.pow(sn[1]-cn[1],2)),fn=hn?Math.min(hn/2,Mt)/hn:0,e0=sn[0]+(cn[0]-sn[0])*fn,Xr=e0,lo=sn[1]-(sn[1]-cn[1])*fn,uo=lo,co=Xr-(Xr-sn[0])*roundCorner,ho=uo-(uo-sn[1])*roundCorner,nn.setTripleAt(Xr,uo,co,ho,e0,lo,to),to+=1,rn===an-1?cn=st.v[0]:cn=st.v[rn+1],hn=Math.sqrt(Math.pow(sn[0]-cn[0],2)+Math.pow(sn[1]-cn[1],2)),fn=hn?Math.min(hn/2,Mt)/hn:0,co=sn[0]+(cn[0]-sn[0])*fn,Xr=co,ho=sn[1]+(cn[1]-sn[1])*fn,uo=ho,e0=Xr-(Xr-sn[0])*roundCorner,lo=uo-(uo-sn[1])*roundCorner,nn.setTripleAt(Xr,uo,co,ho,e0,lo,to),to+=1):(nn.setTripleAt(st.v[rn][0],st.v[rn][1],st.o[rn][0],st.o[rn][1],st.i[rn][0],st.i[rn][1],to),to+=1);return nn},RoundCornersModifier.prototype.processShapes=function(st){var Mt,nn,rn=this.shapes.length,an,sn,un=this.rd.v;if(un!==0){var ln,cn;for(nn=0;nn<rn;nn+=1){if(ln=this.shapes[nn],cn=ln.localShapeCollection,!(!ln.shape._mdf&&!this._mdf&&!st))for(cn.releaseShapes(),ln.shape._mdf=!0,Mt=ln.shape.paths.shapes,sn=ln.shape.paths._length,an=0;an<sn;an+=1)cn.addShape(this.processPath(Mt[an],un));ln.shape.paths=ln.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(st,Mt){return Math.abs(st-Mt)*1e5<=Math.min(Math.abs(st),Math.abs(Mt))}function floatZero(st){return Math.abs(st)<=1e-5}function lerp(st,Mt,nn){return st*(1-nn)+Mt*nn}function lerpPoint(st,Mt,nn){return[lerp(st[0],Mt[0],nn),lerp(st[1],Mt[1],nn)]}function quadRoots(st,Mt,nn){if(st===0)return[];var rn=Mt*Mt-4*st*nn;if(rn<0)return[];var an=-Mt/(2*st);if(rn===0)return[an];var sn=Math.sqrt(rn)/(2*st);return[an-sn,an+sn]}function polynomialCoefficients(st,Mt,nn,rn){return[-st+3*Mt-3*nn+rn,3*st-6*Mt+3*nn,-3*st+3*Mt,st]}function singlePoint(st){return new PolynomialBezier(st,st,st,st,!1)}function PolynomialBezier(st,Mt,nn,rn,an){an&&pointEqual(st,Mt)&&(Mt=lerpPoint(st,rn,1/3)),an&&pointEqual(nn,rn)&&(nn=lerpPoint(st,rn,2/3));var sn=polynomialCoefficients(st[0],Mt[0],nn[0],rn[0]),un=polynomialCoefficients(st[1],Mt[1],nn[1],rn[1]);this.a=[sn[0],un[0]],this.b=[sn[1],un[1]],this.c=[sn[2],un[2]],this.d=[sn[3],un[3]],this.points=[st,Mt,nn,rn]}PolynomialBezier.prototype.point=function(st){return[((this.a[0]*st+this.b[0])*st+this.c[0])*st+this.d[0],((this.a[1]*st+this.b[1])*st+this.c[1])*st+this.d[1]]},PolynomialBezier.prototype.derivative=function(st){return[(3*st*this.a[0]+2*this.b[0])*st+this.c[0],(3*st*this.a[1]+2*this.b[1])*st+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(st){var Mt=this.derivative(st);return Math.atan2(Mt[1],Mt[0])},PolynomialBezier.prototype.normalAngle=function(st){var Mt=this.derivative(st);return Math.atan2(Mt[0],Mt[1])},PolynomialBezier.prototype.inflectionPoints=function(){var st=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(st))return[];var Mt=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/st,nn=Mt*Mt-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/st;if(nn<0)return[];var rn=Math.sqrt(nn);return floatZero(rn)?rn>0&&rn<1?[Mt]:[]:[Mt-rn,Mt+rn].filter(function(an){return an>0&&an<1})},PolynomialBezier.prototype.split=function(st){if(st<=0)return[singlePoint(this.points[0]),this];if(st>=1)return[this,singlePoint(this.points[this.points.length-1])];var Mt=lerpPoint(this.points[0],this.points[1],st),nn=lerpPoint(this.points[1],this.points[2],st),rn=lerpPoint(this.points[2],this.points[3],st),an=lerpPoint(Mt,nn,st),sn=lerpPoint(nn,rn,st),un=lerpPoint(an,sn,st);return[new PolynomialBezier(this.points[0],Mt,an,un,!0),new PolynomialBezier(un,sn,rn,this.points[3],!0)]};function extrema(st,Mt){var nn=st.points[0][Mt],rn=st.points[st.points.length-1][Mt];if(nn>rn){var an=rn;rn=nn,nn=an}for(var sn=quadRoots(3*st.a[Mt],2*st.b[Mt],st.c[Mt]),un=0;un<sn.length;un+=1)if(sn[un]>0&&sn[un]<1){var ln=st.point(sn[un])[Mt];ln<nn?nn=ln:ln>rn&&(rn=ln)}return{min:nn,max:rn}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var st=this.bounds();return{left:st.x.min,right:st.x.max,top:st.y.min,bottom:st.y.max,width:st.x.max-st.x.min,height:st.y.max-st.y.min,cx:(st.x.max+st.x.min)/2,cy:(st.y.max+st.y.min)/2}};function intersectData(st,Mt,nn){var rn=st.boundingBox();return{cx:rn.cx,cy:rn.cy,width:rn.width,height:rn.height,bez:st,t:(Mt+nn)/2,t1:Mt,t2:nn}}function splitData(st){var Mt=st.bez.split(.5);return[intersectData(Mt[0],st.t1,st.t),intersectData(Mt[1],st.t,st.t2)]}function boxIntersect(st,Mt){return Math.abs(st.cx-Mt.cx)*2<st.width+Mt.width&&Math.abs(st.cy-Mt.cy)*2<st.height+Mt.height}function intersectsImpl(st,Mt,nn,rn,an,sn){if(boxIntersect(st,Mt)){if(nn>=sn||st.width<=rn&&st.height<=rn&&Mt.width<=rn&&Mt.height<=rn){an.push([st.t,Mt.t]);return}var un=splitData(st),ln=splitData(Mt);intersectsImpl(un[0],ln[0],nn+1,rn,an,sn),intersectsImpl(un[0],ln[1],nn+1,rn,an,sn),intersectsImpl(un[1],ln[0],nn+1,rn,an,sn),intersectsImpl(un[1],ln[1],nn+1,rn,an,sn)}}PolynomialBezier.prototype.intersections=function(st,Mt,nn){Mt===void 0&&(Mt=2),nn===void 0&&(nn=7);var rn=[];return intersectsImpl(intersectData(this,0,1),intersectData(st,0,1),0,Mt,rn,nn),rn},PolynomialBezier.shapeSegment=function(st,Mt){var nn=(Mt+1)%st.length();return new PolynomialBezier(st.v[Mt],st.o[Mt],st.i[nn],st.v[nn],!0)},PolynomialBezier.shapeSegmentInverted=function(st,Mt){var nn=(Mt+1)%st.length();return new PolynomialBezier(st.v[nn],st.i[nn],st.o[Mt],st.v[Mt],!0)};function crossProduct(st,Mt){return[st[1]*Mt[2]-st[2]*Mt[1],st[2]*Mt[0]-st[0]*Mt[2],st[0]*Mt[1]-st[1]*Mt[0]]}function lineIntersection(st,Mt,nn,rn){var an=[st[0],st[1],1],sn=[Mt[0],Mt[1],1],un=[nn[0],nn[1],1],ln=[rn[0],rn[1],1],cn=crossProduct(crossProduct(an,sn),crossProduct(un,ln));return floatZero(cn[2])?null:[cn[0]/cn[2],cn[1]/cn[2]]}function polarOffset(st,Mt,nn){return[st[0]+Math.cos(Mt)*nn,st[1]-Math.sin(Mt)*nn]}function pointDistance(st,Mt){return Math.hypot(st[0]-Mt[0],st[1]-Mt[1])}function pointEqual(st,Mt){return floatEqual(st[0],Mt[0])&&floatEqual(st[1],Mt[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(st,Mt){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(st,Mt.s,0,null,this),this.frequency=PropertyFactory.getProp(st,Mt.r,0,null,this),this.pointsType=PropertyFactory.getProp(st,Mt.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(st,Mt,nn,rn,an,sn,un){var ln=nn-Math.PI/2,cn=nn+Math.PI/2,hn=Mt[0]+Math.cos(nn)*rn*an,fn=Mt[1]-Math.sin(nn)*rn*an;st.setTripleAt(hn,fn,hn+Math.cos(ln)*sn,fn-Math.sin(ln)*sn,hn+Math.cos(cn)*un,fn-Math.sin(cn)*un,st.length())}function getPerpendicularVector(st,Mt){var nn=[Mt[0]-st[0],Mt[1]-st[1]],rn=-Math.PI*.5,an=[Math.cos(rn)*nn[0]-Math.sin(rn)*nn[1],Math.sin(rn)*nn[0]+Math.cos(rn)*nn[1]];return an}function getProjectingAngle(st,Mt){var nn=Mt===0?st.length()-1:Mt-1,rn=(Mt+1)%st.length(),an=st.v[nn],sn=st.v[rn],un=getPerpendicularVector(an,sn);return Math.atan2(0,1)-Math.atan2(un[1],un[0])}function zigZagCorner(st,Mt,nn,rn,an,sn,un){var ln=getProjectingAngle(Mt,nn),cn=Mt.v[nn%Mt._length],hn=Mt.v[nn===0?Mt._length-1:nn-1],fn=Mt.v[(nn+1)%Mt._length],to=sn===2?Math.sqrt(Math.pow(cn[0]-hn[0],2)+Math.pow(cn[1]-hn[1],2)):0,Xr=sn===2?Math.sqrt(Math.pow(cn[0]-fn[0],2)+Math.pow(cn[1]-fn[1],2)):0;setPoint(st,Mt.v[nn%Mt._length],ln,un,rn,Xr/((an+1)*2),to/((an+1)*2))}function zigZagSegment(st,Mt,nn,rn,an,sn){for(var un=0;un<rn;un+=1){var ln=(un+1)/(rn+1),cn=an===2?Math.sqrt(Math.pow(Mt.points[3][0]-Mt.points[0][0],2)+Math.pow(Mt.points[3][1]-Mt.points[0][1],2)):0,hn=Mt.normalAngle(ln),fn=Mt.point(ln);setPoint(st,fn,hn,sn,nn,cn/((rn+1)*2),cn/((rn+1)*2)),sn=-sn}return sn}ZigZagModifier.prototype.processPath=function(st,Mt,nn,rn){var an=st._length,sn=shapePool.newElement();if(sn.c=st.c,st.c||(an-=1),an===0)return sn;var un=-1,ln=PolynomialBezier.shapeSegment(st,0);zigZagCorner(sn,st,0,Mt,nn,rn,un);for(var cn=0;cn<an;cn+=1)un=zigZagSegment(sn,ln,Mt,nn,rn,-un),cn===an-1&&!st.c?ln=null:ln=PolynomialBezier.shapeSegment(st,(cn+1)%an),zigZagCorner(sn,st,cn+1,Mt,nn,rn,un);return sn},ZigZagModifier.prototype.processShapes=function(st){var Mt,nn,rn=this.shapes.length,an,sn,un=this.amplitude.v,ln=Math.max(0,Math.round(this.frequency.v)),cn=this.pointsType.v;if(un!==0){var hn,fn;for(nn=0;nn<rn;nn+=1){if(hn=this.shapes[nn],fn=hn.localShapeCollection,!(!hn.shape._mdf&&!this._mdf&&!st))for(fn.releaseShapes(),hn.shape._mdf=!0,Mt=hn.shape.paths.shapes,sn=hn.shape.paths._length,an=0;an<sn;an+=1)fn.addShape(this.processPath(Mt[an],un,ln,cn));hn.shape.paths=hn.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(st,Mt,nn){var rn=Math.atan2(Mt[0]-st[0],Mt[1]-st[1]);return[polarOffset(st,rn,nn),polarOffset(Mt,rn,nn)]}function offsetSegment(st,Mt){var nn,rn,an,sn,un,ln,cn;cn=linearOffset(st.points[0],st.points[1],Mt),nn=cn[0],rn=cn[1],cn=linearOffset(st.points[1],st.points[2],Mt),an=cn[0],sn=cn[1],cn=linearOffset(st.points[2],st.points[3],Mt),un=cn[0],ln=cn[1];var hn=lineIntersection(nn,rn,an,sn);hn===null&&(hn=rn);var fn=lineIntersection(un,ln,an,sn);return fn===null&&(fn=un),new PolynomialBezier(nn,hn,fn,ln)}function joinLines(st,Mt,nn,rn,an){var sn=Mt.points[3],un=nn.points[0];if(rn===3||pointEqual(sn,un))return sn;if(rn===2){var ln=-Mt.tangentAngle(1),cn=-nn.tangentAngle(0)+Math.PI,hn=lineIntersection(sn,polarOffset(sn,ln+Math.PI/2,100),un,polarOffset(un,ln+Math.PI/2,100)),fn=hn?pointDistance(hn,sn):pointDistance(sn,un)/2,to=polarOffset(sn,ln,2*fn*roundCorner);return st.setXYAt(to[0],to[1],"o",st.length()-1),to=polarOffset(un,cn,2*fn*roundCorner),st.setTripleAt(un[0],un[1],un[0],un[1],to[0],to[1],st.length()),un}var Xr=pointEqual(sn,Mt.points[2])?Mt.points[0]:Mt.points[2],uo=pointEqual(un,nn.points[1])?nn.points[3]:nn.points[1],co=lineIntersection(Xr,sn,un,uo);return co&&pointDistance(co,sn)<an?(st.setTripleAt(co[0],co[1],co[0],co[1],co[0],co[1],st.length()),co):sn}function getIntersection(st,Mt){var nn=st.intersections(Mt);return nn.length&&floatEqual(nn[0][0],1)&&nn.shift(),nn.length?nn[0]:null}function pruneSegmentIntersection(st,Mt){var nn=st.slice(),rn=Mt.slice(),an=getIntersection(st[st.length-1],Mt[0]);return an&&(nn[st.length-1]=st[st.length-1].split(an[0])[0],rn[0]=Mt[0].split(an[1])[1]),st.length>1&&Mt.length>1&&(an=getIntersection(st[0],Mt[Mt.length-1]),an)?[[st[0].split(an[0])[0]],[Mt[Mt.length-1].split(an[1])[1]]]:[nn,rn]}function pruneIntersections(st){for(var Mt,nn=1;nn<st.length;nn+=1)Mt=pruneSegmentIntersection(st[nn-1],st[nn]),st[nn-1]=Mt[0],st[nn]=Mt[1];return st.length>1&&(Mt=pruneSegmentIntersection(st[st.length-1],st[0]),st[st.length-1]=Mt[0],st[0]=Mt[1]),st}function offsetSegmentSplit(st,Mt){var nn=st.inflectionPoints(),rn,an,sn,un;if(nn.length===0)return[offsetSegment(st,Mt)];if(nn.length===1||floatEqual(nn[1],1))return sn=st.split(nn[0]),rn=sn[0],an=sn[1],[offsetSegment(rn,Mt),offsetSegment(an,Mt)];sn=st.split(nn[0]),rn=sn[0];var ln=(nn[1]-nn[0])/(1-nn[0]);return sn=sn[1].split(ln),un=sn[0],an=sn[1],[offsetSegment(rn,Mt),offsetSegment(un,Mt),offsetSegment(an,Mt)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(st,Mt){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(st,Mt.a,0,null,this),this.miterLimit=PropertyFactory.getProp(st,Mt.ml,0,null,this),this.lineJoin=Mt.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(st,Mt,nn,rn){var an=shapePool.newElement();an.c=st.c;var sn=st.length();st.c||(sn-=1);var un,ln,cn,hn=[];for(un=0;un<sn;un+=1)cn=PolynomialBezier.shapeSegment(st,un),hn.push(offsetSegmentSplit(cn,Mt));if(!st.c)for(un=sn-1;un>=0;un-=1)cn=PolynomialBezier.shapeSegmentInverted(st,un),hn.push(offsetSegmentSplit(cn,Mt));hn=pruneIntersections(hn);var fn=null,to=null;for(un=0;un<hn.length;un+=1){var Xr=hn[un];for(to&&(fn=joinLines(an,to,Xr[0],nn,rn)),to=Xr[Xr.length-1],ln=0;ln<Xr.length;ln+=1)cn=Xr[ln],fn&&pointEqual(cn.points[0],fn)?an.setXYAt(cn.points[1][0],cn.points[1][1],"o",an.length()-1):an.setTripleAt(cn.points[0][0],cn.points[0][1],cn.points[1][0],cn.points[1][1],cn.points[0][0],cn.points[0][1],an.length()),an.setTripleAt(cn.points[3][0],cn.points[3][1],cn.points[3][0],cn.points[3][1],cn.points[2][0],cn.points[2][1],an.length()),fn=cn.points[3]}return hn.length&&joinLines(an,to,hn[0][0],nn,rn),an},OffsetPathModifier.prototype.processShapes=function(st){var Mt,nn,rn=this.shapes.length,an,sn,un=this.amount.v,ln=this.miterLimit.v,cn=this.lineJoin;if(un!==0){var hn,fn;for(nn=0;nn<rn;nn+=1){if(hn=this.shapes[nn],fn=hn.localShapeCollection,!(!hn.shape._mdf&&!this._mdf&&!st))for(fn.releaseShapes(),hn.shape._mdf=!0,Mt=hn.shape.paths.shapes,sn=hn.shape.paths._length,an=0;an<sn;an+=1)fn.addShape(this.processPath(Mt[an],un,cn,ln));hn.shape.paths=hn.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(st){for(var Mt=st.fStyle?st.fStyle.split(" "):[],nn="normal",rn="normal",an=Mt.length,sn,un=0;un<an;un+=1)switch(sn=Mt[un].toLowerCase(),sn){case"italic":rn="italic";break;case"bold":nn="700";break;case"black":nn="900";break;case"medium":nn="500";break;case"regular":case"normal":nn="400";break;case"light":case"thin":nn="200";break}return{style:rn,weight:st.fWeight||nn}}var FontManager=function(){var st=5e3,Mt={w:0,size:0,shapes:[],data:{shapes:[]}},nn=[];nn=nn.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var rn=127988,an=917631,sn=917601,un=917626,ln=65039,cn=8205,hn=127462,fn=127487,to=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function Xr(u0){var c0=u0.split(","),r0,o0=c0.length,f0=[];for(r0=0;r0<o0;r0+=1)c0[r0]!=="sans-serif"&&c0[r0]!=="monospace"&&f0.push(c0[r0]);return f0.join(",")}function uo(u0,c0){var r0=createTag("span");r0.setAttribute("aria-hidden",!0),r0.style.fontFamily=c0;var o0=createTag("span");o0.innerText="giItT1WQy@!-/#",r0.style.position="absolute",r0.style.left="-10000px",r0.style.top="-10000px",r0.style.fontSize="300px",r0.style.fontVariant="normal",r0.style.fontStyle="normal",r0.style.fontWeight="normal",r0.style.letterSpacing="0",r0.appendChild(o0),document.body.appendChild(r0);var f0=o0.offsetWidth;return o0.style.fontFamily=Xr(u0)+", "+c0,{node:o0,w:f0,parent:r0}}function co(){var u0,c0=this.fonts.length,r0,o0,f0=c0;for(u0=0;u0<c0;u0+=1)this.fonts[u0].loaded?f0-=1:this.fonts[u0].fOrigin==="n"||this.fonts[u0].origin===0?this.fonts[u0].loaded=!0:(r0=this.fonts[u0].monoCase.node,o0=this.fonts[u0].monoCase.w,r0.offsetWidth!==o0?(f0-=1,this.fonts[u0].loaded=!0):(r0=this.fonts[u0].sansCase.node,o0=this.fonts[u0].sansCase.w,r0.offsetWidth!==o0&&(f0-=1,this.fonts[u0].loaded=!0)),this.fonts[u0].loaded&&(this.fonts[u0].sansCase.parent.parentNode.removeChild(this.fonts[u0].sansCase.parent),this.fonts[u0].monoCase.parent.parentNode.removeChild(this.fonts[u0].monoCase.parent)));f0!==0&&Date.now()-this.initTime<st?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function ho(u0,c0){var r0=document.body&&c0?"svg":"canvas",o0,f0=getFontProperties(u0);if(r0==="svg"){var p0=createNS("text");p0.style.fontSize="100px",p0.setAttribute("font-family",u0.fFamily),p0.setAttribute("font-style",f0.style),p0.setAttribute("font-weight",f0.weight),p0.textContent="1",u0.fClass?(p0.style.fontFamily="inherit",p0.setAttribute("class",u0.fClass)):p0.style.fontFamily=u0.fFamily,c0.appendChild(p0),o0=p0}else{var y0=new OffscreenCanvas(500,500).getContext("2d");y0.font=f0.style+" "+f0.weight+" 100px "+u0.fFamily,o0=y0}function x0(k0){return r0==="svg"?(o0.textContent=k0,o0.getComputedTextLength()):o0.measureText(k0).width}return{measureText:x0}}function e0(u0,c0){if(!u0){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=u0.list;return}if(!document.body){this.isLoaded=!0,u0.list.forEach(function(A0){A0.helper=ho(A0),A0.cache={}}),this.fonts=u0.list;return}var r0=u0.list,o0,f0=r0.length,p0=f0;for(o0=0;o0<f0;o0+=1){var y0=!0,x0,k0;if(r0[o0].loaded=!1,r0[o0].monoCase=uo(r0[o0].fFamily,"monospace"),r0[o0].sansCase=uo(r0[o0].fFamily,"sans-serif"),!r0[o0].fPath)r0[o0].loaded=!0,p0-=1;else if(r0[o0].fOrigin==="p"||r0[o0].origin===3){if(x0=document.querySelectorAll('style[f-forigin="p"][f-family="'+r0[o0].fFamily+'"], style[f-origin="3"][f-family="'+r0[o0].fFamily+'"]'),x0.length>0&&(y0=!1),y0){var b0=createTag("style");b0.setAttribute("f-forigin",r0[o0].fOrigin),b0.setAttribute("f-origin",r0[o0].origin),b0.setAttribute("f-family",r0[o0].fFamily),b0.type="text/css",b0.innerText="@font-face {font-family: "+r0[o0].fFamily+"; font-style: normal; src: url('"+r0[o0].fPath+"');}",c0.appendChild(b0)}}else if(r0[o0].fOrigin==="g"||r0[o0].origin===1){for(x0=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),k0=0;k0<x0.length;k0+=1)x0[k0].href.indexOf(r0[o0].fPath)!==-1&&(y0=!1);if(y0){var E0=createTag("link");E0.setAttribute("f-forigin",r0[o0].fOrigin),E0.setAttribute("f-origin",r0[o0].origin),E0.type="text/css",E0.rel="stylesheet",E0.href=r0[o0].fPath,document.body.appendChild(E0)}}else if(r0[o0].fOrigin==="t"||r0[o0].origin===2){for(x0=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),k0=0;k0<x0.length;k0+=1)r0[o0].fPath===x0[k0].src&&(y0=!1);if(y0){var _0=createTag("link");_0.setAttribute("f-forigin",r0[o0].fOrigin),_0.setAttribute("f-origin",r0[o0].origin),_0.setAttribute("rel","stylesheet"),_0.setAttribute("href",r0[o0].fPath),c0.appendChild(_0)}}r0[o0].helper=ho(r0[o0],c0),r0[o0].cache={},this.fonts.push(r0[o0])}p0===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function lo(u0){if(u0){this.chars||(this.chars=[]);var c0,r0=u0.length,o0,f0=this.chars.length,p0;for(c0=0;c0<r0;c0+=1){for(o0=0,p0=!1;o0<f0;)this.chars[o0].style===u0[c0].style&&this.chars[o0].fFamily===u0[c0].fFamily&&this.chars[o0].ch===u0[c0].ch&&(p0=!0),o0+=1;p0||(this.chars.push(u0[c0]),f0+=1)}}}function mo(u0,c0,r0){for(var o0=0,f0=this.chars.length;o0<f0;){if(this.chars[o0].ch===u0&&this.chars[o0].style===c0&&this.chars[o0].fFamily===r0)return this.chars[o0];o0+=1}return(typeof u0=="string"&&u0.charCodeAt(0)!==13||!u0)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",u0,c0,r0)),Mt}function fo(u0,c0,r0){var o0=this.getFontByName(c0),f0=u0;if(!o0.cache[f0]){var p0=o0.helper;if(u0===" "){var y0=p0.measureText("|"+u0+"|"),x0=p0.measureText("||");o0.cache[f0]=(y0-x0)/100}else o0.cache[f0]=p0.measureText(u0)/100}return o0.cache[f0]*r0}function Uo(u0){for(var c0=0,r0=this.fonts.length;c0<r0;){if(this.fonts[c0].fName===u0)return this.fonts[c0];c0+=1}return this.fonts[0]}function t0(u0){var c0=0,r0=u0.charCodeAt(0);if(r0>=55296&&r0<=56319){var o0=u0.charCodeAt(1);o0>=56320&&o0<=57343&&(c0=(r0-55296)*1024+o0-56320+65536)}return c0}function n0(u0,c0){var r0=u0.toString(16)+c0.toString(16);return to.indexOf(r0)!==-1}function i0(u0){return u0===cn}function a0(u0){return u0===ln}function s0(u0){var c0=t0(u0);return c0>=hn&&c0<=fn}function l0(u0){return s0(u0.substr(0,2))&&s0(u0.substr(2,2))}function d0(u0){return nn.indexOf(u0)!==-1}function h0(u0,c0){var r0=t0(u0.substr(c0,2));if(r0!==rn)return!1;var o0=0;for(c0+=2;o0<5;){if(r0=t0(u0.substr(c0,2)),r0<sn||r0>un)return!1;o0+=1,c0+=2}return t0(u0.substr(c0,2))===an}function v0(){this.isLoaded=!0}var g0=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};g0.isModifier=n0,g0.isZeroWidthJoiner=i0,g0.isFlagEmoji=l0,g0.isRegionalCode=s0,g0.isCombinedCharacter=d0,g0.isRegionalFlag=h0,g0.isVariationSelector=a0,g0.BLACK_FLAG_CODE_POINT=rn;var m0={addChars:lo,addFonts:e0,getCharData:mo,getFontByName:Uo,measureText:fo,checkLoadedFonts:co,setIsLoaded:v0};return g0.prototype=m0,g0}();function SlotManager(st){this.animationData=st}SlotManager.prototype.getProp=function(st){return this.animationData.slots&&this.animationData.slots[st.sid]?Object.assign(st,this.animationData.slots[st.sid].p):st};function slotFactory(st){return new SlotManager(st)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(Mt){this.renderableComponents.indexOf(Mt)===-1&&this.renderableComponents.push(Mt)},removeRenderableComponent:function(Mt){this.renderableComponents.indexOf(Mt)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(Mt),1)},prepareRenderableFrame:function(Mt){this.checkLayerLimits(Mt)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(Mt){this.data.ip-this.data.st<=Mt&&this.data.op-this.data.st>Mt?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var Mt,nn=this.renderableComponents.length;for(Mt=0;Mt<nn;Mt+=1)this.renderableComponents[Mt].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var st={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(Mt){return st[Mt]||""}}();function SliderEffect(st,Mt,nn){this.p=PropertyFactory.getProp(Mt,st.v,0,0,nn)}function AngleEffect(st,Mt,nn){this.p=PropertyFactory.getProp(Mt,st.v,0,0,nn)}function ColorEffect(st,Mt,nn){this.p=PropertyFactory.getProp(Mt,st.v,1,0,nn)}function PointEffect(st,Mt,nn){this.p=PropertyFactory.getProp(Mt,st.v,1,0,nn)}function LayerIndexEffect(st,Mt,nn){this.p=PropertyFactory.getProp(Mt,st.v,0,0,nn)}function MaskIndexEffect(st,Mt,nn){this.p=PropertyFactory.getProp(Mt,st.v,0,0,nn)}function CheckboxEffect(st,Mt,nn){this.p=PropertyFactory.getProp(Mt,st.v,0,0,nn)}function NoValueEffect(){this.p={}}function EffectsManager(st,Mt){var nn=st.ef||[];this.effectElements=[];var rn,an=nn.length,sn;for(rn=0;rn<an;rn+=1)sn=new GroupEffect(nn[rn],Mt),this.effectElements.push(sn)}function GroupEffect(st,Mt){this.init(st,Mt)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(st,Mt){this.data=st,this.effectElements=[],this.initDynamicPropertyContainer(Mt);var nn,rn=this.data.ef.length,an,sn=this.data.ef;for(nn=0;nn<rn;nn+=1){switch(an=null,sn[nn].ty){case 0:an=new SliderEffect(sn[nn],Mt,this);break;case 1:an=new AngleEffect(sn[nn],Mt,this);break;case 2:an=new ColorEffect(sn[nn],Mt,this);break;case 3:an=new PointEffect(sn[nn],Mt,this);break;case 4:case 7:an=new CheckboxEffect(sn[nn],Mt,this);break;case 10:an=new LayerIndexEffect(sn[nn],Mt,this);break;case 11:an=new MaskIndexEffect(sn[nn],Mt,this);break;case 5:an=new EffectsManager(sn[nn],Mt);break;default:an=new NoValueEffect(sn[nn]);break}an&&this.effectElements.push(an)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var Mt=0,nn=this.data.masksProperties.length;Mt<nn;){if(this.data.masksProperties[Mt].mode!=="n"&&this.data.masksProperties[Mt].cl!==!1)return!0;Mt+=1}return!1},initExpressions:function(){var Mt=getExpressionInterfaces();if(Mt){var nn=Mt("layer"),rn=Mt("effects"),an=Mt("shape"),sn=Mt("text"),un=Mt("comp");this.layerInterface=nn(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var ln=rn.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(ln),this.data.ty===0||this.data.xt?this.compInterface=un(this):this.data.ty===4?(this.layerInterface.shapeInterface=an(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=sn(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var Mt=getBlendMode(this.data.bm),nn=this.baseElement||this.layerElement;nn.style["mix-blend-mode"]=Mt},initBaseData:function(Mt,nn,rn){this.globalData=nn,this.comp=rn,this.data=Mt,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(Mt,nn){var rn,an=this.dynamicProperties.length;for(rn=0;rn<an;rn+=1)(nn||this._isParent&&this.dynamicProperties[rn].propType==="transform")&&(this.dynamicProperties[rn].getValue(),this.dynamicProperties[rn]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(Mt){this.dynamicProperties.indexOf(Mt)===-1&&this.dynamicProperties.push(Mt)}};function FootageElement(st,Mt,nn){this.initFrame(),this.initRenderable(),this.assetData=Mt.getAssetData(st.refId),this.footageData=Mt.imageLoader.getAsset(this.assetData),this.initBaseData(st,Mt,nn)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var st=getExpressionInterfaces();if(st){var Mt=st("footage");this.layerInterface=Mt(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(st,Mt,nn){this.initFrame(),this.initRenderable(),this.assetData=Mt.getAssetData(st.refId),this.initBaseData(st,Mt,nn),this._isPlaying=!1,this._canPlay=!1;var rn=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(rn),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=st.tm?PropertyFactory.getProp(this,st.tm,0,Mt.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,st.au&&st.au.lv?st.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(st){if(this.prepareRenderableFrame(st,!0),this.prepareProperties(st,!0),this.tm._placeholder)this._currentTime=st/this.data.sr;else{var Mt=this.tm.v;this._currentTime=Mt}this._volume=this.lv.v[0];var nn=this._volume*this._volumeMultiplier;this._previousVolume!==nn&&(this._previousVolume=nn,this.audio.volume(nn))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(st){this.audio.rate(st)},AudioElement.prototype.volume=function(st){this._volumeMultiplier=st,this._previousVolume=st*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(st){var Mt,nn=this.layers.length,rn;for(this.completeLayers=!0,Mt=nn-1;Mt>=0;Mt-=1)this.elements[Mt]||(rn=this.layers[Mt],rn.ip-rn.st<=st-this.layers[Mt].st&&rn.op-rn.st>st-this.layers[Mt].st&&this.buildItem(Mt)),this.completeLayers=this.elements[Mt]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(st){switch(st.ty){case 2:return this.createImage(st);case 0:return this.createComp(st);case 1:return this.createSolid(st);case 3:return this.createNull(st);case 4:return this.createShape(st);case 5:return this.createText(st);case 6:return this.createAudio(st);case 13:return this.createCamera(st);case 15:return this.createFootage(st);default:return this.createNull(st)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(st){return new AudioElement(st,this.globalData,this)},BaseRenderer.prototype.createFootage=function(st){return new FootageElement(st,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var st,Mt=this.layers.length;for(st=0;st<Mt;st+=1)this.buildItem(st);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(st){this.completeLayers=!1;var Mt,nn=st.length,rn,an=this.layers.length;for(Mt=0;Mt<nn;Mt+=1)for(rn=0;rn<an;){if(this.layers[rn].id===st[Mt].id){this.layers[rn]=st[Mt];break}rn+=1}},BaseRenderer.prototype.setProjectInterface=function(st){this.globalData.projectInterface=st},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(st,Mt,nn){for(var rn=this.elements,an=this.layers,sn=0,un=an.length;sn<un;)an[sn].ind==Mt&&(!rn[sn]||rn[sn]===!0?(this.buildItem(sn),this.addPendingElement(st)):(nn.push(rn[sn]),rn[sn].setAsParent(),an[sn].parent!==void 0?this.buildElementParenting(st,an[sn].parent,nn):st.setHierarchy(nn))),sn+=1},BaseRenderer.prototype.addPendingElement=function(st){this.pendingElements.push(st)},BaseRenderer.prototype.searchExtraCompositions=function(st){var Mt,nn=st.length;for(Mt=0;Mt<nn;Mt+=1)if(st[Mt].xt){var rn=this.createComp(st[Mt]);rn.initExpressions(),this.globalData.projectInterface.registerComposition(rn)}},BaseRenderer.prototype.getElementById=function(st){var Mt,nn=this.elements.length;for(Mt=0;Mt<nn;Mt+=1)if(this.elements[Mt].data.ind===st)return this.elements[Mt];return null},BaseRenderer.prototype.getElementByPath=function(st){var Mt=st.shift(),nn;if(typeof Mt=="number")nn=this.elements[Mt];else{var rn,an=this.elements.length;for(rn=0;rn<an;rn+=1)if(this.elements[rn].data.nm===Mt){nn=this.elements[rn];break}}return st.length===0?nn:nn.getElementByPath(st)},BaseRenderer.prototype.setupGlobalData=function(st,Mt){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(st),this.globalData.fontManager.addChars(st.chars),this.globalData.fontManager.addFonts(st.fonts,Mt),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=st.fr,this.globalData.nm=st.nm,this.globalData.compSize={w:st.w,h:st.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var Mt=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:Mt,localMat:Mt,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var Mt,nn=this.finalTransform.mat,rn=0,an=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;rn<an;){if(this.hierarchy[rn].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}rn+=1}if(this.finalTransform._matMdf)for(Mt=this.finalTransform.mProp.v.props,nn.cloneFromProps(Mt),rn=0;rn<an;rn+=1)nn.multiply(this.hierarchy[rn].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var Mt=0,nn=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;Mt<nn;)this.localTransforms[Mt]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[Mt]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),Mt+=1;if(this.finalTransform._localMatMdf){var rn=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(rn),Mt=1;Mt<nn;Mt+=1){var an=this.localTransforms[Mt].matrix;rn.multiply(an)}rn.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var sn=this.finalTransform.localOpacity;for(Mt=0;Mt<nn;Mt+=1)sn*=this.localTransforms[Mt].opacity*.01;this.finalTransform.localOpacity=sn}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var Mt=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(Mt.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var nn=0,rn=Mt.length;for(nn=0;nn<rn;nn+=1)this.localTransforms.push(Mt[nn])}}},globalToLocal:function(Mt){var nn=[];nn.push(this.finalTransform);for(var rn=!0,an=this.comp;rn;)an.finalTransform?(an.data.hasMask&&nn.splice(0,0,an.finalTransform),an=an.comp):rn=!1;var sn,un=nn.length,ln;for(sn=0;sn<un;sn+=1)ln=nn[sn].mat.applyToPointArray(0,0,0),Mt=[Mt[0]-ln[0],Mt[1]-ln[1],0];return Mt},mHelper:new Matrix};function MaskElement(st,Mt,nn){this.data=st,this.element=Mt,this.globalData=nn,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var rn=this.globalData.defs,an,sn=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(sn),this.solidPath="";var un,ln=this.masksProperties,cn=0,hn=[],fn,to,Xr=createElementID(),uo,co,ho,e0,lo="clipPath",mo="clip-path";for(an=0;an<sn;an+=1)if((ln[an].mode!=="a"&&ln[an].mode!=="n"||ln[an].inv||ln[an].o.k!==100||ln[an].o.x)&&(lo="mask",mo="mask"),(ln[an].mode==="s"||ln[an].mode==="i")&&cn===0?(uo=createNS("rect"),uo.setAttribute("fill","#ffffff"),uo.setAttribute("width",this.element.comp.data.w||0),uo.setAttribute("height",this.element.comp.data.h||0),hn.push(uo)):uo=null,un=createNS("path"),ln[an].mode==="n")this.viewData[an]={op:PropertyFactory.getProp(this.element,ln[an].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ln[an],3),elem:un,lastPath:""},rn.appendChild(un);else{cn+=1,un.setAttribute("fill",ln[an].mode==="s"?"#000000":"#ffffff"),un.setAttribute("clip-rule","nonzero");var fo;if(ln[an].x.k!==0?(lo="mask",mo="mask",e0=PropertyFactory.getProp(this.element,ln[an].x,0,null,this.element),fo=createElementID(),co=createNS("filter"),co.setAttribute("id",fo),ho=createNS("feMorphology"),ho.setAttribute("operator","erode"),ho.setAttribute("in","SourceGraphic"),ho.setAttribute("radius","0"),co.appendChild(ho),rn.appendChild(co),un.setAttribute("stroke",ln[an].mode==="s"?"#000000":"#ffffff")):(ho=null,e0=null),this.storedData[an]={elem:un,x:e0,expan:ho,lastPath:"",lastOperator:"",filterId:fo,lastRadius:0},ln[an].mode==="i"){to=hn.length;var Uo=createNS("g");for(fn=0;fn<to;fn+=1)Uo.appendChild(hn[fn]);var t0=createNS("mask");t0.setAttribute("mask-type","alpha"),t0.setAttribute("id",Xr+"_"+cn),t0.appendChild(un),rn.appendChild(t0),Uo.setAttribute("mask","url("+getLocationHref()+"#"+Xr+"_"+cn+")"),hn.length=0,hn.push(Uo)}else hn.push(un);ln[an].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[an]={elem:un,lastPath:"",op:PropertyFactory.getProp(this.element,ln[an].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ln[an],3),invRect:uo},this.viewData[an].prop.k||this.drawPath(ln[an],this.viewData[an].prop.v,this.viewData[an])}for(this.maskElement=createNS(lo),sn=hn.length,an=0;an<sn;an+=1)this.maskElement.appendChild(hn[an]);cn>0&&(this.maskElement.setAttribute("id",Xr),this.element.maskedElement.setAttribute(mo,"url("+getLocationHref()+"#"+Xr+")"),rn.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(st){return this.viewData[st].prop},MaskElement.prototype.renderFrame=function(st){var Mt=this.element.finalTransform.mat,nn,rn=this.masksProperties.length;for(nn=0;nn<rn;nn+=1)if((this.viewData[nn].prop._mdf||st)&&this.drawPath(this.masksProperties[nn],this.viewData[nn].prop.v,this.viewData[nn]),(this.viewData[nn].op._mdf||st)&&this.viewData[nn].elem.setAttribute("fill-opacity",this.viewData[nn].op.v),this.masksProperties[nn].mode!=="n"&&(this.viewData[nn].invRect&&(this.element.finalTransform.mProp._mdf||st)&&this.viewData[nn].invRect.setAttribute("transform",Mt.getInverseMatrix().to2dCSS()),this.storedData[nn].x&&(this.storedData[nn].x._mdf||st))){var an=this.storedData[nn].expan;this.storedData[nn].x.v<0?(this.storedData[nn].lastOperator!=="erode"&&(this.storedData[nn].lastOperator="erode",this.storedData[nn].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[nn].filterId+")")),an.setAttribute("radius",-this.storedData[nn].x.v)):(this.storedData[nn].lastOperator!=="dilate"&&(this.storedData[nn].lastOperator="dilate",this.storedData[nn].elem.setAttribute("filter",null)),this.storedData[nn].elem.setAttribute("stroke-width",this.storedData[nn].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var st="M0,0 ";return st+=" h"+this.globalData.compSize.w,st+=" v"+this.globalData.compSize.h,st+=" h-"+this.globalData.compSize.w,st+=" v-"+this.globalData.compSize.h+" ",st},MaskElement.prototype.drawPath=function(st,Mt,nn){var rn=" M"+Mt.v[0][0]+","+Mt.v[0][1],an,sn;for(sn=Mt._length,an=1;an<sn;an+=1)rn+=" C"+Mt.o[an-1][0]+","+Mt.o[an-1][1]+" "+Mt.i[an][0]+","+Mt.i[an][1]+" "+Mt.v[an][0]+","+Mt.v[an][1];if(Mt.c&&sn>1&&(rn+=" C"+Mt.o[an-1][0]+","+Mt.o[an-1][1]+" "+Mt.i[0][0]+","+Mt.i[0][1]+" "+Mt.v[0][0]+","+Mt.v[0][1]),nn.lastPath!==rn){var un="";nn.elem&&(Mt.c&&(un=st.inv?this.solidPath+rn:rn),nn.elem.setAttribute("d",un)),nn.lastPath=rn}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var st={};st.createFilter=Mt,st.createAlphaToLuminanceFilter=nn;function Mt(rn,an){var sn=createNS("filter");return sn.setAttribute("id",rn),an!==!0&&(sn.setAttribute("filterUnits","objectBoundingBox"),sn.setAttribute("x","0%"),sn.setAttribute("y","0%"),sn.setAttribute("width","100%"),sn.setAttribute("height","100%")),sn}function nn(){var rn=createNS("feColorMatrix");return rn.setAttribute("type","matrix"),rn.setAttribute("color-interpolation-filters","sRGB"),rn.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),rn}return st}(),featureSupport=function(){var st={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(st.maskType=!1),/firefox/i.test(navigator.userAgent)&&(st.svgLumaHidden=!1),st}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(st){var Mt,nn="SourceGraphic",rn=st.data.ef?st.data.ef.length:0,an=createElementID(),sn=filtersFactory.createFilter(an,!0),un=0;this.filters=[];var ln;for(Mt=0;Mt<rn;Mt+=1){ln=null;var cn=st.data.ef[Mt].ty;if(registeredEffects$1[cn]){var hn=registeredEffects$1[cn].effect;ln=new hn(sn,st.effectsManager.effectElements[Mt],st,idPrefix+un,nn),nn=idPrefix+un,registeredEffects$1[cn].countsAsEffect&&(un+=1)}ln&&this.filters.push(ln)}un&&(st.globalData.defs.appendChild(sn),st.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+an+")")),this.filters.length&&st.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(st){var Mt,nn=this.filters.length;for(Mt=0;Mt<nn;Mt+=1)this.filters[Mt].renderFrame(st)},SVGEffects.prototype.getEffects=function(st){var Mt,nn=this.filters.length,rn=[];for(Mt=0;Mt<nn;Mt+=1)this.filters[Mt].type===st&&rn.push(this.filters[Mt]);return rn};function registerEffect$1(st,Mt,nn){registeredEffects$1[st]={effect:Mt,countsAsEffect:nn}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var Mt=null;if(this.data.td){this.matteMasks={};var nn=createNS("g");nn.setAttribute("id",this.layerId),nn.appendChild(this.layerElement),Mt=nn,this.globalData.defs.appendChild(nn)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),Mt=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var rn=createNS("clipPath"),an=createNS("path");an.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var sn=createElementID();if(rn.setAttribute("id",sn),rn.appendChild(an),this.globalData.defs.appendChild(rn),this.checkMasks()){var un=createNS("g");un.setAttribute("clip-path","url("+getLocationHref()+"#"+sn+")"),un.appendChild(this.layerElement),this.transformedElement=un,Mt?Mt.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+sn+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(Mt){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[Mt]){var nn=this.layerId+"_"+Mt,rn,an,sn,un;if(Mt===1||Mt===3){var ln=createNS("mask");ln.setAttribute("id",nn),ln.setAttribute("mask-type",Mt===3?"luminance":"alpha"),sn=createNS("use"),sn.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ln.appendChild(sn),this.globalData.defs.appendChild(ln),!featureSupport.maskType&&Mt===1&&(ln.setAttribute("mask-type","luminance"),rn=createElementID(),an=filtersFactory.createFilter(rn),this.globalData.defs.appendChild(an),an.appendChild(filtersFactory.createAlphaToLuminanceFilter()),un=createNS("g"),un.appendChild(sn),ln.appendChild(un),un.setAttribute("filter","url("+getLocationHref()+"#"+rn+")"))}else if(Mt===2){var cn=createNS("mask");cn.setAttribute("id",nn),cn.setAttribute("mask-type","alpha");var hn=createNS("g");cn.appendChild(hn),rn=createElementID(),an=filtersFactory.createFilter(rn);var fn=createNS("feComponentTransfer");fn.setAttribute("in","SourceGraphic"),an.appendChild(fn);var to=createNS("feFuncA");to.setAttribute("type","table"),to.setAttribute("tableValues","1.0 0.0"),fn.appendChild(to),this.globalData.defs.appendChild(an);var Xr=createNS("rect");Xr.setAttribute("width",this.comp.data.w),Xr.setAttribute("height",this.comp.data.h),Xr.setAttribute("x","0"),Xr.setAttribute("y","0"),Xr.setAttribute("fill","#ffffff"),Xr.setAttribute("opacity","0"),hn.setAttribute("filter","url("+getLocationHref()+"#"+rn+")"),hn.appendChild(Xr),sn=createNS("use"),sn.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),hn.appendChild(sn),featureSupport.maskType||(cn.setAttribute("mask-type","luminance"),an.appendChild(filtersFactory.createAlphaToLuminanceFilter()),un=createNS("g"),hn.appendChild(Xr),un.appendChild(this.layerElement),hn.appendChild(un)),this.globalData.defs.appendChild(cn)}this.matteMasks[Mt]=nn}return this.matteMasks[Mt]},setMatte:function(Mt){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+Mt+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(Mt){this.hierarchy=Mt},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var st={initElement:function(nn,rn,an){this.initFrame(),this.initBaseData(nn,rn,an),this.initTransform(nn,rn,an),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var nn=this.baseElement||this.layerElement;nn.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var nn=this.baseElement||this.layerElement;nn.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(nn){this._mdf=!1,this.prepareRenderableFrame(nn),this.prepareProperties(nn,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(st)],RenderableDOMElement)})();function IImageElement(st,Mt,nn){this.assetData=Mt.getAssetData(st.refId),this.assetData&&this.assetData.sid&&(this.assetData=Mt.slotManager.getProp(this.assetData)),this.initElement(st,Mt,nn),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var st=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",st),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(st,Mt){this.elem=st,this.pos=Mt}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(Mt){var nn,rn=this.shapeModifiers.length;for(nn=0;nn<rn;nn+=1)this.shapeModifiers[nn].addShape(Mt)},isShapeInAnimatedModifiers:function(Mt){for(var nn=0,rn=this.shapeModifiers.length;nn<rn;)if(this.shapeModifiers[nn].isAnimatedWithShape(Mt))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var Mt,nn=this.shapes.length;for(Mt=0;Mt<nn;Mt+=1)this.shapes[Mt].sh.reset();nn=this.shapeModifiers.length;var rn;for(Mt=nn-1;Mt>=0&&(rn=this.shapeModifiers[Mt].processShapes(this._isFirstFrame),!rn);Mt-=1);}},searchProcessedElement:function(Mt){for(var nn=this.processedElements,rn=0,an=nn.length;rn<an;){if(nn[rn].elem===Mt)return nn[rn].pos;rn+=1}return 0},addProcessedElement:function(Mt,nn){for(var rn=this.processedElements,an=rn.length;an;)if(an-=1,rn[an].elem===Mt){rn[an].pos=nn;return}rn.push(new ProcessedElement(Mt,nn))},prepareFrame:function(Mt){this.prepareRenderableFrame(Mt),this.prepareProperties(Mt,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(st,Mt,nn){this.caches=[],this.styles=[],this.transformers=st,this.lStr="",this.sh=nn,this.lvl=Mt,this._isAnimated=!!nn.k;for(var rn=0,an=st.length;rn<an;){if(st[rn].mProps.dynamicProperties.length){this._isAnimated=!0;break}rn+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(st,Mt){this.data=st,this.type=st.ty,this.d="",this.lvl=Mt,this._mdf=!1,this.closed=st.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(st,Mt,nn,rn){this.elem=st,this.frameId=-1,this.dataProps=createSizedArray(Mt.length),this.renderer=nn,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",Mt.length?Mt.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(rn);var an,sn=Mt.length||0,un;for(an=0;an<sn;an+=1)un=PropertyFactory.getProp(st,Mt[an].v,0,0,this),this.k=un.k||this.k,this.dataProps[an]={n:Mt[an].n,p:un};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(st){if(!(this.elem.globalData.frameId===this.frameId&&!st)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||st,this._mdf)){var Mt=0,nn=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),Mt=0;Mt<nn;Mt+=1)this.dataProps[Mt].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[Mt].p.v:this.dashArray[Mt]=this.dataProps[Mt].p.v:this.dashoffset[0]=this.dataProps[Mt].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(st,Mt,nn){this.initDynamicPropertyContainer(st),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(st,Mt.o,0,.01,this),this.w=PropertyFactory.getProp(st,Mt.w,0,null,this),this.d=new DashProperty(st,Mt.d||{},"svg",this),this.c=PropertyFactory.getProp(st,Mt.c,1,255,this),this.style=nn,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(st,Mt,nn){this.initDynamicPropertyContainer(st),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(st,Mt.o,0,.01,this),this.c=PropertyFactory.getProp(st,Mt.c,1,255,this),this.style=nn}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(st,Mt,nn){this.initDynamicPropertyContainer(st),this.getValue=this.iterateDynamicProperties,this.style=nn}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(st,Mt,nn){this.data=Mt,this.c=createTypedArray("uint8c",Mt.p*4);var rn=Mt.k.k[0].s?Mt.k.k[0].s.length-Mt.p*4:Mt.k.k.length-Mt.p*4;this.o=createTypedArray("float32",rn),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=rn,this.initDynamicPropertyContainer(nn),this.prop=PropertyFactory.getProp(st,Mt.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(st,Mt){for(var nn=0,rn=this.o.length/2,an;nn<rn;){if(an=Math.abs(st[nn*4]-st[Mt*4+nn*2]),an>.01)return!1;nn+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var st=0,Mt=this.data.k.k.length;st<Mt;){if(!this.comparePoints(this.data.k.k[st].s,this.data.p))return!1;st+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(st){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||st){var Mt,nn=this.data.p*4,rn,an;for(Mt=0;Mt<nn;Mt+=1)rn=Mt%4===0?100:255,an=Math.round(this.prop.v[Mt]*rn),this.c[Mt]!==an&&(this.c[Mt]=an,this._cmdf=!st);if(this.o.length)for(nn=this.prop.v.length,Mt=this.data.p*4;Mt<nn;Mt+=1)rn=Mt%2===0?100:1,an=Mt%2===0?Math.round(this.prop.v[Mt]*100):this.prop.v[Mt],this.o[Mt-this.data.p*4]!==an&&(this.o[Mt-this.data.p*4]=an,this._omdf=!st);this._mdf=!st}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(st,Mt,nn){this.initDynamicPropertyContainer(st),this.getValue=this.iterateDynamicProperties,this.initGradientData(st,Mt,nn)}SVGGradientFillStyleData.prototype.initGradientData=function(st,Mt,nn){this.o=PropertyFactory.getProp(st,Mt.o,0,.01,this),this.s=PropertyFactory.getProp(st,Mt.s,1,null,this),this.e=PropertyFactory.getProp(st,Mt.e,1,null,this),this.h=PropertyFactory.getProp(st,Mt.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(st,Mt.a||{k:0},0,degToRads,this),this.g=new GradientProperty(st,Mt.g,this),this.style=nn,this.stops=[],this.setGradientData(nn.pElem,Mt),this.setGradientOpacity(Mt,nn),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(st,Mt){var nn=createElementID(),rn=createNS(Mt.t===1?"linearGradient":"radialGradient");rn.setAttribute("id",nn),rn.setAttribute("spreadMethod","pad"),rn.setAttribute("gradientUnits","userSpaceOnUse");var an=[],sn,un,ln;for(ln=Mt.g.p*4,un=0;un<ln;un+=4)sn=createNS("stop"),rn.appendChild(sn),an.push(sn);st.setAttribute(Mt.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+nn+")"),this.gf=rn,this.cst=an},SVGGradientFillStyleData.prototype.setGradientOpacity=function(st,Mt){if(this.g._hasOpacity&&!this.g._collapsable){var nn,rn,an,sn=createNS("mask"),un=createNS("path");sn.appendChild(un);var ln=createElementID(),cn=createElementID();sn.setAttribute("id",cn);var hn=createNS(st.t===1?"linearGradient":"radialGradient");hn.setAttribute("id",ln),hn.setAttribute("spreadMethod","pad"),hn.setAttribute("gradientUnits","userSpaceOnUse"),an=st.g.k.k[0].s?st.g.k.k[0].s.length:st.g.k.k.length;var fn=this.stops;for(rn=st.g.p*4;rn<an;rn+=2)nn=createNS("stop"),nn.setAttribute("stop-color","rgb(255,255,255)"),hn.appendChild(nn),fn.push(nn);un.setAttribute(st.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ln+")"),st.ty==="gs"&&(un.setAttribute("stroke-linecap",lineCapEnum[st.lc||2]),un.setAttribute("stroke-linejoin",lineJoinEnum[st.lj||2]),st.lj===1&&un.setAttribute("stroke-miterlimit",st.ml)),this.of=hn,this.ms=sn,this.ost=fn,this.maskId=cn,Mt.msElem=un}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(st,Mt,nn){this.initDynamicPropertyContainer(st),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(st,Mt.w,0,null,this),this.d=new DashProperty(st,Mt.d||{},"svg",this),this.initGradientData(st,Mt,nn),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(st,Mt,nn){this.transform={mProps:st,op:Mt,container:nn},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(Mt,nn,rn,an){if(nn===0)return"";var sn=Mt.o,un=Mt.i,ln=Mt.v,cn,hn=" M"+an.applyToPointStringified(ln[0][0],ln[0][1]);for(cn=1;cn<nn;cn+=1)hn+=" C"+an.applyToPointStringified(sn[cn-1][0],sn[cn-1][1])+" "+an.applyToPointStringified(un[cn][0],un[cn][1])+" "+an.applyToPointStringified(ln[cn][0],ln[cn][1]);return rn&&nn&&(hn+=" C"+an.applyToPointStringified(sn[cn-1][0],sn[cn-1][1])+" "+an.applyToPointStringified(un[0][0],un[0][1])+" "+an.applyToPointStringified(ln[0][0],ln[0][1]),hn+="z"),hn},SVGElementsRenderer=function(){var st=new Matrix,Mt=new Matrix,nn={createRenderFunction:rn};function rn(to){switch(to.ty){case"fl":return ln;case"gf":return hn;case"gs":return cn;case"st":return fn;case"sh":case"el":case"rc":case"sr":return un;case"tr":return an;case"no":return sn;default:return null}}function an(to,Xr,uo){(uo||Xr.transform.op._mdf)&&Xr.transform.container.setAttribute("opacity",Xr.transform.op.v),(uo||Xr.transform.mProps._mdf)&&Xr.transform.container.setAttribute("transform",Xr.transform.mProps.v.to2dCSS())}function sn(){}function un(to,Xr,uo){var co,ho,e0,lo,mo,fo,Uo=Xr.styles.length,t0=Xr.lvl,n0,i0,a0,s0;for(fo=0;fo<Uo;fo+=1){if(lo=Xr.sh._mdf||uo,Xr.styles[fo].lvl<t0){for(i0=Mt.reset(),a0=t0-Xr.styles[fo].lvl,s0=Xr.transformers.length-1;!lo&&a0>0;)lo=Xr.transformers[s0].mProps._mdf||lo,a0-=1,s0-=1;if(lo)for(a0=t0-Xr.styles[fo].lvl,s0=Xr.transformers.length-1;a0>0;)i0.multiply(Xr.transformers[s0].mProps.v),a0-=1,s0-=1}else i0=st;if(n0=Xr.sh.paths,ho=n0._length,lo){for(e0="",co=0;co<ho;co+=1)mo=n0.shapes[co],mo&&mo._length&&(e0+=buildShapeString(mo,mo._length,mo.c,i0));Xr.caches[fo]=e0}else e0=Xr.caches[fo];Xr.styles[fo].d+=to.hd===!0?"":e0,Xr.styles[fo]._mdf=lo||Xr.styles[fo]._mdf}}function ln(to,Xr,uo){var co=Xr.style;(Xr.c._mdf||uo)&&co.pElem.setAttribute("fill","rgb("+bmFloor(Xr.c.v[0])+","+bmFloor(Xr.c.v[1])+","+bmFloor(Xr.c.v[2])+")"),(Xr.o._mdf||uo)&&co.pElem.setAttribute("fill-opacity",Xr.o.v)}function cn(to,Xr,uo){hn(to,Xr,uo),fn(to,Xr,uo)}function hn(to,Xr,uo){var co=Xr.gf,ho=Xr.g._hasOpacity,e0=Xr.s.v,lo=Xr.e.v;if(Xr.o._mdf||uo){var mo=to.ty==="gf"?"fill-opacity":"stroke-opacity";Xr.style.pElem.setAttribute(mo,Xr.o.v)}if(Xr.s._mdf||uo){var fo=to.t===1?"x1":"cx",Uo=fo==="x1"?"y1":"cy";co.setAttribute(fo,e0[0]),co.setAttribute(Uo,e0[1]),ho&&!Xr.g._collapsable&&(Xr.of.setAttribute(fo,e0[0]),Xr.of.setAttribute(Uo,e0[1]))}var t0,n0,i0,a0;if(Xr.g._cmdf||uo){t0=Xr.cst;var s0=Xr.g.c;for(i0=t0.length,n0=0;n0<i0;n0+=1)a0=t0[n0],a0.setAttribute("offset",s0[n0*4]+"%"),a0.setAttribute("stop-color","rgb("+s0[n0*4+1]+","+s0[n0*4+2]+","+s0[n0*4+3]+")")}if(ho&&(Xr.g._omdf||uo)){var l0=Xr.g.o;for(Xr.g._collapsable?t0=Xr.cst:t0=Xr.ost,i0=t0.length,n0=0;n0<i0;n0+=1)a0=t0[n0],Xr.g._collapsable||a0.setAttribute("offset",l0[n0*2]+"%"),a0.setAttribute("stop-opacity",l0[n0*2+1])}if(to.t===1)(Xr.e._mdf||uo)&&(co.setAttribute("x2",lo[0]),co.setAttribute("y2",lo[1]),ho&&!Xr.g._collapsable&&(Xr.of.setAttribute("x2",lo[0]),Xr.of.setAttribute("y2",lo[1])));else{var d0;if((Xr.s._mdf||Xr.e._mdf||uo)&&(d0=Math.sqrt(Math.pow(e0[0]-lo[0],2)+Math.pow(e0[1]-lo[1],2)),co.setAttribute("r",d0),ho&&!Xr.g._collapsable&&Xr.of.setAttribute("r",d0)),Xr.e._mdf||Xr.h._mdf||Xr.a._mdf||uo){d0||(d0=Math.sqrt(Math.pow(e0[0]-lo[0],2)+Math.pow(e0[1]-lo[1],2)));var h0=Math.atan2(lo[1]-e0[1],lo[0]-e0[0]),v0=Xr.h.v;v0>=1?v0=.99:v0<=-1&&(v0=-.99);var g0=d0*v0,m0=Math.cos(h0+Xr.a.v)*g0+e0[0],u0=Math.sin(h0+Xr.a.v)*g0+e0[1];co.setAttribute("fx",m0),co.setAttribute("fy",u0),ho&&!Xr.g._collapsable&&(Xr.of.setAttribute("fx",m0),Xr.of.setAttribute("fy",u0))}}}function fn(to,Xr,uo){var co=Xr.style,ho=Xr.d;ho&&(ho._mdf||uo)&&ho.dashStr&&(co.pElem.setAttribute("stroke-dasharray",ho.dashStr),co.pElem.setAttribute("stroke-dashoffset",ho.dashoffset[0])),Xr.c&&(Xr.c._mdf||uo)&&co.pElem.setAttribute("stroke","rgb("+bmFloor(Xr.c.v[0])+","+bmFloor(Xr.c.v[1])+","+bmFloor(Xr.c.v[2])+")"),(Xr.o._mdf||uo)&&co.pElem.setAttribute("stroke-opacity",Xr.o.v),(Xr.w._mdf||uo)&&(co.pElem.setAttribute("stroke-width",Xr.w.v),co.msElem&&co.msElem.setAttribute("stroke-width",Xr.w.v))}return nn}();function SVGShapeElement(st,Mt,nn){this.shapes=[],this.shapesData=st.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(st,Mt,nn),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var st,Mt=this.shapes.length,nn,rn,an=this.stylesList.length,sn,un=[],ln=!1;for(rn=0;rn<an;rn+=1){for(sn=this.stylesList[rn],ln=!1,un.length=0,st=0;st<Mt;st+=1)nn=this.shapes[st],nn.styles.indexOf(sn)!==-1&&(un.push(nn),ln=nn._isAnimated||ln);un.length>1&&ln&&this.setShapesAsAnimated(un)}},SVGShapeElement.prototype.setShapesAsAnimated=function(st){var Mt,nn=st.length;for(Mt=0;Mt<nn;Mt+=1)st[Mt].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(st,Mt){var nn,rn=new SVGStyleData(st,Mt),an=rn.pElem;if(st.ty==="st")nn=new SVGStrokeStyleData(this,st,rn);else if(st.ty==="fl")nn=new SVGFillStyleData(this,st,rn);else if(st.ty==="gf"||st.ty==="gs"){var sn=st.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;nn=new sn(this,st,rn),this.globalData.defs.appendChild(nn.gf),nn.maskId&&(this.globalData.defs.appendChild(nn.ms),this.globalData.defs.appendChild(nn.of),an.setAttribute("mask","url("+getLocationHref()+"#"+nn.maskId+")"))}else st.ty==="no"&&(nn=new SVGNoStyleData(this,st,rn));return(st.ty==="st"||st.ty==="gs")&&(an.setAttribute("stroke-linecap",lineCapEnum[st.lc||2]),an.setAttribute("stroke-linejoin",lineJoinEnum[st.lj||2]),an.setAttribute("fill-opacity","0"),st.lj===1&&an.setAttribute("stroke-miterlimit",st.ml)),st.r===2&&an.setAttribute("fill-rule","evenodd"),st.ln&&an.setAttribute("id",st.ln),st.cl&&an.setAttribute("class",st.cl),st.bm&&(an.style["mix-blend-mode"]=getBlendMode(st.bm)),this.stylesList.push(rn),this.addToAnimatedContents(st,nn),nn},SVGShapeElement.prototype.createGroupElement=function(st){var Mt=new ShapeGroupData;return st.ln&&Mt.gr.setAttribute("id",st.ln),st.cl&&Mt.gr.setAttribute("class",st.cl),st.bm&&(Mt.gr.style["mix-blend-mode"]=getBlendMode(st.bm)),Mt},SVGShapeElement.prototype.createTransformElement=function(st,Mt){var nn=TransformPropertyFactory.getTransformProperty(this,st,this),rn=new SVGTransformData(nn,nn.o,Mt);return this.addToAnimatedContents(st,rn),rn},SVGShapeElement.prototype.createShapeElement=function(st,Mt,nn){var rn=4;st.ty==="rc"?rn=5:st.ty==="el"?rn=6:st.ty==="sr"&&(rn=7);var an=ShapePropertyFactory.getShapeProp(this,st,rn,this),sn=new SVGShapeData(Mt,nn,an);return this.shapes.push(sn),this.addShapeToModifiers(sn),this.addToAnimatedContents(st,sn),sn},SVGShapeElement.prototype.addToAnimatedContents=function(st,Mt){for(var nn=0,rn=this.animatedContents.length;nn<rn;){if(this.animatedContents[nn].element===Mt)return;nn+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(st),element:Mt,data:st})},SVGShapeElement.prototype.setElementStyles=function(st){var Mt=st.styles,nn,rn=this.stylesList.length;for(nn=0;nn<rn;nn+=1)this.stylesList[nn].closed||Mt.push(this.stylesList[nn])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var st,Mt=this.itemsData.length;for(st=0;st<Mt;st+=1)this.prevViewData[st]=this.itemsData[st];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),Mt=this.dynamicProperties.length,st=0;st<Mt;st+=1)this.dynamicProperties[st].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(st,Mt,nn,rn,an,sn,un){var ln=[].concat(sn),cn,hn=st.length-1,fn,to,Xr=[],uo=[],co,ho,e0;for(cn=hn;cn>=0;cn-=1){if(e0=this.searchProcessedElement(st[cn]),e0?Mt[cn]=nn[e0-1]:st[cn]._render=un,st[cn].ty==="fl"||st[cn].ty==="st"||st[cn].ty==="gf"||st[cn].ty==="gs"||st[cn].ty==="no")e0?Mt[cn].style.closed=!1:Mt[cn]=this.createStyleElement(st[cn],an),st[cn]._render&&Mt[cn].style.pElem.parentNode!==rn&&rn.appendChild(Mt[cn].style.pElem),Xr.push(Mt[cn].style);else if(st[cn].ty==="gr"){if(!e0)Mt[cn]=this.createGroupElement(st[cn]);else for(to=Mt[cn].it.length,fn=0;fn<to;fn+=1)Mt[cn].prevViewData[fn]=Mt[cn].it[fn];this.searchShapes(st[cn].it,Mt[cn].it,Mt[cn].prevViewData,Mt[cn].gr,an+1,ln,un),st[cn]._render&&Mt[cn].gr.parentNode!==rn&&rn.appendChild(Mt[cn].gr)}else st[cn].ty==="tr"?(e0||(Mt[cn]=this.createTransformElement(st[cn],rn)),co=Mt[cn].transform,ln.push(co)):st[cn].ty==="sh"||st[cn].ty==="rc"||st[cn].ty==="el"||st[cn].ty==="sr"?(e0||(Mt[cn]=this.createShapeElement(st[cn],ln,an)),this.setElementStyles(Mt[cn])):st[cn].ty==="tm"||st[cn].ty==="rd"||st[cn].ty==="ms"||st[cn].ty==="pb"||st[cn].ty==="zz"||st[cn].ty==="op"?(e0?(ho=Mt[cn],ho.closed=!1):(ho=ShapeModifiers.getModifier(st[cn].ty),ho.init(this,st[cn]),Mt[cn]=ho,this.shapeModifiers.push(ho)),uo.push(ho)):st[cn].ty==="rp"&&(e0?(ho=Mt[cn],ho.closed=!0):(ho=ShapeModifiers.getModifier(st[cn].ty),Mt[cn]=ho,ho.init(this,st,cn,Mt),this.shapeModifiers.push(ho),un=!1),uo.push(ho));this.addProcessedElement(st[cn],cn+1)}for(hn=Xr.length,cn=0;cn<hn;cn+=1)Xr[cn].closed=!0;for(hn=uo.length,cn=0;cn<hn;cn+=1)uo[cn].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var st,Mt=this.stylesList.length;for(st=0;st<Mt;st+=1)this.stylesList[st].reset();for(this.renderShape(),st=0;st<Mt;st+=1)(this.stylesList[st]._mdf||this._isFirstFrame)&&(this.stylesList[st].msElem&&(this.stylesList[st].msElem.setAttribute("d",this.stylesList[st].d),this.stylesList[st].d="M0 0"+this.stylesList[st].d),this.stylesList[st].pElem.setAttribute("d",this.stylesList[st].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var st,Mt=this.animatedContents.length,nn;for(st=0;st<Mt;st+=1)nn=this.animatedContents[st],(this._isFirstFrame||nn.element._isAnimated)&&nn.data!==!0&&nn.fn(nn.data,nn.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(st,Mt,nn,rn,an,sn){this.o=st,this.sw=Mt,this.sc=nn,this.fc=rn,this.m=an,this.p=sn,this._mdf={o:!0,sw:!!Mt,sc:!!nn,fc:!!rn,m:!0,p:!0}}LetterProps.prototype.update=function(st,Mt,nn,rn,an,sn){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var un=!1;return this.o!==st&&(this.o=st,this._mdf.o=!0,un=!0),this.sw!==Mt&&(this.sw=Mt,this._mdf.sw=!0,un=!0),this.sc!==nn&&(this.sc=nn,this._mdf.sc=!0,un=!0),this.fc!==rn&&(this.fc=rn,this._mdf.fc=!0,un=!0),this.m!==an&&(this.m=an,this._mdf.m=!0,un=!0),sn.length&&(this.p[0]!==sn[0]||this.p[1]!==sn[1]||this.p[4]!==sn[4]||this.p[5]!==sn[5]||this.p[12]!==sn[12]||this.p[13]!==sn[13])&&(this.p=sn,this._mdf.p=!0,un=!0),un};function TextProperty(st,Mt){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,Mt.d&&Mt.d.sid&&(Mt.d=st.globalData.slotManager.getProp(Mt.d)),this.data=Mt,this.elem=st,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(st,Mt){for(var nn in Mt)Object.prototype.hasOwnProperty.call(Mt,nn)&&(st[nn]=Mt[nn]);return st},TextProperty.prototype.setCurrentData=function(st){st.__complete||this.completeTextData(st),this.currentData=st,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(st){this.effectsSequence.push(st),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(st){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!st)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var Mt=this.currentData,nn=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var rn,an=this.effectsSequence.length,sn=st||this.data.d.k[this.keysIndex].s;for(rn=0;rn<an;rn+=1)nn!==this.keysIndex?sn=this.effectsSequence[rn](sn,sn.t):sn=this.effectsSequence[rn](this.currentData,sn.t);Mt!==sn&&this.setCurrentData(sn),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var st=this.data.d.k,Mt=this.elem.comp.renderedFrame,nn=0,rn=st.length;nn<=rn-1&&!(nn===rn-1||st[nn+1].t>Mt);)nn+=1;return this.keysIndex!==nn&&(this.keysIndex=nn),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(st){for(var Mt=[],nn=0,rn=st.length,an,sn,un=!1,ln=!1,cn="";nn<rn;)un=ln,ln=!1,an=st.charCodeAt(nn),cn=st.charAt(nn),FontManager.isCombinedCharacter(an)?un=!0:an>=55296&&an<=56319?FontManager.isRegionalFlag(st,nn)?cn=st.substr(nn,14):(sn=st.charCodeAt(nn+1),sn>=56320&&sn<=57343&&(FontManager.isModifier(an,sn)?(cn=st.substr(nn,2),un=!0):FontManager.isFlagEmoji(st.substr(nn,4))?cn=st.substr(nn,4):cn=st.substr(nn,2))):an>56319?(sn=st.charCodeAt(nn+1),FontManager.isVariationSelector(an)&&(un=!0)):FontManager.isZeroWidthJoiner(an)&&(un=!0,ln=!0),un?(Mt[Mt.length-1]+=cn,un=!1):Mt.push(cn),nn+=cn.length;return Mt},TextProperty.prototype.completeTextData=function(st){st.__complete=!0;var Mt=this.elem.globalData.fontManager,nn=this.data,rn=[],an,sn,un,ln=0,cn,hn=nn.m.g,fn=0,to=0,Xr=0,uo=[],co=0,ho=0,e0,lo,mo=Mt.getFontByName(st.f),fo,Uo=0,t0=getFontProperties(mo);st.fWeight=t0.weight,st.fStyle=t0.style,st.finalSize=st.s,st.finalText=this.buildFinalText(st.t),sn=st.finalText.length,st.finalLineHeight=st.lh;var n0=st.tr/1e3*st.finalSize,i0;if(st.sz)for(var a0=!0,s0=st.sz[0],l0=st.sz[1],d0,h0;a0;){h0=this.buildFinalText(st.t),d0=0,co=0,sn=h0.length,n0=st.tr/1e3*st.finalSize;var v0=-1;for(an=0;an<sn;an+=1)i0=h0[an].charCodeAt(0),un=!1,h0[an]===" "?v0=an:(i0===13||i0===3)&&(co=0,un=!0,d0+=st.finalLineHeight||st.finalSize*1.2),Mt.chars?(fo=Mt.getCharData(h0[an],mo.fStyle,mo.fFamily),Uo=un?0:fo.w*st.finalSize/100):Uo=Mt.measureText(h0[an],st.f,st.finalSize),co+Uo>s0&&h0[an]!==" "?(v0===-1?sn+=1:an=v0,d0+=st.finalLineHeight||st.finalSize*1.2,h0.splice(an,v0===an?1:0,"\r"),v0=-1,co=0):(co+=Uo,co+=n0);d0+=mo.ascent*st.finalSize/100,this.canResize&&st.finalSize>this.minimumFontSize&&l0<d0?(st.finalSize-=1,st.finalLineHeight=st.finalSize*st.lh/st.s):(st.finalText=h0,sn=st.finalText.length,a0=!1)}co=-n0,Uo=0;var g0=0,m0;for(an=0;an<sn;an+=1)if(un=!1,m0=st.finalText[an],i0=m0.charCodeAt(0),i0===13||i0===3?(g0=0,uo.push(co),ho=co>ho?co:ho,co=-2*n0,cn="",un=!0,Xr+=1):cn=m0,Mt.chars?(fo=Mt.getCharData(m0,mo.fStyle,Mt.getFontByName(st.f).fFamily),Uo=un?0:fo.w*st.finalSize/100):Uo=Mt.measureText(cn,st.f,st.finalSize),m0===" "?g0+=Uo+n0:(co+=Uo+n0+g0,g0=0),rn.push({l:Uo,an:Uo,add:fn,n:un,anIndexes:[],val:cn,line:Xr,animatorJustifyOffset:0}),hn==2){if(fn+=Uo,cn===""||cn===" "||an===sn-1){for((cn===""||cn===" ")&&(fn-=Uo);to<=an;)rn[to].an=fn,rn[to].ind=ln,rn[to].extra=Uo,to+=1;ln+=1,fn=0}}else if(hn==3){if(fn+=Uo,cn===""||an===sn-1){for(cn===""&&(fn-=Uo);to<=an;)rn[to].an=fn,rn[to].ind=ln,rn[to].extra=Uo,to+=1;fn=0,ln+=1}}else rn[ln].ind=ln,rn[ln].extra=0,ln+=1;if(st.l=rn,ho=co>ho?co:ho,uo.push(co),st.sz)st.boxWidth=st.sz[0],st.justifyOffset=0;else switch(st.boxWidth=ho,st.j){case 1:st.justifyOffset=-st.boxWidth;break;case 2:st.justifyOffset=-st.boxWidth/2;break;default:st.justifyOffset=0}st.lineWidths=uo;var u0=nn.a,c0,r0;lo=u0.length;var o0,f0,p0=[];for(e0=0;e0<lo;e0+=1){for(c0=u0[e0],c0.a.sc&&(st.strokeColorAnim=!0),c0.a.sw&&(st.strokeWidthAnim=!0),(c0.a.fc||c0.a.fh||c0.a.fs||c0.a.fb)&&(st.fillColorAnim=!0),f0=0,o0=c0.s.b,an=0;an<sn;an+=1)r0=rn[an],r0.anIndexes[e0]=f0,(o0==1&&r0.val!==""||o0==2&&r0.val!==""&&r0.val!==" "||o0==3&&(r0.n||r0.val==" "||an==sn-1)||o0==4&&(r0.n||an==sn-1))&&(c0.s.rn===1&&p0.push(f0),f0+=1);nn.a[e0].s.totalChars=f0;var y0=-1,x0;if(c0.s.rn===1)for(an=0;an<sn;an+=1)r0=rn[an],y0!=r0.anIndexes[e0]&&(y0=r0.anIndexes[e0],x0=p0.splice(Math.floor(Math.random()*p0.length),1)[0]),r0.anIndexes[e0]=x0}st.yOffset=st.finalLineHeight||st.finalSize*1.2,st.ls=st.ls||0,st.ascent=mo.ascent*st.finalSize/100},TextProperty.prototype.updateDocumentData=function(st,Mt){Mt=Mt===void 0?this.keysIndex:Mt;var nn=this.copyData({},this.data.d.k[Mt].s);nn=this.copyData(nn,st),this.data.d.k[Mt].s=nn,this.recalculate(Mt),this.setCurrentData(nn),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(st){var Mt=this.data.d.k[st].s;Mt.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(Mt)},TextProperty.prototype.canResizeFont=function(st){this.canResize=st,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(st){this.minimumFontSize=Math.floor(st)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var st=Math.max,Mt=Math.min,nn=Math.floor;function rn(sn,un){this._currentTextLength=-1,this.k=!1,this.data=un,this.elem=sn,this.comp=sn.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(sn),this.s=PropertyFactory.getProp(sn,un.s||{k:0},0,0,this),"e"in un?this.e=PropertyFactory.getProp(sn,un.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(sn,un.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(sn,un.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(sn,un.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(sn,un.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(sn,un.a,0,.01,this),this.dynamicProperties.length||this.getValue()}rn.prototype={getMult:function(un){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var ln=0,cn=0,hn=1,fn=1;this.ne.v>0?ln=this.ne.v/100:cn=-this.ne.v/100,this.xe.v>0?hn=1-this.xe.v/100:fn=1+this.xe.v/100;var to=BezierFactory.getBezierEasing(ln,cn,hn,fn).get,Xr=0,uo=this.finalS,co=this.finalE,ho=this.data.sh;if(ho===2)co===uo?Xr=un>=co?1:0:Xr=st(0,Mt(.5/(co-uo)+(un-uo)/(co-uo),1)),Xr=to(Xr);else if(ho===3)co===uo?Xr=un>=co?0:1:Xr=1-st(0,Mt(.5/(co-uo)+(un-uo)/(co-uo),1)),Xr=to(Xr);else if(ho===4)co===uo?Xr=0:(Xr=st(0,Mt(.5/(co-uo)+(un-uo)/(co-uo),1)),Xr<.5?Xr*=2:Xr=1-2*(Xr-.5)),Xr=to(Xr);else if(ho===5){if(co===uo)Xr=0;else{var e0=co-uo;un=Mt(st(0,un+.5-uo),co-uo);var lo=-e0/2+un,mo=e0/2;Xr=Math.sqrt(1-lo*lo/(mo*mo))}Xr=to(Xr)}else ho===6?(co===uo?Xr=0:(un=Mt(st(0,un+.5-uo),co-uo),Xr=(1+Math.cos(Math.PI+Math.PI*2*un/(co-uo)))/2),Xr=to(Xr)):(un>=nn(uo)&&(un-uo<0?Xr=st(0,Mt(Mt(co,1)-(uo-un),1)):Xr=st(0,Mt(co-un,1))),Xr=to(Xr));if(this.sm.v!==100){var fo=this.sm.v*.01;fo===0&&(fo=1e-8);var Uo=.5-fo*.5;Xr<Uo?Xr=0:(Xr=(Xr-Uo)/fo,Xr>1&&(Xr=1))}return Xr*this.a.v},getValue:function(un){this.iterateDynamicProperties(),this._mdf=un||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,un&&this.data.r===2&&(this.e.v=this._currentTextLength);var ln=this.data.r===2?1:100/this.data.totalChars,cn=this.o.v/ln,hn=this.s.v/ln+cn,fn=this.e.v/ln+cn;if(hn>fn){var to=hn;hn=fn,fn=to}this.finalS=hn,this.finalE=fn}},extendPrototype([DynamicPropertyContainer],rn);function an(sn,un,ln){return new rn(sn,un)}return{getTextSelectorProp:an}}();function TextAnimatorDataProperty(st,Mt,nn){var rn={propType:!1},an=PropertyFactory.getProp,sn=Mt.a;this.a={r:sn.r?an(st,sn.r,0,degToRads,nn):rn,rx:sn.rx?an(st,sn.rx,0,degToRads,nn):rn,ry:sn.ry?an(st,sn.ry,0,degToRads,nn):rn,sk:sn.sk?an(st,sn.sk,0,degToRads,nn):rn,sa:sn.sa?an(st,sn.sa,0,degToRads,nn):rn,s:sn.s?an(st,sn.s,1,.01,nn):rn,a:sn.a?an(st,sn.a,1,0,nn):rn,o:sn.o?an(st,sn.o,0,.01,nn):rn,p:sn.p?an(st,sn.p,1,0,nn):rn,sw:sn.sw?an(st,sn.sw,0,0,nn):rn,sc:sn.sc?an(st,sn.sc,1,0,nn):rn,fc:sn.fc?an(st,sn.fc,1,0,nn):rn,fh:sn.fh?an(st,sn.fh,0,0,nn):rn,fs:sn.fs?an(st,sn.fs,0,.01,nn):rn,fb:sn.fb?an(st,sn.fb,0,.01,nn):rn,t:sn.t?an(st,sn.t,0,0,nn):rn},this.s=TextSelectorProp.getTextSelectorProp(st,Mt.s,nn),this.s.t=Mt.s.t}function TextAnimatorProperty(st,Mt,nn){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=st,this._renderType=Mt,this._elem=nn,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(nn)}TextAnimatorProperty.prototype.searchProperties=function(){var st,Mt=this._textData.a.length,nn,rn=PropertyFactory.getProp;for(st=0;st<Mt;st+=1)nn=this._textData.a[st],this._animatorsData[st]=new TextAnimatorDataProperty(this._elem,nn,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:rn(this._elem,this._textData.p.a,0,0,this),f:rn(this._elem,this._textData.p.f,0,0,this),l:rn(this._elem,this._textData.p.l,0,0,this),r:rn(this._elem,this._textData.p.r,0,0,this),p:rn(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=rn(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(st,Mt){if(this.lettersChangedFlag=Mt,!(!this._mdf&&!this._isFirstFrame&&!Mt&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var nn=this._moreOptions.alignment.v,rn=this._animatorsData,an=this._textData,sn=this.mHelper,un=this._renderType,ln=this.renderedLetters.length,cn,hn,fn,to,Xr=st.l,uo,co,ho,e0,lo,mo,fo,Uo,t0,n0,i0,a0,s0,l0,d0;if(this._hasMaskedPath){if(d0=this._pathData.m,!this._pathData.n||this._pathData._mdf){var h0=d0.v;this._pathData.r.v&&(h0=h0.reverse()),uo={tLength:0,segments:[]},to=h0._length-1;var v0;for(a0=0,fn=0;fn<to;fn+=1)v0=bez.buildBezierData(h0.v[fn],h0.v[fn+1],[h0.o[fn][0]-h0.v[fn][0],h0.o[fn][1]-h0.v[fn][1]],[h0.i[fn+1][0]-h0.v[fn+1][0],h0.i[fn+1][1]-h0.v[fn+1][1]]),uo.tLength+=v0.segmentLength,uo.segments.push(v0),a0+=v0.segmentLength;fn=to,d0.v.c&&(v0=bez.buildBezierData(h0.v[fn],h0.v[0],[h0.o[fn][0]-h0.v[fn][0],h0.o[fn][1]-h0.v[fn][1]],[h0.i[0][0]-h0.v[0][0],h0.i[0][1]-h0.v[0][1]]),uo.tLength+=v0.segmentLength,uo.segments.push(v0),a0+=v0.segmentLength),this._pathData.pi=uo}if(uo=this._pathData.pi,co=this._pathData.f.v,fo=0,mo=1,e0=0,lo=!0,n0=uo.segments,co<0&&d0.v.c)for(uo.tLength<Math.abs(co)&&(co=-Math.abs(co)%uo.tLength),fo=n0.length-1,t0=n0[fo].points,mo=t0.length-1;co<0;)co+=t0[mo].partialLength,mo-=1,mo<0&&(fo-=1,t0=n0[fo].points,mo=t0.length-1);t0=n0[fo].points,Uo=t0[mo-1],ho=t0[mo],i0=ho.partialLength}to=Xr.length,cn=0,hn=0;var g0=st.finalSize*1.2*.714,m0=!0,u0,c0,r0,o0,f0;o0=rn.length;var p0,y0=-1,x0,k0,b0,E0=co,_0=fo,A0=mo,P0=-1,R0,S0,T0,C0,w0,I0,$0,B0,M0="",D0=this.defaultPropsArray,G0;if(st.j===2||st.j===1){var F0=0,V0=0,N0=st.j===2?-.5:-1,L0=0,O0=!0;for(fn=0;fn<to;fn+=1)if(Xr[fn].n){for(F0&&(F0+=V0);L0<fn;)Xr[L0].animatorJustifyOffset=F0,L0+=1;F0=0,O0=!0}else{for(r0=0;r0<o0;r0+=1)u0=rn[r0].a,u0.t.propType&&(O0&&st.j===2&&(V0+=u0.t.v*N0),c0=rn[r0].s,p0=c0.getMult(Xr[fn].anIndexes[r0],an.a[r0].s.totalChars),p0.length?F0+=u0.t.v*p0[0]*N0:F0+=u0.t.v*p0*N0);O0=!1}for(F0&&(F0+=V0);L0<fn;)Xr[L0].animatorJustifyOffset=F0,L0+=1}for(fn=0;fn<to;fn+=1){if(sn.reset(),R0=1,Xr[fn].n)cn=0,hn+=st.yOffset,hn+=m0?1:0,co=E0,m0=!1,this._hasMaskedPath&&(fo=_0,mo=A0,t0=n0[fo].points,Uo=t0[mo-1],ho=t0[mo],i0=ho.partialLength,e0=0),M0="",B0="",I0="",G0="",D0=this.defaultPropsArray;else{if(this._hasMaskedPath){if(P0!==Xr[fn].line){switch(st.j){case 1:co+=a0-st.lineWidths[Xr[fn].line];break;case 2:co+=(a0-st.lineWidths[Xr[fn].line])/2;break}P0=Xr[fn].line}y0!==Xr[fn].ind&&(Xr[y0]&&(co+=Xr[y0].extra),co+=Xr[fn].an/2,y0=Xr[fn].ind),co+=nn[0]*Xr[fn].an*.005;var z0=0;for(r0=0;r0<o0;r0+=1)u0=rn[r0].a,u0.p.propType&&(c0=rn[r0].s,p0=c0.getMult(Xr[fn].anIndexes[r0],an.a[r0].s.totalChars),p0.length?z0+=u0.p.v[0]*p0[0]:z0+=u0.p.v[0]*p0),u0.a.propType&&(c0=rn[r0].s,p0=c0.getMult(Xr[fn].anIndexes[r0],an.a[r0].s.totalChars),p0.length?z0+=u0.a.v[0]*p0[0]:z0+=u0.a.v[0]*p0);for(lo=!0,this._pathData.a.v&&(co=Xr[0].an*.5+(a0-this._pathData.f.v-Xr[0].an*.5-Xr[Xr.length-1].an*.5)*y0/(to-1),co+=this._pathData.f.v);lo;)e0+i0>=co+z0||!t0?(s0=(co+z0-e0)/ho.partialLength,k0=Uo.point[0]+(ho.point[0]-Uo.point[0])*s0,b0=Uo.point[1]+(ho.point[1]-Uo.point[1])*s0,sn.translate(-nn[0]*Xr[fn].an*.005,-(nn[1]*g0)*.01),lo=!1):t0&&(e0+=ho.partialLength,mo+=1,mo>=t0.length&&(mo=0,fo+=1,n0[fo]?t0=n0[fo].points:d0.v.c?(mo=0,fo=0,t0=n0[fo].points):(e0-=ho.partialLength,t0=null)),t0&&(Uo=ho,ho=t0[mo],i0=ho.partialLength));x0=Xr[fn].an/2-Xr[fn].add,sn.translate(-x0,0,0)}else x0=Xr[fn].an/2-Xr[fn].add,sn.translate(-x0,0,0),sn.translate(-nn[0]*Xr[fn].an*.005,-nn[1]*g0*.01,0);for(r0=0;r0<o0;r0+=1)u0=rn[r0].a,u0.t.propType&&(c0=rn[r0].s,p0=c0.getMult(Xr[fn].anIndexes[r0],an.a[r0].s.totalChars),(cn!==0||st.j!==0)&&(this._hasMaskedPath?p0.length?co+=u0.t.v*p0[0]:co+=u0.t.v*p0:p0.length?cn+=u0.t.v*p0[0]:cn+=u0.t.v*p0));for(st.strokeWidthAnim&&(T0=st.sw||0),st.strokeColorAnim&&(st.sc?S0=[st.sc[0],st.sc[1],st.sc[2]]:S0=[0,0,0]),st.fillColorAnim&&st.fc&&(C0=[st.fc[0],st.fc[1],st.fc[2]]),r0=0;r0<o0;r0+=1)u0=rn[r0].a,u0.a.propType&&(c0=rn[r0].s,p0=c0.getMult(Xr[fn].anIndexes[r0],an.a[r0].s.totalChars),p0.length?sn.translate(-u0.a.v[0]*p0[0],-u0.a.v[1]*p0[1],u0.a.v[2]*p0[2]):sn.translate(-u0.a.v[0]*p0,-u0.a.v[1]*p0,u0.a.v[2]*p0));for(r0=0;r0<o0;r0+=1)u0=rn[r0].a,u0.s.propType&&(c0=rn[r0].s,p0=c0.getMult(Xr[fn].anIndexes[r0],an.a[r0].s.totalChars),p0.length?sn.scale(1+(u0.s.v[0]-1)*p0[0],1+(u0.s.v[1]-1)*p0[1],1):sn.scale(1+(u0.s.v[0]-1)*p0,1+(u0.s.v[1]-1)*p0,1));for(r0=0;r0<o0;r0+=1){if(u0=rn[r0].a,c0=rn[r0].s,p0=c0.getMult(Xr[fn].anIndexes[r0],an.a[r0].s.totalChars),u0.sk.propType&&(p0.length?sn.skewFromAxis(-u0.sk.v*p0[0],u0.sa.v*p0[1]):sn.skewFromAxis(-u0.sk.v*p0,u0.sa.v*p0)),u0.r.propType&&(p0.length?sn.rotateZ(-u0.r.v*p0[2]):sn.rotateZ(-u0.r.v*p0)),u0.ry.propType&&(p0.length?sn.rotateY(u0.ry.v*p0[1]):sn.rotateY(u0.ry.v*p0)),u0.rx.propType&&(p0.length?sn.rotateX(u0.rx.v*p0[0]):sn.rotateX(u0.rx.v*p0)),u0.o.propType&&(p0.length?R0+=(u0.o.v*p0[0]-R0)*p0[0]:R0+=(u0.o.v*p0-R0)*p0),st.strokeWidthAnim&&u0.sw.propType&&(p0.length?T0+=u0.sw.v*p0[0]:T0+=u0.sw.v*p0),st.strokeColorAnim&&u0.sc.propType)for(w0=0;w0<3;w0+=1)p0.length?S0[w0]+=(u0.sc.v[w0]-S0[w0])*p0[0]:S0[w0]+=(u0.sc.v[w0]-S0[w0])*p0;if(st.fillColorAnim&&st.fc){if(u0.fc.propType)for(w0=0;w0<3;w0+=1)p0.length?C0[w0]+=(u0.fc.v[w0]-C0[w0])*p0[0]:C0[w0]+=(u0.fc.v[w0]-C0[w0])*p0;u0.fh.propType&&(p0.length?C0=addHueToRGB(C0,u0.fh.v*p0[0]):C0=addHueToRGB(C0,u0.fh.v*p0)),u0.fs.propType&&(p0.length?C0=addSaturationToRGB(C0,u0.fs.v*p0[0]):C0=addSaturationToRGB(C0,u0.fs.v*p0)),u0.fb.propType&&(p0.length?C0=addBrightnessToRGB(C0,u0.fb.v*p0[0]):C0=addBrightnessToRGB(C0,u0.fb.v*p0))}}for(r0=0;r0<o0;r0+=1)u0=rn[r0].a,u0.p.propType&&(c0=rn[r0].s,p0=c0.getMult(Xr[fn].anIndexes[r0],an.a[r0].s.totalChars),this._hasMaskedPath?p0.length?sn.translate(0,u0.p.v[1]*p0[0],-u0.p.v[2]*p0[1]):sn.translate(0,u0.p.v[1]*p0,-u0.p.v[2]*p0):p0.length?sn.translate(u0.p.v[0]*p0[0],u0.p.v[1]*p0[1],-u0.p.v[2]*p0[2]):sn.translate(u0.p.v[0]*p0,u0.p.v[1]*p0,-u0.p.v[2]*p0));if(st.strokeWidthAnim&&(I0=T0<0?0:T0),st.strokeColorAnim&&($0="rgb("+Math.round(S0[0]*255)+","+Math.round(S0[1]*255)+","+Math.round(S0[2]*255)+")"),st.fillColorAnim&&st.fc&&(B0="rgb("+Math.round(C0[0]*255)+","+Math.round(C0[1]*255)+","+Math.round(C0[2]*255)+")"),this._hasMaskedPath){if(sn.translate(0,-st.ls),sn.translate(0,nn[1]*g0*.01+hn,0),this._pathData.p.v){l0=(ho.point[1]-Uo.point[1])/(ho.point[0]-Uo.point[0]);var j0=Math.atan(l0)*180/Math.PI;ho.point[0]<Uo.point[0]&&(j0+=180),sn.rotate(-j0*Math.PI/180)}sn.translate(k0,b0,0),co-=nn[0]*Xr[fn].an*.005,Xr[fn+1]&&y0!==Xr[fn+1].ind&&(co+=Xr[fn].an/2,co+=st.tr*.001*st.finalSize)}else{switch(sn.translate(cn,hn,0),st.ps&&sn.translate(st.ps[0],st.ps[1]+st.ascent,0),st.j){case 1:sn.translate(Xr[fn].animatorJustifyOffset+st.justifyOffset+(st.boxWidth-st.lineWidths[Xr[fn].line]),0,0);break;case 2:sn.translate(Xr[fn].animatorJustifyOffset+st.justifyOffset+(st.boxWidth-st.lineWidths[Xr[fn].line])/2,0,0);break}sn.translate(0,-st.ls),sn.translate(x0,0,0),sn.translate(nn[0]*Xr[fn].an*.005,nn[1]*g0*.01,0),cn+=Xr[fn].l+st.tr*.001*st.finalSize}un==="html"?M0=sn.toCSS():un==="svg"?M0=sn.to2dCSS():D0=[sn.props[0],sn.props[1],sn.props[2],sn.props[3],sn.props[4],sn.props[5],sn.props[6],sn.props[7],sn.props[8],sn.props[9],sn.props[10],sn.props[11],sn.props[12],sn.props[13],sn.props[14],sn.props[15]],G0=R0}ln<=fn?(f0=new LetterProps(G0,I0,$0,B0,M0,D0),this.renderedLetters.push(f0),ln+=1,this.lettersChangedFlag=!0):(f0=this.renderedLetters[fn],this.lettersChangedFlag=f0.update(G0,I0,$0,B0,M0,D0)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(st,Mt,nn){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(st,Mt,nn),this.textProperty=new TextProperty(this,st.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(st.t,this.renderType,this),this.initTransform(st,Mt,nn),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(st){this._mdf=!1,this.prepareRenderableFrame(st),this.prepareProperties(st,this.isInRange)},ITextElement.prototype.createPathShape=function(st,Mt){var nn,rn=Mt.length,an,sn="";for(nn=0;nn<rn;nn+=1)Mt[nn].ty==="sh"&&(an=Mt[nn].ks.k,sn+=buildShapeString(an,an.i.length,!0,st));return sn},ITextElement.prototype.updateDocumentData=function(st,Mt){this.textProperty.updateDocumentData(st,Mt)},ITextElement.prototype.canResizeFont=function(st){this.textProperty.canResizeFont(st)},ITextElement.prototype.setMinimumFontSize=function(st){this.textProperty.setMinimumFontSize(st)},ITextElement.prototype.applyTextPropertiesToMatrix=function(st,Mt,nn,rn,an){switch(st.ps&&Mt.translate(st.ps[0],st.ps[1]+st.ascent,0),Mt.translate(0,-st.ls,0),st.j){case 1:Mt.translate(st.justifyOffset+(st.boxWidth-st.lineWidths[nn]),0,0);break;case 2:Mt.translate(st.justifyOffset+(st.boxWidth-st.lineWidths[nn])/2,0,0);break}Mt.translate(rn,an,0)},ITextElement.prototype.buildColor=function(st){return"rgb("+Math.round(st[0]*255)+","+Math.round(st[1]*255)+","+Math.round(st[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(st,Mt,nn){this.textSpans=[],this.renderType="svg",this.initElement(st,Mt,nn)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(st){for(var Mt=0,nn=st.length,rn=[],an="";Mt<nn;)st[Mt]==="\r"||st[Mt]===""?(rn.push(an),an=""):an+=st[Mt],Mt+=1;return rn.push(an),rn},SVGTextLottieElement.prototype.buildShapeData=function(st,Mt){if(st.shapes&&st.shapes.length){var nn=st.shapes[0];if(nn.it){var rn=nn.it[nn.it.length-1];rn.s&&(rn.s.k[0]=Mt,rn.s.k[1]=Mt)}}return st},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var st,Mt,nn=this.textProperty.currentData;this.renderedLetters=createSizedArray(nn?nn.l.length:0),nn.fc?this.layerElement.setAttribute("fill",this.buildColor(nn.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),nn.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(nn.sc)),this.layerElement.setAttribute("stroke-width",nn.sw)),this.layerElement.setAttribute("font-size",nn.finalSize);var rn=this.globalData.fontManager.getFontByName(nn.f);if(rn.fClass)this.layerElement.setAttribute("class",rn.fClass);else{this.layerElement.setAttribute("font-family",rn.fFamily);var an=nn.fWeight,sn=nn.fStyle;this.layerElement.setAttribute("font-style",sn),this.layerElement.setAttribute("font-weight",an)}this.layerElement.setAttribute("aria-label",nn.t);var un=nn.l||[],ln=!!this.globalData.fontManager.chars;Mt=un.length;var cn,hn=this.mHelper,fn="",to=this.data.singleShape,Xr=0,uo=0,co=!0,ho=nn.tr*.001*nn.finalSize;if(to&&!ln&&!nn.sz){var e0=this.textContainer,lo="start";switch(nn.j){case 1:lo="end";break;case 2:lo="middle";break;default:lo="start";break}e0.setAttribute("text-anchor",lo),e0.setAttribute("letter-spacing",ho);var mo=this.buildTextContents(nn.finalText);for(Mt=mo.length,uo=nn.ps?nn.ps[1]+nn.ascent:0,st=0;st<Mt;st+=1)cn=this.textSpans[st].span||createNS("tspan"),cn.textContent=mo[st],cn.setAttribute("x",0),cn.setAttribute("y",uo),cn.style.display="inherit",e0.appendChild(cn),this.textSpans[st]||(this.textSpans[st]={span:null,glyph:null}),this.textSpans[st].span=cn,uo+=nn.finalLineHeight;this.layerElement.appendChild(e0)}else{var fo=this.textSpans.length,Uo;for(st=0;st<Mt;st+=1){if(this.textSpans[st]||(this.textSpans[st]={span:null,childSpan:null,glyph:null}),!ln||!to||st===0){if(cn=fo>st?this.textSpans[st].span:createNS(ln?"g":"text"),fo<=st){if(cn.setAttribute("stroke-linecap","butt"),cn.setAttribute("stroke-linejoin","round"),cn.setAttribute("stroke-miterlimit","4"),this.textSpans[st].span=cn,ln){var t0=createNS("g");cn.appendChild(t0),this.textSpans[st].childSpan=t0}this.textSpans[st].span=cn,this.layerElement.appendChild(cn)}cn.style.display="inherit"}if(hn.reset(),to&&(un[st].n&&(Xr=-ho,uo+=nn.yOffset,uo+=co?1:0,co=!1),this.applyTextPropertiesToMatrix(nn,hn,un[st].line,Xr,uo),Xr+=un[st].l||0,Xr+=ho),ln){Uo=this.globalData.fontManager.getCharData(nn.finalText[st],rn.fStyle,this.globalData.fontManager.getFontByName(nn.f).fFamily);var n0;if(Uo.t===1)n0=new SVGCompElement(Uo.data,this.globalData,this);else{var i0=emptyShapeData;Uo.data&&Uo.data.shapes&&(i0=this.buildShapeData(Uo.data,nn.finalSize)),n0=new SVGShapeElement(i0,this.globalData,this)}if(this.textSpans[st].glyph){var a0=this.textSpans[st].glyph;this.textSpans[st].childSpan.removeChild(a0.layerElement),a0.destroy()}this.textSpans[st].glyph=n0,n0._debug=!0,n0.prepareFrame(0),n0.renderFrame(),this.textSpans[st].childSpan.appendChild(n0.layerElement),Uo.t===1&&this.textSpans[st].childSpan.setAttribute("transform","scale("+nn.finalSize/100+","+nn.finalSize/100+")")}else to&&cn.setAttribute("transform","translate("+hn.props[12]+","+hn.props[13]+")"),cn.textContent=un[st].val,cn.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}to&&cn&&cn.setAttribute("d",fn)}for(;st<this.textSpans.length;)this.textSpans[st].span.style.display="none",st+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var st=this.layerElement.getBBox();this.bbox={top:st.y,left:st.x,width:st.width,height:st.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var st,Mt=this.textSpans.length,nn;for(this.renderedFrame=this.comp.renderedFrame,st=0;st<Mt;st+=1)nn=this.textSpans[st].glyph,nn&&(nn.prepareFrame(this.comp.renderedFrame-this.data.st),nn._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var st,Mt,nn=this.textAnimator.renderedLetters,rn=this.textProperty.currentData.l;Mt=rn.length;var an,sn,un;for(st=0;st<Mt;st+=1)rn[st].n||(an=nn[st],sn=this.textSpans[st].span,un=this.textSpans[st].glyph,un&&un.renderFrame(),an._mdf.m&&sn.setAttribute("transform",an.m),an._mdf.o&&sn.setAttribute("opacity",an.o),an._mdf.sw&&sn.setAttribute("stroke-width",an.sw),an._mdf.sc&&sn.setAttribute("stroke",an.sc),an._mdf.fc&&sn.setAttribute("fill",an.fc))}};function ISolidElement(st,Mt,nn){this.initElement(st,Mt,nn)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var st=createNS("rect");st.setAttribute("width",this.data.sw),st.setAttribute("height",this.data.sh),st.setAttribute("fill",this.data.sc),this.layerElement.appendChild(st)};function NullElement(st,Mt,nn){this.initFrame(),this.initBaseData(st,Mt,nn),this.initFrame(),this.initTransform(st,Mt,nn),this.initHierarchy()}NullElement.prototype.prepareFrame=function(st){this.prepareProperties(st,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(st){return new NullElement(st,this.globalData,this)},SVGRendererBase.prototype.createShape=function(st){return new SVGShapeElement(st,this.globalData,this)},SVGRendererBase.prototype.createText=function(st){return new SVGTextLottieElement(st,this.globalData,this)},SVGRendererBase.prototype.createImage=function(st){return new IImageElement(st,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(st){return new ISolidElement(st,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(st){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+st.w+" "+st.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",st.w),this.svgElement.setAttribute("height",st.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var Mt=this.globalData.defs;this.setupGlobalData(st,Mt),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=st;var nn=createNS("clipPath"),rn=createNS("rect");rn.setAttribute("width",st.w),rn.setAttribute("height",st.h),rn.setAttribute("x",0),rn.setAttribute("y",0);var an=createElementID();nn.setAttribute("id",an),nn.appendChild(rn),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+an+")"),Mt.appendChild(nn),this.layers=st.layers,this.elements=createSizedArray(st.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var st,Mt=this.layers?this.layers.length:0;for(st=0;st<Mt;st+=1)this.elements[st]&&this.elements[st].destroy&&this.elements[st].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(st){var Mt=0,nn=this.layers.length;for(Mt=0;Mt<nn;Mt+=1)if(this.layers[Mt].ind===st)return Mt;return-1},SVGRendererBase.prototype.buildItem=function(st){var Mt=this.elements;if(!(Mt[st]||this.layers[st].ty===99)){Mt[st]=!0;var nn=this.createItem(this.layers[st]);if(Mt[st]=nn,getExpressionsPlugin()&&(this.layers[st].ty===0&&this.globalData.projectInterface.registerComposition(nn),nn.initExpressions()),this.appendElementInPos(nn,st),this.layers[st].tt){var rn="tp"in this.layers[st]?this.findIndexByInd(this.layers[st].tp):st-1;if(rn===-1)return;if(!this.elements[rn]||this.elements[rn]===!0)this.buildItem(rn),this.addPendingElement(nn);else{var an=Mt[rn],sn=an.getMatte(this.layers[st].tt);nn.setMatte(sn)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var st=this.pendingElements.pop();if(st.checkParenting(),st.data.tt)for(var Mt=0,nn=this.elements.length;Mt<nn;){if(this.elements[Mt]===st){var rn="tp"in st.data?this.findIndexByInd(st.data.tp):Mt-1,an=this.elements[rn],sn=an.getMatte(this.layers[Mt].tt);st.setMatte(sn);break}Mt+=1}}},SVGRendererBase.prototype.renderFrame=function(st){if(!(this.renderedFrame===st||this.destroyed)){st===null?st=this.renderedFrame:this.renderedFrame=st,this.globalData.frameNum=st,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=st,this.globalData._mdf=!1;var Mt,nn=this.layers.length;for(this.completeLayers||this.checkLayers(st),Mt=nn-1;Mt>=0;Mt-=1)(this.completeLayers||this.elements[Mt])&&this.elements[Mt].prepareFrame(st-this.layers[Mt].st);if(this.globalData._mdf)for(Mt=0;Mt<nn;Mt+=1)(this.completeLayers||this.elements[Mt])&&this.elements[Mt].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(st,Mt){var nn=st.getBaseElement();if(nn){for(var rn=0,an;rn<Mt;)this.elements[rn]&&this.elements[rn]!==!0&&this.elements[rn].getBaseElement()&&(an=this.elements[rn].getBaseElement()),rn+=1;an?this.layerElement.insertBefore(nn,an):this.layerElement.appendChild(nn)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(st,Mt,nn){this.initFrame(),this.initBaseData(st,Mt,nn),this.initTransform(st,Mt,nn),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!Mt.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(st){if(this._mdf=!1,this.prepareRenderableFrame(st),this.prepareProperties(st,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=st/this.data.sr;else{var Mt=this.tm.v;Mt===this.data.op&&(Mt=this.data.op-1),this.renderedFrame=Mt}var nn,rn=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),nn=rn-1;nn>=0;nn-=1)(this.completeLayers||this.elements[nn])&&(this.elements[nn].prepareFrame(this.renderedFrame-this.layers[nn].st),this.elements[nn]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var st,Mt=this.layers.length;for(st=0;st<Mt;st+=1)(this.completeLayers||this.elements[st])&&this.elements[st].renderFrame()},ICompElement.prototype.setElements=function(st){this.elements=st},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var st,Mt=this.layers.length;for(st=0;st<Mt;st+=1)this.elements[st]&&this.elements[st].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(st,Mt,nn){this.layers=st.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(st,Mt,nn),this.tm=st.tm?PropertyFactory.getProp(this,st.tm,0,Mt.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(st){return new SVGCompElement(st,this.globalData,this)};function SVGRenderer(st,Mt){this.animationItem=st,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var nn="";if(Mt&&Mt.title){var rn=createNS("title"),an=createElementID();rn.setAttribute("id",an),rn.textContent=Mt.title,this.svgElement.appendChild(rn),nn+=an}if(Mt&&Mt.description){var sn=createNS("desc"),un=createElementID();sn.setAttribute("id",un),sn.textContent=Mt.description,this.svgElement.appendChild(sn),nn+=" "+un}nn&&this.svgElement.setAttribute("aria-labelledby",nn);var ln=createNS("defs");this.svgElement.appendChild(ln);var cn=createNS("g");this.svgElement.appendChild(cn),this.layerElement=cn,this.renderConfig={preserveAspectRatio:Mt&&Mt.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:Mt&&Mt.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:Mt&&Mt.contentVisibility||"visible",progressiveLoad:Mt&&Mt.progressiveLoad||!1,hideOnTransparent:!(Mt&&Mt.hideOnTransparent===!1),viewBoxOnly:Mt&&Mt.viewBoxOnly||!1,viewBoxSize:Mt&&Mt.viewBoxSize||!1,className:Mt&&Mt.className||"",id:Mt&&Mt.id||"",focusable:Mt&&Mt.focusable,filterSize:{width:Mt&&Mt.filterSize&&Mt.filterSize.width||"100%",height:Mt&&Mt.filterSize&&Mt.filterSize.height||"100%",x:Mt&&Mt.filterSize&&Mt.filterSize.x||"0%",y:Mt&&Mt.filterSize&&Mt.filterSize.y||"0%"},width:Mt&&Mt.width,height:Mt&&Mt.height,runExpressions:!Mt||Mt.runExpressions===void 0||Mt.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:ln,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(st){return new SVGCompElement(st,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(Mt){var nn,rn=Mt.length,an="_";for(nn=0;nn<rn;nn+=1)an+=Mt[nn].transform.key+"_";var sn=this.sequences[an];return sn||(sn={transforms:[].concat(Mt),finalTransform:new Matrix,_mdf:!1},this.sequences[an]=sn,this.sequenceList.push(sn)),sn},processSequence:function(Mt,nn){for(var rn=0,an=Mt.transforms.length,sn=nn;rn<an&&!nn;){if(Mt.transforms[rn].transform.mProps._mdf){sn=!0;break}rn+=1}if(sn)for(Mt.finalTransform.reset(),rn=an-1;rn>=0;rn-=1)Mt.finalTransform.multiply(Mt.transforms[rn].transform.mProps.v);Mt._mdf=sn},processSequences:function(Mt){var nn,rn=this.sequenceList.length;for(nn=0;nn<rn;nn+=1)this.processSequence(this.sequenceList[nn],Mt)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var Mt="__lottie_element_luma_buffer",nn=null,rn=null,an=null;function sn(){var cn=createNS("svg"),hn=createNS("filter"),fn=createNS("feColorMatrix");return hn.setAttribute("id",Mt),fn.setAttribute("type","matrix"),fn.setAttribute("color-interpolation-filters","sRGB"),fn.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),hn.appendChild(fn),cn.appendChild(hn),cn.setAttribute("id",Mt+"_svg"),featureSupport.svgLumaHidden&&(cn.style.display="none"),cn}function un(){nn||(an=sn(),document.body.appendChild(an),nn=createTag("canvas"),rn=nn.getContext("2d"),rn.filter="url(#"+Mt+")",rn.fillStyle="rgba(0,0,0,0)",rn.fillRect(0,0,1,1))}function ln(cn){return nn||un(),nn.width=cn.width,nn.height=cn.height,rn.filter="url(#"+Mt+")",nn}return{load:un,get:ln}};function createCanvas(st,Mt){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(st,Mt);var nn=createTag("canvas");return nn.width=st,nn.height=Mt,nn}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(st){var Mt,nn=st.data.ef?st.data.ef.length:0;this.filters=[];var rn;for(Mt=0;Mt<nn;Mt+=1){rn=null;var an=st.data.ef[Mt].ty;if(registeredEffects[an]){var sn=registeredEffects[an].effect;rn=new sn(st.effectsManager.effectElements[Mt],st)}rn&&this.filters.push(rn)}this.filters.length&&st.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(st){var Mt,nn=this.filters.length;for(Mt=0;Mt<nn;Mt+=1)this.filters[Mt].renderFrame(st)},CVEffects.prototype.getEffects=function(st){var Mt,nn=this.filters.length,rn=[];for(Mt=0;Mt<nn;Mt+=1)this.filters[Mt].type===st&&rn.push(this.filters[Mt]);return rn};function registerEffect(st,Mt){registeredEffects[st]={effect:Mt}}function CVMaskElement(st,Mt){this.data=st,this.element=Mt,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var nn,rn=this.masksProperties.length,an=!1;for(nn=0;nn<rn;nn+=1)this.masksProperties[nn].mode!=="n"&&(an=!0),this.viewData[nn]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[nn],3);this.hasMasks=an,an&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var st=this.element.finalTransform.mat,Mt=this.element.canvasContext,nn,rn=this.masksProperties.length,an,sn,un;for(Mt.beginPath(),nn=0;nn<rn;nn+=1)if(this.masksProperties[nn].mode!=="n"){this.masksProperties[nn].inv&&(Mt.moveTo(0,0),Mt.lineTo(this.element.globalData.compSize.w,0),Mt.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),Mt.lineTo(0,this.element.globalData.compSize.h),Mt.lineTo(0,0)),un=this.viewData[nn].v,an=st.applyToPointArray(un.v[0][0],un.v[0][1],0),Mt.moveTo(an[0],an[1]);var ln,cn=un._length;for(ln=1;ln<cn;ln+=1)sn=st.applyToTriplePoints(un.o[ln-1],un.i[ln],un.v[ln]),Mt.bezierCurveTo(sn[0],sn[1],sn[2],sn[3],sn[4],sn[5]);sn=st.applyToTriplePoints(un.o[ln-1],un.i[0],un.v[0]),Mt.bezierCurveTo(sn[0],sn[1],sn[2],sn[3],sn[4],sn[5])}this.element.globalData.renderer.save(!0),Mt.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var Mt=this.globalData.canvasContext,nn=assetLoader.createCanvas(Mt.canvas.width,Mt.canvas.height);this.buffers.push(nn);var rn=assetLoader.createCanvas(Mt.canvas.width,Mt.canvas.height);this.buffers.push(rn),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var Mt=this.globalData;if(Mt.blendMode!==this.data.bm){Mt.blendMode=this.data.bm;var nn=getBlendMode(this.data.bm);Mt.canvasContext.globalCompositeOperation=nn}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(Mt){Mt.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var Mt=this.buffers[0],nn=Mt.getContext("2d");this.clearCanvas(nn),nn.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var Mt=this.buffers[1],nn=Mt.getContext("2d");this.clearCanvas(nn),nn.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var rn=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(rn.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var an=assetLoader.getLumaCanvas(this.canvasContext.canvas),sn=an.getContext("2d");sn.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(an,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(Mt,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(Mt){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!Mt)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var nn=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(nn),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(nn),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(st,Mt,nn,rn){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var an=4;Mt.ty==="rc"?an=5:Mt.ty==="el"?an=6:Mt.ty==="sr"&&(an=7),this.sh=ShapePropertyFactory.getShapeProp(st,Mt,an,st);var sn,un=nn.length,ln;for(sn=0;sn<un;sn+=1)nn[sn].closed||(ln={transforms:rn.addTransformSequence(nn[sn].transforms),trNodes:[]},this.styledShapes.push(ln),nn[sn].elements.push(ln))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(st,Mt,nn){this.shapes=[],this.shapesData=st.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(st,Mt,nn)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(st,Mt){var nn={data:st,type:st.ty,preTransforms:this.transformsManager.addTransformSequence(Mt),transforms:[],elements:[],closed:st.hd===!0},rn={};if(st.ty==="fl"||st.ty==="st"?(rn.c=PropertyFactory.getProp(this,st.c,1,255,this),rn.c.k||(nn.co="rgb("+bmFloor(rn.c.v[0])+","+bmFloor(rn.c.v[1])+","+bmFloor(rn.c.v[2])+")")):(st.ty==="gf"||st.ty==="gs")&&(rn.s=PropertyFactory.getProp(this,st.s,1,null,this),rn.e=PropertyFactory.getProp(this,st.e,1,null,this),rn.h=PropertyFactory.getProp(this,st.h||{k:0},0,.01,this),rn.a=PropertyFactory.getProp(this,st.a||{k:0},0,degToRads,this),rn.g=new GradientProperty(this,st.g,this)),rn.o=PropertyFactory.getProp(this,st.o,0,.01,this),st.ty==="st"||st.ty==="gs"){if(nn.lc=lineCapEnum[st.lc||2],nn.lj=lineJoinEnum[st.lj||2],st.lj==1&&(nn.ml=st.ml),rn.w=PropertyFactory.getProp(this,st.w,0,null,this),rn.w.k||(nn.wi=rn.w.v),st.d){var an=new DashProperty(this,st.d,"canvas",this);rn.d=an,rn.d.k||(nn.da=rn.d.dashArray,nn.do=rn.d.dashoffset[0])}}else nn.r=st.r===2?"evenodd":"nonzero";return this.stylesList.push(nn),rn.style=nn,rn},CVShapeElement.prototype.createGroupElement=function(){var st={it:[],prevViewData:[]};return st},CVShapeElement.prototype.createTransformElement=function(st){var Mt={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,st.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,st,this)}};return Mt},CVShapeElement.prototype.createShapeElement=function(st){var Mt=new CVShapeData(this,st,this.stylesList,this.transformsManager);return this.shapes.push(Mt),this.addShapeToModifiers(Mt),Mt},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var st,Mt=this.itemsData.length;for(st=0;st<Mt;st+=1)this.prevViewData[st]=this.itemsData[st];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),Mt=this.dynamicProperties.length,st=0;st<Mt;st+=1)this.dynamicProperties[st].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(st){var Mt,nn=this.stylesList.length;for(Mt=0;Mt<nn;Mt+=1)this.stylesList[Mt].closed||this.stylesList[Mt].transforms.push(st)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var st,Mt=this.stylesList.length;for(st=0;st<Mt;st+=1)this.stylesList[st].closed||this.stylesList[st].transforms.pop()},CVShapeElement.prototype.closeStyles=function(st){var Mt,nn=st.length;for(Mt=0;Mt<nn;Mt+=1)st[Mt].closed=!0},CVShapeElement.prototype.searchShapes=function(st,Mt,nn,rn,an){var sn,un=st.length-1,ln,cn,hn=[],fn=[],to,Xr,uo,co=[].concat(an);for(sn=un;sn>=0;sn-=1){if(to=this.searchProcessedElement(st[sn]),to?Mt[sn]=nn[to-1]:st[sn]._shouldRender=rn,st[sn].ty==="fl"||st[sn].ty==="st"||st[sn].ty==="gf"||st[sn].ty==="gs")to?Mt[sn].style.closed=!1:Mt[sn]=this.createStyleElement(st[sn],co),hn.push(Mt[sn].style);else if(st[sn].ty==="gr"){if(!to)Mt[sn]=this.createGroupElement(st[sn]);else for(cn=Mt[sn].it.length,ln=0;ln<cn;ln+=1)Mt[sn].prevViewData[ln]=Mt[sn].it[ln];this.searchShapes(st[sn].it,Mt[sn].it,Mt[sn].prevViewData,rn,co)}else st[sn].ty==="tr"?(to||(uo=this.createTransformElement(st[sn]),Mt[sn]=uo),co.push(Mt[sn]),this.addTransformToStyleList(Mt[sn])):st[sn].ty==="sh"||st[sn].ty==="rc"||st[sn].ty==="el"||st[sn].ty==="sr"?to||(Mt[sn]=this.createShapeElement(st[sn])):st[sn].ty==="tm"||st[sn].ty==="rd"||st[sn].ty==="pb"||st[sn].ty==="zz"||st[sn].ty==="op"?(to?(Xr=Mt[sn],Xr.closed=!1):(Xr=ShapeModifiers.getModifier(st[sn].ty),Xr.init(this,st[sn]),Mt[sn]=Xr,this.shapeModifiers.push(Xr)),fn.push(Xr)):st[sn].ty==="rp"&&(to?(Xr=Mt[sn],Xr.closed=!0):(Xr=ShapeModifiers.getModifier(st[sn].ty),Mt[sn]=Xr,Xr.init(this,st,sn,Mt),this.shapeModifiers.push(Xr),rn=!1),fn.push(Xr));this.addProcessedElement(st[sn],sn+1)}for(this.removeTransformFromStyleList(),this.closeStyles(hn),un=fn.length,sn=0;sn<un;sn+=1)fn[sn].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(st,Mt){(st._opMdf||Mt.op._mdf||this._isFirstFrame)&&(Mt.opacity=st.opacity,Mt.opacity*=Mt.op.v,Mt._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var st,Mt=this.stylesList.length,nn,rn,an,sn,un,ln,cn=this.globalData.renderer,hn=this.globalData.canvasContext,fn,to;for(st=0;st<Mt;st+=1)if(to=this.stylesList[st],fn=to.type,!((fn==="st"||fn==="gs")&&to.wi===0||!to.data._shouldRender||to.coOp===0||this.globalData.currentGlobalAlpha===0)){for(cn.save(),un=to.elements,fn==="st"||fn==="gs"?(cn.ctxStrokeStyle(fn==="st"?to.co:to.grd),cn.ctxLineWidth(to.wi),cn.ctxLineCap(to.lc),cn.ctxLineJoin(to.lj),cn.ctxMiterLimit(to.ml||0)):cn.ctxFillStyle(fn==="fl"?to.co:to.grd),cn.ctxOpacity(to.coOp),fn!=="st"&&fn!=="gs"&&hn.beginPath(),cn.ctxTransform(to.preTransforms.finalTransform.props),rn=un.length,nn=0;nn<rn;nn+=1){for((fn==="st"||fn==="gs")&&(hn.beginPath(),to.da&&(hn.setLineDash(to.da),hn.lineDashOffset=to.do)),ln=un[nn].trNodes,sn=ln.length,an=0;an<sn;an+=1)ln[an].t==="m"?hn.moveTo(ln[an].p[0],ln[an].p[1]):ln[an].t==="c"?hn.bezierCurveTo(ln[an].pts[0],ln[an].pts[1],ln[an].pts[2],ln[an].pts[3],ln[an].pts[4],ln[an].pts[5]):hn.closePath();(fn==="st"||fn==="gs")&&(cn.ctxStroke(),to.da&&hn.setLineDash(this.dashResetter))}fn!=="st"&&fn!=="gs"&&this.globalData.renderer.ctxFill(to.r),cn.restore()}},CVShapeElement.prototype.renderShape=function(st,Mt,nn,rn){var an,sn=Mt.length-1,un;for(un=st,an=sn;an>=0;an-=1)Mt[an].ty==="tr"?(un=nn[an].transform,this.renderShapeTransform(st,un)):Mt[an].ty==="sh"||Mt[an].ty==="el"||Mt[an].ty==="rc"||Mt[an].ty==="sr"?this.renderPath(Mt[an],nn[an]):Mt[an].ty==="fl"?this.renderFill(Mt[an],nn[an],un):Mt[an].ty==="st"?this.renderStroke(Mt[an],nn[an],un):Mt[an].ty==="gf"||Mt[an].ty==="gs"?this.renderGradientFill(Mt[an],nn[an],un):Mt[an].ty==="gr"?this.renderShape(un,Mt[an].it,nn[an].it):Mt[an].ty;rn&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(st,Mt){if(this._isFirstFrame||Mt._mdf||st.transforms._mdf){var nn=st.trNodes,rn=Mt.paths,an,sn,un,ln=rn._length;nn.length=0;var cn=st.transforms.finalTransform;for(un=0;un<ln;un+=1){var hn=rn.shapes[un];if(hn&&hn.v){for(sn=hn._length,an=1;an<sn;an+=1)an===1&&nn.push({t:"m",p:cn.applyToPointArray(hn.v[0][0],hn.v[0][1],0)}),nn.push({t:"c",pts:cn.applyToTriplePoints(hn.o[an-1],hn.i[an],hn.v[an])});sn===1&&nn.push({t:"m",p:cn.applyToPointArray(hn.v[0][0],hn.v[0][1],0)}),hn.c&&sn&&(nn.push({t:"c",pts:cn.applyToTriplePoints(hn.o[an-1],hn.i[0],hn.v[0])}),nn.push({t:"z"}))}}st.trNodes=nn}},CVShapeElement.prototype.renderPath=function(st,Mt){if(st.hd!==!0&&st._shouldRender){var nn,rn=Mt.styledShapes.length;for(nn=0;nn<rn;nn+=1)this.renderStyledShape(Mt.styledShapes[nn],Mt.sh)}},CVShapeElement.prototype.renderFill=function(st,Mt,nn){var rn=Mt.style;(Mt.c._mdf||this._isFirstFrame)&&(rn.co="rgb("+bmFloor(Mt.c.v[0])+","+bmFloor(Mt.c.v[1])+","+bmFloor(Mt.c.v[2])+")"),(Mt.o._mdf||nn._opMdf||this._isFirstFrame)&&(rn.coOp=Mt.o.v*nn.opacity)},CVShapeElement.prototype.renderGradientFill=function(st,Mt,nn){var rn=Mt.style,an;if(!rn.grd||Mt.g._mdf||Mt.s._mdf||Mt.e._mdf||st.t!==1&&(Mt.h._mdf||Mt.a._mdf)){var sn=this.globalData.canvasContext,un=Mt.s.v,ln=Mt.e.v;if(st.t===1)an=sn.createLinearGradient(un[0],un[1],ln[0],ln[1]);else{var cn=Math.sqrt(Math.pow(un[0]-ln[0],2)+Math.pow(un[1]-ln[1],2)),hn=Math.atan2(ln[1]-un[1],ln[0]-un[0]),fn=Mt.h.v;fn>=1?fn=.99:fn<=-1&&(fn=-.99);var to=cn*fn,Xr=Math.cos(hn+Mt.a.v)*to+un[0],uo=Math.sin(hn+Mt.a.v)*to+un[1];an=sn.createRadialGradient(Xr,uo,0,un[0],un[1],cn)}var co,ho=st.g.p,e0=Mt.g.c,lo=1;for(co=0;co<ho;co+=1)Mt.g._hasOpacity&&Mt.g._collapsable&&(lo=Mt.g.o[co*2+1]),an.addColorStop(e0[co*4]/100,"rgba("+e0[co*4+1]+","+e0[co*4+2]+","+e0[co*4+3]+","+lo+")");rn.grd=an}rn.coOp=Mt.o.v*nn.opacity},CVShapeElement.prototype.renderStroke=function(st,Mt,nn){var rn=Mt.style,an=Mt.d;an&&(an._mdf||this._isFirstFrame)&&(rn.da=an.dashArray,rn.do=an.dashoffset[0]),(Mt.c._mdf||this._isFirstFrame)&&(rn.co="rgb("+bmFloor(Mt.c.v[0])+","+bmFloor(Mt.c.v[1])+","+bmFloor(Mt.c.v[2])+")"),(Mt.o._mdf||nn._opMdf||this._isFirstFrame)&&(rn.coOp=Mt.o.v*nn.opacity),(Mt.w._mdf||this._isFirstFrame)&&(rn.wi=Mt.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(st,Mt,nn){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(st,Mt,nn)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var st=this.textProperty.currentData;this.renderedLetters=createSizedArray(st.l?st.l.length:0);var Mt=!1;st.fc?(Mt=!0,this.values.fill=this.buildColor(st.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=Mt;var nn=!1;st.sc&&(nn=!0,this.values.stroke=this.buildColor(st.sc),this.values.sWidth=st.sw);var rn=this.globalData.fontManager.getFontByName(st.f),an,sn,un=st.l,ln=this.mHelper;this.stroke=nn,this.values.fValue=st.finalSize+"px "+this.globalData.fontManager.getFontByName(st.f).fFamily,sn=st.finalText.length;var cn,hn,fn,to,Xr,uo,co,ho,e0,lo,mo=this.data.singleShape,fo=st.tr*.001*st.finalSize,Uo=0,t0=0,n0=!0,i0=0;for(an=0;an<sn;an+=1){cn=this.globalData.fontManager.getCharData(st.finalText[an],rn.fStyle,this.globalData.fontManager.getFontByName(st.f).fFamily),hn=cn&&cn.data||{},ln.reset(),mo&&un[an].n&&(Uo=-fo,t0+=st.yOffset,t0+=n0?1:0,n0=!1),Xr=hn.shapes?hn.shapes[0].it:[],co=Xr.length,ln.scale(st.finalSize/100,st.finalSize/100),mo&&this.applyTextPropertiesToMatrix(st,ln,un[an].line,Uo,t0),e0=createSizedArray(co-1);var a0=0;for(uo=0;uo<co;uo+=1)if(Xr[uo].ty==="sh"){for(to=Xr[uo].ks.k.i.length,ho=Xr[uo].ks.k,lo=[],fn=1;fn<to;fn+=1)fn===1&&lo.push(ln.applyToX(ho.v[0][0],ho.v[0][1],0),ln.applyToY(ho.v[0][0],ho.v[0][1],0)),lo.push(ln.applyToX(ho.o[fn-1][0],ho.o[fn-1][1],0),ln.applyToY(ho.o[fn-1][0],ho.o[fn-1][1],0),ln.applyToX(ho.i[fn][0],ho.i[fn][1],0),ln.applyToY(ho.i[fn][0],ho.i[fn][1],0),ln.applyToX(ho.v[fn][0],ho.v[fn][1],0),ln.applyToY(ho.v[fn][0],ho.v[fn][1],0));lo.push(ln.applyToX(ho.o[fn-1][0],ho.o[fn-1][1],0),ln.applyToY(ho.o[fn-1][0],ho.o[fn-1][1],0),ln.applyToX(ho.i[0][0],ho.i[0][1],0),ln.applyToY(ho.i[0][0],ho.i[0][1],0),ln.applyToX(ho.v[0][0],ho.v[0][1],0),ln.applyToY(ho.v[0][0],ho.v[0][1],0)),e0[a0]=lo,a0+=1}mo&&(Uo+=un[an].l,Uo+=fo),this.textSpans[i0]?this.textSpans[i0].elem=e0:this.textSpans[i0]={elem:e0},i0+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var st=this.canvasContext;st.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var Mt,nn,rn,an,sn,un,ln=this.textAnimator.renderedLetters,cn=this.textProperty.currentData.l;nn=cn.length;var hn,fn=null,to=null,Xr=null,uo,co,ho=this.globalData.renderer;for(Mt=0;Mt<nn;Mt+=1)if(!cn[Mt].n){if(hn=ln[Mt],hn&&(ho.save(),ho.ctxTransform(hn.p),ho.ctxOpacity(hn.o)),this.fill){for(hn&&hn.fc?fn!==hn.fc&&(ho.ctxFillStyle(hn.fc),fn=hn.fc):fn!==this.values.fill&&(fn=this.values.fill,ho.ctxFillStyle(this.values.fill)),uo=this.textSpans[Mt].elem,an=uo.length,this.globalData.canvasContext.beginPath(),rn=0;rn<an;rn+=1)for(co=uo[rn],un=co.length,this.globalData.canvasContext.moveTo(co[0],co[1]),sn=2;sn<un;sn+=6)this.globalData.canvasContext.bezierCurveTo(co[sn],co[sn+1],co[sn+2],co[sn+3],co[sn+4],co[sn+5]);this.globalData.canvasContext.closePath(),ho.ctxFill()}if(this.stroke){for(hn&&hn.sw?Xr!==hn.sw&&(Xr=hn.sw,ho.ctxLineWidth(hn.sw)):Xr!==this.values.sWidth&&(Xr=this.values.sWidth,ho.ctxLineWidth(this.values.sWidth)),hn&&hn.sc?to!==hn.sc&&(to=hn.sc,ho.ctxStrokeStyle(hn.sc)):to!==this.values.stroke&&(to=this.values.stroke,ho.ctxStrokeStyle(this.values.stroke)),uo=this.textSpans[Mt].elem,an=uo.length,this.globalData.canvasContext.beginPath(),rn=0;rn<an;rn+=1)for(co=uo[rn],un=co.length,this.globalData.canvasContext.moveTo(co[0],co[1]),sn=2;sn<un;sn+=6)this.globalData.canvasContext.bezierCurveTo(co[sn],co[sn+1],co[sn+2],co[sn+3],co[sn+4],co[sn+5]);this.globalData.canvasContext.closePath(),ho.ctxStroke()}hn&&this.globalData.renderer.restore()}};function CVImageElement(st,Mt,nn){this.assetData=Mt.getAssetData(st.refId),this.img=Mt.imageLoader.getAsset(this.assetData),this.initElement(st,Mt,nn)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var st=createTag("canvas");st.width=this.assetData.w,st.height=this.assetData.h;var Mt=st.getContext("2d"),nn=this.img.width,rn=this.img.height,an=nn/rn,sn=this.assetData.w/this.assetData.h,un,ln,cn=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;an>sn&&cn==="xMidYMid slice"||an<sn&&cn!=="xMidYMid slice"?(ln=rn,un=ln*sn):(un=nn,ln=un/sn),Mt.drawImage(this.img,(nn-un)/2,(rn-ln)/2,un,ln,0,0,this.assetData.w,this.assetData.h),this.img=st}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(st,Mt,nn){this.initElement(st,Mt,nn)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(st){return new CVShapeElement(st,this.globalData,this)},CanvasRendererBase.prototype.createText=function(st){return new CVTextElement(st,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(st){return new CVImageElement(st,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(st){return new CVSolidElement(st,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(st){st[0]===1&&st[1]===0&&st[4]===0&&st[5]===1&&st[12]===0&&st[13]===0||this.canvasContext.transform(st[0],st[1],st[4],st[5],st[12],st[13])},CanvasRendererBase.prototype.ctxOpacity=function(st){this.canvasContext.globalAlpha*=st<0?0:st},CanvasRendererBase.prototype.ctxFillStyle=function(st){this.canvasContext.fillStyle=st},CanvasRendererBase.prototype.ctxStrokeStyle=function(st){this.canvasContext.strokeStyle=st},CanvasRendererBase.prototype.ctxLineWidth=function(st){this.canvasContext.lineWidth=st},CanvasRendererBase.prototype.ctxLineCap=function(st){this.canvasContext.lineCap=st},CanvasRendererBase.prototype.ctxLineJoin=function(st){this.canvasContext.lineJoin=st},CanvasRendererBase.prototype.ctxMiterLimit=function(st){this.canvasContext.miterLimit=st},CanvasRendererBase.prototype.ctxFill=function(st){this.canvasContext.fill(st)},CanvasRendererBase.prototype.ctxFillRect=function(st,Mt,nn,rn){this.canvasContext.fillRect(st,Mt,nn,rn)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(st){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}st&&(this.globalData.blendMode="source-over"),this.contextData.restore(st)},CanvasRendererBase.prototype.configAnimation=function(st){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var Mt=this.animationItem.container.style;Mt.width="100%",Mt.height="100%";var nn="0px 0px 0px";Mt.transformOrigin=nn,Mt.mozTransformOrigin=nn,Mt.webkitTransformOrigin=nn,Mt["-webkit-transform"]=nn,Mt.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=st,this.layers=st.layers,this.transformCanvas={w:st.w,h:st.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(st,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(st.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(st,Mt){this.reset();var nn,rn;st?(nn=st,rn=Mt,this.canvasContext.canvas.width=nn,this.canvasContext.canvas.height=rn):(this.animationItem.wrapper&&this.animationItem.container?(nn=this.animationItem.wrapper.offsetWidth,rn=this.animationItem.wrapper.offsetHeight):(nn=this.canvasContext.canvas.width,rn=this.canvasContext.canvas.height),this.canvasContext.canvas.width=nn*this.renderConfig.dpr,this.canvasContext.canvas.height=rn*this.renderConfig.dpr);var an,sn;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var un=this.renderConfig.preserveAspectRatio.split(" "),ln=un[1]||"meet",cn=un[0]||"xMidYMid",hn=cn.substr(0,4),fn=cn.substr(4);an=nn/rn,sn=this.transformCanvas.w/this.transformCanvas.h,sn>an&&ln==="meet"||sn<an&&ln==="slice"?(this.transformCanvas.sx=nn/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=nn/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=rn/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=rn/(this.transformCanvas.h/this.renderConfig.dpr)),hn==="xMid"&&(sn<an&&ln==="meet"||sn>an&&ln==="slice")?this.transformCanvas.tx=(nn-this.transformCanvas.w*(rn/this.transformCanvas.h))/2*this.renderConfig.dpr:hn==="xMax"&&(sn<an&&ln==="meet"||sn>an&&ln==="slice")?this.transformCanvas.tx=(nn-this.transformCanvas.w*(rn/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,fn==="YMid"&&(sn>an&&ln==="meet"||sn<an&&ln==="slice")?this.transformCanvas.ty=(rn-this.transformCanvas.h*(nn/this.transformCanvas.w))/2*this.renderConfig.dpr:fn==="YMax"&&(sn>an&&ln==="meet"||sn<an&&ln==="slice")?this.transformCanvas.ty=(rn-this.transformCanvas.h*(nn/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=nn/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=rn/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var st,Mt=this.layers?this.layers.length:0;for(st=Mt-1;st>=0;st-=1)this.elements[st]&&this.elements[st].destroy&&this.elements[st].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(st,Mt){if(!(this.renderedFrame===st&&this.renderConfig.clearCanvas===!0&&!Mt||this.destroyed||st===-1)){this.renderedFrame=st,this.globalData.frameNum=st-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||Mt,this.globalData.projectInterface.currentFrame=st;var nn,rn=this.layers.length;for(this.completeLayers||this.checkLayers(st),nn=rn-1;nn>=0;nn-=1)(this.completeLayers||this.elements[nn])&&this.elements[nn].prepareFrame(st-this.layers[nn].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),nn=rn-1;nn>=0;nn-=1)(this.completeLayers||this.elements[nn])&&this.elements[nn].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(st){var Mt=this.elements;if(!(Mt[st]||this.layers[st].ty===99)){var nn=this.createItem(this.layers[st],this,this.globalData);Mt[st]=nn,nn.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var st=this.pendingElements.pop();st.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var st,Mt=15;for(st=0;st<Mt;st+=1){var nn=new CanvasContext;this.stack[st]=nn}this._length=Mt,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var st=this._length*2,Mt=0;for(Mt=this._length;Mt<st;Mt+=1)this.stack[Mt]=new CanvasContext;this._length=st},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(st){this.cArrPos-=1;var Mt=this.stack[this.cArrPos],nn=Mt.transform,rn,an=this.cTr.props;for(rn=0;rn<16;rn+=1)an[rn]=nn[rn];if(st){this.nativeContext.restore();var sn=this.stack[this.cArrPos+1];this.appliedFillStyle=sn.fillStyle,this.appliedStrokeStyle=sn.strokeStyle,this.appliedLineWidth=sn.lineWidth,this.appliedLineCap=sn.lineCap,this.appliedLineJoin=sn.lineJoin,this.appliedMiterLimit=sn.miterLimit}this.nativeContext.setTransform(nn[0],nn[1],nn[4],nn[5],nn[12],nn[13]),(st||Mt.opacity!==-1&&this.currentOpacity!==Mt.opacity)&&(this.nativeContext.globalAlpha=Mt.opacity,this.currentOpacity=Mt.opacity),this.currentFillStyle=Mt.fillStyle,this.currentStrokeStyle=Mt.strokeStyle,this.currentLineWidth=Mt.lineWidth,this.currentLineCap=Mt.lineCap,this.currentLineJoin=Mt.lineJoin,this.currentMiterLimit=Mt.miterLimit},CVContextData.prototype.save=function(st){st&&this.nativeContext.save();var Mt=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var nn=this.stack[this.cArrPos],rn;for(rn=0;rn<16;rn+=1)nn.transform[rn]=Mt[rn];this.cArrPos+=1;var an=this.stack[this.cArrPos];an.opacity=nn.opacity,an.fillStyle=nn.fillStyle,an.strokeStyle=nn.strokeStyle,an.lineWidth=nn.lineWidth,an.lineCap=nn.lineCap,an.lineJoin=nn.lineJoin,an.miterLimit=nn.miterLimit},CVContextData.prototype.setOpacity=function(st){this.stack[this.cArrPos].opacity=st},CVContextData.prototype.setContext=function(st){this.nativeContext=st},CVContextData.prototype.fillStyle=function(st){this.stack[this.cArrPos].fillStyle!==st&&(this.currentFillStyle=st,this.stack[this.cArrPos].fillStyle=st)},CVContextData.prototype.strokeStyle=function(st){this.stack[this.cArrPos].strokeStyle!==st&&(this.currentStrokeStyle=st,this.stack[this.cArrPos].strokeStyle=st)},CVContextData.prototype.lineWidth=function(st){this.stack[this.cArrPos].lineWidth!==st&&(this.currentLineWidth=st,this.stack[this.cArrPos].lineWidth=st)},CVContextData.prototype.lineCap=function(st){this.stack[this.cArrPos].lineCap!==st&&(this.currentLineCap=st,this.stack[this.cArrPos].lineCap=st)},CVContextData.prototype.lineJoin=function(st){this.stack[this.cArrPos].lineJoin!==st&&(this.currentLineJoin=st,this.stack[this.cArrPos].lineJoin=st)},CVContextData.prototype.miterLimit=function(st){this.stack[this.cArrPos].miterLimit!==st&&(this.currentMiterLimit=st,this.stack[this.cArrPos].miterLimit=st)},CVContextData.prototype.transform=function(st){this.transformMat.cloneFromProps(st);var Mt=this.cTr;this.transformMat.multiply(Mt),Mt.cloneFromProps(this.transformMat.props);var nn=Mt.props;this.nativeContext.setTransform(nn[0],nn[1],nn[4],nn[5],nn[12],nn[13])},CVContextData.prototype.opacity=function(st){var Mt=this.stack[this.cArrPos].opacity;Mt*=st<0?0:st,this.stack[this.cArrPos].opacity!==Mt&&(this.currentOpacity!==st&&(this.nativeContext.globalAlpha=st,this.currentOpacity=st),this.stack[this.cArrPos].opacity=Mt)},CVContextData.prototype.fill=function(st){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(st)},CVContextData.prototype.fillRect=function(st,Mt,nn,rn){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(st,Mt,nn,rn)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(st,Mt,nn){this.completeLayers=!1,this.layers=st.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(st,Mt,nn),this.tm=st.tm?PropertyFactory.getProp(this,st.tm,0,Mt.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var st=this.canvasContext;st.beginPath(),st.moveTo(0,0),st.lineTo(this.data.w,0),st.lineTo(this.data.w,this.data.h),st.lineTo(0,this.data.h),st.lineTo(0,0),st.clip();var Mt,nn=this.layers.length;for(Mt=nn-1;Mt>=0;Mt-=1)(this.completeLayers||this.elements[Mt])&&this.elements[Mt].renderFrame()},CVCompElement.prototype.destroy=function(){var st,Mt=this.layers.length;for(st=Mt-1;st>=0;st-=1)this.elements[st]&&this.elements[st].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(st){return new CVCompElement(st,this.globalData,this)};function CanvasRenderer(st,Mt){this.animationItem=st,this.renderConfig={clearCanvas:Mt&&Mt.clearCanvas!==void 0?Mt.clearCanvas:!0,context:Mt&&Mt.context||null,progressiveLoad:Mt&&Mt.progressiveLoad||!1,preserveAspectRatio:Mt&&Mt.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:Mt&&Mt.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:Mt&&Mt.contentVisibility||"visible",className:Mt&&Mt.className||"",id:Mt&&Mt.id||"",runExpressions:!Mt||Mt.runExpressions===void 0||Mt.runExpressions},this.renderConfig.dpr=Mt&&Mt.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=Mt&&Mt.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(st){return new CVCompElement(st,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var Mt=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var nn=this.finalTransform.mat.toCSS();Mt.transform=nn,Mt.webkitTransform=nn}this.finalTransform._opMdf&&(Mt.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(st,Mt,nn){this.initElement(st,Mt,nn)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var st;this.data.hasMask?(st=createNS("rect"),st.setAttribute("width",this.data.sw),st.setAttribute("height",this.data.sh),st.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(st=createTag("div"),st.style.width=this.data.sw+"px",st.style.height=this.data.sh+"px",st.style.backgroundColor=this.data.sc),this.layerElement.appendChild(st)};function HShapeElement(st,Mt,nn){this.shapes=[],this.shapesData=st.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(st,Mt,nn),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var st;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),st=this.svgElement;else{st=createNS("svg");var Mt=this.comp.data?this.comp.data:this.globalData.compSize;st.setAttribute("width",Mt.w),st.setAttribute("height",Mt.h),st.appendChild(this.shapesContainer),this.layerElement.appendChild(st)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=st},HShapeElement.prototype.getTransformedPoint=function(st,Mt){var nn,rn=st.length;for(nn=0;nn<rn;nn+=1)Mt=st[nn].mProps.v.applyToPointArray(Mt[0],Mt[1],0);return Mt},HShapeElement.prototype.calculateShapeBoundingBox=function(st,Mt){var nn=st.sh.v,rn=st.transformers,an,sn=nn._length,un,ln,cn,hn;if(!(sn<=1)){for(an=0;an<sn-1;an+=1)un=this.getTransformedPoint(rn,nn.v[an]),ln=this.getTransformedPoint(rn,nn.o[an]),cn=this.getTransformedPoint(rn,nn.i[an+1]),hn=this.getTransformedPoint(rn,nn.v[an+1]),this.checkBounds(un,ln,cn,hn,Mt);nn.c&&(un=this.getTransformedPoint(rn,nn.v[an]),ln=this.getTransformedPoint(rn,nn.o[an]),cn=this.getTransformedPoint(rn,nn.i[0]),hn=this.getTransformedPoint(rn,nn.v[0]),this.checkBounds(un,ln,cn,hn,Mt))}},HShapeElement.prototype.checkBounds=function(st,Mt,nn,rn,an){this.getBoundsOfCurve(st,Mt,nn,rn);var sn=this.shapeBoundingBox;an.x=bmMin(sn.left,an.x),an.xMax=bmMax(sn.right,an.xMax),an.y=bmMin(sn.top,an.y),an.yMax=bmMax(sn.bottom,an.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(st,Mt,nn,rn){for(var an=[[st[0],rn[0]],[st[1],rn[1]]],sn,un,ln,cn,hn,fn,to,Xr=0;Xr<2;++Xr)un=6*st[Xr]-12*Mt[Xr]+6*nn[Xr],sn=-3*st[Xr]+9*Mt[Xr]-9*nn[Xr]+3*rn[Xr],ln=3*Mt[Xr]-3*st[Xr],un|=0,sn|=0,ln|=0,sn===0&&un===0||(sn===0?(cn=-ln/un,cn>0&&cn<1&&an[Xr].push(this.calculateF(cn,st,Mt,nn,rn,Xr))):(hn=un*un-4*ln*sn,hn>=0&&(fn=(-un+bmSqrt(hn))/(2*sn),fn>0&&fn<1&&an[Xr].push(this.calculateF(fn,st,Mt,nn,rn,Xr)),to=(-un-bmSqrt(hn))/(2*sn),to>0&&to<1&&an[Xr].push(this.calculateF(to,st,Mt,nn,rn,Xr)))));this.shapeBoundingBox.left=bmMin.apply(null,an[0]),this.shapeBoundingBox.top=bmMin.apply(null,an[1]),this.shapeBoundingBox.right=bmMax.apply(null,an[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,an[1])},HShapeElement.prototype.calculateF=function(st,Mt,nn,rn,an,sn){return bmPow(1-st,3)*Mt[sn]+3*bmPow(1-st,2)*st*nn[sn]+3*(1-st)*bmPow(st,2)*rn[sn]+bmPow(st,3)*an[sn]},HShapeElement.prototype.calculateBoundingBox=function(st,Mt){var nn,rn=st.length;for(nn=0;nn<rn;nn+=1)st[nn]&&st[nn].sh?this.calculateShapeBoundingBox(st[nn],Mt):st[nn]&&st[nn].it?this.calculateBoundingBox(st[nn].it,Mt):st[nn]&&st[nn].style&&st[nn].w&&this.expandStrokeBoundingBox(st[nn].w,Mt)},HShapeElement.prototype.expandStrokeBoundingBox=function(st,Mt){var nn=0;if(st.keyframes){for(var rn=0;rn<st.keyframes.length;rn+=1){var an=st.keyframes[rn].s;an>nn&&(nn=an)}nn*=st.mult}else nn=st.v*st.mult;Mt.x-=nn,Mt.xMax+=nn,Mt.y-=nn,Mt.yMax+=nn},HShapeElement.prototype.currentBoxContains=function(st){return this.currentBBox.x<=st.x&&this.currentBBox.y<=st.y&&this.currentBBox.width+this.currentBBox.x>=st.x+st.width&&this.currentBBox.height+this.currentBBox.y>=st.y+st.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var st=this.tempBoundingBox,Mt=999999;if(st.x=Mt,st.xMax=-Mt,st.y=Mt,st.yMax=-Mt,this.calculateBoundingBox(this.itemsData,st),st.width=st.xMax<st.x?0:st.xMax-st.x,st.height=st.yMax<st.y?0:st.yMax-st.y,this.currentBoxContains(st))return;var nn=!1;if(this.currentBBox.w!==st.width&&(this.currentBBox.w=st.width,this.shapeCont.setAttribute("width",st.width),nn=!0),this.currentBBox.h!==st.height&&(this.currentBBox.h=st.height,this.shapeCont.setAttribute("height",st.height),nn=!0),nn||this.currentBBox.x!==st.x||this.currentBBox.y!==st.y){this.currentBBox.w=st.width,this.currentBBox.h=st.height,this.currentBBox.x=st.x,this.currentBBox.y=st.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var rn=this.shapeCont.style,an="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";rn.transform=an,rn.webkitTransform=an}}};function HTextElement(st,Mt,nn){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(st,Mt,nn)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var st=createNS("g");this.maskedElement.appendChild(st),this.innerElem=st}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var st=this.textProperty.currentData;this.renderedLetters=createSizedArray(st.l?st.l.length:0);var Mt=this.innerElem.style,nn=st.fc?this.buildColor(st.fc):"rgba(0,0,0,0)";Mt.fill=nn,Mt.color=nn,st.sc&&(Mt.stroke=this.buildColor(st.sc),Mt.strokeWidth=st.sw+"px");var rn=this.globalData.fontManager.getFontByName(st.f);if(!this.globalData.fontManager.chars)if(Mt.fontSize=st.finalSize+"px",Mt.lineHeight=st.finalSize+"px",rn.fClass)this.innerElem.className=rn.fClass;else{Mt.fontFamily=rn.fFamily;var an=st.fWeight,sn=st.fStyle;Mt.fontStyle=sn,Mt.fontWeight=an}var un,ln,cn=st.l;ln=cn.length;var hn,fn,to,Xr=this.mHelper,uo,co="",ho=0;for(un=0;un<ln;un+=1){if(this.globalData.fontManager.chars?(this.textPaths[ho]?hn=this.textPaths[ho]:(hn=createNS("path"),hn.setAttribute("stroke-linecap",lineCapEnum[1]),hn.setAttribute("stroke-linejoin",lineJoinEnum[2]),hn.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[ho]?(fn=this.textSpans[ho],to=fn.children[0]):(fn=createTag("div"),fn.style.lineHeight=0,to=createNS("svg"),to.appendChild(hn),styleDiv(fn)))):this.isMasked?hn=this.textPaths[ho]?this.textPaths[ho]:createNS("text"):this.textSpans[ho]?(fn=this.textSpans[ho],hn=this.textPaths[ho]):(fn=createTag("span"),styleDiv(fn),hn=createTag("span"),styleDiv(hn),fn.appendChild(hn)),this.globalData.fontManager.chars){var e0=this.globalData.fontManager.getCharData(st.finalText[un],rn.fStyle,this.globalData.fontManager.getFontByName(st.f).fFamily),lo;if(e0?lo=e0.data:lo=null,Xr.reset(),lo&&lo.shapes&&lo.shapes.length&&(uo=lo.shapes[0].it,Xr.scale(st.finalSize/100,st.finalSize/100),co=this.createPathShape(Xr,uo),hn.setAttribute("d",co)),this.isMasked)this.innerElem.appendChild(hn);else{if(this.innerElem.appendChild(fn),lo&&lo.shapes){document.body.appendChild(to);var mo=to.getBBox();to.setAttribute("width",mo.width+2),to.setAttribute("height",mo.height+2),to.setAttribute("viewBox",mo.x-1+" "+(mo.y-1)+" "+(mo.width+2)+" "+(mo.height+2));var fo=to.style,Uo="translate("+(mo.x-1)+"px,"+(mo.y-1)+"px)";fo.transform=Uo,fo.webkitTransform=Uo,cn[un].yOffset=mo.y-1}else to.setAttribute("width",1),to.setAttribute("height",1);fn.appendChild(to)}}else if(hn.textContent=cn[un].val,hn.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(hn);else{this.innerElem.appendChild(fn);var t0=hn.style,n0="translate3d(0,"+-st.finalSize/1.2+"px,0)";t0.transform=n0,t0.webkitTransform=n0}this.isMasked?this.textSpans[ho]=hn:this.textSpans[ho]=fn,this.textSpans[ho].style.display="block",this.textPaths[ho]=hn,ho+=1}for(;ho<this.textSpans.length;)this.textSpans[ho].style.display="none",ho+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var st;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),st=this.svgElement.style;var Mt="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";st.transform=Mt,st.webkitTransform=Mt}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var nn,rn,an=0,sn=this.textAnimator.renderedLetters,un=this.textProperty.currentData.l;rn=un.length;var ln,cn,hn;for(nn=0;nn<rn;nn+=1)un[nn].n?an+=1:(cn=this.textSpans[nn],hn=this.textPaths[nn],ln=sn[an],an+=1,ln._mdf.m&&(this.isMasked?cn.setAttribute("transform",ln.m):(cn.style.webkitTransform=ln.m,cn.style.transform=ln.m)),cn.style.opacity=ln.o,ln.sw&&ln._mdf.sw&&hn.setAttribute("stroke-width",ln.sw),ln.sc&&ln._mdf.sc&&hn.setAttribute("stroke",ln.sc),ln.fc&&ln._mdf.fc&&(hn.setAttribute("fill",ln.fc),hn.style.color=ln.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var fn=this.innerElem.getBBox();this.currentBBox.w!==fn.width&&(this.currentBBox.w=fn.width,this.svgElement.setAttribute("width",fn.width)),this.currentBBox.h!==fn.height&&(this.currentBBox.h=fn.height,this.svgElement.setAttribute("height",fn.height));var to=1;if(this.currentBBox.w!==fn.width+to*2||this.currentBBox.h!==fn.height+to*2||this.currentBBox.x!==fn.x-to||this.currentBBox.y!==fn.y-to){this.currentBBox.w=fn.width+to*2,this.currentBBox.h=fn.height+to*2,this.currentBBox.x=fn.x-to,this.currentBBox.y=fn.y-to,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),st=this.svgElement.style;var Xr="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";st.transform=Xr,st.webkitTransform=Xr}}}};function HCameraElement(st,Mt,nn){this.initFrame(),this.initBaseData(st,Mt,nn),this.initHierarchy();var rn=PropertyFactory.getProp;if(this.pe=rn(this,st.pe,0,0,this),st.ks.p.s?(this.px=rn(this,st.ks.p.x,1,0,this),this.py=rn(this,st.ks.p.y,1,0,this),this.pz=rn(this,st.ks.p.z,1,0,this)):this.p=rn(this,st.ks.p,1,0,this),st.ks.a&&(this.a=rn(this,st.ks.a,1,0,this)),st.ks.or.k.length&&st.ks.or.k[0].to){var an,sn=st.ks.or.k.length;for(an=0;an<sn;an+=1)st.ks.or.k[an].to=null,st.ks.or.k[an].ti=null}this.or=rn(this,st.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=rn(this,st.ks.rx,0,degToRads,this),this.ry=rn(this,st.ks.ry,0,degToRads,this),this.rz=rn(this,st.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var st,Mt=this.comp.threeDElements.length,nn,rn,an;for(st=0;st<Mt;st+=1)if(nn=this.comp.threeDElements[st],nn.type==="3d"){rn=nn.perspectiveElem.style,an=nn.container.style;var sn=this.pe.v+"px",un="0px 0px 0px",ln="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";rn.perspective=sn,rn.webkitPerspective=sn,an.transformOrigin=un,an.mozTransformOrigin=un,an.webkitTransformOrigin=un,rn.transform=ln,rn.webkitTransform=ln}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var st=this._isFirstFrame,Mt,nn;if(this.hierarchy)for(nn=this.hierarchy.length,Mt=0;Mt<nn;Mt+=1)st=this.hierarchy[Mt].finalTransform.mProp._mdf||st;if(st||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(nn=this.hierarchy.length-1,Mt=nn;Mt>=0;Mt-=1){var rn=this.hierarchy[Mt].finalTransform.mProp;this.mat.translate(-rn.p.v[0],-rn.p.v[1],rn.p.v[2]),this.mat.rotateX(-rn.or.v[0]).rotateY(-rn.or.v[1]).rotateZ(rn.or.v[2]),this.mat.rotateX(-rn.rx.v).rotateY(-rn.ry.v).rotateZ(rn.rz.v),this.mat.scale(1/rn.s.v[0],1/rn.s.v[1],1/rn.s.v[2]),this.mat.translate(rn.a.v[0],rn.a.v[1],rn.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var an;this.p?an=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:an=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var sn=Math.sqrt(Math.pow(an[0],2)+Math.pow(an[1],2)+Math.pow(an[2],2)),un=[an[0]/sn,an[1]/sn,an[2]/sn],ln=Math.sqrt(un[2]*un[2]+un[0]*un[0]),cn=Math.atan2(un[1],ln),hn=Math.atan2(un[0],-un[2]);this.mat.rotateY(hn).rotateX(-cn)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var fn=!this._prevMat.equals(this.mat);if((fn||this.pe._mdf)&&this.comp.threeDElements){nn=this.comp.threeDElements.length;var to,Xr,uo;for(Mt=0;Mt<nn;Mt+=1)if(to=this.comp.threeDElements[Mt],to.type==="3d"){if(fn){var co=this.mat.toCSS();uo=to.container.style,uo.transform=co,uo.webkitTransform=co}this.pe._mdf&&(Xr=to.perspectiveElem.style,Xr.perspective=this.pe.v+"px",Xr.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(st){this.prepareProperties(st,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(st,Mt,nn){this.assetData=Mt.getAssetData(st.refId),this.initElement(st,Mt,nn)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var st=this.globalData.getAssetsPath(this.assetData),Mt=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",st),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(Mt),Mt.crossOrigin="anonymous",Mt.src=st,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(st,Mt){this.animationItem=st,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:Mt&&Mt.className||"",imagePreserveAspectRatio:Mt&&Mt.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(Mt&&Mt.hideOnTransparent===!1),filterSize:{width:Mt&&Mt.filterSize&&Mt.filterSize.width||"400%",height:Mt&&Mt.filterSize&&Mt.filterSize.height||"400%",x:Mt&&Mt.filterSize&&Mt.filterSize.x||"-100%",y:Mt&&Mt.filterSize&&Mt.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var st=this.pendingElements.pop();st.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(st,Mt){var nn=st.getBaseElement();if(nn){var rn=this.layers[Mt];if(!rn.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(nn,Mt);else{for(var an=0,sn,un,ln;an<Mt;)this.elements[an]&&this.elements[an]!==!0&&this.elements[an].getBaseElement&&(un=this.elements[an],ln=this.layers[an].ddd?this.getThreeDContainerByPos(an):un.getBaseElement(),sn=ln||sn),an+=1;sn?(!rn.ddd||!this.supports3d)&&this.layerElement.insertBefore(nn,sn):(!rn.ddd||!this.supports3d)&&this.layerElement.appendChild(nn)}else this.addTo3dContainer(nn,Mt)}},HybridRendererBase.prototype.createShape=function(st){return this.supports3d?new HShapeElement(st,this.globalData,this):new SVGShapeElement(st,this.globalData,this)},HybridRendererBase.prototype.createText=function(st){return this.supports3d?new HTextElement(st,this.globalData,this):new SVGTextLottieElement(st,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(st){return this.camera=new HCameraElement(st,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(st){return this.supports3d?new HImageElement(st,this.globalData,this):new IImageElement(st,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(st){return this.supports3d?new HSolidElement(st,this.globalData,this):new ISolidElement(st,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(st){for(var Mt=0,nn=this.threeDElements.length;Mt<nn;){if(this.threeDElements[Mt].startPos<=st&&this.threeDElements[Mt].endPos>=st)return this.threeDElements[Mt].perspectiveElem;Mt+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(st,Mt){var nn=createTag("div"),rn,an;styleDiv(nn);var sn=createTag("div");if(styleDiv(sn),Mt==="3d"){rn=nn.style,rn.width=this.globalData.compSize.w+"px",rn.height=this.globalData.compSize.h+"px";var un="50% 50%";rn.webkitTransformOrigin=un,rn.mozTransformOrigin=un,rn.transformOrigin=un,an=sn.style;var ln="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";an.transform=ln,an.webkitTransform=ln}nn.appendChild(sn);var cn={container:sn,perspectiveElem:nn,startPos:st,endPos:st,type:Mt};return this.threeDElements.push(cn),cn},HybridRendererBase.prototype.build3dContainers=function(){var st,Mt=this.layers.length,nn,rn="";for(st=0;st<Mt;st+=1)this.layers[st].ddd&&this.layers[st].ty!==3?(rn!=="3d"&&(rn="3d",nn=this.createThreeDContainer(st,"3d")),nn.endPos=Math.max(nn.endPos,st)):(rn!=="2d"&&(rn="2d",nn=this.createThreeDContainer(st,"2d")),nn.endPos=Math.max(nn.endPos,st));for(Mt=this.threeDElements.length,st=Mt-1;st>=0;st-=1)this.resizerElem.appendChild(this.threeDElements[st].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(st,Mt){for(var nn=0,rn=this.threeDElements.length;nn<rn;){if(Mt<=this.threeDElements[nn].endPos){for(var an=this.threeDElements[nn].startPos,sn;an<Mt;)this.elements[an]&&this.elements[an].getBaseElement&&(sn=this.elements[an].getBaseElement()),an+=1;sn?this.threeDElements[nn].container.insertBefore(st,sn):this.threeDElements[nn].container.appendChild(st);break}nn+=1}},HybridRendererBase.prototype.configAnimation=function(st){var Mt=createTag("div"),nn=this.animationItem.wrapper,rn=Mt.style;rn.width=st.w+"px",rn.height=st.h+"px",this.resizerElem=Mt,styleDiv(Mt),rn.transformStyle="flat",rn.mozTransformStyle="flat",rn.webkitTransformStyle="flat",this.renderConfig.className&&Mt.setAttribute("class",this.renderConfig.className),nn.appendChild(Mt),rn.overflow="hidden";var an=createNS("svg");an.setAttribute("width","1"),an.setAttribute("height","1"),styleDiv(an),this.resizerElem.appendChild(an);var sn=createNS("defs");an.appendChild(sn),this.data=st,this.setupGlobalData(st,an),this.globalData.defs=sn,this.layers=st.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var st,Mt=this.layers?this.layers.length:0;for(st=0;st<Mt;st+=1)this.elements[st]&&this.elements[st].destroy&&this.elements[st].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var st=this.animationItem.wrapper.offsetWidth,Mt=this.animationItem.wrapper.offsetHeight,nn=st/Mt,rn=this.globalData.compSize.w/this.globalData.compSize.h,an,sn,un,ln;rn>nn?(an=st/this.globalData.compSize.w,sn=st/this.globalData.compSize.w,un=0,ln=(Mt-this.globalData.compSize.h*(st/this.globalData.compSize.w))/2):(an=Mt/this.globalData.compSize.h,sn=Mt/this.globalData.compSize.h,un=(st-this.globalData.compSize.w*(Mt/this.globalData.compSize.h))/2,ln=0);var cn=this.resizerElem.style;cn.webkitTransform="matrix3d("+an+",0,0,0,0,"+sn+",0,0,0,0,1,0,"+un+","+ln+",0,1)",cn.transform=cn.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var st=this.globalData.compSize.w,Mt=this.globalData.compSize.h,nn,rn=this.threeDElements.length;for(nn=0;nn<rn;nn+=1){var an=this.threeDElements[nn].perspectiveElem.style;an.webkitPerspective=Math.sqrt(Math.pow(st,2)+Math.pow(Mt,2))+"px",an.perspective=an.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(st){var Mt,nn=st.length,rn=createTag("div");for(Mt=0;Mt<nn;Mt+=1)if(st[Mt].xt){var an=this.createComp(st[Mt],rn,this.globalData.comp,null);an.initExpressions(),this.globalData.projectInterface.registerComposition(an)}};function HCompElement(st,Mt,nn){this.layers=st.layers,this.supports3d=!st.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(st,Mt,nn),this.tm=st.tm?PropertyFactory.getProp(this,st.tm,0,Mt.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(st,Mt){for(var nn=0,rn;nn<Mt;)this.elements[nn]&&this.elements[nn].getBaseElement&&(rn=this.elements[nn].getBaseElement()),nn+=1;rn?this.layerElement.insertBefore(st,rn):this.layerElement.appendChild(st)},HCompElement.prototype.createComp=function(st){return this.supports3d?new HCompElement(st,this.globalData,this):new SVGCompElement(st,this.globalData,this)};function HybridRenderer(st,Mt){this.animationItem=st,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:Mt&&Mt.className||"",imagePreserveAspectRatio:Mt&&Mt.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(Mt&&Mt.hideOnTransparent===!1),filterSize:{width:Mt&&Mt.filterSize&&Mt.filterSize.width||"400%",height:Mt&&Mt.filterSize&&Mt.filterSize.height||"400%",x:Mt&&Mt.filterSize&&Mt.filterSize.x||"-100%",y:Mt&&Mt.filterSize&&Mt.filterSize.y||"-100%"},runExpressions:!Mt||Mt.runExpressions===void 0||Mt.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(st){return this.supports3d?new HCompElement(st,this.globalData,this):new SVGCompElement(st,this.globalData,this)};var CompExpressionInterface=function(){return function(st){function Mt(nn){for(var rn=0,an=st.layers.length;rn<an;){if(st.layers[rn].nm===nn||st.layers[rn].ind===nn)return st.elements[rn].layerInterface;rn+=1}return null}return Object.defineProperty(Mt,"_name",{value:st.data.nm}),Mt.layer=Mt,Mt.pixelAspect=1,Mt.height=st.data.h||st.globalData.compSize.h,Mt.width=st.data.w||st.globalData.compSize.w,Mt.pixelAspect=1,Mt.frameDuration=1/st.globalData.frameRate,Mt.displayStartTime=0,Mt.numLayers=st.layers.length,Mt}}();function _typeof$2(st){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(nn){return typeof nn}:_typeof$2=function(nn){return nn&&typeof Symbol=="function"&&nn.constructor===Symbol&&nn!==Symbol.prototype?"symbol":typeof nn},_typeof$2(st)}function seedRandom(st,Mt){var nn=this,rn=256,an=6,sn=52,un="random",ln=Mt.pow(rn,an),cn=Mt.pow(2,sn),hn=cn*2,fn=rn-1,to;function Xr(fo,Uo,t0){var n0=[];Uo=Uo===!0?{entropy:!0}:Uo||{};var i0=e0(ho(Uo.entropy?[fo,mo(st)]:fo===null?lo():fo,3),n0),a0=new uo(n0),s0=function(){for(var d0=a0.g(an),h0=ln,v0=0;d0<cn;)d0=(d0+v0)*rn,h0*=rn,v0=a0.g(1);for(;d0>=hn;)d0/=2,h0/=2,v0>>>=1;return(d0+v0)/h0};return s0.int32=function(){return a0.g(4)|0},s0.quick=function(){return a0.g(4)/4294967296},s0.double=s0,e0(mo(a0.S),st),(Uo.pass||t0||function(l0,d0,h0,v0){return v0&&(v0.S&&co(v0,a0),l0.state=function(){return co(a0,{})}),h0?(Mt[un]=l0,d0):l0})(s0,i0,"global"in Uo?Uo.global:this==Mt,Uo.state)}Mt["seed"+un]=Xr;function uo(fo){var Uo,t0=fo.length,n0=this,i0=0,a0=n0.i=n0.j=0,s0=n0.S=[];for(t0||(fo=[t0++]);i0<rn;)s0[i0]=i0++;for(i0=0;i0<rn;i0++)s0[i0]=s0[a0=fn&a0+fo[i0%t0]+(Uo=s0[i0])],s0[a0]=Uo;n0.g=function(l0){for(var d0,h0=0,v0=n0.i,g0=n0.j,m0=n0.S;l0--;)d0=m0[v0=fn&v0+1],h0=h0*rn+m0[fn&(m0[v0]=m0[g0=fn&g0+d0])+(m0[g0]=d0)];return n0.i=v0,n0.j=g0,h0}}function co(fo,Uo){return Uo.i=fo.i,Uo.j=fo.j,Uo.S=fo.S.slice(),Uo}function ho(fo,Uo){var t0=[],n0=_typeof$2(fo),i0;if(Uo&&n0=="object")for(i0 in fo)try{t0.push(ho(fo[i0],Uo-1))}catch{}return t0.length?t0:n0=="string"?fo:fo+"\0"}function e0(fo,Uo){for(var t0=fo+"",n0,i0=0;i0<t0.length;)Uo[fn&i0]=fn&(n0^=Uo[fn&i0]*19)+t0.charCodeAt(i0++);return mo(Uo)}function lo(){try{var fo=new Uint8Array(rn);return(nn.crypto||nn.msCrypto).getRandomValues(fo),mo(fo)}catch{var Uo=nn.navigator,t0=Uo&&Uo.plugins;return[+new Date,nn,t0,nn.screen,mo(st)]}}function mo(fo){return String.fromCharCode.apply(0,fo)}e0(Mt.random(),st)}function initialize$2(st){seedRandom([],st)}var propTypes={SHAPE:"shape"};function _typeof$1(st){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(nn){return typeof nn}:_typeof$1=function(nn){return nn&&typeof Symbol=="function"&&nn.constructor===Symbol&&nn!==Symbol.prototype?"symbol":typeof nn},_typeof$1(st)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(st){return st.constructor===Array||st.constructor===Float32Array}function isNumerable(st,Mt){return st==="number"||Mt instanceof Number||st==="boolean"||st==="string"}function $bm_neg(st){var Mt=_typeof$1(st);if(Mt==="number"||st instanceof Number||Mt==="boolean")return-st;if($bm_isInstanceOfArray(st)){var nn,rn=st.length,an=[];for(nn=0;nn<rn;nn+=1)an[nn]=-st[nn];return an}return st.propType?st.v:-st}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(st,Mt){var nn=_typeof$1(st),rn=_typeof$1(Mt);if(isNumerable(nn,st)&&isNumerable(rn,Mt)||nn==="string"||rn==="string")return st+Mt;if($bm_isInstanceOfArray(st)&&isNumerable(rn,Mt))return st=st.slice(0),st[0]+=Mt,st;if(isNumerable(nn,st)&&$bm_isInstanceOfArray(Mt))return Mt=Mt.slice(0),Mt[0]=st+Mt[0],Mt;if($bm_isInstanceOfArray(st)&&$bm_isInstanceOfArray(Mt)){for(var an=0,sn=st.length,un=Mt.length,ln=[];an<sn||an<un;)(typeof st[an]=="number"||st[an]instanceof Number)&&(typeof Mt[an]=="number"||Mt[an]instanceof Number)?ln[an]=st[an]+Mt[an]:ln[an]=Mt[an]===void 0?st[an]:st[an]||Mt[an],an+=1;return ln}return 0}var add=sum;function sub(st,Mt){var nn=_typeof$1(st),rn=_typeof$1(Mt);if(isNumerable(nn,st)&&isNumerable(rn,Mt))return nn==="string"&&(st=parseInt(st,10)),rn==="string"&&(Mt=parseInt(Mt,10)),st-Mt;if($bm_isInstanceOfArray(st)&&isNumerable(rn,Mt))return st=st.slice(0),st[0]-=Mt,st;if(isNumerable(nn,st)&&$bm_isInstanceOfArray(Mt))return Mt=Mt.slice(0),Mt[0]=st-Mt[0],Mt;if($bm_isInstanceOfArray(st)&&$bm_isInstanceOfArray(Mt)){for(var an=0,sn=st.length,un=Mt.length,ln=[];an<sn||an<un;)(typeof st[an]=="number"||st[an]instanceof Number)&&(typeof Mt[an]=="number"||Mt[an]instanceof Number)?ln[an]=st[an]-Mt[an]:ln[an]=Mt[an]===void 0?st[an]:st[an]||Mt[an],an+=1;return ln}return 0}function mul(st,Mt){var nn=_typeof$1(st),rn=_typeof$1(Mt),an;if(isNumerable(nn,st)&&isNumerable(rn,Mt))return st*Mt;var sn,un;if($bm_isInstanceOfArray(st)&&isNumerable(rn,Mt)){for(un=st.length,an=createTypedArray("float32",un),sn=0;sn<un;sn+=1)an[sn]=st[sn]*Mt;return an}if(isNumerable(nn,st)&&$bm_isInstanceOfArray(Mt)){for(un=Mt.length,an=createTypedArray("float32",un),sn=0;sn<un;sn+=1)an[sn]=st*Mt[sn];return an}return 0}function div(st,Mt){var nn=_typeof$1(st),rn=_typeof$1(Mt),an;if(isNumerable(nn,st)&&isNumerable(rn,Mt))return st/Mt;var sn,un;if($bm_isInstanceOfArray(st)&&isNumerable(rn,Mt)){for(un=st.length,an=createTypedArray("float32",un),sn=0;sn<un;sn+=1)an[sn]=st[sn]/Mt;return an}if(isNumerable(nn,st)&&$bm_isInstanceOfArray(Mt)){for(un=Mt.length,an=createTypedArray("float32",un),sn=0;sn<un;sn+=1)an[sn]=st/Mt[sn];return an}return 0}function mod(st,Mt){return typeof st=="string"&&(st=parseInt(st,10)),typeof Mt=="string"&&(Mt=parseInt(Mt,10)),st%Mt}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(st,Mt,nn){if(Mt>nn){var rn=nn;nn=Mt,Mt=rn}return Math.min(Math.max(st,Mt),nn)}function radiansToDegrees(st){return st/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(st){return st*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(st,Mt){if(typeof st=="number"||st instanceof Number)return Mt=Mt||0,Math.abs(st-Mt);Mt||(Mt=helperLengthArray);var nn,rn=Math.min(st.length,Mt.length),an=0;for(nn=0;nn<rn;nn+=1)an+=Math.pow(Mt[nn]-st[nn],2);return Math.sqrt(an)}function normalize(st){return div(st,length(st))}function rgbToHsl(st){var Mt=st[0],nn=st[1],rn=st[2],an=Math.max(Mt,nn,rn),sn=Math.min(Mt,nn,rn),un,ln,cn=(an+sn)/2;if(an===sn)un=0,ln=0;else{var hn=an-sn;switch(ln=cn>.5?hn/(2-an-sn):hn/(an+sn),an){case Mt:un=(nn-rn)/hn+(nn<rn?6:0);break;case nn:un=(rn-Mt)/hn+2;break;case rn:un=(Mt-nn)/hn+4;break}un/=6}return[un,ln,cn,st[3]]}function hue2rgb(st,Mt,nn){return nn<0&&(nn+=1),nn>1&&(nn-=1),nn<1/6?st+(Mt-st)*6*nn:nn<1/2?Mt:nn<2/3?st+(Mt-st)*(2/3-nn)*6:st}function hslToRgb(st){var Mt=st[0],nn=st[1],rn=st[2],an,sn,un;if(nn===0)an=rn,un=rn,sn=rn;else{var ln=rn<.5?rn*(1+nn):rn+nn-rn*nn,cn=2*rn-ln;an=hue2rgb(cn,ln,Mt+1/3),sn=hue2rgb(cn,ln,Mt),un=hue2rgb(cn,ln,Mt-1/3)}return[an,sn,un,st[3]]}function linear(st,Mt,nn,rn,an){if((rn===void 0||an===void 0)&&(rn=Mt,an=nn,Mt=0,nn=1),nn<Mt){var sn=nn;nn=Mt,Mt=sn}if(st<=Mt)return rn;if(st>=nn)return an;var un=nn===Mt?0:(st-Mt)/(nn-Mt);if(!rn.length)return rn+(an-rn)*un;var ln,cn=rn.length,hn=createTypedArray("float32",cn);for(ln=0;ln<cn;ln+=1)hn[ln]=rn[ln]+(an[ln]-rn[ln])*un;return hn}function random(st,Mt){if(Mt===void 0&&(st===void 0?(st=0,Mt=1):(Mt=st,st=void 0)),Mt.length){var nn,rn=Mt.length;st||(st=createTypedArray("float32",rn));var an=createTypedArray("float32",rn),sn=BMMath.random();for(nn=0;nn<rn;nn+=1)an[nn]=st[nn]+sn*(Mt[nn]-st[nn]);return an}st===void 0&&(st=0);var un=BMMath.random();return st+un*(Mt-st)}function createPath(st,Mt,nn,rn){var an,sn=st.length,un=shapePool.newElement();un.setPathData(!!rn,sn);var ln=[0,0],cn,hn;for(an=0;an<sn;an+=1)cn=Mt&&Mt[an]?Mt[an]:ln,hn=nn&&nn[an]?nn[an]:ln,un.setTripleAt(st[an][0],st[an][1],hn[0]+st[an][0],hn[1]+st[an][1],cn[0]+st[an][0],cn[1]+st[an][1],an,!0);return un}function initiateExpression(elem,data,property){function noOp(st){return st}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function st(Mt,nn){var rn,an,sn=this.pv.length?this.pv.length:1,un=createTypedArray("float32",sn);Mt=5;var ln=Math.floor(time*Mt);for(rn=0,an=0;rn<ln;){for(an=0;an<sn;an+=1)un[an]+=-nn+nn*2*BMMath.random();rn+=1}var cn=time*Mt,hn=cn-Math.floor(cn),fn=createTypedArray("float32",sn);if(sn>1){for(an=0;an<sn;an+=1)fn[an]=this.pv[an]+un[an]+(-nn+nn*2*BMMath.random())*hn;return fn}return this.pv+un[0]+(-nn+nn*2*BMMath.random())*hn}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(st,Mt){return loopIn(st,Mt,!0)}function loopOutDuration(st,Mt){return loopOut(st,Mt,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(st,Mt){var nn=[Mt[0]-st[0],Mt[1]-st[1],Mt[2]-st[2]],rn=Math.atan2(nn[0],Math.sqrt(nn[1]*nn[1]+nn[2]*nn[2]))/degToRads,an=-Math.atan2(nn[1],nn[2])/degToRads;return[an,rn,0]}function easeOut(st,Mt,nn,rn,an){return applyEase(easeOutBez,st,Mt,nn,rn,an)}function easeIn(st,Mt,nn,rn,an){return applyEase(easeInBez,st,Mt,nn,rn,an)}function ease(st,Mt,nn,rn,an){return applyEase(easeInOutBez,st,Mt,nn,rn,an)}function applyEase(st,Mt,nn,rn,an,sn){an===void 0?(an=nn,sn=rn):Mt=(Mt-nn)/(rn-nn),Mt>1?Mt=1:Mt<0&&(Mt=0);var un=st(Mt);if($bm_isInstanceOfArray(an)){var ln,cn=an.length,hn=createTypedArray("float32",cn);for(ln=0;ln<cn;ln+=1)hn[ln]=(sn[ln]-an[ln])*un+an[ln];return hn}return(sn-an)*un+an}function nearestKey(st){var Mt,nn=data.k.length,rn,an;if(!data.k.length||typeof data.k[0]=="number")rn=0,an=0;else if(rn=-1,st*=elem.comp.globalData.frameRate,st<data.k[0].t)rn=1,an=data.k[0].t;else{for(Mt=0;Mt<nn-1;Mt+=1)if(st===data.k[Mt].t){rn=Mt+1,an=data.k[Mt].t;break}else if(st>data.k[Mt].t&&st<data.k[Mt+1].t){st-data.k[Mt].t>data.k[Mt+1].t-st?(rn=Mt+2,an=data.k[Mt+1].t):(rn=Mt+1,an=data.k[Mt].t);break}rn===-1&&(rn=Mt+1,an=data.k[Mt].t)}var sn={};return sn.index=rn,sn.time=an/elem.comp.globalData.frameRate,sn}function key(st){var Mt,nn,rn;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+st);st-=1,Mt={time:data.k[st].t/elem.comp.globalData.frameRate,value:[]};var an=Object.prototype.hasOwnProperty.call(data.k[st],"s")?data.k[st].s:data.k[st-1].e;for(rn=an.length,nn=0;nn<rn;nn+=1)Mt[nn]=an[nn],Mt.value[nn]=an[nn];return Mt}function framesToTime(st,Mt){return Mt||(Mt=elem.comp.globalData.frameRate),st/Mt}function timeToFrames(st,Mt){return!st&&st!==0&&(st=time),Mt||(Mt=elem.comp.globalData.frameRate),st*Mt}function seedRandom(st){BMMath.seedrandom(randSeed+st)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(st,Mt){return typeof value=="string"?Mt===void 0?value.substring(st):value.substring(st,Mt):""}function substr(st,Mt){return typeof value=="string"?Mt===void 0?value.substr(st):value.substr(st,Mt):""}function posterizeTime(st){time=st===0?0:Math.floor(time*st)/st,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(st){return value=st,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var st={};st.initExpressions=Mt,st.resetFrame=ExpressionManager.resetFrame;function Mt(nn){var rn=0,an=[];function sn(){rn+=1}function un(){rn-=1,rn===0&&cn()}function ln(hn){an.indexOf(hn)===-1&&an.push(hn)}function cn(){var hn,fn=an.length;for(hn=0;hn<fn;hn+=1)an[hn].release();an.length=0}nn.renderer.compInterface=CompExpressionInterface(nn.renderer),nn.renderer.globalData.projectInterface.registerComposition(nn.renderer),nn.renderer.globalData.pushExpression=sn,nn.renderer.globalData.popExpression=un,nn.renderer.globalData.registerExpressionProperty=ln}return st}(),MaskManagerInterface=function(){function st(nn,rn){this._mask=nn,this._data=rn}Object.defineProperty(st.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(st.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var Mt=function(rn){var an=createSizedArray(rn.viewData.length),sn,un=rn.viewData.length;for(sn=0;sn<un;sn+=1)an[sn]=new st(rn.viewData[sn],rn.masksProperties[sn]);var ln=function(hn){for(sn=0;sn<un;){if(rn.masksProperties[sn].nm===hn)return an[sn];sn+=1}return null};return ln};return Mt}(),ExpressionPropertyInterface=function(){var st={pv:0,v:0,mult:1},Mt={pv:[0,0,0],v:[0,0,0],mult:1};function nn(un,ln,cn){Object.defineProperty(un,"velocity",{get:function(){return ln.getVelocityAtTime(ln.comp.currentFrame)}}),un.numKeys=ln.keyframes?ln.keyframes.length:0,un.key=function(hn){if(!un.numKeys)return 0;var fn="";"s"in ln.keyframes[hn-1]?fn=ln.keyframes[hn-1].s:"e"in ln.keyframes[hn-2]?fn=ln.keyframes[hn-2].e:fn=ln.keyframes[hn-2].s;var to=cn==="unidimensional"?new Number(fn):Object.assign({},fn);return to.time=ln.keyframes[hn-1].t/ln.elem.comp.globalData.frameRate,to.value=cn==="unidimensional"?fn[0]:fn,to},un.valueAtTime=ln.getValueAtTime,un.speedAtTime=ln.getSpeedAtTime,un.velocityAtTime=ln.getVelocityAtTime,un.propertyGroup=ln.propertyGroup}function rn(un){(!un||!("pv"in un))&&(un=st);var ln=1/un.mult,cn=un.pv*ln,hn=new Number(cn);return hn.value=cn,nn(hn,un,"unidimensional"),function(){return un.k&&un.getValue(),cn=un.v*ln,hn.value!==cn&&(hn=new Number(cn),hn.value=cn,nn(hn,un,"unidimensional")),hn}}function an(un){(!un||!("pv"in un))&&(un=Mt);var ln=1/un.mult,cn=un.data&&un.data.l||un.pv.length,hn=createTypedArray("float32",cn),fn=createTypedArray("float32",cn);return hn.value=fn,nn(hn,un,"multidimensional"),function(){un.k&&un.getValue();for(var to=0;to<cn;to+=1)fn[to]=un.v[to]*ln,hn[to]=fn[to];return hn}}function sn(){return st}return function(un){return un?un.propType==="unidimensional"?rn(un):an(un):sn}}(),TransformExpressionInterface=function(){return function(st){function Mt(un){switch(un){case"scale":case"Scale":case"ADBE Scale":case 6:return Mt.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return Mt.rotation;case"ADBE Rotate X":return Mt.xRotation;case"ADBE Rotate Y":return Mt.yRotation;case"position":case"Position":case"ADBE Position":case 2:return Mt.position;case"ADBE Position_0":return Mt.xPosition;case"ADBE Position_1":return Mt.yPosition;case"ADBE Position_2":return Mt.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return Mt.anchorPoint;case"opacity":case"Opacity":case 11:return Mt.opacity;default:return null}}Object.defineProperty(Mt,"rotation",{get:ExpressionPropertyInterface(st.r||st.rz)}),Object.defineProperty(Mt,"zRotation",{get:ExpressionPropertyInterface(st.rz||st.r)}),Object.defineProperty(Mt,"xRotation",{get:ExpressionPropertyInterface(st.rx)}),Object.defineProperty(Mt,"yRotation",{get:ExpressionPropertyInterface(st.ry)}),Object.defineProperty(Mt,"scale",{get:ExpressionPropertyInterface(st.s)});var nn,rn,an,sn;return st.p?sn=ExpressionPropertyInterface(st.p):(nn=ExpressionPropertyInterface(st.px),rn=ExpressionPropertyInterface(st.py),st.pz&&(an=ExpressionPropertyInterface(st.pz))),Object.defineProperty(Mt,"position",{get:function(){return st.p?sn():[nn(),rn(),an?an():0]}}),Object.defineProperty(Mt,"xPosition",{get:ExpressionPropertyInterface(st.px)}),Object.defineProperty(Mt,"yPosition",{get:ExpressionPropertyInterface(st.py)}),Object.defineProperty(Mt,"zPosition",{get:ExpressionPropertyInterface(st.pz)}),Object.defineProperty(Mt,"anchorPoint",{get:ExpressionPropertyInterface(st.a)}),Object.defineProperty(Mt,"opacity",{get:ExpressionPropertyInterface(st.o)}),Object.defineProperty(Mt,"skew",{get:ExpressionPropertyInterface(st.sk)}),Object.defineProperty(Mt,"skewAxis",{get:ExpressionPropertyInterface(st.sa)}),Object.defineProperty(Mt,"orientation",{get:ExpressionPropertyInterface(st.or)}),Mt}}(),LayerExpressionInterface=function(){function st(hn){var fn=new Matrix;if(hn!==void 0){var to=this._elem.finalTransform.mProp.getValueAtTime(hn);to.clone(fn)}else{var Xr=this._elem.finalTransform.mProp;Xr.applyToMatrix(fn)}return fn}function Mt(hn,fn){var to=this.getMatrix(fn);return to.props[12]=0,to.props[13]=0,to.props[14]=0,this.applyPoint(to,hn)}function nn(hn,fn){var to=this.getMatrix(fn);return this.applyPoint(to,hn)}function rn(hn,fn){var to=this.getMatrix(fn);return to.props[12]=0,to.props[13]=0,to.props[14]=0,this.invertPoint(to,hn)}function an(hn,fn){var to=this.getMatrix(fn);return this.invertPoint(to,hn)}function sn(hn,fn){if(this._elem.hierarchy&&this._elem.hierarchy.length){var to,Xr=this._elem.hierarchy.length;for(to=0;to<Xr;to+=1)this._elem.hierarchy[to].finalTransform.mProp.applyToMatrix(hn)}return hn.applyToPointArray(fn[0],fn[1],fn[2]||0)}function un(hn,fn){if(this._elem.hierarchy&&this._elem.hierarchy.length){var to,Xr=this._elem.hierarchy.length;for(to=0;to<Xr;to+=1)this._elem.hierarchy[to].finalTransform.mProp.applyToMatrix(hn)}return hn.inversePoint(fn)}function ln(hn){var fn=new Matrix;if(fn.reset(),this._elem.finalTransform.mProp.applyToMatrix(fn),this._elem.hierarchy&&this._elem.hierarchy.length){var to,Xr=this._elem.hierarchy.length;for(to=0;to<Xr;to+=1)this._elem.hierarchy[to].finalTransform.mProp.applyToMatrix(fn);return fn.inversePoint(hn)}return fn.inversePoint(hn)}function cn(){return[1,1,1,1]}return function(hn){var fn;function to(ho){uo.mask=new MaskManagerInterface(ho,hn)}function Xr(ho){uo.effect=ho}function uo(ho){switch(ho){case"ADBE Root Vectors Group":case"Contents":case 2:return uo.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return fn;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return uo.effect;case"ADBE Text Properties":return uo.textInterface;default:return null}}uo.getMatrix=st,uo.invertPoint=un,uo.applyPoint=sn,uo.toWorld=nn,uo.toWorldVec=Mt,uo.fromWorld=an,uo.fromWorldVec=rn,uo.toComp=nn,uo.fromComp=ln,uo.sampleImage=cn,uo.sourceRectAtTime=hn.sourceRectAtTime.bind(hn),uo._elem=hn,fn=TransformExpressionInterface(hn.finalTransform.mProp);var co=getDescriptor(fn,"anchorPoint");return Object.defineProperties(uo,{hasParent:{get:function(){return hn.hierarchy.length}},parent:{get:function(){return hn.hierarchy[0].layerInterface}},rotation:getDescriptor(fn,"rotation"),scale:getDescriptor(fn,"scale"),position:getDescriptor(fn,"position"),opacity:getDescriptor(fn,"opacity"),anchorPoint:co,anchor_point:co,transform:{get:function(){return fn}},active:{get:function(){return hn.isInRange}}}),uo.startTime=hn.data.st,uo.index=hn.data.ind,uo.source=hn.data.refId,uo.height=hn.data.ty===0?hn.data.h:100,uo.width=hn.data.ty===0?hn.data.w:100,uo.inPoint=hn.data.ip/hn.comp.globalData.frameRate,uo.outPoint=hn.data.op/hn.comp.globalData.frameRate,uo._name=hn.data.nm,uo.registerMaskInterface=to,uo.registerEffectsInterface=Xr,uo}}(),propertyGroupFactory=function(){return function(st,Mt){return function(nn){return nn=nn===void 0?1:nn,nn<=0?st:Mt(nn-1)}}}(),PropertyInterface=function(){return function(st,Mt){var nn={_name:st};function rn(an){return an=an===void 0?1:an,an<=0?nn:Mt(an-1)}return rn}}(),EffectsExpressionInterface=function(){var st={createEffectsInterface:Mt};function Mt(an,sn){if(an.effectsManager){var un=[],ln=an.data.ef,cn,hn=an.effectsManager.effectElements.length;for(cn=0;cn<hn;cn+=1)un.push(nn(ln[cn],an.effectsManager.effectElements[cn],sn,an));var fn=an.data.ef||[],to=function(uo){for(cn=0,hn=fn.length;cn<hn;){if(uo===fn[cn].nm||uo===fn[cn].mn||uo===fn[cn].ix)return un[cn];cn+=1}return null};return Object.defineProperty(to,"numProperties",{get:function(){return fn.length}}),to}return null}function nn(an,sn,un,ln){function cn(uo){for(var co=an.ef,ho=0,e0=co.length;ho<e0;){if(uo===co[ho].nm||uo===co[ho].mn||uo===co[ho].ix)return co[ho].ty===5?fn[ho]:fn[ho]();ho+=1}throw new Error}var hn=propertyGroupFactory(cn,un),fn=[],to,Xr=an.ef.length;for(to=0;to<Xr;to+=1)an.ef[to].ty===5?fn.push(nn(an.ef[to],sn.effectElements[to],sn.effectElements[to].propertyGroup,ln)):fn.push(rn(sn.effectElements[to],an.ef[to].ty,ln,hn));return an.mn==="ADBE Color Control"&&Object.defineProperty(cn,"color",{get:function(){return fn[0]()}}),Object.defineProperties(cn,{numProperties:{get:function(){return an.np}},_name:{value:an.nm},propertyGroup:{value:hn}}),cn.enabled=an.en!==0,cn.active=cn.enabled,cn}function rn(an,sn,un,ln){var cn=ExpressionPropertyInterface(an.p);function hn(){return sn===10?un.comp.compInterface(an.p.v):cn()}return an.p.setGroupProperty&&an.p.setGroupProperty(PropertyInterface("",ln)),hn}return st}(),ShapePathInterface=function(){return function(Mt,nn,rn){var an=nn.sh;function sn(ln){return ln==="Shape"||ln==="shape"||ln==="Path"||ln==="path"||ln==="ADBE Vector Shape"||ln===2?sn.path:null}var un=propertyGroupFactory(sn,rn);return an.setGroupProperty(PropertyInterface("Path",un)),Object.defineProperties(sn,{path:{get:function(){return an.k&&an.getValue(),an}},shape:{get:function(){return an.k&&an.getValue(),an}},_name:{value:Mt.nm},ix:{value:Mt.ix},propertyIndex:{value:Mt.ix},mn:{value:Mt.mn},propertyGroup:{value:rn}}),sn}}(),ShapeExpressionInterface=function(){function st(co,ho,e0){var lo=[],mo,fo=co?co.length:0;for(mo=0;mo<fo;mo+=1)co[mo].ty==="gr"?lo.push(nn(co[mo],ho[mo],e0)):co[mo].ty==="fl"?lo.push(rn(co[mo],ho[mo],e0)):co[mo].ty==="st"?lo.push(un(co[mo],ho[mo],e0)):co[mo].ty==="tm"?lo.push(ln(co[mo],ho[mo],e0)):co[mo].ty==="tr"||(co[mo].ty==="el"?lo.push(hn(co[mo],ho[mo],e0)):co[mo].ty==="sr"?lo.push(fn(co[mo],ho[mo],e0)):co[mo].ty==="sh"?lo.push(ShapePathInterface(co[mo],ho[mo],e0)):co[mo].ty==="rc"?lo.push(to(co[mo],ho[mo],e0)):co[mo].ty==="rd"?lo.push(Xr(co[mo],ho[mo],e0)):co[mo].ty==="rp"?lo.push(uo(co[mo],ho[mo],e0)):co[mo].ty==="gf"?lo.push(an(co[mo],ho[mo],e0)):lo.push(sn(co[mo],ho[mo])));return lo}function Mt(co,ho,e0){var lo,mo=function(t0){for(var n0=0,i0=lo.length;n0<i0;){if(lo[n0]._name===t0||lo[n0].mn===t0||lo[n0].propertyIndex===t0||lo[n0].ix===t0||lo[n0].ind===t0)return lo[n0];n0+=1}return typeof t0=="number"?lo[t0-1]:null};mo.propertyGroup=propertyGroupFactory(mo,e0),lo=st(co.it,ho.it,mo.propertyGroup),mo.numProperties=lo.length;var fo=cn(co.it[co.it.length-1],ho.it[ho.it.length-1],mo.propertyGroup);return mo.transform=fo,mo.propertyIndex=co.cix,mo._name=co.nm,mo}function nn(co,ho,e0){var lo=function(t0){switch(t0){case"ADBE Vectors Group":case"Contents":case 2:return lo.content;default:return lo.transform}};lo.propertyGroup=propertyGroupFactory(lo,e0);var mo=Mt(co,ho,lo.propertyGroup),fo=cn(co.it[co.it.length-1],ho.it[ho.it.length-1],lo.propertyGroup);return lo.content=mo,lo.transform=fo,Object.defineProperty(lo,"_name",{get:function(){return co.nm}}),lo.numProperties=co.np,lo.propertyIndex=co.ix,lo.nm=co.nm,lo.mn=co.mn,lo}function rn(co,ho,e0){function lo(mo){return mo==="Color"||mo==="color"?lo.color:mo==="Opacity"||mo==="opacity"?lo.opacity:null}return Object.defineProperties(lo,{color:{get:ExpressionPropertyInterface(ho.c)},opacity:{get:ExpressionPropertyInterface(ho.o)},_name:{value:co.nm},mn:{value:co.mn}}),ho.c.setGroupProperty(PropertyInterface("Color",e0)),ho.o.setGroupProperty(PropertyInterface("Opacity",e0)),lo}function an(co,ho,e0){function lo(mo){return mo==="Start Point"||mo==="start point"?lo.startPoint:mo==="End Point"||mo==="end point"?lo.endPoint:mo==="Opacity"||mo==="opacity"?lo.opacity:null}return Object.defineProperties(lo,{startPoint:{get:ExpressionPropertyInterface(ho.s)},endPoint:{get:ExpressionPropertyInterface(ho.e)},opacity:{get:ExpressionPropertyInterface(ho.o)},type:{get:function(){return"a"}},_name:{value:co.nm},mn:{value:co.mn}}),ho.s.setGroupProperty(PropertyInterface("Start Point",e0)),ho.e.setGroupProperty(PropertyInterface("End Point",e0)),ho.o.setGroupProperty(PropertyInterface("Opacity",e0)),lo}function sn(){function co(){return null}return co}function un(co,ho,e0){var lo=propertyGroupFactory(i0,e0),mo=propertyGroupFactory(n0,lo);function fo(a0){Object.defineProperty(n0,co.d[a0].nm,{get:ExpressionPropertyInterface(ho.d.dataProps[a0].p)})}var Uo,t0=co.d?co.d.length:0,n0={};for(Uo=0;Uo<t0;Uo+=1)fo(Uo),ho.d.dataProps[Uo].p.setGroupProperty(mo);function i0(a0){return a0==="Color"||a0==="color"?i0.color:a0==="Opacity"||a0==="opacity"?i0.opacity:a0==="Stroke Width"||a0==="stroke width"?i0.strokeWidth:null}return Object.defineProperties(i0,{color:{get:ExpressionPropertyInterface(ho.c)},opacity:{get:ExpressionPropertyInterface(ho.o)},strokeWidth:{get:ExpressionPropertyInterface(ho.w)},dash:{get:function(){return n0}},_name:{value:co.nm},mn:{value:co.mn}}),ho.c.setGroupProperty(PropertyInterface("Color",lo)),ho.o.setGroupProperty(PropertyInterface("Opacity",lo)),ho.w.setGroupProperty(PropertyInterface("Stroke Width",lo)),i0}function ln(co,ho,e0){function lo(fo){return fo===co.e.ix||fo==="End"||fo==="end"?lo.end:fo===co.s.ix?lo.start:fo===co.o.ix?lo.offset:null}var mo=propertyGroupFactory(lo,e0);return lo.propertyIndex=co.ix,ho.s.setGroupProperty(PropertyInterface("Start",mo)),ho.e.setGroupProperty(PropertyInterface("End",mo)),ho.o.setGroupProperty(PropertyInterface("Offset",mo)),lo.propertyIndex=co.ix,lo.propertyGroup=e0,Object.defineProperties(lo,{start:{get:ExpressionPropertyInterface(ho.s)},end:{get:ExpressionPropertyInterface(ho.e)},offset:{get:ExpressionPropertyInterface(ho.o)},_name:{value:co.nm}}),lo.mn=co.mn,lo}function cn(co,ho,e0){function lo(fo){return co.a.ix===fo||fo==="Anchor Point"?lo.anchorPoint:co.o.ix===fo||fo==="Opacity"?lo.opacity:co.p.ix===fo||fo==="Position"?lo.position:co.r.ix===fo||fo==="Rotation"||fo==="ADBE Vector Rotation"?lo.rotation:co.s.ix===fo||fo==="Scale"?lo.scale:co.sk&&co.sk.ix===fo||fo==="Skew"?lo.skew:co.sa&&co.sa.ix===fo||fo==="Skew Axis"?lo.skewAxis:null}var mo=propertyGroupFactory(lo,e0);return ho.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",mo)),ho.transform.mProps.p.setGroupProperty(PropertyInterface("Position",mo)),ho.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",mo)),ho.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",mo)),ho.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",mo)),ho.transform.mProps.sk&&(ho.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",mo)),ho.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",mo))),ho.transform.op.setGroupProperty(PropertyInterface("Opacity",mo)),Object.defineProperties(lo,{opacity:{get:ExpressionPropertyInterface(ho.transform.mProps.o)},position:{get:ExpressionPropertyInterface(ho.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(ho.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(ho.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(ho.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(ho.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(ho.transform.mProps.sa)},_name:{value:co.nm}}),lo.ty="tr",lo.mn=co.mn,lo.propertyGroup=e0,lo}function hn(co,ho,e0){function lo(Uo){return co.p.ix===Uo?lo.position:co.s.ix===Uo?lo.size:null}var mo=propertyGroupFactory(lo,e0);lo.propertyIndex=co.ix;var fo=ho.sh.ty==="tm"?ho.sh.prop:ho.sh;return fo.s.setGroupProperty(PropertyInterface("Size",mo)),fo.p.setGroupProperty(PropertyInterface("Position",mo)),Object.defineProperties(lo,{size:{get:ExpressionPropertyInterface(fo.s)},position:{get:ExpressionPropertyInterface(fo.p)},_name:{value:co.nm}}),lo.mn=co.mn,lo}function fn(co,ho,e0){function lo(Uo){return co.p.ix===Uo?lo.position:co.r.ix===Uo?lo.rotation:co.pt.ix===Uo?lo.points:co.or.ix===Uo||Uo==="ADBE Vector Star Outer Radius"?lo.outerRadius:co.os.ix===Uo?lo.outerRoundness:co.ir&&(co.ir.ix===Uo||Uo==="ADBE Vector Star Inner Radius")?lo.innerRadius:co.is&&co.is.ix===Uo?lo.innerRoundness:null}var mo=propertyGroupFactory(lo,e0),fo=ho.sh.ty==="tm"?ho.sh.prop:ho.sh;return lo.propertyIndex=co.ix,fo.or.setGroupProperty(PropertyInterface("Outer Radius",mo)),fo.os.setGroupProperty(PropertyInterface("Outer Roundness",mo)),fo.pt.setGroupProperty(PropertyInterface("Points",mo)),fo.p.setGroupProperty(PropertyInterface("Position",mo)),fo.r.setGroupProperty(PropertyInterface("Rotation",mo)),co.ir&&(fo.ir.setGroupProperty(PropertyInterface("Inner Radius",mo)),fo.is.setGroupProperty(PropertyInterface("Inner Roundness",mo))),Object.defineProperties(lo,{position:{get:ExpressionPropertyInterface(fo.p)},rotation:{get:ExpressionPropertyInterface(fo.r)},points:{get:ExpressionPropertyInterface(fo.pt)},outerRadius:{get:ExpressionPropertyInterface(fo.or)},outerRoundness:{get:ExpressionPropertyInterface(fo.os)},innerRadius:{get:ExpressionPropertyInterface(fo.ir)},innerRoundness:{get:ExpressionPropertyInterface(fo.is)},_name:{value:co.nm}}),lo.mn=co.mn,lo}function to(co,ho,e0){function lo(Uo){return co.p.ix===Uo?lo.position:co.r.ix===Uo?lo.roundness:co.s.ix===Uo||Uo==="Size"||Uo==="ADBE Vector Rect Size"?lo.size:null}var mo=propertyGroupFactory(lo,e0),fo=ho.sh.ty==="tm"?ho.sh.prop:ho.sh;return lo.propertyIndex=co.ix,fo.p.setGroupProperty(PropertyInterface("Position",mo)),fo.s.setGroupProperty(PropertyInterface("Size",mo)),fo.r.setGroupProperty(PropertyInterface("Rotation",mo)),Object.defineProperties(lo,{position:{get:ExpressionPropertyInterface(fo.p)},roundness:{get:ExpressionPropertyInterface(fo.r)},size:{get:ExpressionPropertyInterface(fo.s)},_name:{value:co.nm}}),lo.mn=co.mn,lo}function Xr(co,ho,e0){function lo(Uo){return co.r.ix===Uo||Uo==="Round Corners 1"?lo.radius:null}var mo=propertyGroupFactory(lo,e0),fo=ho;return lo.propertyIndex=co.ix,fo.rd.setGroupProperty(PropertyInterface("Radius",mo)),Object.defineProperties(lo,{radius:{get:ExpressionPropertyInterface(fo.rd)},_name:{value:co.nm}}),lo.mn=co.mn,lo}function uo(co,ho,e0){function lo(Uo){return co.c.ix===Uo||Uo==="Copies"?lo.copies:co.o.ix===Uo||Uo==="Offset"?lo.offset:null}var mo=propertyGroupFactory(lo,e0),fo=ho;return lo.propertyIndex=co.ix,fo.c.setGroupProperty(PropertyInterface("Copies",mo)),fo.o.setGroupProperty(PropertyInterface("Offset",mo)),Object.defineProperties(lo,{copies:{get:ExpressionPropertyInterface(fo.c)},offset:{get:ExpressionPropertyInterface(fo.o)},_name:{value:co.nm}}),lo.mn=co.mn,lo}return function(co,ho,e0){var lo;function mo(Uo){if(typeof Uo=="number")return Uo=Uo===void 0?1:Uo,Uo===0?e0:lo[Uo-1];for(var t0=0,n0=lo.length;t0<n0;){if(lo[t0]._name===Uo)return lo[t0];t0+=1}return null}function fo(){return e0}return mo.propertyGroup=propertyGroupFactory(mo,fo),lo=st(co,ho,mo.propertyGroup),mo.numProperties=lo.length,mo._name="Contents",mo}}(),TextExpressionInterface=function(){return function(st){var Mt;function nn(rn){switch(rn){case"ADBE Text Document":return nn.sourceText;default:return null}}return Object.defineProperty(nn,"sourceText",{get:function(){st.textProperty.getValue();var an=st.textProperty.currentData.t;return(!Mt||an!==Mt.value)&&(Mt=new String(an),Mt.value=an||new String(an),Object.defineProperty(Mt,"style",{get:function(){return{fillColor:st.textProperty.currentData.fc}}})),Mt}}),nn}}();function _typeof(st){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(nn){return typeof nn}:_typeof=function(nn){return nn&&typeof Symbol=="function"&&nn.constructor===Symbol&&nn!==Symbol.prototype?"symbol":typeof nn},_typeof(st)}var FootageInterface=function(){var st=function(rn){var an="",sn=rn.getFootageData();function un(){return an="",sn=rn.getFootageData(),ln}function ln(cn){if(sn[cn])return an=cn,sn=sn[cn],_typeof(sn)==="object"?ln:sn;var hn=cn.indexOf(an);if(hn!==-1){var fn=parseInt(cn.substr(hn+an.length),10);return sn=sn[fn],_typeof(sn)==="object"?ln:sn}return""}return un},Mt=function(rn){function an(sn){return sn==="Outline"?an.outlineInterface():null}return an._name="Outline",an.outlineInterface=st(rn),an};return function(nn){function rn(an){return an==="Data"?rn.dataInterface:null}return rn._name="Data",rn.dataInterface=Mt(nn),rn}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(st){return interfaces[st]||null}var expressionHelpers=function(){function st(un,ln,cn){ln.x&&(cn.k=!0,cn.x=!0,cn.initiateExpression=ExpressionManager.initiateExpression,cn.effectsSequence.push(cn.initiateExpression(un,ln,cn).bind(cn)))}function Mt(un){return un*=this.elem.globalData.frameRate,un-=this.offsetTime,un!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<un?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(un,this._cachingAtTime),this._cachingAtTime.lastFrame=un),this._cachingAtTime.value}function nn(un){var ln=-.01,cn=this.getValueAtTime(un),hn=this.getValueAtTime(un+ln),fn=0;if(cn.length){var to;for(to=0;to<cn.length;to+=1)fn+=Math.pow(hn[to]-cn[to],2);fn=Math.sqrt(fn)*100}else fn=0;return fn}function rn(un){if(this.vel!==void 0)return this.vel;var ln=-.001,cn=this.getValueAtTime(un),hn=this.getValueAtTime(un+ln),fn;if(cn.length){fn=createTypedArray("float32",cn.length);var to;for(to=0;to<cn.length;to+=1)fn[to]=(hn[to]-cn[to])/ln}else fn=(hn-cn)/ln;return fn}function an(){return this.pv}function sn(un){this.propertyGroup=un}return{searchExpressions:st,getSpeedAtTime:nn,getVelocityAtTime:rn,getValueAtTime:Mt,getStaticValueAtTime:an,setGroupProperty:sn}}();function addPropertyDecorator(){function st(Xr,uo,co){if(!this.k||!this.keyframes)return this.pv;Xr=Xr?Xr.toLowerCase():"";var ho=this.comp.renderedFrame,e0=this.keyframes,lo=e0[e0.length-1].t;if(ho<=lo)return this.pv;var mo,fo;co?(uo?mo=Math.abs(lo-this.elem.comp.globalData.frameRate*uo):mo=Math.max(0,lo-this.elem.data.ip),fo=lo-mo):((!uo||uo>e0.length-1)&&(uo=e0.length-1),fo=e0[e0.length-1-uo].t,mo=lo-fo);var Uo,t0,n0;if(Xr==="pingpong"){var i0=Math.floor((ho-fo)/mo);if(i0%2!==0)return this.getValueAtTime((mo-(ho-fo)%mo+fo)/this.comp.globalData.frameRate,0)}else if(Xr==="offset"){var a0=this.getValueAtTime(fo/this.comp.globalData.frameRate,0),s0=this.getValueAtTime(lo/this.comp.globalData.frameRate,0),l0=this.getValueAtTime(((ho-fo)%mo+fo)/this.comp.globalData.frameRate,0),d0=Math.floor((ho-fo)/mo);if(this.pv.length){for(n0=new Array(a0.length),t0=n0.length,Uo=0;Uo<t0;Uo+=1)n0[Uo]=(s0[Uo]-a0[Uo])*d0+l0[Uo];return n0}return(s0-a0)*d0+l0}else if(Xr==="continue"){var h0=this.getValueAtTime(lo/this.comp.globalData.frameRate,0),v0=this.getValueAtTime((lo-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(n0=new Array(h0.length),t0=n0.length,Uo=0;Uo<t0;Uo+=1)n0[Uo]=h0[Uo]+(h0[Uo]-v0[Uo])*((ho-lo)/this.comp.globalData.frameRate)/5e-4;return n0}return h0+(h0-v0)*((ho-lo)/.001)}return this.getValueAtTime(((ho-fo)%mo+fo)/this.comp.globalData.frameRate,0)}function Mt(Xr,uo,co){if(!this.k)return this.pv;Xr=Xr?Xr.toLowerCase():"";var ho=this.comp.renderedFrame,e0=this.keyframes,lo=e0[0].t;if(ho>=lo)return this.pv;var mo,fo;co?(uo?mo=Math.abs(this.elem.comp.globalData.frameRate*uo):mo=Math.max(0,this.elem.data.op-lo),fo=lo+mo):((!uo||uo>e0.length-1)&&(uo=e0.length-1),fo=e0[uo].t,mo=fo-lo);var Uo,t0,n0;if(Xr==="pingpong"){var i0=Math.floor((lo-ho)/mo);if(i0%2===0)return this.getValueAtTime(((lo-ho)%mo+lo)/this.comp.globalData.frameRate,0)}else if(Xr==="offset"){var a0=this.getValueAtTime(lo/this.comp.globalData.frameRate,0),s0=this.getValueAtTime(fo/this.comp.globalData.frameRate,0),l0=this.getValueAtTime((mo-(lo-ho)%mo+lo)/this.comp.globalData.frameRate,0),d0=Math.floor((lo-ho)/mo)+1;if(this.pv.length){for(n0=new Array(a0.length),t0=n0.length,Uo=0;Uo<t0;Uo+=1)n0[Uo]=l0[Uo]-(s0[Uo]-a0[Uo])*d0;return n0}return l0-(s0-a0)*d0}else if(Xr==="continue"){var h0=this.getValueAtTime(lo/this.comp.globalData.frameRate,0),v0=this.getValueAtTime((lo+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(n0=new Array(h0.length),t0=n0.length,Uo=0;Uo<t0;Uo+=1)n0[Uo]=h0[Uo]+(h0[Uo]-v0[Uo])*(lo-ho)/.001;return n0}return h0+(h0-v0)*(lo-ho)/.001}return this.getValueAtTime((mo-((lo-ho)%mo+lo))/this.comp.globalData.frameRate,0)}function nn(Xr,uo){if(!this.k)return this.pv;if(Xr=(Xr||.4)*.5,uo=Math.floor(uo||5),uo<=1)return this.pv;var co=this.comp.renderedFrame/this.comp.globalData.frameRate,ho=co-Xr,e0=co+Xr,lo=uo>1?(e0-ho)/(uo-1):1,mo=0,fo=0,Uo;this.pv.length?Uo=createTypedArray("float32",this.pv.length):Uo=0;for(var t0;mo<uo;){if(t0=this.getValueAtTime(ho+mo*lo),this.pv.length)for(fo=0;fo<this.pv.length;fo+=1)Uo[fo]+=t0[fo];else Uo+=t0;mo+=1}if(this.pv.length)for(fo=0;fo<this.pv.length;fo+=1)Uo[fo]/=uo;else Uo/=uo;return Uo}function rn(Xr){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var uo=this._transformCachingAtTime.v;if(uo.cloneFromProps(this.pre.props),this.appliedTransformations<1){var co=this.a.getValueAtTime(Xr);uo.translate(-co[0]*this.a.mult,-co[1]*this.a.mult,co[2]*this.a.mult)}if(this.appliedTransformations<2){var ho=this.s.getValueAtTime(Xr);uo.scale(ho[0]*this.s.mult,ho[1]*this.s.mult,ho[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var e0=this.sk.getValueAtTime(Xr),lo=this.sa.getValueAtTime(Xr);uo.skewFromAxis(-e0*this.sk.mult,lo*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var mo=this.r.getValueAtTime(Xr);uo.rotate(-mo*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var fo=this.rz.getValueAtTime(Xr),Uo=this.ry.getValueAtTime(Xr),t0=this.rx.getValueAtTime(Xr),n0=this.or.getValueAtTime(Xr);uo.rotateZ(-fo*this.rz.mult).rotateY(Uo*this.ry.mult).rotateX(t0*this.rx.mult).rotateZ(-n0[2]*this.or.mult).rotateY(n0[1]*this.or.mult).rotateX(n0[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var i0=this.px.getValueAtTime(Xr),a0=this.py.getValueAtTime(Xr);if(this.data.p.z){var s0=this.pz.getValueAtTime(Xr);uo.translate(i0*this.px.mult,a0*this.py.mult,-s0*this.pz.mult)}else uo.translate(i0*this.px.mult,a0*this.py.mult,0)}else{var l0=this.p.getValueAtTime(Xr);uo.translate(l0[0]*this.p.mult,l0[1]*this.p.mult,-l0[2]*this.p.mult)}return uo}function an(){return this.v.clone(new Matrix)}var sn=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(Xr,uo,co){var ho=sn(Xr,uo,co);return ho.dynamicProperties.length?ho.getValueAtTime=rn.bind(ho):ho.getValueAtTime=an.bind(ho),ho.setGroupProperty=expressionHelpers.setGroupProperty,ho};var un=PropertyFactory.getProp;PropertyFactory.getProp=function(Xr,uo,co,ho,e0){var lo=un(Xr,uo,co,ho,e0);lo.kf?lo.getValueAtTime=expressionHelpers.getValueAtTime.bind(lo):lo.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(lo),lo.setGroupProperty=expressionHelpers.setGroupProperty,lo.loopOut=st,lo.loopIn=Mt,lo.smooth=nn,lo.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(lo),lo.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(lo),lo.numKeys=uo.a===1?uo.k.length:0,lo.propertyIndex=uo.ix;var mo=0;return co!==0&&(mo=createTypedArray("float32",uo.a===1?uo.k[0].s.length:uo.k.length)),lo._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:mo},expressionHelpers.searchExpressions(Xr,uo,lo),lo.k&&e0.addDynamicProperty(lo),lo};function ln(Xr){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),Xr*=this.elem.globalData.frameRate,Xr-=this.offsetTime,Xr!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<Xr?this._caching.lastIndex:0,this._cachingAtTime.lastTime=Xr,this.interpolateShape(Xr,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var cn=ShapePropertyFactory.getConstructorFunction(),hn=ShapePropertyFactory.getKeyframedConstructorFunction();function fn(){}fn.prototype={vertices:function(uo,co){this.k&&this.getValue();var ho=this.v;co!==void 0&&(ho=this.getValueAtTime(co,0));var e0,lo=ho._length,mo=ho[uo],fo=ho.v,Uo=createSizedArray(lo);for(e0=0;e0<lo;e0+=1)uo==="i"||uo==="o"?Uo[e0]=[mo[e0][0]-fo[e0][0],mo[e0][1]-fo[e0][1]]:Uo[e0]=[mo[e0][0],mo[e0][1]];return Uo},points:function(uo){return this.vertices("v",uo)},inTangents:function(uo){return this.vertices("i",uo)},outTangents:function(uo){return this.vertices("o",uo)},isClosed:function(){return this.v.c},pointOnPath:function(uo,co){var ho=this.v;co!==void 0&&(ho=this.getValueAtTime(co,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(ho));for(var e0=this._segmentsLength,lo=e0.lengths,mo=e0.totalLength*uo,fo=0,Uo=lo.length,t0=0,n0;fo<Uo;){if(t0+lo[fo].addedLength>mo){var i0=fo,a0=ho.c&&fo===Uo-1?0:fo+1,s0=(mo-t0)/lo[fo].addedLength;n0=bez.getPointInSegment(ho.v[i0],ho.v[a0],ho.o[i0],ho.i[a0],s0,lo[fo]);break}else t0+=lo[fo].addedLength;fo+=1}return n0||(n0=ho.c?[ho.v[0][0],ho.v[0][1]]:[ho.v[ho._length-1][0],ho.v[ho._length-1][1]]),n0},vectorOnPath:function(uo,co,ho){uo==1?uo=this.v.c:uo==0&&(uo=.999);var e0=this.pointOnPath(uo,co),lo=this.pointOnPath(uo+.001,co),mo=lo[0]-e0[0],fo=lo[1]-e0[1],Uo=Math.sqrt(Math.pow(mo,2)+Math.pow(fo,2));if(Uo===0)return[0,0];var t0=ho==="tangent"?[mo/Uo,fo/Uo]:[-fo/Uo,mo/Uo];return t0},tangentOnPath:function(uo,co){return this.vectorOnPath(uo,co,"tangent")},normalOnPath:function(uo,co){return this.vectorOnPath(uo,co,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([fn],cn),extendPrototype([fn],hn),hn.prototype.getValueAtTime=ln,hn.prototype.initiateExpression=ExpressionManager.initiateExpression;var to=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(Xr,uo,co,ho,e0){var lo=to(Xr,uo,co,ho,e0);return lo.propertyIndex=uo.ix,lo.lock=!1,co===3?expressionHelpers.searchExpressions(Xr,uo.pt,lo):co===4&&expressionHelpers.searchExpressions(Xr,uo.ks,lo),lo.k&&Xr.addDynamicProperty(lo),lo}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function st(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(Mt,nn){var rn=this.calculateExpression(nn);if(Mt.t!==rn){var an={};return this.copyData(an,Mt),an.t=rn.toString(),an.__complete=!1,an}return Mt},TextProperty.prototype.searchProperty=function(){var Mt=this.searchKeyframes(),nn=this.searchExpressions();return this.kf=Mt||nn,this.kf},TextProperty.prototype.searchExpressions=st}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function st(Mt,nn){var rn=createNS("feMerge");rn.setAttribute("result",Mt);var an,sn;for(sn=0;sn<nn.length;sn+=1)an=createNS("feMergeNode"),an.setAttribute("in",nn[sn]),rn.appendChild(an),rn.appendChild(an);return rn}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(st,Mt,nn,rn,an){this.filterManager=Mt;var sn=createNS("feColorMatrix");sn.setAttribute("type","matrix"),sn.setAttribute("color-interpolation-filters","linearRGB"),sn.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=sn,sn.setAttribute("result",rn+"_tint_1"),st.appendChild(sn),sn=createNS("feColorMatrix"),sn.setAttribute("type","matrix"),sn.setAttribute("color-interpolation-filters","sRGB"),sn.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),sn.setAttribute("result",rn+"_tint_2"),st.appendChild(sn),this.matrixFilter=sn;var un=this.createMergeNode(rn,[an,rn+"_tint_1",rn+"_tint_2"]);st.appendChild(un)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(st){if(st||this.filterManager._mdf){var Mt=this.filterManager.effectElements[0].p.v,nn=this.filterManager.effectElements[1].p.v,rn=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+rn+" 0"),this.matrixFilter.setAttribute("values",nn[0]-Mt[0]+" 0 0 0 "+Mt[0]+" "+(nn[1]-Mt[1])+" 0 0 0 "+Mt[1]+" "+(nn[2]-Mt[2])+" 0 0 0 "+Mt[2]+" 0 0 0 1 0")}};function SVGFillFilter(st,Mt,nn,rn){this.filterManager=Mt;var an=createNS("feColorMatrix");an.setAttribute("type","matrix"),an.setAttribute("color-interpolation-filters","sRGB"),an.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),an.setAttribute("result",rn),st.appendChild(an),this.matrixFilter=an}SVGFillFilter.prototype.renderFrame=function(st){if(st||this.filterManager._mdf){var Mt=this.filterManager.effectElements[2].p.v,nn=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+Mt[0]+" 0 0 0 0 "+Mt[1]+" 0 0 0 0 "+Mt[2]+" 0 0 0 "+nn+" 0")}};function SVGStrokeEffect(st,Mt,nn){this.initialized=!1,this.filterManager=Mt,this.elem=nn,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var st=this.elem.layerElement.children||this.elem.layerElement.childNodes,Mt,nn,rn,an;for(this.filterManager.effectElements[1].p.v===1?(an=this.elem.maskManager.masksProperties.length,rn=0):(rn=this.filterManager.effectElements[0].p.v-1,an=rn+1),nn=createNS("g"),nn.setAttribute("fill","none"),nn.setAttribute("stroke-linecap","round"),nn.setAttribute("stroke-dashoffset",1),rn;rn<an;rn+=1)Mt=createNS("path"),nn.appendChild(Mt),this.paths.push({p:Mt,m:rn});if(this.filterManager.effectElements[10].p.v===3){var sn=createNS("mask"),un=createElementID();sn.setAttribute("id",un),sn.setAttribute("mask-type","alpha"),sn.appendChild(nn),this.elem.globalData.defs.appendChild(sn);var ln=createNS("g");for(ln.setAttribute("mask","url("+getLocationHref()+"#"+un+")");st[0];)ln.appendChild(st[0]);this.elem.layerElement.appendChild(ln),this.masker=sn,nn.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(st=this.elem.layerElement.children||this.elem.layerElement.childNodes;st.length;)this.elem.layerElement.removeChild(st[0]);this.elem.layerElement.appendChild(nn),this.elem.layerElement.removeAttribute("mask"),nn.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=nn},SVGStrokeEffect.prototype.renderFrame=function(st){this.initialized||this.initialize();var Mt,nn=this.paths.length,rn,an;for(Mt=0;Mt<nn;Mt+=1)if(this.paths[Mt].m!==-1&&(rn=this.elem.maskManager.viewData[this.paths[Mt].m],an=this.paths[Mt].p,(st||this.filterManager._mdf||rn.prop._mdf)&&an.setAttribute("d",rn.lastPath),st||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||rn.prop._mdf)){var sn;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var un=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ln=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,cn=an.getTotalLength();sn="0 0 0 "+cn*un+" ";var hn=cn*(ln-un),fn=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,to=Math.floor(hn/fn),Xr;for(Xr=0;Xr<to;Xr+=1)sn+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";sn+="0 "+cn*10+" 0 0"}else sn="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;an.setAttribute("stroke-dasharray",sn)}if((st||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(st||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(st||this.filterManager.effectElements[3].p._mdf)){var uo=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(uo[0]*255)+","+bmFloor(uo[1]*255)+","+bmFloor(uo[2]*255)+")")}};function SVGTritoneFilter(st,Mt,nn,rn){this.filterManager=Mt;var an=createNS("feColorMatrix");an.setAttribute("type","matrix"),an.setAttribute("color-interpolation-filters","linearRGB"),an.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),st.appendChild(an);var sn=createNS("feComponentTransfer");sn.setAttribute("color-interpolation-filters","sRGB"),sn.setAttribute("result",rn),this.matrixFilter=sn;var un=createNS("feFuncR");un.setAttribute("type","table"),sn.appendChild(un),this.feFuncR=un;var ln=createNS("feFuncG");ln.setAttribute("type","table"),sn.appendChild(ln),this.feFuncG=ln;var cn=createNS("feFuncB");cn.setAttribute("type","table"),sn.appendChild(cn),this.feFuncB=cn,st.appendChild(sn)}SVGTritoneFilter.prototype.renderFrame=function(st){if(st||this.filterManager._mdf){var Mt=this.filterManager.effectElements[0].p.v,nn=this.filterManager.effectElements[1].p.v,rn=this.filterManager.effectElements[2].p.v,an=rn[0]+" "+nn[0]+" "+Mt[0],sn=rn[1]+" "+nn[1]+" "+Mt[1],un=rn[2]+" "+nn[2]+" "+Mt[2];this.feFuncR.setAttribute("tableValues",an),this.feFuncG.setAttribute("tableValues",sn),this.feFuncB.setAttribute("tableValues",un)}};function SVGProLevelsFilter(st,Mt,nn,rn){this.filterManager=Mt;var an=this.filterManager.effectElements,sn=createNS("feComponentTransfer");(an[10].p.k||an[10].p.v!==0||an[11].p.k||an[11].p.v!==1||an[12].p.k||an[12].p.v!==1||an[13].p.k||an[13].p.v!==0||an[14].p.k||an[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",sn)),(an[17].p.k||an[17].p.v!==0||an[18].p.k||an[18].p.v!==1||an[19].p.k||an[19].p.v!==1||an[20].p.k||an[20].p.v!==0||an[21].p.k||an[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",sn)),(an[24].p.k||an[24].p.v!==0||an[25].p.k||an[25].p.v!==1||an[26].p.k||an[26].p.v!==1||an[27].p.k||an[27].p.v!==0||an[28].p.k||an[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",sn)),(an[31].p.k||an[31].p.v!==0||an[32].p.k||an[32].p.v!==1||an[33].p.k||an[33].p.v!==1||an[34].p.k||an[34].p.v!==0||an[35].p.k||an[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",sn)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(sn.setAttribute("color-interpolation-filters","sRGB"),st.appendChild(sn)),(an[3].p.k||an[3].p.v!==0||an[4].p.k||an[4].p.v!==1||an[5].p.k||an[5].p.v!==1||an[6].p.k||an[6].p.v!==0||an[7].p.k||an[7].p.v!==1)&&(sn=createNS("feComponentTransfer"),sn.setAttribute("color-interpolation-filters","sRGB"),sn.setAttribute("result",rn),st.appendChild(sn),this.feFuncRComposed=this.createFeFunc("feFuncR",sn),this.feFuncGComposed=this.createFeFunc("feFuncG",sn),this.feFuncBComposed=this.createFeFunc("feFuncB",sn))}SVGProLevelsFilter.prototype.createFeFunc=function(st,Mt){var nn=createNS(st);return nn.setAttribute("type","table"),Mt.appendChild(nn),nn},SVGProLevelsFilter.prototype.getTableValue=function(st,Mt,nn,rn,an){for(var sn=0,un=256,ln,cn=Math.min(st,Mt),hn=Math.max(st,Mt),fn=Array.call(null,{length:un}),to,Xr=0,uo=an-rn,co=Mt-st;sn<=256;)ln=sn/256,ln<=cn?to=co<0?an:rn:ln>=hn?to=co<0?rn:an:to=rn+uo*Math.pow((ln-st)/co,1/nn),fn[Xr]=to,Xr+=1,sn+=256/(un-1);return fn.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(st){if(st||this.filterManager._mdf){var Mt,nn=this.filterManager.effectElements;this.feFuncRComposed&&(st||nn[3].p._mdf||nn[4].p._mdf||nn[5].p._mdf||nn[6].p._mdf||nn[7].p._mdf)&&(Mt=this.getTableValue(nn[3].p.v,nn[4].p.v,nn[5].p.v,nn[6].p.v,nn[7].p.v),this.feFuncRComposed.setAttribute("tableValues",Mt),this.feFuncGComposed.setAttribute("tableValues",Mt),this.feFuncBComposed.setAttribute("tableValues",Mt)),this.feFuncR&&(st||nn[10].p._mdf||nn[11].p._mdf||nn[12].p._mdf||nn[13].p._mdf||nn[14].p._mdf)&&(Mt=this.getTableValue(nn[10].p.v,nn[11].p.v,nn[12].p.v,nn[13].p.v,nn[14].p.v),this.feFuncR.setAttribute("tableValues",Mt)),this.feFuncG&&(st||nn[17].p._mdf||nn[18].p._mdf||nn[19].p._mdf||nn[20].p._mdf||nn[21].p._mdf)&&(Mt=this.getTableValue(nn[17].p.v,nn[18].p.v,nn[19].p.v,nn[20].p.v,nn[21].p.v),this.feFuncG.setAttribute("tableValues",Mt)),this.feFuncB&&(st||nn[24].p._mdf||nn[25].p._mdf||nn[26].p._mdf||nn[27].p._mdf||nn[28].p._mdf)&&(Mt=this.getTableValue(nn[24].p.v,nn[25].p.v,nn[26].p.v,nn[27].p.v,nn[28].p.v),this.feFuncB.setAttribute("tableValues",Mt)),this.feFuncA&&(st||nn[31].p._mdf||nn[32].p._mdf||nn[33].p._mdf||nn[34].p._mdf||nn[35].p._mdf)&&(Mt=this.getTableValue(nn[31].p.v,nn[32].p.v,nn[33].p.v,nn[34].p.v,nn[35].p.v),this.feFuncA.setAttribute("tableValues",Mt))}};function SVGDropShadowEffect(st,Mt,nn,rn,an){var sn=Mt.container.globalData.renderConfig.filterSize,un=Mt.data.fs||sn;st.setAttribute("x",un.x||sn.x),st.setAttribute("y",un.y||sn.y),st.setAttribute("width",un.width||sn.width),st.setAttribute("height",un.height||sn.height),this.filterManager=Mt;var ln=createNS("feGaussianBlur");ln.setAttribute("in","SourceAlpha"),ln.setAttribute("result",rn+"_drop_shadow_1"),ln.setAttribute("stdDeviation","0"),this.feGaussianBlur=ln,st.appendChild(ln);var cn=createNS("feOffset");cn.setAttribute("dx","25"),cn.setAttribute("dy","0"),cn.setAttribute("in",rn+"_drop_shadow_1"),cn.setAttribute("result",rn+"_drop_shadow_2"),this.feOffset=cn,st.appendChild(cn);var hn=createNS("feFlood");hn.setAttribute("flood-color","#00ff00"),hn.setAttribute("flood-opacity","1"),hn.setAttribute("result",rn+"_drop_shadow_3"),this.feFlood=hn,st.appendChild(hn);var fn=createNS("feComposite");fn.setAttribute("in",rn+"_drop_shadow_3"),fn.setAttribute("in2",rn+"_drop_shadow_2"),fn.setAttribute("operator","in"),fn.setAttribute("result",rn+"_drop_shadow_4"),st.appendChild(fn);var to=this.createMergeNode(rn,[rn+"_drop_shadow_4",an]);st.appendChild(to)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(st){if(st||this.filterManager._mdf){if((st||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),st||this.filterManager.effectElements[0].p._mdf){var Mt=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(Mt[0]*255),Math.round(Mt[1]*255),Math.round(Mt[2]*255)))}if((st||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),st||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var nn=this.filterManager.effectElements[3].p.v,rn=(this.filterManager.effectElements[2].p.v-90)*degToRads,an=nn*Math.cos(rn),sn=nn*Math.sin(rn);this.feOffset.setAttribute("dx",an),this.feOffset.setAttribute("dy",sn)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(st,Mt,nn){this.initialized=!1,this.filterManager=Mt,this.filterElem=st,this.elem=nn,nn.matteElement=createNS("g"),nn.matteElement.appendChild(nn.layerElement),nn.matteElement.appendChild(nn.transformedElement),nn.baseElement=nn.matteElement}SVGMatte3Effect.prototype.findSymbol=function(st){for(var Mt=0,nn=_svgMatteSymbols.length;Mt<nn;){if(_svgMatteSymbols[Mt]===st)return _svgMatteSymbols[Mt];Mt+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(st,Mt){var nn=st.layerElement.parentNode;if(nn){for(var rn=nn.children,an=0,sn=rn.length;an<sn&&rn[an]!==st.layerElement;)an+=1;var un;an<=sn-2&&(un=rn[an+1]);var ln=createNS("use");ln.setAttribute("href","#"+Mt),un?nn.insertBefore(ln,un):nn.appendChild(ln)}},SVGMatte3Effect.prototype.setElementAsMask=function(st,Mt){if(!this.findSymbol(Mt)){var nn=createElementID(),rn=createNS("mask");rn.setAttribute("id",Mt.layerId),rn.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(Mt);var an=st.globalData.defs;an.appendChild(rn);var sn=createNS("symbol");sn.setAttribute("id",nn),this.replaceInParent(Mt,nn),sn.appendChild(Mt.layerElement),an.appendChild(sn);var un=createNS("use");un.setAttribute("href","#"+nn),rn.appendChild(un),Mt.data.hd=!1,Mt.show()}st.setMatte(Mt.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var st=this.filterManager.effectElements[0].p.v,Mt=this.elem.comp.elements,nn=0,rn=Mt.length;nn<rn;)Mt[nn]&&Mt[nn].data.ind===st&&this.setElementAsMask(this.elem,Mt[nn]),nn+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(st,Mt,nn,rn){st.setAttribute("x","-100%"),st.setAttribute("y","-100%"),st.setAttribute("width","300%"),st.setAttribute("height","300%"),this.filterManager=Mt;var an=createNS("feGaussianBlur");an.setAttribute("result",rn),st.appendChild(an),this.feGaussianBlur=an}SVGGaussianBlurEffect.prototype.renderFrame=function(st){if(st||this.filterManager._mdf){var Mt=.3,nn=this.filterManager.effectElements[0].p.v*Mt,rn=this.filterManager.effectElements[1].p.v,an=rn==3?0:nn,sn=rn==2?0:nn;this.feGaussianBlur.setAttribute("stdDeviation",an+" "+sn);var un=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",un)}};function TransformEffect(){}TransformEffect.prototype.init=function(st){this.effectsManager=st,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(st){if(this._opMdf=!1,this._mdf=!1,st||this.effectsManager._mdf){var Mt=this.effectsManager.effectElements,nn=Mt[0].p.v,rn=Mt[1].p.v,an=Mt[2].p.v===1,sn=Mt[3].p.v,un=an?sn:Mt[4].p.v,ln=Mt[5].p.v,cn=Mt[6].p.v,hn=Mt[7].p.v;this.matrix.reset(),this.matrix.translate(-nn[0],-nn[1],nn[2]),this.matrix.scale(un*.01,sn*.01,1),this.matrix.rotate(-hn*degToRads),this.matrix.skewFromAxis(-ln*degToRads,(cn+90)*degToRads),this.matrix.translate(rn[0],rn[1],0),this._mdf=!0,this.opacity!==Mt[8].p.v&&(this.opacity=Mt[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(st,Mt){this.init(Mt)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(st){this.init(st)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _iterableToArrayLimit(st,Mt){var nn=st==null?null:typeof Symbol<"u"&&st[Symbol.iterator]||st["@@iterator"];if(nn!=null){var rn,an,sn,un,ln=[],cn=!0,hn=!1;try{if(sn=(nn=nn.call(st)).next,Mt!==0)for(;!(cn=(rn=sn.call(nn)).done)&&(ln.push(rn.value),ln.length!==Mt);cn=!0);}catch(fn){hn=!0,an=fn}finally{try{if(!cn&&nn.return!=null&&(un=nn.return(),Object(un)!==un))return}finally{if(hn)throw an}}return ln}}function ownKeys(st,Mt){var nn=Object.keys(st);if(Object.getOwnPropertySymbols){var rn=Object.getOwnPropertySymbols(st);Mt&&(rn=rn.filter(function(an){return Object.getOwnPropertyDescriptor(st,an).enumerable})),nn.push.apply(nn,rn)}return nn}function _objectSpread2(st){for(var Mt=1;Mt<arguments.length;Mt++){var nn=arguments[Mt]!=null?arguments[Mt]:{};Mt%2?ownKeys(Object(nn),!0).forEach(function(rn){_defineProperty(st,rn,nn[rn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(st,Object.getOwnPropertyDescriptors(nn)):ownKeys(Object(nn)).forEach(function(rn){Object.defineProperty(st,rn,Object.getOwnPropertyDescriptor(nn,rn))})}return st}function _defineProperty(st,Mt,nn){return Mt=_toPropertyKey(Mt),Mt in st?Object.defineProperty(st,Mt,{value:nn,enumerable:!0,configurable:!0,writable:!0}):st[Mt]=nn,st}function _objectWithoutPropertiesLoose(st,Mt){if(st==null)return{};var nn={},rn=Object.keys(st),an,sn;for(sn=0;sn<rn.length;sn++)an=rn[sn],!(Mt.indexOf(an)>=0)&&(nn[an]=st[an]);return nn}function _objectWithoutProperties(st,Mt){if(st==null)return{};var nn=_objectWithoutPropertiesLoose(st,Mt),rn,an;if(Object.getOwnPropertySymbols){var sn=Object.getOwnPropertySymbols(st);for(an=0;an<sn.length;an++)rn=sn[an],!(Mt.indexOf(rn)>=0)&&Object.prototype.propertyIsEnumerable.call(st,rn)&&(nn[rn]=st[rn])}return nn}function _slicedToArray(st,Mt){return _arrayWithHoles(st)||_iterableToArrayLimit(st,Mt)||_unsupportedIterableToArray(st,Mt)||_nonIterableRest()}function _arrayWithHoles(st){if(Array.isArray(st))return st}function _unsupportedIterableToArray(st,Mt){if(st){if(typeof st=="string")return _arrayLikeToArray(st,Mt);var nn=Object.prototype.toString.call(st).slice(8,-1);if(nn==="Object"&&st.constructor&&(nn=st.constructor.name),nn==="Map"||nn==="Set")return Array.from(st);if(nn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nn))return _arrayLikeToArray(st,Mt)}}function _arrayLikeToArray(st,Mt){(Mt==null||Mt>st.length)&&(Mt=st.length);for(var nn=0,rn=new Array(Mt);nn<Mt;nn++)rn[nn]=st[nn];return rn}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(st,Mt){if(typeof st!="object"||st===null)return st;var nn=st[Symbol.toPrimitive];if(nn!==void 0){var rn=nn.call(st,Mt||"default");if(typeof rn!="object")return rn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Mt==="string"?String:Number)(st)}function _toPropertyKey(st){var Mt=_toPrimitive(st,"string");return typeof Mt=="symbol"?Mt:String(Mt)}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function st(Mt,nn){var rn=Mt.animationData,an=Mt.loop,sn=Mt.autoplay,un=Mt.initialSegment,ln=Mt.onComplete,cn=Mt.onLoopComplete,hn=Mt.onEnterFrame,fn=Mt.onSegmentStart,to=Mt.onConfigReady,Xr=Mt.onDataReady,uo=Mt.onDataFailed,co=Mt.onLoadedImages,ho=Mt.onDOMLoaded,e0=Mt.onDestroy;Mt.lottieRef,Mt.renderer,Mt.name,Mt.assetsPath,Mt.rendererSettings;var lo=_objectWithoutProperties(Mt,_excluded$1),mo=reactExports.useState(!1),fo=_slicedToArray(mo,2),Uo=fo[0],t0=fo[1],n0=reactExports.useRef(),i0=reactExports.useRef(null),a0=function(){var y0;(y0=n0.current)===null||y0===void 0||y0.play()},s0=function(){var y0;(y0=n0.current)===null||y0===void 0||y0.stop()},l0=function(){var y0;(y0=n0.current)===null||y0===void 0||y0.pause()},d0=function(y0){var x0;(x0=n0.current)===null||x0===void 0||x0.setSpeed(y0)},h0=function(y0,x0){var k0;(k0=n0.current)===null||k0===void 0||k0.goToAndPlay(y0,x0)},v0=function(y0,x0){var k0;(k0=n0.current)===null||k0===void 0||k0.goToAndStop(y0,x0)},g0=function(y0){var x0;(x0=n0.current)===null||x0===void 0||x0.setDirection(y0)},m0=function(y0,x0){var k0;(k0=n0.current)===null||k0===void 0||k0.playSegments(y0,x0)},u0=function(y0){var x0;(x0=n0.current)===null||x0===void 0||x0.setSubframe(y0)},c0=function(y0){var x0;return(x0=n0.current)===null||x0===void 0?void 0:x0.getDuration(y0)},r0=function(){var y0;(y0=n0.current)===null||y0===void 0||y0.destroy(),n0.current=void 0},o0=function(){var y0=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x0;if(i0.current){(x0=n0.current)===null||x0===void 0||x0.destroy();var k0=_objectSpread2(_objectSpread2(_objectSpread2({},Mt),y0),{},{container:i0.current});return n0.current=lottie.loadAnimation(k0),t0(!!n0.current),function(){var b0;(b0=n0.current)===null||b0===void 0||b0.destroy(),n0.current=void 0}}};reactExports.useEffect(function(){var p0=o0();return function(){return p0==null?void 0:p0()}},[rn,an]),reactExports.useEffect(function(){n0.current&&(n0.current.autoplay=!!sn)},[sn]),reactExports.useEffect(function(){if(n0.current){if(!un){n0.current.resetSegments(!0);return}!Array.isArray(un)||!un.length||((n0.current.currentRawFrame<un[0]||n0.current.currentRawFrame>un[1])&&(n0.current.currentRawFrame=un[0]),n0.current.setSegment(un[0],un[1]))}},[un]),reactExports.useEffect(function(){var p0=[{name:"complete",handler:ln},{name:"loopComplete",handler:cn},{name:"enterFrame",handler:hn},{name:"segmentStart",handler:fn},{name:"config_ready",handler:to},{name:"data_ready",handler:Xr},{name:"data_failed",handler:uo},{name:"loaded_images",handler:co},{name:"DOMLoaded",handler:ho},{name:"destroy",handler:e0}],y0=p0.filter(function(k0){return k0.handler!=null});if(y0.length){var x0=y0.map(function(k0){var b0;return(b0=n0.current)===null||b0===void 0||b0.addEventListener(k0.name,k0.handler),function(){var E0;(E0=n0.current)===null||E0===void 0||E0.removeEventListener(k0.name,k0.handler)}});return function(){x0.forEach(function(k0){return k0()})}}},[ln,cn,hn,fn,to,Xr,uo,co,ho,e0]);var f0=React.createElement("div",_objectSpread2({style:nn,ref:i0},lo));return{View:f0,play:a0,stop:s0,pause:l0,setSpeed:d0,goToAndStop:v0,goToAndPlay:h0,setDirection:g0,playSegments:m0,setSubframe:u0,getDuration:c0,destroy:r0,animationContainerRef:i0,animationLoaded:Uo,animationItem:n0.current}};function getContainerVisibility(st){var Mt=st.getBoundingClientRect(),nn=Mt.top,rn=Mt.height,an=window.innerHeight-nn,sn=window.innerHeight+rn;return an/sn}function getContainerCursorPosition(st,Mt,nn){var rn=st.getBoundingClientRect(),an=rn.top,sn=rn.left,un=rn.width,ln=rn.height,cn=(Mt-sn)/un,hn=(nn-an)/ln;return{x:cn,y:hn}}var useInitInteractivity=function st(Mt){var nn=Mt.wrapperRef,rn=Mt.animationItem,an=Mt.mode,sn=Mt.actions;reactExports.useEffect(function(){var un=nn.current;if(!(!un||!rn||!sn.length)){rn.stop();var ln=function(){var fn=null,to=function(){var uo=getContainerVisibility(un),co=sn.find(function(e0){var lo=e0.visibility;return lo&&uo>=lo[0]&&uo<=lo[1]});if(co){if(co.type==="seek"&&co.visibility&&co.frames.length===2){var ho=co.frames[0]+Math.ceil((uo-co.visibility[0])/(co.visibility[1]-co.visibility[0])*co.frames[1]);//! goToAndStop must be relative to the start of the current segment
rn.goToAndStop(ho-rn.firstFrame-1,!0)}co.type==="loop"&&(fn===null||fn!==co.frames||rn.isPaused)&&(rn.playSegments(co.frames,!0),fn=co.frames),co.type==="play"&&rn.isPaused&&(rn.resetSegments(!0),rn.play()),co.type==="stop"&&rn.goToAndStop(co.frames[0]-rn.firstFrame-1,!0)}};return document.addEventListener("scroll",to),function(){document.removeEventListener("scroll",to)}},cn=function(){var fn=function(co,ho){var e0=co,lo=ho;if(e0!==-1&&lo!==-1){var mo=getContainerCursorPosition(un,e0,lo);e0=mo.x,lo=mo.y}var fo=sn.find(function(n0){var i0=n0.position;return i0&&Array.isArray(i0.x)&&Array.isArray(i0.y)?e0>=i0.x[0]&&e0<=i0.x[1]&&lo>=i0.y[0]&&lo<=i0.y[1]:i0&&!Number.isNaN(i0.x)&&!Number.isNaN(i0.y)?e0===i0.x&&lo===i0.y:!1});if(fo){if(fo.type==="seek"&&fo.position&&Array.isArray(fo.position.x)&&Array.isArray(fo.position.y)&&fo.frames.length===2){var Uo=(e0-fo.position.x[0])/(fo.position.x[1]-fo.position.x[0]),t0=(lo-fo.position.y[0])/(fo.position.y[1]-fo.position.y[0]);rn.playSegments(fo.frames,!0),rn.goToAndStop(Math.ceil((Uo+t0)/2*(fo.frames[1]-fo.frames[0])),!0)}fo.type==="loop"&&rn.playSegments(fo.frames,!0),fo.type==="play"&&(rn.isPaused&&rn.resetSegments(!1),rn.playSegments(fo.frames)),fo.type==="stop"&&rn.goToAndStop(fo.frames[0],!0)}},to=function(co){fn(co.clientX,co.clientY)},Xr=function(){fn(-1,-1)};return un.addEventListener("mousemove",to),un.addEventListener("mouseout",Xr),function(){un.removeEventListener("mousemove",to),un.removeEventListener("mouseout",Xr)}};switch(an){case"scroll":return ln();case"cursor":return cn()}}},[an,rn])},useLottieInteractivity=function st(Mt){var nn=Mt.actions,rn=Mt.mode,an=Mt.lottieObj,sn=an.animationItem,un=an.View,ln=an.animationContainerRef;return useInitInteractivity({actions:nn,animationItem:sn,mode:rn,wrapperRef:ln}),un},_excluded=["style","interactivity"],Lottie=function st(Mt){var nn,rn,an,sn=Mt.style,un=Mt.interactivity,ln=_objectWithoutProperties(Mt,_excluded),cn=useLottie(ln,sn),hn=cn.View,fn=cn.play,to=cn.stop,Xr=cn.pause,uo=cn.setSpeed,co=cn.goToAndStop,ho=cn.goToAndPlay,e0=cn.setDirection,lo=cn.playSegments,mo=cn.setSubframe,fo=cn.getDuration,Uo=cn.destroy,t0=cn.animationContainerRef,n0=cn.animationLoaded,i0=cn.animationItem;return reactExports.useEffect(function(){Mt.lottieRef&&(Mt.lottieRef.current={play:fn,stop:to,pause:Xr,setSpeed:uo,goToAndPlay:ho,goToAndStop:co,setDirection:e0,playSegments:lo,setSubframe:mo,getDuration:fo,destroy:Uo,animationContainerRef:t0,animationLoaded:n0,animationItem:i0})},[(nn=Mt.lottieRef)===null||nn===void 0?void 0:nn.current]),useLottieInteractivity({lottieObj:{View:hn,play:fn,stop:to,pause:Xr,setSpeed:uo,goToAndStop:co,goToAndPlay:ho,setDirection:e0,playSegments:lo,setSubframe:mo,getDuration:fo,destroy:Uo,animationContainerRef:t0,animationLoaded:n0,animationItem:i0},actions:(rn=un==null?void 0:un.actions)!==null&&rn!==void 0?rn:[],mode:(an=un==null?void 0:un.mode)!==null&&an!==void 0?an:"scroll"})};const v="5.12.1",fr=30,ip=0,op=205,w=1024,h=658,nm="29386799",ddd=0,assets=[{id:"comp_0",nm:"main",fr:30,layers:[{ddd:0,ind:1,ty:4,nm:"Shape Layer 1",parent:3,td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[512,512,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[438,-96],[-88,-212],[-72.497,.843],[-15,14.5],[2,39.5],[132,278]],o:[[-438,96],[88,212],[64.5,-.75],[14.545,-14.06],[29.604,-61.226],[-132,-278]],v:[[50,-486],[-476,-142],[-26.5,265.5],[212.25,112],[321.5,-28.5],[394,-314]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:210,st:0,ct:1,bm:0},{ddd:0,ind:2,ty:0,nm:"man",tt:1,tp:1,refId:"comp_1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[610,314,0],ix:2,l:2},a:{a:0,k:[512,512,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:1024,h:1024,ip:2,op:212,st:2,bm:0},{ddd:0,ind:3,ty:4,nm:"Layer 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[752.452,428.847,0],ix:2,l:2},a:{a:0,k:[654.452,626.847,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.25,.25,.25],y:[1,1,1]},o:{x:[.167,.167,.167],y:[.167,.167,16.667]},t:0,s:[0,0,100]},{i:{x:[.25,.25,.25],y:[1,1,1]},o:{x:[.158,.158,.158],y:[0,0,0]},t:20,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[.833,.833,17.667]},o:{x:[.75,.75,.75],y:[0,0,0]},t:178,s:[100,100,100]},{t:198,s:[0,0,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[5.47,-3.257],[0,0],[-13.22,-2.63],[-.119,-.031],[1.858,.762]],o:[[0,0],[8.703,-5.884],[.124,.025],[-.92,-1.584],[-16.68,-6.842]],v:[[-37.327,4.572],[-34.678,19.038],[36.061,-16.178],[36.425,-16.095],[32.274,-19.596]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.188,.003],[.115,.052],[.042,.316],[0,0],[-.311,.189],[-18.468,-7.575],[-.876,-3.488],[.411,-.179],[.244,.376],[.883,.176],[.473,.008],[.558,-.382]],o:[[-.122,-.002],[-.291,-.13],[0,0],[-.048,-.361],[2.168,-1.318],[3.263,1.338],[.109,.435],[-.413,.179],[-.359,-.551],[-.4,-.08],[-15.493,-.27],[-.16,.11]],v:[[-36.035,22.49],[-36.393,22.41],[-36.929,21.692],[-39.226,4.214],[-38.793,3.31],[32.97,-21.295],[39.206,-14.021],[38.683,-12.956],[37.547,-13.297],[35.701,-14.377],[34.389,-14.509],[-35.5,22.33]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[795.013,497.265],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-6.25,-24.894],[0,0]],o:[[0,0],[-6.989,-10.737],[0,0]],v:[[-38.316,4.098],[38.316,-13.793],[-34.456,19.701]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[795.013,497.261],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[795.013,497.261],ix:2},a:{a:0,k:[795.013,497.261],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[56.323,-56.56],[56.323,-56.56]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.001,0],[-.002,0]],o:[[.001,0],[-.002,0]],v:[[55.907,-56.496],[55.911,-56.496]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[.001,0],[-.001,0]],o:[[.001,0],[-.001,0]],v:[[55.911,-56.496],[55.915,-56.495]],c:!0},ix:2},nm:"Path 3",mn:"ADBE Vector Shape - Group",hd:!1},{ind:3,ty:"sh",ix:4,ks:{a:0,k:{i:[[.047,.004],[-.041,.003]],o:[[.048,.004],[-.044,.002]],v:[[55.915,-56.495],[56.05,-56.494]],c:!0},ix:2},nm:"Path 4",mn:"ADBE Vector Shape - Group",hd:!1},{ind:4,ty:"sh",ix:5,ks:{a:0,k:{i:[[0,0],[23.777,-31.563],[-2.446,-6.748],[-1.233,-.816],[-47.68,52.788],[-6.264,6.281],[-.956,.671],[-2.862,2.314],[-21.467,14.737],[.053,.72],[14.357,-14.375]],o:[[-9.599,9.059],[-22.466,29.821],[.904,2.492],[-.703,-5.967],[25.883,-28.655],[4.278,-4.289],[0,0],[97.591,-78.881],[5.095,-6.638],[-47.211,24.237],[-2.895,2.898]],v:[[44.934,-60.614],[-32.454,18.113],[-54.273,68.985],[-50.648,73.739],[2.842,-2.801],[47.888,-51.239],[54.307,-57.407],[56.232,-57.183],[227.353,-182.988],[224.721,-201.738],[56.346,-77.915]],c:!0},ix:2},nm:"Path 5",mn:"ADBE Vector Shape - Group",hd:!1},{ind:5,ty:"sh",ix:6,ks:{a:0,k:{i:[[.429,.007],[.066,.014],[2.088,5.674],[-23.008,30.542],[-.623,.582],[-.332,-.137],[-.012,-.36],[0,0],[0,0],[.192,-.18],[.121,-.042],[45.34,-50.197],[-.544,-4.333],[-.087,-.078],[.117,-.472]],o:[[-.067,-.001],[-.201,-.045],[-2.638,-7.168],[26.131,-34.687],[.264,-.246],[.333,.139],[0,0],[0,0],[.009,.263],[-.095,.09],[-.654,.375],[-49.493,54.793],[.106,.841],[.457,.144],[-.104,.419]],v:[[-48.755,76.532],[-48.954,76.509],[-55.977,69.672],[-33.921,17.007],[54.785,-76.285],[55.764,-76.462],[56.329,-75.644],[47.557,-67.88],[56.909,-57.44],[56.621,-56.742],[56.292,-56.542],[4.204,-1.57],[-48.822,73.552],[-48.344,74.784],[-47.796,75.857]],c:!0},ix:2},nm:"Path 6",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[532.302,702.001],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:7,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-65.11,72.085],[0,0],[0,0],[26.385,-35.024]],o:[[0,0],[50.082,-55.447],[0,0],[0,0],[-39.673,52.663]],v:[[-48.745,75.613],[3.531,-2.185],[56,-57.409],[55.42,-75.613],[-33.179,17.561]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[532.294,702.001],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[532.294,702.001],ix:2},a:{a:0,k:[532.294,702.001],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[12.742,.221],[2.272,2.747],[-14.654,19.439],[-37.302,33.678],[-.341,-.377],[.377,-.339],[20.105,-26.669],[-6.163,-7.452],[-37.848,20.704],[-47.319,39.14],[-28.112,34.117],[7.139,8.631],[38.418,-21.143],[.245,.445],[-.444,.245],[-7.94,-9.602],[28.459,-34.538],[47.407,-39.213],[38.883,-21.271]],o:[[-5.175,-.09],[-8.663,-10.474],[20.173,-26.759],[.376,-.34],[.34,.377],[-37.217,33.603],[-20.151,26.731],[7.14,8.629],[38.784,-21.217],[47.32,-39.141],[27.434,-33.294],[-7.212,-8.719],[-.444,.245],[-.244,-.444],[39.841,-21.925],[7.867,9.511],[-28.184,34.205],[-47.406,39.213],[-27.923,15.274]],v:[[-166.774,151.497],[-178,147.256],[-156.359,91.973],[-67.232,-1.75],[-65.935,-1.683],[-66.002,-.387],[-154.893,93.078],[-176.585,146.087],[-105.797,127.089],[27.725,33.492],[144.699,-80.111],[176.633,-146.081],[104.836,-126.53],[103.588,-126.891],[103.95,-128.139],[178.048,-147.251],[146.116,-78.944],[28.895,34.907],[-104.915,128.7]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[654.452,627.417],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:1,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1}],ip:0,op:217,st:0,ct:1,bm:0},{ddd:0,ind:4,ty:3,nm:"Null 2",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.346,y:1},o:{x:.124,y:0},t:11,s:[564.892,792.775,0],to:[-40.333,-71.667,0],ti:[40.333,71.667,0]},{i:{x:.358,y:.358},o:{x:.173,y:.173},t:35,s:[322.892,362.775,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.657,y:1},o:{x:.324,y:0},t:161,s:[322.892,362.775,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.645,y:1},o:{x:.392,y:0},t:171,s:[350.392,411.275,0],to:[0,0,0],ti:[0,0,0]},{t:180,s:[55.892,-84.225,0]}],ix:2,l:2},a:{a:0,k:[50,50,0],ix:1,l:2},s:{a:0,k:[138,138,100],ix:6,l:2}},ao:0,ip:11,op:221,st:11,bm:0},{ddd:0,ind:5,ty:4,nm:"Shape Layer 7",td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[294.17,322.335,0],ix:2,l:2},a:{a:0,k:[-353,-69,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.19,.19,.19],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:11,s:[0,0,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.158,.158,.158],y:[0,0,0]},t:31,s:[78.66,78.66,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:171,s:[78.66,78.66,100]},{t:184,s:[0,0,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[562,562],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-353,-69],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:171,op:221,st:11,ct:1,bm:0},{ddd:0,ind:6,ty:4,nm:"rocket 3",parent:4,tt:1,tp:5,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:11,s:[11.473,-40.016,0],to:[-.833,-1.583,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:21,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:31,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:41,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.324,y:0},t:51,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:61,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:71,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:81,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.312,y:0},t:91,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:101,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:111,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:121,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.324,y:0},t:131,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:141,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:151,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:161,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:171,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:181,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{t:191,s:[11.473,-40.016,0]}],ix:2,l:2},a:{a:0,k:[264.946,375.467,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.052,.001],[.055,.099],[-.148,.082],[0,0],[-.083,-.148],[.148,-.082],[0,0]],o:[[-.106,-.002],[-.082,-.148],[0,0],[.147,-.082],[.082,.148],[0,0],[-.049,.027]],v:[[-23.682,13.431],[-23.945,13.273],[-23.825,12.857],[23.528,-13.392],[23.945,-13.273],[23.825,-12.857],[-23.528,13.392]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[215.932,312.435],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:1,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-19.48,4],[-13.715,14.401],[19.48,-4],[13.715,-14.401]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.16,.003],[.078,.022],[.118,.213],[0,0],[-.443,.246],[0,0],[-.245,-.443],[0,0],[.443,-.246],[0,0]],o:[[-.08,-.001],[-.234,-.068],[0,0],[-.246,-.444],[0,0],[.444,-.246],[0,0],[.246,.443],[0,0],[-.142,.079]],v:[[-14.089,16.567],[-14.326,16.532],[-14.876,16.094],[-21.531,4.087],[-21.173,2.839],[13.628,-16.451],[14.876,-16.094],[21.531,-4.087],[21.173,-2.839],[-13.628,16.452]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[285.649,439.147],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-14.073,15.649],[-20.728,3.642],[14.073,-15.649],[20.728,-3.642]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[285.649,439.147],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[285.649,439.147],ix:2},a:{a:0,k:[285.649,439.147],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[4.137,.072],[1.898,-1.052],[-3.198,-5.77],[-5.771,3.198],[3.199,5.77]],o:[[-2.029,-.035],[-5.77,3.199],[3.198,5.77],[5.77,-3.199],[-2.146,-3.872]],v:[[.189,-11.96],[-5.8,-10.464],[-10.464,5.8],[5.8,10.464],[10.464,-5.8]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[2.339,.041],[2.476,4.466],[-6.655,3.689],[-3.689,-6.656],[6.655,-3.689]],o:[[-4.772,-.083],[-3.689,-6.655],[6.655,-3.689],[3.689,6.655],[-2.189,1.213]],v:[[-.217,13.796],[-12.07,6.69],[-6.691,-12.07],[12.07,-6.69],[6.691,12.07]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[232.533,342.625],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[3.449,6.223],[-6.222,3.449],[-3.449,-6.223],[6.223,-3.449]],o:[[-3.449,-6.222],[6.223,-3.449],[3.449,6.223],[-6.223,3.449]],v:[[-11.267,6.245],[-6.245,-11.267],[11.267,-6.245],[6.245,11.267]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[232.533,342.625],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[232.533,342.625],ix:2},a:{a:0,k:[232.533,342.625],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[31.67,10.115],[-20.188,-29.726],[0,0],[0,0],[0,0]],o:[[-8.901,31.365],[0,0],[0,0],[0,0],[-13.536,-30.665]],v:[[-51.899,-84.438],[-34.175,11.6],[15.257,84.386],[55.553,62.05],[19.189,-20.328]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.156,.003],[.173,.255],[0,0],[-9.438,32.123],[-.217,.116],[-.234,-.073],[0,0],[-13.854,-31.386],[0,0],[.415,-.23],[0,0]],o:[[-.29,-.005],[0,0],[-20.691,-30.466],[.069,-.236],[.217,-.116],[0,0],[32.509,10.146],[0,0],[.192,.434],[0,0],[-.146,.081]],v:[[14.953,86.513],[14.209,86.111],[-35.694,12.631],[-53.401,-85.854],[-52.954,-86.405],[-52.248,-86.472],[-52.085,-86.422],[20.869,-21.069],[57.571,62.076],[57.176,63.249],[15.414,86.398]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[246.714,358.988],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[-9.482,32.274],[0,0],[-14.104,-31.95],[0,0]],o:[[0,0],[-20.269,-29.845],[0,0],[31.207,9.74],[0,0],[0,0]],v:[[14.97,85.596],[-34.933,12.116],[-52.519,-85.596],[-52.356,-85.545],[20.031,-20.699],[56.733,62.446]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.831372559071,.180392161012,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[246.713,358.988],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[246.713,358.988],ix:2},a:{a:0,k:[246.713,358.988],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-9.07,19.844],[34.951,25.97],[31.4,9.168],[-33.836,-24.835]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.259,.005],[.037,.005],[0,0],[.14,.253],[0,0],[-.283,.29],[-.359,-.186],[0,0],[-.057,-.268],[0,0],[.204,-.218]],o:[[-.037,-.001],[0,0],[-.286,-.04],[0,0],[-.196,-.354],[.283,-.29],[0,0],[.243,.127],[0,0],[.062,.292],[-.178,.192]],v:[[36.103,27.978],[35.993,27.969],[-9.777,21.6],[-10.453,21.135],[-36.922,-26.615],[-36.776,-27.701],[-35.695,-27.875],[32.633,7.74],[33.107,8.364],[37.017,26.87],[36.79,27.686]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[303.79,398.329],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[36.119,27.06],[32.209,8.554],[-36.119,-27.06],[-9.65,20.69]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[303.79,398.329],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[303.79,398.329],ix:2},a:{a:0,k:[303.79,398.329],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-15.288,31.487],[-2.92,43.402],[15.212,2.824],[-9.554,-41.855]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.064,.001],[.169,.162],[0,0],[-.022,.273],[0,0],[-.396,.086],[-.196,-.354],[0,0],[.118,-.264],[0,0],[.294,-.057]],o:[[-.23,-.004],[0,0],[-.198,-.191],[0,0],[.032,-.404],[.397,-.086],[0,0],[.14,.253],[0,0],[-.122,.273],[-.064,.013]],v:[[-2.631,45.888],[-3.252,45.632],[-16.874,32.509],[-17.152,31.776],[-11.147,-45.042],[-10.426,-45.867],[-9.429,-45.415],[17.04,2.335],[17.075,3.155],[-1.777,45.345],[-2.44,45.871]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[248.435,432.572],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-2.615,44.97],[-16.237,31.848],[-10.231,-44.97],[16.237,2.78]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[248.435,432.573],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[248.435,432.573],ix:2},a:{a:0,k:[248.435,432.573],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[248.435,432.573],ix:2},a:{a:0,k:[248.435,432.573],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:2,cix:2,bm:0,ix:5,mn:"ADBE Vector Group",hd:!1}],ip:171,op:221,st:11,ct:1,bm:0},{ddd:0,ind:7,ty:4,nm:"rocket 2",parent:4,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:11,s:[11.473,-40.016,0],to:[-.833,-1.583,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:21,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:31,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:41,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.324,y:0},t:51,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:61,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:71,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:81,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.312,y:0},t:91,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:101,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:111,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:121,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.324,y:0},t:131,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:141,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:151,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:161,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:171,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:181,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{t:191,s:[11.473,-40.016,0]}],ix:2,l:2},a:{a:0,k:[264.946,375.467,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.052,.001],[.055,.099],[-.148,.082],[0,0],[-.083,-.148],[.148,-.082],[0,0]],o:[[-.106,-.002],[-.082,-.148],[0,0],[.147,-.082],[.082,.148],[0,0],[-.049,.027]],v:[[-23.682,13.431],[-23.945,13.273],[-23.825,12.857],[23.528,-13.392],[23.945,-13.273],[23.825,-12.857],[-23.528,13.392]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[215.932,312.435],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:1,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-19.48,4],[-13.715,14.401],[19.48,-4],[13.715,-14.401]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.16,.003],[.078,.022],[.118,.213],[0,0],[-.443,.246],[0,0],[-.245,-.443],[0,0],[.443,-.246],[0,0]],o:[[-.08,-.001],[-.234,-.068],[0,0],[-.246,-.444],[0,0],[.444,-.246],[0,0],[.246,.443],[0,0],[-.142,.079]],v:[[-14.089,16.567],[-14.326,16.532],[-14.876,16.094],[-21.531,4.087],[-21.173,2.839],[13.628,-16.451],[14.876,-16.094],[21.531,-4.087],[21.173,-2.839],[-13.628,16.452]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[285.649,439.147],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-14.073,15.649],[-20.728,3.642],[14.073,-15.649],[20.728,-3.642]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[285.649,439.147],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[285.649,439.147],ix:2},a:{a:0,k:[285.649,439.147],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[4.137,.072],[1.898,-1.052],[-3.198,-5.77],[-5.771,3.198],[3.199,5.77]],o:[[-2.029,-.035],[-5.77,3.199],[3.198,5.77],[5.77,-3.199],[-2.146,-3.872]],v:[[.189,-11.96],[-5.8,-10.464],[-10.464,5.8],[5.8,10.464],[10.464,-5.8]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[2.339,.041],[2.476,4.466],[-6.655,3.689],[-3.689,-6.656],[6.655,-3.689]],o:[[-4.772,-.083],[-3.689,-6.655],[6.655,-3.689],[3.689,6.655],[-2.189,1.213]],v:[[-.217,13.796],[-12.07,6.69],[-6.691,-12.07],[12.07,-6.69],[6.691,12.07]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[232.533,342.625],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[3.449,6.223],[-6.222,3.449],[-3.449,-6.223],[6.223,-3.449]],o:[[-3.449,-6.222],[6.223,-3.449],[3.449,6.223],[-6.223,3.449]],v:[[-11.267,6.245],[-6.245,-11.267],[11.267,-6.245],[6.245,11.267]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[232.533,342.625],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[232.533,342.625],ix:2},a:{a:0,k:[232.533,342.625],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[31.67,10.115],[-20.188,-29.726],[0,0],[0,0],[0,0]],o:[[-8.901,31.365],[0,0],[0,0],[0,0],[-13.536,-30.665]],v:[[-51.899,-84.438],[-34.175,11.6],[15.257,84.386],[55.553,62.05],[19.189,-20.328]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.156,.003],[.173,.255],[0,0],[-9.438,32.123],[-.217,.116],[-.234,-.073],[0,0],[-13.854,-31.386],[0,0],[.415,-.23],[0,0]],o:[[-.29,-.005],[0,0],[-20.691,-30.466],[.069,-.236],[.217,-.116],[0,0],[32.509,10.146],[0,0],[.192,.434],[0,0],[-.146,.081]],v:[[14.953,86.513],[14.209,86.111],[-35.694,12.631],[-53.401,-85.854],[-52.954,-86.405],[-52.248,-86.472],[-52.085,-86.422],[20.869,-21.069],[57.571,62.076],[57.176,63.249],[15.414,86.398]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[246.714,358.988],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[-9.482,32.274],[0,0],[-14.104,-31.95],[0,0]],o:[[0,0],[-20.269,-29.845],[0,0],[31.207,9.74],[0,0],[0,0]],v:[[14.97,85.596],[-34.933,12.116],[-52.519,-85.596],[-52.356,-85.545],[20.031,-20.699],[56.733,62.446]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.831372559071,.180392161012,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[246.713,358.988],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[246.713,358.988],ix:2},a:{a:0,k:[246.713,358.988],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-9.07,19.844],[34.951,25.97],[31.4,9.168],[-33.836,-24.835]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.259,.005],[.037,.005],[0,0],[.14,.253],[0,0],[-.283,.29],[-.359,-.186],[0,0],[-.057,-.268],[0,0],[.204,-.218]],o:[[-.037,-.001],[0,0],[-.286,-.04],[0,0],[-.196,-.354],[.283,-.29],[0,0],[.243,.127],[0,0],[.062,.292],[-.178,.192]],v:[[36.103,27.978],[35.993,27.969],[-9.777,21.6],[-10.453,21.135],[-36.922,-26.615],[-36.776,-27.701],[-35.695,-27.875],[32.633,7.74],[33.107,8.364],[37.017,26.87],[36.79,27.686]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[303.79,398.329],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[36.119,27.06],[32.209,8.554],[-36.119,-27.06],[-9.65,20.69]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[303.79,398.329],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[303.79,398.329],ix:2},a:{a:0,k:[303.79,398.329],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-15.288,31.487],[-2.92,43.402],[15.212,2.824],[-9.554,-41.855]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.064,.001],[.169,.162],[0,0],[-.022,.273],[0,0],[-.396,.086],[-.196,-.354],[0,0],[.118,-.264],[0,0],[.294,-.057]],o:[[-.23,-.004],[0,0],[-.198,-.191],[0,0],[.032,-.404],[.397,-.086],[0,0],[.14,.253],[0,0],[-.122,.273],[-.064,.013]],v:[[-2.631,45.888],[-3.252,45.632],[-16.874,32.509],[-17.152,31.776],[-11.147,-45.042],[-10.426,-45.867],[-9.429,-45.415],[17.04,2.335],[17.075,3.155],[-1.777,45.345],[-2.44,45.871]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[248.435,432.572],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-2.615,44.97],[-16.237,31.848],[-10.231,-44.97],[16.237,2.78]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[248.435,432.573],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[248.435,432.573],ix:2},a:{a:0,k:[248.435,432.573],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[248.435,432.573],ix:2},a:{a:0,k:[248.435,432.573],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:2,cix:2,bm:0,ix:5,mn:"ADBE Vector Group",hd:!1}],ip:23,op:171,st:11,ct:1,bm:0},{ddd:0,ind:8,ty:4,nm:"Shape Layer 5",td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[294.17,322.335,0],ix:2,l:2},a:{a:0,k:[-353,-69,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.19,.19,.19],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:11,s:[0,0,100]},{t:31,s:[78.66,78.66,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[562,562],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-353,-69],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:11,op:23,st:11,ct:1,bm:0},{ddd:0,ind:9,ty:4,nm:"rocket",parent:4,tt:1,tp:8,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:11,s:[11.473,-40.016,0],to:[-.833,-1.583,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:21,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:31,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:41,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.324,y:0},t:51,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:61,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:71,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:81,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.312,y:0},t:91,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:101,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:111,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:121,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.324,y:0},t:131,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:141,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:151,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:161,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:171,s:[11.473,-40.016,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:181,s:[6.473,-49.516,0],to:[0,0,0],ti:[-.833,-1.583,0]},{t:191,s:[11.473,-40.016,0]}],ix:2,l:2},a:{a:0,k:[264.946,375.467,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.052,.001],[.055,.099],[-.148,.082],[0,0],[-.083,-.148],[.148,-.082],[0,0]],o:[[-.106,-.002],[-.082,-.148],[0,0],[.147,-.082],[.082,.148],[0,0],[-.049,.027]],v:[[-23.682,13.431],[-23.945,13.273],[-23.825,12.857],[23.528,-13.392],[23.945,-13.273],[23.825,-12.857],[-23.528,13.392]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[215.932,312.435],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:1,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-19.48,4],[-13.715,14.401],[19.48,-4],[13.715,-14.401]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.16,.003],[.078,.022],[.118,.213],[0,0],[-.443,.246],[0,0],[-.245,-.443],[0,0],[.443,-.246],[0,0]],o:[[-.08,-.001],[-.234,-.068],[0,0],[-.246,-.444],[0,0],[.444,-.246],[0,0],[.246,.443],[0,0],[-.142,.079]],v:[[-14.089,16.567],[-14.326,16.532],[-14.876,16.094],[-21.531,4.087],[-21.173,2.839],[13.628,-16.451],[14.876,-16.094],[21.531,-4.087],[21.173,-2.839],[-13.628,16.452]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[285.649,439.147],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-14.073,15.649],[-20.728,3.642],[14.073,-15.649],[20.728,-3.642]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[285.649,439.147],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[285.649,439.147],ix:2},a:{a:0,k:[285.649,439.147],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[4.137,.072],[1.898,-1.052],[-3.198,-5.77],[-5.771,3.198],[3.199,5.77]],o:[[-2.029,-.035],[-5.77,3.199],[3.198,5.77],[5.77,-3.199],[-2.146,-3.872]],v:[[.189,-11.96],[-5.8,-10.464],[-10.464,5.8],[5.8,10.464],[10.464,-5.8]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[2.339,.041],[2.476,4.466],[-6.655,3.689],[-3.689,-6.656],[6.655,-3.689]],o:[[-4.772,-.083],[-3.689,-6.655],[6.655,-3.689],[3.689,6.655],[-2.189,1.213]],v:[[-.217,13.796],[-12.07,6.69],[-6.691,-12.07],[12.07,-6.69],[6.691,12.07]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[232.533,342.625],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[3.449,6.223],[-6.222,3.449],[-3.449,-6.223],[6.223,-3.449]],o:[[-3.449,-6.222],[6.223,-3.449],[3.449,6.223],[-6.223,3.449]],v:[[-11.267,6.245],[-6.245,-11.267],[11.267,-6.245],[6.245,11.267]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[232.533,342.625],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[232.533,342.625],ix:2},a:{a:0,k:[232.533,342.625],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[31.67,10.115],[-20.188,-29.726],[0,0],[0,0],[0,0]],o:[[-8.901,31.365],[0,0],[0,0],[0,0],[-13.536,-30.665]],v:[[-51.899,-84.438],[-34.175,11.6],[15.257,84.386],[55.553,62.05],[19.189,-20.328]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.156,.003],[.173,.255],[0,0],[-9.438,32.123],[-.217,.116],[-.234,-.073],[0,0],[-13.854,-31.386],[0,0],[.415,-.23],[0,0]],o:[[-.29,-.005],[0,0],[-20.691,-30.466],[.069,-.236],[.217,-.116],[0,0],[32.509,10.146],[0,0],[.192,.434],[0,0],[-.146,.081]],v:[[14.953,86.513],[14.209,86.111],[-35.694,12.631],[-53.401,-85.854],[-52.954,-86.405],[-52.248,-86.472],[-52.085,-86.422],[20.869,-21.069],[57.571,62.076],[57.176,63.249],[15.414,86.398]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[246.714,358.988],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[-9.482,32.274],[0,0],[-14.104,-31.95],[0,0]],o:[[0,0],[-20.269,-29.845],[0,0],[31.207,9.74],[0,0],[0,0]],v:[[14.97,85.596],[-34.933,12.116],[-52.519,-85.596],[-52.356,-85.545],[20.031,-20.699],[56.733,62.446]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.831372559071,.180392161012,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[246.713,358.988],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[246.713,358.988],ix:2},a:{a:0,k:[246.713,358.988],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-9.07,19.844],[34.951,25.97],[31.4,9.168],[-33.836,-24.835]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.259,.005],[.037,.005],[0,0],[.14,.253],[0,0],[-.283,.29],[-.359,-.186],[0,0],[-.057,-.268],[0,0],[.204,-.218]],o:[[-.037,-.001],[0,0],[-.286,-.04],[0,0],[-.196,-.354],[.283,-.29],[0,0],[.243,.127],[0,0],[.062,.292],[-.178,.192]],v:[[36.103,27.978],[35.993,27.969],[-9.777,21.6],[-10.453,21.135],[-36.922,-26.615],[-36.776,-27.701],[-35.695,-27.875],[32.633,7.74],[33.107,8.364],[37.017,26.87],[36.79,27.686]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[303.79,398.329],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[36.119,27.06],[32.209,8.554],[-36.119,-27.06],[-9.65,20.69]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[303.79,398.329],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[303.79,398.329],ix:2},a:{a:0,k:[303.79,398.329],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-15.288,31.487],[-2.92,43.402],[15.212,2.824],[-9.554,-41.855]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.064,.001],[.169,.162],[0,0],[-.022,.273],[0,0],[-.396,.086],[-.196,-.354],[0,0],[.118,-.264],[0,0],[.294,-.057]],o:[[-.23,-.004],[0,0],[-.198,-.191],[0,0],[.032,-.404],[.397,-.086],[0,0],[.14,.253],[0,0],[-.122,.273],[-.064,.013]],v:[[-2.631,45.888],[-3.252,45.632],[-16.874,32.509],[-17.152,31.776],[-11.147,-45.042],[-10.426,-45.867],[-9.429,-45.415],[17.04,2.335],[17.075,3.155],[-1.777,45.345],[-2.44,45.871]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[248.435,432.572],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-2.615,44.97],[-16.237,31.848],[-10.231,-44.97],[16.237,2.78]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[248.435,432.573],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[248.435,432.573],ix:2},a:{a:0,k:[248.435,432.573],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[248.435,432.573],ix:2},a:{a:0,k:[248.435,432.573],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:2,cix:2,bm:0,ix:5,mn:"ADBE Vector Group",hd:!1}],ip:11,op:23,st:11,ct:1,bm:0},{ddd:0,ind:10,ty:3,nm:"NULL Shape Layer 4",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[294.17,322.335,0],ix:2,l:2},a:{a:0,k:[50,50,0],ix:1,l:2},s:{a:0,k:[98.7,98.7,100],ix:6,l:2}},ao:0,ip:11,op:221,st:11,bm:0},{ddd:0,ind:11,ty:4,nm:"Shape Layer 4",parent:10,td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[50,50,0],ix:2,l:2},a:{a:0,k:[-353,-69,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.19,.19,.19],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:11,s:[0,0,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.158,.158,.158],y:[0,0,0]},t:31,s:[78.66,78.66,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:171,s:[78.66,78.66,100]},{t:184,s:[0,0,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[562,562],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-353,-69],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:11,op:221,st:11,ct:1,bm:0},{ddd:0,ind:12,ty:0,nm:"amoke",parent:9,tt:1,tp:11,refId:"comp_2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:16,ix:10},p:{a:0,k:[330,531.5,0],ix:2,l:2},a:{a:0,k:[512,512,0],ix:1,l:2},s:{a:0,k:[-37,37,100],ix:6,l:2}},ao:0,w:1024,h:1024,ip:11,op:191,st:11,bm:0},{ddd:0,ind:13,ty:4,nm:"Shape Layer 3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[294.17,322.335,0],ix:2,l:2},a:{a:0,k:[-353,-69,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.19,.19,.19],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:11,s:[0,0,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.158,.158,.158],y:[0,0,0]},t:31,s:[78.66,78.66,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:171,s:[78.66,78.66,100]},{t:184,s:[0,0,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[562,562],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 2",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:7,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,.831372608858,.180392156863,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-353,-69],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:11,op:221,st:11,ct:1,bm:0}]},{id:"comp_1",nm:"man",fr:30,layers:[{ddd:0,ind:1,ty:4,nm:"face",parent:2,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[622.104,344.574,0],ix:2,l:2},a:{a:0,k:[622.104,344.574,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.602,.011],[1.829,.692],[.789,.941],[-.426,1.86],[-.582,1.125],[0,0],[-.084,6.8],[-.507,-.006],[-.001,0],[.006,-.505],[3.216,-6.31],[0,0],[.247,-1.078],[-.629,-.751],[-.749,-.283],[-1.845,.249],[-1.045,1.498],[-.414,-.289],[.29,-.416],[2.63,-.356]],o:[[-1.655,-.029],[-.972,-.367],[-1.012,-1.207],[.3,-1.305],[0,0],[3.089,-6.06],[.006,-.507],[.002,0],[.505,.009],[-.088,7.081],[0,0],[-.554,1.071],[-.292,1.276],[.518,.617],[2.206,.834],[2.092,-.284],[.29,-.417],[.416,.29],[-1.353,1.941],[-.575,.078]],v:[[.501,16.193],[-4.737,15.11],[-7.597,13.3],[-8.519,8.474],[-7.036,4.88],[-6.774,4.37],[-1.923,-15.288],[-.994,-16.195],[-.989,-16.195],[-.087,-15.266],[-5.138,5.204],[-5.405,5.724],[-6.729,8.884],[-6.191,12.12],[-4.088,13.393],[2.02,14.273],[7.029,11.427],[8.306,11.199],[8.535,12.477],[2.267,16.092]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[619.747,338.059],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:1,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[3.767,.066],[1.046,.296],[-.138,.488],[-.488,-.137],[-2.778,3.133],[-.381,-.337],[.337,-.379]],o:[[-1.078,-.019],[-.488,-.138],[.138,-.488],[4.034,1.143],[.336,-.379],[.379,.336],[-2.516,2.838]],v:[[-3.215,2.935],[-6.414,2.468],[-7.047,1.334],[-5.913,.701],[5.477,-2.628],[6.773,-2.706],[6.851,-1.41]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[629.14,364.45],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:1,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.124,1.296],[-1.368,.13],[-.124,-1.296],[1.368,-.13]],o:[[-.125,-1.296],[1.368,-.13],[.124,1.296],[-1.368,.13]],v:[[-2.478,.236],[-.225,-2.346],[2.478,-.236],[.225,2.346]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[639.426,326.594],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:1,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.124,1.296],[-1.368,.13],[-.124,-1.296],[1.368,-.13]],o:[[-.124,-1.296],[1.368,-.13],[.124,1.296],[-1.368,.13]],v:[[-2.478,.236],[-.225,-2.346],[2.478,-.236],[.225,2.346]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[604.782,324.118],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:1,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:210,st:0,ct:1,bm:0},{ddd:0,ind:2,ty:4,nm:"head",parent:7,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.65],y:[0]},t:3,s:[-19]},{i:{x:[.667],y:[1]},o:{x:[.65],y:[0]},t:33,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:40,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.302],y:[0]},t:60,s:[-7]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:70,s:[-7]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:90,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:110,s:[-5]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:140,s:[-5]},{i:{x:[.667],y:[1]},o:{x:[.308],y:[0]},t:160,s:[0]},{i:{x:[.35],y:[1]},o:{x:[.333],y:[0]},t:169,s:[0]},{t:199,s:[-19]}],ix:10},p:{a:0,k:[638.576,367.433,0],ix:2,l:2},a:{a:0,k:[638.576,367.433,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.072,.001],[.059,.069],[-.129,.11],[1.65,5.008],[-.16,.053],[-.053,-.161],[4.196,-3.578]],o:[[-.085,-.001],[-.11,-.129],[4.012,-3.42],[-.053,-.161],[.161,-.052],[1.726,5.238],[-.059,.05]],v:[[-2.381,7.628],[-2.609,7.521],[-2.574,7.089],[1.437,-7.226],[1.632,-7.613],[2.018,-7.418],[-2.177,7.555]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[678.228,292.563],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:1,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.077,.001],[.059,.062],[-1.131,3.183],[-.159,-.056],[.057,-.159],[-2.164,-2.299],[.123,-.116]],o:[[-.08,-.001],[-2.316,-2.462],[.056,-.159],[.159,.057],[-1.055,2.972],[.116,.123],[-.06,.057]],v:[[1.199,4.868],[.981,4.772],[-1.002,-4.665],[-.611,-4.851],[-.426,-4.46],[1.427,4.353],[1.414,4.785]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[582.839,296.965],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:1,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-40.99,-27.281],[-40.984,-27.281]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.082,-.027],[0,-.015],[0,0],[.957,-5.8],[.356,-4.527],[-6.237,-7.179],[-10.759,-.001],[-5.989,7.364],[-1.363,8.274],[-.144,.837],[-.21,.14],[-.248,-.056],[-2.865,2.814],[2.726,2.858],[4.348,-3.483],[.325,.181],[-.046,.371],[.3,3.104],[0,0],[.052,.748],[1.617,1.2],[1.287,3.644],[6.185,-1.909],[2.388,3.588],[4.332,-.363],[1.74,3.902],[.624,-.572],[3.286,-1.182]],o:[[0,.015],[0,0],[-.123,6],[-.732,4.436],[-.982,12.481],[6.421,7.391],[10.756,.01],[5.03,-6.184],[.163,-.991],[.043,-.248],[.209,-.14],[4.711,1.083],[2.937,-2.886],[-3.205,-3.361],[-.292,.234],[-.326,-.182],[.797,-6.461],[0,0],[-.058,-.596],[-1.997,-.659],[-4.68,-3.472],[-2.254,3.575],[-4.848,1.496],[-2.38,4.629],[-4.614,.389],[-.661,.586],[-2.801,2.566],[-.082,.029]],v:[[-40.072,-27.307],[-40.072,-27.263],[-40.072,-27.263],[-42.141,-9.466],[-43.986,4.084],[-36.065,33.712],[-8.197,45.709],[18.952,33.787],[27.627,5.481],[28.087,2.73],[28.483,2.122],[29.197,1.991],[41.863,-.905],[42.238,-11.148],[30.855,-10.964],[29.834,-10.879],[29.37,-11.793],[29.241,-27.815],[29.222,-28.021],[29.06,-30.007],[23.618,-32.806],[15.374,-44.451],[4.538,-36.116],[-7.745,-39.874],[-20.77,-29.788],[-29.169,-35.309],[-31.094,-33.564],[-39.825,-27.392]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[.218,.004],[6.629,7.629],[-1.022,12.989],[-.738,4.474],[-.12,5.868],[-.008,.247],[-.391,.105],[-.251,.091],[-2.777,2.544],[-1.03,.881],[-.286,-.071],[-.109,-.275],[-4.017,.334],[-1.023,4.266],[-.409,.018],[-.129,-.389],[-4.137,1.276],[-2.543,4.201],[-.356,-.042],[-.104,-.348],[-5.104,-3.787],[-2.03,-.602],[-.025,-.384],[-.071,-.737],[0,0],[.486,-5.936],[-3.433,-3.6],[3.661,-3.596],[5.024,.857],[.104,-.632],[5.338,-6.562],[11.296,.01]],o:[[-11.061,-.193],[-6.572,-7.564],[.362,-4.606],[.946,-5.736],[.005,-.237],[.013,-.404],[.255,-.069],[2.939,-1.057],[.93,-.853],[.225,-.192],[.287,.071],[1.675,4.194],[4.215,-.353],[.096,-.399],[.397,-.016],[1.439,4.315],[6.471,-1.997],[.188,-.311],[.36,.046],[1.074,3.6],[1.608,1.193],[.369,.109],[.065,1.008],[0,0],[.276,2.844],[4.465,-2.804],[3.426,3.592],[-3.097,3.043],[-.095,.572],[-1.483,9.001],[-6.329,7.783],[-.218,0]],v:[[-8.855,47.539],[-37.452,34.916],[-45.816,3.941],[-43.953,-9.765],[-41.908,-27.3],[-41.888,-28.028],[-41.208,-28.885],[-40.447,-29.119],[-32.334,-34.918],[-29.411,-37.533],[-28.595,-37.726],[-27.963,-37.175],[-20.923,-31.618],[-8.738,-42.364],[-7.884,-43.067],[-6.974,-42.44],[3.996,-37.87],[14.848,-47.104],[15.75,-47.539],[16.513,-46.891],[24.712,-34.281],[30.195,-31.576],[30.85,-30.754],[31.049,-28.197],[31.069,-27.992],[31.401,-13.607],[43.567,-12.415],[43.149,.404],[29.738,3.971],[29.439,5.779],[20.376,34.945],[-8.199,47.545]],c:!0},ix:2},nm:"Path 3",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[633.805,336.239],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.216,10.515],[-.008,.243],[-.275,.099],[-4.095,3.5],[-4.549,.381],[-1.111,4.63],[-4.858,1.499],[-2.72,4.492],[-4.9,-3.635],[-2.015,-.597],[-.08,-.827],[.828,-6.708],[-3.142,-3.294],[3.186,-3.131],[4.812,1.105],[5.778,-7.104],[10.999,.01],[6.574,7.566],[-.824,10.481]],o:[[.005,-.234],[.28,-.075],[4.142,-1.49],[1.752,4.39],[4.549,-.381],[1.545,4.634],[6.656,-2.054],[1.365,4.57],[1.794,1.331],[.057,.892],[.296,3.062],[5.226,-4.186],[3.142,3.294],[-3.186,3.13],[-1.398,8.114],[-6.144,7.554],[-10.999,-.01],[-7.467,-8.594],[.824,-10.481]],v:[[-40.981,-27.281],[-40.962,-27.998],[-40.127,-28.255],[-28.806,-36.834],[-20.837,-30.703],[-7.836,-42.149],[4.276,-36.992],[15.642,-46.628],[24.173,-33.543],[29.943,-30.695],[30.144,-28.109],[30.29,-11.68],[42.912,-11.781],[42.515,-.25],[29,2.886],[19.673,34.366],[-8.189,46.628],[-36.749,34.314],[-44.892,4.013]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[633.796,336.239],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[633.796,336.239],ix:2},a:{a:0,k:[633.796,336.239],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[633.796,336.239],ix:2},a:{a:0,k:[633.796,336.239],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:1,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.324,-.006],[-.033,-.004],[-.104,-.348],[-.676,-1.412],[.309,-.271],[.999,-1.873],[-1.242,-7.084],[-4.33,-6.607],[.417,-2.26],[-.204,-1.412],[-.827,-1.106],[-.369,-1.297],[-1.546,2.555],[-2.059,7.366],[-1.655,8.265],[-.241,.13],[-.561,.609],[1.487,4.83],[2.611,1.154],[2.226,-1.047],[.275,.266],[-.151,.35],[1.827,3.008],[3.246,.232],[3.485,-4.129],[.354,.115],[.027,.372],[5.813,1.5],[4.284,-5.211],[.368,.144],[-.022,.396],[2.241,1.915],[3.303,.464],[3.162,-2.353],[-1.373,-3.855],[.146,-.237],[.276,-.035],[.834,-.091],[3.116,-1.519],[-.006,-4.507],[-1.803,-1.446],[-1.502,.331],[-.123,-.478],[.473,-.141],[-1.816,-6.152],[-2.989,-1.515],[-2.705,.973],[-2.777,2.544],[-1.03,.881],[-.286,-.071],[-.109,-.275],[-4.017,.334],[-1.023,4.266],[-.409,.018],[-.13,-.388],[-4.137,1.277],[-2.543,4.201]],o:[[.033,.001],[.36,.046],[.518,1.735],[.178,.371],[-1.719,1.507],[-2.505,4.695],[1.29,7.365],[1.583,2.415],[-.25,1.359],[.188,1.3],[.762,1.019],[2.826,-1.427],[3.938,-6.509],[2.612,-9.346],[.054,-.269],[1.039,-.557],[3.542,-3.843],[-.904,-2.933],[-2.415,-1.067],[-.343,.163],[-.274,-.266],[2.417,-5.594],[-1.28,-2.107],[-3.631,-.264],[-.241,.285],[-.355,-.116],[-.33,-4.559],[-5.232,-1.35],[-.252,.307],[-.37,-.144],[.158,-2.874],[-1.907,-1.629],[-4.922,-.69],[-3.684,2.741],[.093,.262],[-.146,.237],[-.832,.105],[-3.669,.398],[-3.378,1.647],[.002,2.227],[1.397,1.121],[.485,-.105],[.124,.479],[-5.932,1.762],[.89,3.012],[2.831,1.435],[2.939,-1.057],[.93,-.853],[.225,-.192],[.287,.071],[1.675,4.194],[4.215,-.353],[.096,-.399],[.402,-.021],[1.439,4.315],[6.471,-1.997],[.171,-.282]],v:[[16.878,-13.402],[16.978,-13.394],[17.742,-12.746],[19.517,-8.069],[19.295,-6.982],[15.14,-1.816],[13.263,15.69],[21.732,36.747],[22.466,43.759],[22.161,47.936],[23.956,51.387],[25.868,54.748],[31.449,49.333],[40.886,27.499],[47.14,1.686],[47.607,1.057],[50.053,-.724],[53.981,-17.294],[48.531,-23.632],[41.12,-23.664],[40.09,-23.835],[39.887,-24.859],[40.801,-38.198],[33.98,-41.723],[23.278,-35.889],[22.293,-35.608],[21.661,-36.415],[11.488,-49.755],[-4.18,-43.401],[-5.222,-43.129],[-5.805,-44.035],[-9.182,-51.798],[-17.034,-54.952],[-29.571,-52.377],[-33.626,-40.807],[-33.709,-40.018],[-34.376,-39.588],[-36.876,-39.303],[-47.126,-37.01],[-53.905,-27.176],[-50.979,-21.221],[-46.485,-19.996],[-45.399,-19.33],[-46.026,-18.22],[-54.032,-2.825],[-47.928,4.299],[-39.218,5.025],[-31.105,-.773],[-28.183,-3.388],[-27.366,-3.582],[-26.734,-3.031],[-19.694,2.527],[-7.509,-8.219],[-6.656,-8.922],[-5.745,-8.296],[5.224,-3.725],[16.076,-12.959]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.132,.002],[.142,.088],[.015,.303],[.873,1.169],[.255,1.762],[-.278,1.506],[1.18,1.799],[1.333,7.613],[-2.705,5.071],[-1.658,1.55],[.3,.844],[6.187,-1.91],[2.388,3.588],[4.332,-.363],[1.74,3.902],[.624,-.572],[3.286,-1.182],[3.28,1.662],[1.032,3.495],[-5.004,3.31],[.739,.593],[.003,2.77],[-4.677,2.28],[-3.663,.398],[-.468,.053],[-3.97,2.954],[-5.404,-.761],[-2.177,-1.86],[-.415,-2.663],[-5.322,-1.374],[-1.214,-5.412],[-3.758,-.271],[-1.584,-2.608],[1.945,-5.36],[-2.22,-.981],[-1.062,-3.45],[3.987,-4.325],[1.057,-.604],[2.581,-9.234],[4.021,-6.646],[4.048,-1.802]],o:[[-.163,-.003],[-.258,-.159],[-.064,-1.38],[-.884,-1.184],[-.248,-1.711],[.384,-2.078],[-4.467,-6.817],[-1.316,-7.504],[1.001,-1.876],[-.345,-.767],[-2.254,3.577],[-4.848,1.496],[-2.38,4.629],[-4.614,.389],[-.661,.586],[-2.801,2.566],[-3.179,1.143],[-3.438,-1.743],[-1.769,-5.991],[-.812,-.292],[-2.226,-1.786],[-.005,-4.59],[3.404,-1.66],[.468,-.051],[-.989,-4.39],[3.552,-2.643],[3.655,.514],[2.109,1.802],[4.617,-4.608],[5.583,1.441],[3.495,-3.602],[3.82,.273],[1.924,3.167],[2.252,-.519],[3.105,1.372],[1.678,5.453],[-.634,.687],[-1.648,8.17],[-2.102,7.52],[-1.902,3.143],[-.124,.056]],v:[[25.149,57.014],[24.683,56.877],[24.248,56.139],[22.486,52.486],[20.344,48.199],[20.661,43.426],[20.196,37.753],[11.455,16.007],[13.52,-2.68],[17.572,-7.899],[16.605,-10.31],[5.766,-1.971],[-6.516,-5.73],[-19.541,4.356],[-27.94,-1.164],[-29.865,.58],[-38.597,6.753],[-48.758,5.937],[-55.793,-2.305],[-49.788,-18.458],[-52.128,-19.789],[-55.741,-27.174],[-47.931,-38.66],[-37.075,-41.128],[-35.671,-41.283],[-30.667,-53.85],[-16.779,-56.77],[-7.989,-53.194],[-4.088,-46.231],[11.947,-51.532],[23.193,-38.532],[34.111,-43.555],[42.37,-39.151],[42.319,-26.006],[49.273,-25.312],[55.735,-17.835],[51.402,.52],[48.857,2.464],[42.654,27.993],[33.02,50.283],[25.538,56.934]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[632.576,302.095],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-6.437,1.911],[.005,4.602],[-4.001,1.95],[-4.461,.563],[-3.754,2.793],[-4.55,-.639],[-2.33,-1.99],[.186,-3.359],[-6.042,-1.559],[-.37,-5.109],[-4.542,-.325],[4.233,-9.796],[-2.161,-7.018],[3.689,-4.002],[1.124,-.602],[2.834,-10.138],[4.015,-6.638],[3.725,-1.658],[.461,3.186],[2.296,3.503],[1.304,7.444],[-2.973,5.574],[-1.809,1.586],[.474,1.588],[6.656,-2.054],[1.545,4.634],[4.549,-.381],[1.752,4.39],[4.142,-1.49],[1.967,6.659]],o:[[-4.315,.953],[-.006,-4.602],[4.001,-1.95],[-1.599,-4.491],[3.754,-2.793],[2.989,.42],[2.33,1.99],[4.073,-4.954],[6.042,1.559],[3.015,-3.572],[9.014,.644],[4.845,-2.281],[1.609,5.226],[-.641,.695],[-1.541,7.693],[-2.048,7.327],[-1.889,3.123],[-.149,-3.199],[-.567,-3.919],[-4.372,-6.671],[-1.071,-6.112],[1.059,-1.985],[-.765,-1.598],[-2.72,4.492],[-4.858,1.499],[-1.111,4.63],[-4.549,.381],[-4.095,3.5],[-6.329,2.277],[-1.967,-6.659]],v:[[-46.292,-19.1],[-54.828,-27.175],[-47.533,-37.835],[-34.495,-40.5],[-30.124,-53.113],[-16.91,-55.862],[-8.59,-52.496],[-4.894,-43.984],[11.713,-50.644],[22.572,-36.482],[34.041,-42.639],[40.725,-24.495],[54.853,-17.565],[50.723,-.102],[48.036,1.867],[41.765,27.746],[32.23,49.808],[25.161,56.096],[21.248,48.067],[20.96,37.249],[12.354,15.848],[14.325,-2.249],[18.684,-7.673],[16.858,-12.484],[5.491,-2.848],[-6.62,-8.006],[-19.622,3.441],[-27.591,-2.691],[-38.912,5.889],[-54.917,-2.565]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.831372559071,.180392161012,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[632.58,302.095],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[632.58,302.095],ix:2},a:{a:0,k:[632.58,302.095],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[632.58,302.095],ix:2},a:{a:0,k:[632.58,302.095],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:1,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:210,st:0,ct:1,bm:0},{ddd:0,ind:3,ty:4,nm:"l hnad",parent:5,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.4],y:[1]},o:{x:[.333],y:[0]},t:0,s:[-11]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:30,s:[-11]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:40,s:[-11]},{i:{x:[.667],y:[1]},o:{x:[.302],y:[0]},t:60,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:70,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:90,s:[-11]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:110,s:[-17]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:140,s:[-17]},{i:{x:[.4],y:[1]},o:{x:[.313],y:[0]},t:160,s:[-11]},{i:{x:[.667],y:[1]},o:{x:[.6],y:[0]},t:166,s:[-11]},{t:196,s:[-11]}],ix:10},p:{a:0,k:[744.349,563.875,0],ix:2,l:2},a:{a:0,k:[744.349,563.875,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-63.963,-42.804],[-63.963,-42.804]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-29.341,-3.682],[-29.341,-3.682]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[-.038,-.001],[-2.825,-2.372],[-4.328,-.945],[-3.186,-3.214],[-28.387,-14.749],[-12.228,18.28],[1.813,5.905],[7.898,3.203],[0,0],[2.682,1.021],[7.008,8.164],[4.213,.704],[1.7,.341],[4.849,-.822],[.542,-1.407],[-.253,-.137],[-2.896,1.349],[-.5,-.006],[-5.236,-3.594],[.045,-.343],[.325,-.115],[1.734,-2.014],[.314,-1.766],[-.381,-.149],[-.823,1.279],[-.154,.208],[-.99,1.744],[-.091,.153],[-5.183,-.087],[0,0],[-.023,-.483],[.482,-.053],[.708,-1.114],[.616,-1.085],[.175,-.683],[-.512,-.229],[-.886,1.225],[-.306,.486],[-.578,.454],[-.626,.369],[-1.164,.365],[-2.048,.231],[-.072,-.488],[.486,-.09],[.685,-.105],[1.819,-.669],[.637,-.351],[.652,-.641],[.504,-.953],[.946,-1.518],[-.008,-.689],[-.295,-.269],[-.475,.099],[-2.195,4.83],[-.303,.049],[-1.426,.037],[-.817,.056]],o:[[.949,.017],[3.531,2.964],[.526,.115],[8.278,8.352],[.292,.151],[1.509,-2.256],[-1.988,-6.47],[0,0],[-.892,-.361],[-28.703,-10.927],[-5.813,-6.774],[-1.959,-.327],[-5.05,-1.015],[-5.662,.959],[.126,.765],[2.025,1.1],[1.867,-.869],[4.794,.176],[.285,.195],[-.045,.342],[-6.219,2.201],[-1.982,2.301],[-.233,1.314],[.35,.137],[.017,-.027],[2.754,-3.701],[.608,-1.279],[1.724,-2.926],[0,0],[.484,.008],[.023,.484],[-4.96,.549],[-.228,.573],[-1.527,3.222],[-.24,1.1],[.644,.29],[.317,-.438],[1.195,-3.399],[.607,-.477],[1.098,-.694],[2.556,-.865],[.497,-.055],[.073,.489],[-.64,.118],[-1.782,.271],[-.659,.253],[-.736,.425],[-.19,.205],[-.676,1.278],[-.275,.834],[.007,.605],[.064,.058],[1.309,-.269],[.127,-.279],[1.939,-.316],[.728,-.019],[.038,-.003]],v:[[-46.993,-17.204],[-41.972,-13.802],[-28.777,-5.412],[-24.573,-1.614],[34.083,43.67],[76.175,39.376],[77.179,25.382],[62.068,10.597],[62.068,10.597],[56.557,8.477],[-18.123,-26.085],[-44.166,-46.462],[-49.581,-47.484],[-63.469,-48.479],[-78.063,-41.897],[-77.336,-40.724],[-67.026,-43.485],[-63.976,-44.635],[-49.209,-40.409],[-48.819,-39.533],[-49.422,-38.787],[-66.284,-30.294],[-72.797,-15.686],[-72.246,-13.316],[-70.325,-14.893],[-70.063,-15.254],[-64.664,-23.248],[-63.515,-25.606],[-47.45,-32.21],[-47.449,-32.21],[-46.548,-31.335],[-47.364,-30.379],[-61.843,-24.805],[-63.065,-22.351],[-67.269,-13.008],[-66.836,-10.882],[-64.062,-12.268],[-63.126,-13.664],[-58.837,-21.14],[-56.984,-22.405],[-53.572,-23.953],[-46.471,-25.33],[-45.46,-24.553],[-46.201,-23.515],[-48.194,-23.191],[-53.709,-21.958],[-55.653,-21.057],[-57.746,-19.472],[-59.011,-17.234],[-61.49,-12.816],[-61.925,-10.494],[-61.476,-9.196],[-60.745,-9.062],[-54.934,-16.191],[-54.245,-16.716],[-49.405,-17.107],[-47.107,-17.202]],c:!0},ix:2},nm:"Path 3",mn:"ADBE Vector Shape - Group",hd:!1},{ind:3,ty:"sh",ix:4,ks:{a:0,k:{i:[[8.343,.146],[3.439,1.788],[8.334,8.408],[.419,.304],[3.856,3.237],[.554,.169],[.729,-.019],[1.581,-.228],[2.273,-.468],[.61,.555],[.098,.895],[1.164,.521],[-.654,2.993],[-.016,.051],[.612,.238],[-.365,2.058],[-2.254,2.615],[-5.398,2.084],[4.162,.155],[.915,-.426],[2.838,1.538],[.215,1.508],[-4.637,.786],[-5.028,-1.011],[-1.929,-.322],[-5.732,-6.68],[-16.43,-6.254],[-.909,-.369],[0,0],[-1.503,-4.893],[1.593,-2.381]],o:[[-9.518,-.166],[-28.643,-14.881],[-1.601,-1.614],[-4.74,-1.089],[-1.566,-1.315],[-.831,.055],[-1.299,.034],[-2.069,4.377],[-.897,.184],[-.581,-.528],[-1.225,.966],[-.511,-.229],[.007,-.034],[-1.713,2.434],[-1.36,-.533],[.347,-1.951],[2.057,-2.387],[-4.201,-2.423],[-.313,.071],[-3.633,1.692],[-.647,-.351],[-.444,-3.121],[5.185,-.878],[1.685,.338],[5.005,.836],[7.514,8.755],[2.692,1.025],[0,0],[10.648,4.318],[2.102,6.844],[-5.392,8.061]],v:[[55.316,50.645],[33.237,45.3],[-25.877,-.322],[-29.288,-3.645],[-43.152,-12.395],[-47.044,-15.366],[-49.358,-15.272],[-53.472,-14.979],[-60.375,-7.264],[-62.711,-7.838],[-63.732,-9.98],[-67.586,-9.206],[-69.061,-13.406],[-69.026,-13.536],[-72.916,-11.607],[-74.605,-16.007],[-67.675,-31.493],[-51.787,-39.867],[-63.989,-42.799],[-66.25,-41.82],[-78.211,-39.11],[-79.891,-41.704],[-63.776,-50.289],[-49.219,-49.284],[-43.863,-48.273],[-16.73,-27.282],[57.211,6.761],[62.758,8.895],[62.758,8.895],[78.934,24.843],[77.7,40.397]],c:!0},ix:2},nm:"Path 4",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[681.349,535.875],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:5,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[20.243,8.208],[8.852,10.314],[4.695,.785],[6.664,-1.129],[-.278,-1.955],[-1.311,-.048],[-5.128,-3.52],[2.042,-2.37],[.316,-1.776],[-2.443,3.799],[-1.499,3.755],[-4.873,.54],[1.414,-2.4],[.21,-.96],[-2.012,2.782],[-.647,.634],[-3.753,.691],[3.822,-3.006],[-2.812,-2.558],[-2.997,6.597],[-2.451,.168],[-7.226,-1.578],[-35.806,-18.603],[-11.992,17.927]],o:[[-6.719,-2.725],[-5.653,-6.587],[-7.869,-1.315],[-5.564,.942],[.867,6.095],[4.575,.168],[-5.64,1.995],[-2.149,2.494],[-.547,3.081],[.132,-.205],[.605,-1.516],[-5.221,-.087],[-.336,.571],[-.877,4.016],[2.28,-3.151],[3.539,-3.471],[-3.763,.424],[-.681,.536],[1.51,1.373],[2.851,-.464],[1.711,-.117],[1.45,.317],[3.199,1.662],[2.943,-4.399]],v:[[62.413,9.741],[-17.426,-26.689],[-44.014,-47.374],[-63.622,-49.389],[-78.981,-41.839],[-64.009,-43.723],[-49.729,-39.658],[-66.98,-30.899],[-73.7,-15.853],[-69.553,-14.402],[-62.677,-25.189],[-47.465,-31.297],[-62.723,-25.146],[-68.164,-13.217],[-63.318,-11.736],[-58.388,-20.133],[-46.367,-24.424],[-58.269,-20.424],[-62.093,-8.523],[-54.097,-15.816],[-47.043,-16.291],[-28.972,-4.521],[33.661,44.48],[76.938,39.881]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[681.348,535.881],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:210,st:0,ct:1,bm:0},{ddd:0,ind:4,ty:4,nm:"paper",parent:3,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[588.912,513.598,0],ix:2,l:2},a:{a:0,k:[588.912,513.598,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[1.688,.029],[.577,-.082],[-.52,-3.675],[0,0],[-4.674,.664],[.52,3.675],[1.733,1.035]],o:[[-.565,-.01],[-4.678,.661],[0,0],[.52,3.676],[4.678,-.662],[-.246,-1.743],[-1.346,-.804]],v:[[.774,-6.772],[-.943,-6.665],[-8.484,1.2],[-8.484,1.2],[.943,6.667],[8.484,-1.199],[5.413,-5.507]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.648,.011],[.584,4.126],[0,0],[-5.68,.804],[-2.156,-1.287],[-.326,-2.303],[5.68,-.803]],o:[[-4.854,-.084],[0,0],[-.661,-4.678],[2.718,-.384],[2.219,1.324],[.661,4.678],[-.67,.095]],v:[[-.781,8.608],[-10.302,1.458],[-10.302,1.458],[-1.2,-8.483],[6.355,-7.083],[10.302,-1.457],[1.2,8.485]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[588.888,515.227],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.592,4.183],[-5.187,.734],[-.592,-4.183],[5.187,-.734]],o:[[-.592,-4.184],[5.188,-.734],[.592,4.183],[-5.187,.734]],v:[[-9.393,1.328],[-1.071,-7.575],[9.393,-1.328],[1.071,7.575]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[588.888,515.228],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[588.888,515.228],ix:2},a:{a:0,k:[588.888,515.228],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-58.749,-53.956],[-36.598,70.874],[58.749,53.956],[36.599,-70.874]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[.059,.001],[.078,.439],[0,0],[-.14,.2],[-.24,.042],[0,0],[-.089,-.5],[0,0],[.14,-.2],[.24,-.042],[0,0]],o:[[-.43,-.008],[0,0],[-.043,-.24],[.139,-.2],[0,0],[.501,-.089],[0,0],[.043,.24],[-.139,.2],[0,0],[-.06,.011]],v:[[-37.359,72.856],[-38.245,72.099],[-60.716,-54.539],[-60.565,-55.226],[-59.973,-55.603],[37.182,-72.842],[38.246,-72.098],[60.716,54.539],[60.565,55.226],[59.973,55.604],[-37.181,72.842]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[588.912,513.598],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-37.342,71.938],[-59.813,-54.699],[37.342,-71.938],[59.813,54.7]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[588.912,513.598],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[588.912,513.598],ix:2},a:{a:0,k:[588.912,513.598],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:210,st:0,ct:1,bm:0},{ddd:0,ind:5,ty:4,nm:"l arm",parent:7,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.4],y:[1]},o:{x:[.333],y:[0]},t:0,s:[-11]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:30,s:[-11]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:40,s:[-11]},{i:{x:[.667],y:[1]},o:{x:[.302],y:[0]},t:60,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:70,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:90,s:[-11]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:110,s:[-16]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:140,s:[-16]},{i:{x:[.4],y:[1]},o:{x:[.313],y:[0]},t:160,s:[-11]},{i:{x:[.667],y:[1]},o:{x:[.6],y:[0]},t:166,s:[-11]},{t:196,s:[-11]}],ix:10},p:{a:0,k:[701.239,404.5,0],ix:2,l:2},a:{a:0,k:[701.239,404.5,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,hasMask:!0,masksProperties:[{inv:!1,mode:"a",pt:{a:0,k:{i:[[43,36],[3,-21],[-11.5,-37.5],[-64.5,-10.5]],o:[[-43,-36],[-3,21],[11.5,37.5],[64.5,10.5]],v:[[749.5,404],[685.5,445.5],[706,535.5],[779.5,597]],c:!0},ix:1},o:{a:0,k:100,ix:3},x:{a:0,k:0,ix:4},nm:"Mask 1"}],shapes:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.08,.001],[.104,.411],[1.882,25.406],[-.506,.038],[-.038,-.506],[-6.255,-24.696],[.492,-.124]],o:[[-.404,-.007],[-6.282,-24.799],[-.037,-.506],[.491,-.036],[1.873,25.3],[.125,.491],[-.081,.021]],v:[[6.122,38.67],[5.249,37.977],[-7.054,-37.684],[-6.206,-38.667],[-5.223,-37.819],[7.028,37.526],[6.364,38.641]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[705.757,504.628],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:1,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.121,.002],[.037,.016],[1.497,1.386],[.545,.463],[4.321,.717],[-.028,.167],[-.162,-.029],[-3.422,-2.906],[-.528,-.489],[-1.821,-.77],[.066,-.156]],o:[[-.038,-.001],[-1.92,-.812],[-.523,-.484],[-3.338,-2.834],[-.167,-.027],[.027,-.167],[4.43,.735],[.555,.471],[1.459,1.351],[.155,.066],[-.05,.119]],v:[[9.169,5.57],[9.055,5.546],[4.09,1.915],[2.481,.467],[-9.225,-4.962],[-9.477,-5.314],[-9.125,-5.565],[2.877,.001],[4.506,1.465],[9.294,4.982],[9.457,5.383]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[750.509,532.013],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:1,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.07,.001],[.059,.073],[18.229,-2.785],[.026,.168],[-.167,.026],[-11.828,-14.425],[.131,-.107]],o:[[-.087,-.002],[-11.694,-14.262],[-.162,.025],[-.025,-.167],[18.442,-2.817],[.107,.13],[-.058,.048]],v:[[24.766,10.098],[24.535,9.986],[-24.726,-8.907],[-25.074,-9.163],[-24.818,-9.512],[25.008,9.598],[24.966,10.028]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[736.861,540.49],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:1,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-124.148,-69.439],[-124.148,-69.439]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[-.721,-4.312],[-26.861,3.54],[-4.477,1.482],[-.263,15.048],[-.614,.371],[-11.727,-5.928],[-.942,-.184],[-.31,.692],[5.671,32.923],[0,0],[.87,6.452],[21.897,18.937],[21.152,1.822],[6.873,-3.578],[3.244,.263],[4.517,14.01],[2.025,-.328],[12.81,-11.048],[12.764,-.695],[.552,-.278],[.154,-2.366],[20.827,-9.207],[.065,-.072],[-22.664,-1.786],[-24.836,6.112],[-.225,-.193],[.027,-.295],[-5.441,-31.084]],o:[[24.546,17.535],[26.238,-3.457],[-1.313,-4.327],[.026,-1.474],[3.627,-2.192],[3.386,1.711],[.995,.196],[2.97,-6.627],[0,0],[-1.119,-6.494],[-3.878,-28.74],[-11.942,-10.327],[-.887,7.763],[-7.614,3.963],[-18.528,-1.514],[-1.1,.271],[-9.573,1.55],[-24.305,20.962],[-2.755,.15],[-.487,.553],[-.617,9.439],[-.458,.202],[.804,1.688],[14.393,1.133],[.289,-.07],[.225,.193],[-1.813,20.343],[1.05,5.998]],v:[[-28.686,95.782],[59.832,109.26],[112.359,97.391],[105.63,58.368],[107.008,55.773],[132.366,64.242],[139.893,67.754],[143.678,66.318],[145.578,1.155],[145.578,1.155],[142.689,-18.462],[113.252,-93.285],[51.707,-111.162],[39.868,-93.848],[20.632,-90.34],[-6.323,-109.649],[-11.052,-108.79],[-51.254,-93.307],[-118.212,-70.022],[-124.123,-69.452],[-124.924,-64.087],[-147.514,-27.872],[-148.219,-27.438],[-112.316,-20.168],[-45.236,-24.155],[-44.418,-23.961],[-44.102,-23.182],[-31.367,80.27]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[11.294,.197],[16.157,11.691],[.04,.238],[1.079,6.167],[-1.388,21.314],[14.251,1.119],[1.293,3.791],[-1.987,.878],[-.591,9.051],[-1.019,.984],[-4.805,.262],[-23.831,20.554],[-9.752,1.579],[-.837,.317],[-.228,-.11],[-.076,-.241],[-18.33,-1.498],[-7.19,3.742],[-.618,7.655],[-.186,.158],[-.244,-.019],[-12.446,-10.764],[-3.753,-27.815],[-1.113,-6.461],[0,0],[3.917,-8.738],[1.584,.315],[4.35,2.199],[3.053,-1.843],[.012,-.68],[-.072,-.225],[.47,-.164],[29.509,-3.891]],o:[[-20.543,-.358],[-.195,-.141],[-.729,-4.377],[-5.694,-32.527],[-24.744,5.838],[-17.697,-1.39],[-.209,-.612],[19.809,-8.757],[.229,-3.499],[.701,-.677],[12.577,-.685],[13.203,-11.387],[2.494,-.404],[.235,-.088],[.227,.11],[4.405,13.973],[3.089,.252],[6.645,-3.459],[.02,-.243],[.186,-.158],[21.513,1.758],[22.424,19.391],[.868,6.435],[0,0],[5.237,30.397],[-.755,1.684],[-1.137,-.222],[-7.174,-3.626],[-.222,.134],[-.29,16.616],[.152,.474],[-.239,.082],[-9.69,1.278]],v:[[28.109,113.043],[-30.067,97.051],[-30.434,96.458],[-33.175,80.587],[-46.028,-22.076],[-112.397,-18.332],[-149.981,-26.905],[-148.256,-29.552],[-126.756,-64.207],[-125.371,-70.802],[-118.312,-71.856],[-52.452,-94.697],[-11.346,-110.603],[-6.045,-111.642],[-5.32,-111.61],[-4.845,-111.06],[20.782,-92.17],[39.02,-95.477],[49.966,-112.227],[50.287,-112.852],[50.956,-113.068],[114.453,-94.674],[144.509,-18.707],[147.388,.843],[147.388,.843],[145.353,67.069],[139.541,69.555],[131.538,65.88],[107.956,57.346],[107.466,58.4],[114.374,97.696],[113.802,98.844],[60.105,111.076]],c:!0},ix:2},nm:"Path 3",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[613.649,510.397],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[5.466,31.726],[27.285,23.596],[18.449,1.507],[11.176,.913],[4.499,14.271],[16.647,-14.358],[2.208,-2.132],[27.043,-11.955],[-46.797,11.516],[-4.576,-27.463],[0,0],[-.296,16.966],[-3.895,-.761],[-.539,1.203]],o:[[-5.941,-34.486],[-13.097,-11.326],[-1.443,17.863],[-18.667,-1.525],[-4.223,1.597],[-30.9,26.65],[-3.071,2.965],[-11.378,5.03],[-2.171,24.347],[47.998,34.732],[0,0],[.147,-8.414],[1.294,.253],[3.419,-7.627]],v:[[146.476,.981],[113.846,-93.998],[50.875,-112.17],[20.7,-91.273],[-5.727,-110.801],[-51.86,-94.02],[-124.74,-70.16],[-147.892,-28.73],[-45.023,-23.282],[-29.535,96.289],[113.493,97.958],[106.542,58.366],[139.71,68.637],[144.508,66.675]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[613.655,510.415],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[613.655,510.415],ix:2},a:{a:0,k:[613.655,510.415],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[613.655,510.415],ix:2},a:{a:0,k:[613.655,510.415],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:1,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:210,st:0,ct:1,bm:0},{ddd:0,ind:6,ty:3,nm:"Null 1",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:1,k:[{i:{x:[.4],y:[1]},o:{x:[.333],y:[0]},t:0,s:[-7]},{i:{x:[.4],y:[1]},o:{x:[.157],y:[0]},t:30,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.6],y:[0]},t:166,s:[0]},{t:196,s:[-7]}],ix:10},p:{a:1,k:[{i:{x:.4,y:1},o:{x:.333,y:0},t:0,s:[837.095,1005.056,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.4,y:.4},o:{x:.182,y:.182},t:30,s:[657.095,646.056,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.6,y:0},t:166,s:[657.095,646.056,0],to:[0,0,0],ti:[0,0,0]},{t:196,s:[837.095,1005.056,0]}],ix:2,l:2},a:{a:0,k:[50,50,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,ip:0,op:210,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"body",parent:6,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.65],y:[0]},t:3,s:[-31]},{i:{x:[.667],y:[1]},o:{x:[.65],y:[0]},t:33,s:[2]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:40,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.302],y:[0]},t:60,s:[-5]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:70,s:[-5]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:90,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:110,s:[-10]},{i:{x:[.667],y:[1]},o:{x:[.167],y:[0]},t:140,s:[-10]},{i:{x:[.667],y:[1]},o:{x:[.308],y:[0]},t:160,s:[0]},{i:{x:[.35],y:[1]},o:{x:[.333],y:[0]},t:169,s:[0]},{t:199,s:[-31]}],ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.65,y:0},t:3,s:[58.661,52.256,0],to:[-1.518,-4.048,0],ti:[1.518,4.048,0]},{i:{x:.667,y:.667},o:{x:.214,y:.214},t:33,s:[49.554,27.965,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:.667},o:{x:.333,y:.333},t:40,s:[49.554,27.965,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:.667},o:{x:.333,y:.333},t:60,s:[49.554,27.965,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:.667},o:{x:.333,y:.333},t:70,s:[49.554,27.965,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:.667},o:{x:.333,y:.333},t:90,s:[49.554,27.965,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:.667},o:{x:.333,y:.333},t:110,s:[49.554,27.965,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:.667},o:{x:.333,y:.333},t:140,s:[49.554,27.965,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:160,s:[49.554,27.965,0],to:[0,0,0],ti:[-1.518,-4.048,0]},{i:{x:.35,y:1},o:{x:.333,y:0},t:169,s:[49.554,27.965,0],to:[1.518,4.048,0],ti:[-1.518,-4.048,0]},{t:199,s:[58.661,52.256,0]}],ix:2,l:2},a:{a:0,k:[656.649,624.021,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,hasMask:!0,masksProperties:[{inv:!1,mode:"a",pt:{a:0,k:{i:[[69.284,-19.019],[3.5,-36.5],[3,-51],[13,-79],[-73.673,50.974],[-10.5,148]],o:[[-76.5,21],[-3.5,36.5],[-3,51],[-13,79],[92.5,-64],[8.28,-116.707]],v:[[654.5,316.5],[573.5,409.5],[566,512],[525,661],[706.5,680],[720,515]],c:!0},ix:1},o:{a:0,k:100,ix:3},x:{a:0,k:0,ix:4},nm:"Mask 1"}],shapes:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[13.318,.232],[16.906,4.446],[-.043,.164],[-.165,-.044],[-40.027,7.462],[-.031,-.166],[.166,-.031]],o:[[-24.764,-.432],[-.163,-.043],[.043,-.162],[25.937,6.821],[.169,-.032],[.031,.166],[-14.039,2.617]],v:[[11.46,4.891],[-52.789,-4.325],[-53.007,-4.698],[-52.633,-4.916],[52.654,1.007],[53.012,1.252],[52.767,1.609]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[629.259,493.788],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:1,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[20.095,.351],[8.86,4.707],[-.08,.149],[-.148,-.078],[-31.185,3.812],[-.021,-.168],[.168,-.02]],o:[[-18.657,-.326],[-.149,-.079],[.079,-.15],[18.277,9.709],[.162,-.018],[.02,.168],[-16.211,1.981]],v:[[-7.044,3.751],[-51.48,-3.226],[-51.607,-3.639],[-51.193,-3.766],[51.3,-.016],[51.641,.251],[51.374,.592]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[628.308,468.385],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:1,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-124.148,-69.439],[-124.148,-69.439]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[-.721,-4.312],[-26.861,3.54],[-4.477,1.482],[-.263,15.048],[-.614,.371],[-11.727,-5.928],[-.942,-.184],[-.31,.692],[5.671,32.923],[0,0],[.87,6.452],[21.897,18.937],[21.152,1.822],[6.873,-3.578],[3.244,.263],[4.517,14.01],[2.025,-.328],[12.81,-11.048],[12.764,-.695],[.552,-.278],[.154,-2.366],[20.827,-9.207],[.065,-.072],[-22.664,-1.786],[-24.836,6.112],[-.225,-.193],[.027,-.295],[-5.441,-31.084]],o:[[24.546,17.535],[26.238,-3.457],[-1.313,-4.327],[.026,-1.474],[3.627,-2.192],[3.386,1.711],[.995,.196],[2.97,-6.627],[0,0],[-1.119,-6.494],[-3.878,-28.74],[-11.942,-10.327],[-.887,7.763],[-7.614,3.963],[-18.528,-1.514],[-1.1,.271],[-9.573,1.55],[-24.305,20.962],[-2.755,.15],[-.487,.553],[-.617,9.439],[-.458,.202],[.804,1.688],[14.393,1.133],[.289,-.07],[.225,.193],[-1.813,20.343],[1.05,5.998]],v:[[-28.686,95.782],[59.832,109.26],[112.359,97.391],[105.63,58.368],[107.008,55.773],[132.366,64.242],[139.893,67.754],[143.678,66.318],[145.578,1.155],[145.578,1.155],[142.689,-18.462],[113.252,-93.285],[51.707,-111.162],[39.868,-93.848],[20.632,-90.34],[-6.323,-109.649],[-11.052,-108.79],[-51.254,-93.307],[-118.212,-70.022],[-124.123,-69.452],[-124.924,-64.087],[-147.514,-27.872],[-148.219,-27.438],[-112.316,-20.168],[-45.236,-24.155],[-44.418,-23.961],[-44.102,-23.182],[-31.367,80.27]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[11.294,.197],[16.157,11.691],[.04,.238],[1.079,6.167],[-1.388,21.314],[14.251,1.119],[1.293,3.791],[-1.987,.878],[-.591,9.051],[-1.019,.984],[-4.805,.262],[-23.831,20.554],[-9.752,1.579],[-.837,.317],[-.228,-.11],[-.076,-.241],[-18.33,-1.498],[-7.19,3.742],[-.618,7.655],[-.186,.158],[-.244,-.019],[-12.446,-10.764],[-3.753,-27.815],[-1.113,-6.461],[0,0],[3.917,-8.738],[1.584,.315],[4.35,2.199],[3.053,-1.843],[.012,-.68],[-.072,-.225],[.47,-.164],[29.509,-3.891]],o:[[-20.543,-.358],[-.195,-.141],[-.729,-4.377],[-5.694,-32.527],[-24.744,5.838],[-17.697,-1.39],[-.209,-.612],[19.809,-8.757],[.229,-3.499],[.701,-.677],[12.577,-.685],[13.203,-11.387],[2.494,-.404],[.235,-.088],[.227,.11],[4.405,13.973],[3.089,.252],[6.645,-3.459],[.02,-.243],[.186,-.158],[21.513,1.758],[22.424,19.391],[.868,6.435],[0,0],[5.237,30.397],[-.755,1.684],[-1.137,-.222],[-7.174,-3.626],[-.222,.134],[-.29,16.616],[.152,.474],[-.239,.082],[-9.69,1.278]],v:[[28.109,113.043],[-30.067,97.051],[-30.434,96.458],[-33.175,80.587],[-46.028,-22.076],[-112.397,-18.332],[-149.981,-26.905],[-148.256,-29.552],[-126.756,-64.207],[-125.371,-70.802],[-118.312,-71.856],[-52.452,-94.697],[-11.346,-110.603],[-6.045,-111.642],[-5.32,-111.61],[-4.845,-111.06],[20.782,-92.17],[39.02,-95.477],[49.966,-112.227],[50.287,-112.852],[50.956,-113.068],[114.453,-94.674],[144.509,-18.707],[147.388,.843],[147.388,.843],[145.353,67.069],[139.541,69.555],[131.538,65.88],[107.956,57.346],[107.466,58.4],[114.374,97.696],[113.802,98.844],[60.105,111.076]],c:!0},ix:2},nm:"Path 3",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[613.649,510.397],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[5.466,31.726],[27.285,23.596],[18.449,1.507],[11.176,.913],[4.499,14.271],[16.647,-14.358],[2.208,-2.132],[27.043,-11.955],[-46.797,11.516],[-4.576,-27.463],[0,0],[-.296,16.966],[-3.895,-.761],[-.539,1.203]],o:[[-5.941,-34.486],[-13.097,-11.326],[-1.443,17.863],[-18.667,-1.525],[-4.223,1.597],[-30.9,26.65],[-3.071,2.965],[-11.378,5.03],[-2.171,24.347],[47.998,34.732],[0,0],[.147,-8.414],[1.294,.253],[3.419,-7.627]],v:[[146.476,.981],[113.846,-93.998],[50.875,-112.17],[20.7,-91.273],[-5.727,-110.801],[-51.86,-94.02],[-124.74,-70.16],[-147.892,-28.73],[-45.023,-23.282],[-29.535,96.289],[113.493,97.958],[106.542,58.366],[139.71,68.637],[144.508,66.675]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[613.655,510.415],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[613.655,510.415],ix:2},a:{a:0,k:[613.655,510.415],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[613.655,510.415],ix:2},a:{a:0,k:[613.655,510.415],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:1,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-25.08,9.359],[-25.074,9.359]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[-5.262,-5.665],[-17.026,3.096],[-5.751,4.119],[0,0],[.019,.387],[.565,15.36],[13.167,-3.964],[.009,-.164],[.345,-.127]],o:[[-.385,1.965],[5.874,6.325],[7.637,-1.389],[0,0],[-.371,-.113],[-.014,-.296],[-9.426,4.188],[2.683,13.308],[-.019,.367],[0,0]],v:[[-36.548,14.564],[-32.8,30.086],[1.712,34.953],[35.826,14.891],[16.774,9.081],[16.124,8.247],[14.164,-35.99],[-26.043,-20.088],[-24.163,9.407],[-24.763,10.22]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[4.76,.083],[4.154,4.483],[-.111,.423],[-.282,.104],[0,0],[2.531,11.788],[-.461,.135],[-9.188,4.086],[-.258,-.162],[-.011,-.305],[-.216,-4.487],[0,0],[-.059,-.343],[.28,-.206],[9.274,-1.686]],o:[[-9.108,-.159],[-6.702,-7.234],[.076,-.29],[0,0],[.117,-3.091],[-.101,-.47],[13.723,-4.023],[.28,-.124],[.259,.162],[.485,13.733],[0,0],[.332,.101],[.058,.343],[-1.102,.807],[-6.074,1.105]],v:[[-14.22,38.29],[-34.158,31.321],[-38.226,13.644],[-37.655,13.015],[-25.971,8.709],[-28.011,-20.534],[-27.372,-21.608],[14.659,-38.22],[15.519,-38.159],[15.95,-37.413],[17.927,7.513],[38.132,13.674],[38.769,14.399],[38.406,15.293],[2.04,36.759]],c:!0},ix:2},nm:"Path 3",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[640.748,388.874],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[13.268,-3.889],[0,0],[0,0],[-47.215,8.585],[0,0],[0,0],[.534,15.127]],o:[[2.898,13.499],[0,0],[0,0],[9.173,-1.668],[0,0],[0,0],[-11.087,4.93]],v:[[-27.12,-20.725],[-25.087,9.361],[-37.345,13.878],[1.869,35.858],[37.857,14.554],[17.035,8.205],[15.026,-37.379]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[640.754,388.872],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[640.754,388.872],ix:2},a:{a:0,k:[640.754,388.872],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:210,st:0,ct:1,bm:0},{ddd:0,ind:8,ty:4,nm:"leg",parent:6,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[50.446,72.035,0],ix:2,l:2},a:{a:0,k:[657.541,668.091,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.006,0],[.001,.501],[-.019,4.36],[.021,9.35],[-.507,.001],[-.006,0],[-.001,-.501],[.019,-4.356],[-.022,-9.373],[.508,-.001]],o:[[-.498,-.009],[-.022,-9.379],[.019,-4.353],[-.001,-.507],[.006,0],[.498,.009],[.022,9.356],[-.019,4.357],[.001,.507],[-.006,0]],v:[[-.033,19.144],[-.935,18.228],[-.918,-.02],[-.902,-18.224],[.015,-19.144],[.033,-19.144],[.935,-18.228],[.918,-.012],[.902,18.224],[-.015,19.144]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[652.42,667.257],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:1,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.091,.002],[.116,.395],[.413,1.185],[.068,2.545],[-.507,.013],[-.013,-.507],[-1.066,-3.062],[-.257,-.875],[.486,-.143]],o:[[-.391,-.007],[-.244,-.832],[-1.106,-3.182],[-.014,-.506],[.499,-.035],[.061,2.26],[.419,1.206],[.143,.487],[-.092,.027]],v:[[1.765,7.213],[.9,6.554],[-.146,3.418],[-2.699,-6.269],[-1.806,-7.211],[-.864,-6.318],[1.588,2.815],[2.662,6.036],[2.04,7.176]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[725.696,615.725],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:1,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.118,.002],[.141,.354],[1.189,3.612],[1.551,3.416],[3.812,.17],[0,0],[-.021,.507],[-.506,-.029],[0,0],[-3.092,.525],[-.175,-.375],[-1.276,-3.874],[-2.335,-5.844],[.471,-.188]],o:[[-.358,-.006],[-2.356,-5.897],[-1.187,-3.602],[-3.666,.414],[0,0],[-.507,-.022],[.022,-.507],[0,0],[4.014,.179],[.404,-.068],[1.768,3.79],[1.181,3.587],[.188,.471],[-.117,.047]],v:[[12.749,13.031],[11.912,12.454],[7.018,-1.149],[3.329,-11.055],[-11.815,-11.152],[-12.804,-11.195],[-13.682,-12.152],[-12.725,-13.03],[-11.734,-12.987],[3.724,-12.962],[4.71,-12.446],[8.762,-1.723],[13.617,11.773],[13.105,12.966]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[656.114,660.816],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:1,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.048,.001],[.064,.453],[.85,33.369],[.169,5.858],[-.507,.014],[-.014,-.507],[-.149,-5.861],[-4.756,-33.521],[.502,-.071]],o:[[-.443,-.008],[-4.771,-33.626],[-.149,-5.859],[-.015,-.506],[.504,-.011],[.17,5.859],[.848,33.317],[.071,.502],[-.049,.007]],v:[[3.462,60.405],[2.57,59.616],[-3.929,-41.885],[-4.397,-59.461],[-3.505,-60.404],[-2.562,-59.513],[-2.094,-41.932],[4.388,59.358],[3.607,60.396]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[591.084,668.091],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:1,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[-7.5,-14],[-15.307,35.188],[-11.024,2.658],[-12.331,-27.601],[-4.667,2.136],[1,21.5]],o:[[0,0],[0,0],[3.125,5.834],[8.147,-18.728],[10.107,-2.436],[9.595,21.477],[29.5,-13.5],[-1,-21.5]],v:[[721,598],[588,602],[599,760],[651.309,753.069],[656.164,647.182],[684.734,733.842],[720.5,760],[734.5,661.5]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:5,mn:"ADBE Vector Group",hd:!1}],ip:0,op:210,st:0,ct:1,bm:0},{ddd:0,ind:9,ty:4,nm:"r arm",parent:7,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.4],y:[1]},o:{x:[.333],y:[0]},t:0,s:[-74]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:30,s:[-74]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:40,s:[-74]},{i:{x:[.667],y:[1]},o:{x:[.302],y:[0]},t:60,s:[-74]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:70,s:[-74]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:90,s:[-74]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:110,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:125,s:[-21]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:140,s:[0]},{i:{x:[.4],y:[1]},o:{x:[.313],y:[0]},t:160,s:[-74]},{i:{x:[.667],y:[1]},o:{x:[.6],y:[0]},t:166,s:[-74]},{t:196,s:[-74]}],ix:10},p:{a:1,k:[{i:{x:.4,y:.4},o:{x:.333,y:.333},t:0,s:[574.66,408.413,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:.667},o:{x:.333,y:.333},t:30,s:[574.66,408.413,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:.667},o:{x:.333,y:.333},t:40,s:[574.66,408.413,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:.667},o:{x:.333,y:.333},t:60,s:[574.66,408.413,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:.667},o:{x:.333,y:.333},t:70,s:[574.66,408.413,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:.667},o:{x:.333,y:.333},t:90,s:[574.66,408.413,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:.667},o:{x:.333,y:.333},t:110,s:[574.66,408.413,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:.667},o:{x:.333,y:.333},t:125,s:[574.66,408.413,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:.667},o:{x:.333,y:.333},t:140,s:[574.66,408.413,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.4,y:.4},o:{x:.333,y:.333},t:160,s:[574.66,408.413,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:.667},o:{x:.6,y:.6},t:166,s:[574.66,408.413,0],to:[0,0,0],ti:[0,0,0]},{t:196,s:[574.66,408.413,0]}],ix:2,l:2},a:{a:0,k:[574.91,407.913,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,hasMask:!0,masksProperties:[{inv:!1,mode:"a",pt:{a:0,k:{i:[[15,14.5],[30,-32],[-53,-37.5],[-22.5,29]],o:[[-15,-14.5],[-30,32],[53,37.5],[22.5,-29]],v:[[565.25,384],[446,435.5],[457,526.5],[563,502]],c:!0},ix:1},o:{a:0,k:100,ix:3},x:{a:0,k:0,ix:4},nm:"Mask 1"}],shapes:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.14,.002],[.023,.006],[-.04,.164],[.242,2.942],[-.168,.014],[-.014,-.168],[.72,-2.93]],o:[[-.022,0],[-.164,-.04],[.704,-2.866],[-.014,-.169],[.164,-.02],[.248,3.007],[-.035,.142]],v:[[-.404,4.731],[-.472,4.722],[-.696,4.353],[.001,-4.4],[.28,-4.729],[.61,-4.45],[-.102,4.498]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[504.515,447.021],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:1,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.121,.002],[.038,.016],[-.067,.156],[.077,8.091],[-.169,.002],[-.002,0],[-.002,-.166],[3.229,-7.512]],o:[[-.039,-.001],[-.156,-.067],[3.196,-7.434],[-.001,-.169],[.003,0],[.166,.003],[.078,8.176],[-.051,.117]],v:[[-2.402,12.234],[-2.518,12.209],[-2.678,11.807],[2.088,-11.925],[2.391,-12.234],[2.4,-12.234],[2.701,-11.931],[-2.116,12.049]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[495.085,454.396],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:1,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-124.148,-69.439],[-124.148,-69.439]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[-.721,-4.312],[-26.861,3.54],[-4.477,1.482],[-.263,15.048],[-.614,.371],[-11.727,-5.928],[-.942,-.184],[-.31,.692],[5.671,32.923],[0,0],[.87,6.452],[21.897,18.937],[21.152,1.822],[6.873,-3.578],[3.244,.263],[4.517,14.01],[2.025,-.328],[12.81,-11.048],[12.764,-.695],[.552,-.278],[.154,-2.366],[20.827,-9.207],[.065,-.072],[-22.664,-1.786],[-24.836,6.112],[-.225,-.193],[.027,-.295],[-5.441,-31.084]],o:[[24.546,17.535],[26.238,-3.457],[-1.313,-4.327],[.026,-1.474],[3.627,-2.192],[3.386,1.711],[.995,.196],[2.97,-6.627],[0,0],[-1.119,-6.494],[-3.878,-28.74],[-11.942,-10.327],[-.887,7.763],[-7.614,3.963],[-18.528,-1.514],[-1.1,.271],[-9.573,1.55],[-24.305,20.962],[-2.755,.15],[-.487,.553],[-.617,9.439],[-.458,.202],[.804,1.688],[14.393,1.133],[.289,-.07],[.225,.193],[-1.813,20.343],[1.05,5.998]],v:[[-28.686,95.782],[59.832,109.26],[112.359,97.391],[105.63,58.368],[107.008,55.773],[132.366,64.242],[139.893,67.754],[143.678,66.318],[145.578,1.155],[145.578,1.155],[142.689,-18.462],[113.252,-93.285],[51.707,-111.162],[39.868,-93.848],[20.632,-90.34],[-6.323,-109.649],[-11.052,-108.79],[-51.254,-93.307],[-118.212,-70.022],[-124.123,-69.452],[-124.924,-64.087],[-147.514,-27.872],[-148.219,-27.438],[-112.316,-20.168],[-45.236,-24.155],[-44.418,-23.961],[-44.102,-23.182],[-31.367,80.27]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[11.294,.197],[16.157,11.691],[.04,.238],[1.079,6.167],[-1.388,21.314],[14.251,1.119],[1.293,3.791],[-1.987,.878],[-.591,9.051],[-1.019,.984],[-4.805,.262],[-23.831,20.554],[-9.752,1.579],[-.837,.317],[-.228,-.11],[-.076,-.241],[-18.33,-1.498],[-7.19,3.742],[-.618,7.655],[-.186,.158],[-.244,-.019],[-12.446,-10.764],[-3.753,-27.815],[-1.113,-6.461],[0,0],[3.917,-8.738],[1.584,.315],[4.35,2.199],[3.053,-1.843],[.012,-.68],[-.072,-.225],[.47,-.164],[29.509,-3.891]],o:[[-20.543,-.358],[-.195,-.141],[-.729,-4.377],[-5.694,-32.527],[-24.744,5.838],[-17.697,-1.39],[-.209,-.612],[19.809,-8.757],[.229,-3.499],[.701,-.677],[12.577,-.685],[13.203,-11.387],[2.494,-.404],[.235,-.088],[.227,.11],[4.405,13.973],[3.089,.252],[6.645,-3.459],[.02,-.243],[.186,-.158],[21.513,1.758],[22.424,19.391],[.868,6.435],[0,0],[5.237,30.397],[-.755,1.684],[-1.137,-.222],[-7.174,-3.626],[-.222,.134],[-.29,16.616],[.152,.474],[-.239,.082],[-9.69,1.278]],v:[[28.109,113.043],[-30.067,97.051],[-30.434,96.458],[-33.175,80.587],[-46.028,-22.076],[-112.397,-18.332],[-149.981,-26.905],[-148.256,-29.552],[-126.756,-64.207],[-125.371,-70.802],[-118.312,-71.856],[-52.452,-94.697],[-11.346,-110.603],[-6.045,-111.642],[-5.32,-111.61],[-4.845,-111.06],[20.782,-92.17],[39.02,-95.477],[49.966,-112.227],[50.287,-112.852],[50.956,-113.068],[114.453,-94.674],[144.509,-18.707],[147.388,.843],[147.388,.843],[145.353,67.069],[139.541,69.555],[131.538,65.88],[107.956,57.346],[107.466,58.4],[114.374,97.696],[113.802,98.844],[60.105,111.076]],c:!0},ix:2},nm:"Path 3",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[613.649,510.397],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[5.466,31.726],[27.285,23.596],[18.449,1.507],[11.176,.913],[4.499,14.271],[16.647,-14.358],[2.208,-2.132],[27.043,-11.955],[-46.797,11.516],[-4.576,-27.463],[0,0],[-.296,16.966],[-3.895,-.761],[-.539,1.203]],o:[[-5.941,-34.486],[-13.097,-11.326],[-1.443,17.863],[-18.667,-1.525],[-4.223,1.597],[-30.9,26.65],[-3.071,2.965],[-11.378,5.03],[-2.171,24.347],[47.998,34.732],[0,0],[.147,-8.414],[1.294,.253],[3.419,-7.627]],v:[[146.476,.981],[113.846,-93.998],[50.875,-112.17],[20.7,-91.273],[-5.727,-110.801],[-51.86,-94.02],[-124.74,-70.16],[-147.892,-28.73],[-45.023,-23.282],[-29.535,96.289],[113.493,97.958],[106.542,58.366],[139.71,68.637],[144.508,66.675]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[613.655,510.415],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[613.655,510.415],ix:2},a:{a:0,k:[613.655,510.415],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[613.655,510.415],ix:2},a:{a:0,k:[613.655,510.415],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:1,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1}],ip:0,op:210,st:0,ct:1,bm:0},{ddd:0,ind:10,ty:4,nm:"r hand",parent:9,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.4],y:[1]},o:{x:[.333],y:[0]},t:0,s:[-65]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:30,s:[-65]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:40,s:[-65]},{i:{x:[.667],y:[1]},o:{x:[.302],y:[0]},t:60,s:[-65]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:70,s:[-65]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:90,s:[-65]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:110,s:[-19]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:125,s:[-33]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:140,s:[-19]},{i:{x:[.4],y:[1]},o:{x:[.313],y:[0]},t:160,s:[-65]},{i:{x:[.667],y:[1]},o:{x:[.6],y:[0]},t:166,s:[-65]},{t:196,s:[-65]}],ix:10},p:{a:0,k:[473.873,465.182,0],ix:2,l:2},a:{a:0,k:[473.873,465.182,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[1.064,.019],[.212,.056],[-.13,.49],[-.489,-.13],[-.478,.634],[.994,1.667],[-.435,.26],[-.261,-.436],[.572,-.758]],o:[[-.223,-.004],[-.49,-.13],[.129,-.489],[.436,.114],[.735,-.976],[-.26,-.435],[.434,-.258],[1.983,3.324],[-.72,.955]],v:[[-1.203,4.075],[-1.859,3.985],[-2.511,2.862],[-1.389,2.21],[.243,1.471],[-.164,-2.687],[.154,-3.946],[1.413,-3.627],[1.709,2.577]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[419.034,347.018],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:1,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.157,.003],[.165,.297],[1.199,1.34],[.414,.506],[-.393,.321],[-.321,-.392],[-.618,-.691],[-.568,-1.021],[.443,-.247]],o:[[-.316,-.006],[-.468,-.842],[-.633,-.706],[-.321,-.392],[.393,-.321],[.389,.475],[1.326,1.481],[.246,.443],[-.146,.081]],v:[[2.433,3.85],[1.646,3.378],[-1.514,-.471],[-3.158,-2.35],[-3.03,-3.642],[-1.738,-3.513],[-.147,-1.696],[3.25,2.485],[2.894,3.734]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[414.009,332.219],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:1,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.145,.003],[.159,.314],[-1.4,3.072],[.269,.298],[2.063,.209],[.323,.112],[.393,.924],[-.301,.649],[-1.198,.374],[-4.682,-.288],[-.408,-.02],[-.578,-2.103],[.489,-.134],[.135,.49],[1.666,.084],[.615,.038],[2.051,-.641],[.324,-.699],[-.193,-.455],[-1.778,-.616],[-.677,-.068],[-1.329,-1.471],[1.006,-2.208],[-1.724,-3.409],[.452,-.229]],o:[[-.329,-.006],[-2.122,-4.196],[.486,-1.067],[-.966,-1.069],[-1.175,-.119],[-2.326,-.805],[-.348,-.819],[.401,-.864],[2.191,-.685],[.607,.037],[1.768,.089],[.134,.489],[-.488,.133],[-.242,-.842],[-.413,-.021],[-3.263,-.2],[-.466,.145],[-.035,.076],[.203,.476],[.172,.05],[3.572,.362],[1.077,1.192],[-1.314,2.886],[.229,.452],[-.138,.07]],v:[[-.347,13.023],[-1.15,12.519],[.044,1.043],[1.074,-2.108],[-6.248,-3.822],[-8.278,-4.11],[-11.953,-7.109],[-12.029,-9.453],[-8.899,-12.583],[3.15,-12.731],[4.69,-12.641],[12.203,-8.464],[11.561,-7.336],[10.432,-7.978],[4.598,-10.808],[3.038,-10.899],[-8.352,-10.83],[-10.363,-8.681],[-10.264,-7.827],[-7.677,-5.845],[-6.062,-5.648],[2.437,-3.339],[1.714,1.804],[.488,11.69],[.083,12.924]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[421.257,347.277],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:1,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.481,.008],[.741,.314],[.881,.432],[-.223,.455],[-.457,-.224],[-.869,-.368],[-.598,.291],[.202,1.017],[8.944,8.843],[0,0],[-.357,.36],[-.36,-.357],[0,0],[-.545,-2.743],[1.664,-.811]],o:[[-.819,-.014],[-.899,-.381],[-.455,-.223],[.223,-.455],[.851,.417],[.794,.336],[.747,-.365],[-.32,-1.608],[0,0],[-.36,-.357],[.357,-.361],[0,0],[7.551,7.465],[.339,1.71],[-.466,.228]],v:[[3.713,10.3],[1.335,9.687],[-1.348,8.461],[-1.768,7.233],[-.54,6.813],[2.052,7.996],[4.337,8.346],[5.068,5.744],[-6.454,-8.48],[-6.708,-8.73],[-6.714,-10.028],[-5.415,-10.035],[-5.163,-9.785],[6.869,5.386],[5.142,9.996]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[410.737,343.684],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:1,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.841,.015],[.53,.214],[.773,.702],[0,0],[-.341,.376],[-.375,-.341],[0,0],[-.81,-.327],[-.466,.374],[.161,.657],[.594,.752],[1.654,1.356],[1.056,.917],[-.333,.383],[-.383,-.333],[-.611,-.501],[-2.351,-2.976],[-.306,-1.251],[1.06,-.847]],o:[[-.525,-.009],[-1.114,-.45],[0,0],[-.375,-.341],[.34,-.375],[0,0],[.693,.628],[.752,.304],[.57,-.455],[-.218,-.893],[-2.227,-2.819],[-.621,-.509],[-.383,-.333],[.332,-.383],[1.036,.9],[1.721,1.411],[.687,.871],[.371,1.52],[-.61,.489]],v:[[2.363,7.468],[.766,7.135],[-1.998,5.187],[-5.567,1.95],[-5.629,.653],[-4.333,.59],[-.765,3.828],[1.454,5.433],[3.459,5.316],[3.955,3.288],[2.545,.834],[-1.894,-3.799],[-4.342,-5.857],[-4.433,-7.152],[-3.137,-7.243],[-.73,-5.219],[3.986,-.304],[5.738,2.852],[4.607,6.75]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[405.445,349.561],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:1,cix:2,bm:0,ix:5,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.861,.015],[.739,-1.109],[-1.731,-3.423],[-7.029,-4.655],[-.072,-.142],[-6.524,-20.01],[-4.128,-9.963],[0,0],[-5.045,-2.382],[-3.424,1.751],[-1.374,7.371],[-.481,1.447],[2.715,2.811],[2.425,10.897],[-.089,.185],[7.419,7.683],[7.12,8.81],[0,0],[2.119,.131],[.387,-.373],[-1.043,-1.524],[-3.117,-4.975],[.37,-.289],[.327,.339],[1.333,-.836],[-.789,-2.158],[.258,-.252],[.337,.132],[.875,-1.054],[-1.446,-1.808],[-.329,-.514],[.249,-.307],[.37,.139]],o:[[-1.494,-.026],[-1.824,2.734],[4.722,9.345],[.133,.088],[7.008,13.868],[4.601,14.11],[0,.001],[.536,1.294],[4.421,2.087],[7.898,-4.038],[.332,-1.782],[1.208,-3.634],[-11.587,-11.999],[-.045,-.201],[2.81,-5.873],[-7.544,-7.811],[0,0],[-2.246,-2.779],[-.469,-.028],[-1.571,1.517],[3.711,5.425],[.249,.398],[-.37,.29],[-1.42,-1.471],[-1.151,.72],[.124,.339],[-.258,.253],[-1.25,-.49],[-1.45,1.745],[.369,.461],[.212,.333],[-.248,.307],[-.779,-.291]],v:[[-42.509,-49.789],[-46.176,-48.262],[-46.077,-40.879],[-25.121,-17.999],[-24.808,-17.647],[-4.528,36.922],[8.546,74.321],[8.546,74.321],[20.38,86.17],[32.203,86.675],[53.534,68.345],[54.893,63.476],[45.685,48.359],[-4.294,-33.303],[-4.226,-33.899],[-15.534,-61.462],[-32.595,-81.052],[-32.762,-81.258],[-40.358,-87.878],[-41.625,-87.374],[-38.981,-79.693],[-28.757,-63.942],[-28.969,-62.732],[-30.195,-62.817],[-34.595,-63.832],[-35.835,-59.196],[-36.056,-58.224],[-37.033,-58.026],[-40.6,-56.618],[-39.973,-52.118],[-38.894,-50.666],[-38.954,-49.595],[-39.988,-49.312]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[2.152,.038],[2.574,1.215],[.676,1.633],[4.612,14.144],[6.907,13.742],[4.828,9.554],[-2.277,3.413],[-2.265,-.179],[-2.168,2.609],[-1.443,.037],[-1.765,1.104],[-1.272,-.226],[2.944,4.303],[-2.368,2.287],[-.995,-.058],[-4.077,-5.045],[0,0],[-7.487,-7.753],[3.068,-7.292],[-12.028,-12.456],[1.25,-3.761],[.309,-1.658],[8.596,-4.396]],o:[[-2.321,-.041],[-5.559,-2.624],[-4.155,-10.028],[-6.47,-19.841],[-7.204,-4.825],[-1.987,-3.932],[1.23,-1.845],[-1.18,-1.555],[1.157,-1.393],[-.286,-2.191],[.885,-.555],[-2.568,-4.063],[-2.517,-3.68],[.762,-.736],[2.252,.139],[0,0],[7.081,8.763],[6.941,7.187],[2.699,10.225],[3.487,3.611],[-.485,1.46],[-1.436,7.702],[-1.905,.973]],v:[[26.948,89.715],[19.596,87.83],[6.85,75.024],[-6.274,37.491],[-26.339,-16.604],[-47.717,-40.051],[-47.704,-49.281],[-41.897,-51.595],[-42.012,-57.791],[-37.915,-60.004],[-35.569,-65.388],[-32.238,-66.029],[-40.497,-78.657],[-42.9,-88.694],[-40.245,-89.71],[-31.334,-82.412],[-31.167,-82.206],[-14.213,-62.738],[-2.432,-33.415],[47.006,47.084],[56.635,64.055],[55.339,68.681],[33.04,88.31]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[441.373,393.182],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.597,1.441],[11.923,23.592],[4.517,8.938],[-2.064,3.094],[-2.335,-.872],[-2.528,3.043],[-1.659,-.65],[-3.978,-4.119],[3.505,5.124],[-1.893,1.828],[-4.226,-5.229],[-7.574,-7.843],[3.132,-6.547],[-11.822,-12.242],[1.139,-6.108],[18.641,8.799]],o:[[-9.983,-24.095],[-7.873,-5.215],[-1.838,-3.637],[1.508,-2.26],[-1.429,-2.235],[1.138,-1.37],[-1.736,-4.746],[-3.505,-5.594],[-2.169,-3.171],[2.427,-2.344],[7.209,8.921],[7.127,7.38],[2.246,10.091],[4.316,4.469],[-1.376,7.377],[-5.283,-2.493]],v:[[7.692,74.672],[-25.634,-17.233],[-46.903,-40.464],[-46.947,-48.771],[-39.673,-50.171],[-41.311,-57.204],[-36.703,-58.88],[-29.541,-63.454],[-39.745,-79.175],[-42.268,-88.034],[-32.054,-81.835],[-14.88,-62.1],[-3.404,-33.503],[46.339,47.722],[54.431,68.513],[19.982,87]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[441.379,393.182],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[441.379,393.182],ix:2},a:{a:0,k:[441.379,393.182],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 6",np:2,cix:2,bm:0,ix:6,mn:"ADBE Vector Group",hd:!1}],ip:0,op:210,st:0,ct:1,bm:0}]},{id:"comp_2",nm:"amoke",fr:30,layers:[{ddd:0,ind:1,ty:4,nm:"Engine flames 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:45,ix:10},p:{a:0,k:[702.785,303.215,0],ix:2,l:2},a:{a:0,k:[200,200,0],ix:1,l:2},s:{a:0,k:[300,300,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[6.943,-2.848],[0,10.38],[-6.943,2.848],[0,-10.38]],o:[[-6.943,-2.848],[0,-10.38],[6.943,2.848],[0,10.38]],v:[[0,22],[-12,0],[0,-22],[12,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[200,208],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:90,s:[100,100]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:95,s:[100,120]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:101.25,s:[100,100]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:106.25,s:[100,120]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:112.5,s:[100,100]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:118.75,s:[100,120]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:123.751,s:[100,100]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:130,s:[100,120]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:135.001,s:[100,100]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:141.25,s:[100,120]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:146.251,s:[100,100]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:151.25,s:[100,120]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:157.501,s:[100,100]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:163.75,s:[100,120]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:168.75,s:[100,100]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:173.75,s:[100,120]},{t:180,s:[100,100]}],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Flame front",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[9.257,-5.177],[0,18.873],[-9.257,5.177],[0,-18.873]],o:[[-9.257,-5.177],[0,-18.873],[9.257,5.177],[0,18.873]],v:[[0,40],[-16,0],[0,-40],[16,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[200,208],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:90,s:[100,100]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:95,s:[100,120]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:101.25,s:[100,100]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:106.25,s:[100,120]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:112.5,s:[100,100]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:118.75,s:[100,120]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:123.751,s:[100,100]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:130,s:[100,120]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:135.001,s:[100,100]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:141.25,s:[100,120]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:146.251,s:[100,100]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:151.25,s:[100,120]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:157.501,s:[100,100]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:163.75,s:[100,120]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:168.75,s:[100,100]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:173.75,s:[100,120]},{t:180,s:[100,100]}],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Flame back",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:90,op:180,st:90,ct:1,bm:0},{ddd:0,ind:2,ty:4,nm:"Smoke front line 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:45,ix:10},p:{a:0,k:[702.785,303.215,0],ix:2,l:2},a:{a:0,k:[200,200,0],ix:1,l:2},s:{a:0,k:[300,300,100],ix:6,l:2}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:1},o:{x:.167,y:0},t:90,s:[{i:[[0,0],[-4.868,-35.362],[0,0],[0,44.815]],o:[[0,44.815],[0,0],[4.868,-35.362],[0,0]],v:[[217.333,209],[228.349,331],[174.318,331],[185.333,209]],c:!0}]},{i:{x:.833,y:1},o:{x:.167,y:0},t:106.25,s:[{i:[[0,0],[-4.868,-35.362],[0,0],[0,44.815]],o:[[0,44.815],[0,0],[4.868,-35.362],[0,0]],v:[[214.667,209],[225.682,331],[171.651,331],[182.667,209]],c:!0}]},{i:{x:.833,y:1},o:{x:.167,y:0},t:123.75,s:[{i:[[0,0],[-4.868,-35.362],[0,0],[0,44.815]],o:[[0,44.815],[0,0],[4.868,-35.362],[0,0]],v:[[217.333,209],[228.349,331],[174.318,331],[185.333,209]],c:!0}]},{i:{x:.833,y:1},o:{x:.167,y:0},t:141.25,s:[{i:[[0,0],[-4.868,-35.362],[0,0],[0,44.815]],o:[[0,44.815],[0,0],[4.868,-35.362],[0,0]],v:[[214.667,209],[225.682,331],[171.651,331],[182.667,209]],c:!0}]},{i:{x:.833,y:1},o:{x:.167,y:0},t:157.5,s:[{i:[[0,0],[-4.868,-35.362],[0,0],[0,44.815]],o:[[0,44.815],[0,0],[4.868,-35.362],[0,0]],v:[[217.333,209],[228.349,331],[174.318,331],[185.333,209]],c:!0}]},{i:{x:.833,y:.801},o:{x:.167,y:0},t:173.721,s:[{i:[[0,0],[-4.868,-35.362],[0,0],[0,44.815]],o:[[0,44.815],[0,0],[4.868,-35.362],[0,0]],v:[[214.667,209],[225.682,331],[171.651,331],[182.667,209]],c:!0}]},{t:180,s:[{i:[[0,0],[-4.868,-35.362],[0,0],[0,44.815]],o:[[0,44.815],[0,0],[4.868,-35.362],[0,0]],v:[[215.602,209],[226.617,331],[172.586,331],[183.602,209]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:90,op:180,st:90,ct:1,bm:0},{ddd:0,ind:3,ty:4,nm:"Smoke front left 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.645],y:[.645]},o:{x:[.158],y:[.158]},t:90,s:[135]},{t:180,s:[668.793]}],ix:10},p:{a:0,k:[594.435,649.981,0],ix:2,l:2},a:{a:0,k:[200,200,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:90,s:[200,200,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:101.25,s:[180,180,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:111.25,s:[220,220,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:121.25,s:[180,180,100]},{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:131.25,s:[220,220,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:142.5,s:[180,180,100]},{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:152.5,s:[220,220,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:163.75,s:[180,180,100]},{i:{x:[.603,.603,.603],y:[.605,.605,1]},o:{x:[.162,.162,.162],y:[.161,.161,0]},t:173.75,s:[220,220,100]},{t:180,s:[196,196,100]}],ix:6,l:2}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[17.256,14.54],[11.677,20.225],[21.22,-7.674],[23.354,0],[3.965,-22.214],[11.676,-20.225],[-17.255,-14.54],[-11.677,-20.225],[-21.22,7.674],[-23.353,0],[-3.964,22.214],[-11.676,20.225]],o:[[17.256,-14.54],[-11.676,-20.225],[-3.964,-22.214],[-23.353,0],[-21.22,-7.674],[-11.677,20.225],[-17.255,14.54],[11.676,20.225],[3.965,22.214],[23.354,0],[21.22,7.674],[11.677,-20.225]],v:[[293.436,200],[303.922,140],[246.717,119.082],[199.999,80],[153.281,119.082],[96.077,140],[106.563,200],[96.077,260],[153.281,280.918],[199.999,320],[246.717,280.918],[303.922,260]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:90,op:180,st:90,ct:1,bm:0},{ddd:0,ind:4,ty:4,nm:"Smoke front right 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.645],y:[.645]},o:{x:[.158],y:[.158]},t:90,s:[45]},{t:180,s:[-488.793]}],ix:10},p:{a:0,k:[354.019,409.565,0],ix:2,l:2},a:{a:0,k:[200,200,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:90,s:[200,200,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:101.25,s:[180,180,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:111.25,s:[220,220,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:121.25,s:[180,180,100]},{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:131.25,s:[220,220,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:142.5,s:[180,180,100]},{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:152.5,s:[220,220,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:163.75,s:[180,180,100]},{i:{x:[.603,.603,.603],y:[.605,.605,1]},o:{x:[.162,.162,.162],y:[.161,.161,0]},t:173.75,s:[220,220,100]},{t:180,s:[196,196,100]}],ix:6,l:2}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[17.256,14.54],[11.677,20.225],[21.22,-7.674],[23.354,0],[3.965,-22.214],[11.676,-20.225],[-17.255,-14.54],[-11.677,-20.225],[-21.22,7.674],[-23.353,0],[-3.964,22.214],[-11.676,20.225]],o:[[17.256,-14.54],[-11.676,-20.225],[-3.964,-22.214],[-23.353,0],[-21.22,-7.674],[-11.677,20.225],[-17.255,14.54],[11.676,20.225],[3.965,22.214],[23.354,0],[21.22,7.674],[11.677,-20.225]],v:[[293.436,200],[303.922,140],[246.717,119.082],[199.999,80],[153.281,119.082],[96.077,140],[106.563,200],[96.077,260],[153.281,280.918],[199.999,320],[246.717,280.918],[303.922,260]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:90,op:180,st:90,ct:1,bm:0},{ddd:0,ind:5,ty:4,nm:"Smoke back left 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.645],y:[.645]},o:{x:[.158],y:[.158]},t:90,s:[135]},{t:180,s:[668.793]}],ix:10},p:{a:0,k:[594.435,649.981,0],ix:2,l:2},a:{a:0,k:[200,200,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:90,s:[220,220,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:101.25,s:[200,200,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:111.25,s:[240,240,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:121.25,s:[200,200,100]},{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:131.25,s:[240,240,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:142.5,s:[200,200,100]},{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:152.5,s:[240,240,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:163.75,s:[200,200,100]},{i:{x:[.603,.603,.603],y:[.605,.605,1]},o:{x:[.162,.162,.162],y:[.161,.161,0]},t:173.75,s:[240,240,100]},{t:180,s:[216,216,100]}],ix:6,l:2}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[17.256,14.54],[11.677,20.225],[21.22,-7.674],[23.354,0],[3.965,-22.214],[11.676,-20.225],[-17.255,-14.54],[-11.677,-20.225],[-21.22,7.674],[-23.353,0],[-3.964,22.214],[-11.676,20.225]],o:[[17.256,-14.54],[-11.676,-20.225],[-3.964,-22.214],[-23.353,0],[-21.22,-7.674],[-11.677,20.225],[-17.255,14.54],[11.676,20.225],[3.965,22.214],[23.354,0],[21.22,7.674],[11.677,-20.225]],v:[[293.436,200],[303.922,140],[246.717,119.082],[199.999,80],[153.281,119.082],[96.077,140],[106.563,200],[96.077,260],[153.281,280.918],[199.999,320],[246.717,280.918],[303.922,260]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:90,op:180,st:90,ct:1,bm:0},{ddd:0,ind:6,ty:4,nm:"Smoke back right 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.645],y:[.645]},o:{x:[.158],y:[.158]},t:90,s:[45]},{t:180,s:[-488.793]}],ix:10},p:{a:0,k:[354.019,409.565,0],ix:2,l:2},a:{a:0,k:[200,200,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:90,s:[220,220,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:101.25,s:[200,200,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:111.25,s:[240,240,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:121.25,s:[200,200,100]},{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:131.25,s:[240,240,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:142.5,s:[200,200,100]},{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:152.5,s:[240,240,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:163.75,s:[200,200,100]},{i:{x:[.603,.603,.603],y:[.605,.605,1]},o:{x:[.162,.162,.162],y:[.161,.161,0]},t:173.75,s:[240,240,100]},{t:180,s:[216,216,100]}],ix:6,l:2}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[17.256,14.54],[11.677,20.225],[21.22,-7.674],[23.354,0],[3.965,-22.214],[11.676,-20.225],[-17.255,-14.54],[-11.677,-20.225],[-21.22,7.674],[-23.353,0],[-3.964,22.214],[-11.676,20.225]],o:[[17.256,-14.54],[-11.676,-20.225],[-3.964,-22.214],[-23.353,0],[-21.22,-7.674],[-11.677,20.225],[-17.255,14.54],[11.676,20.225],[3.965,22.214],[23.354,0],[21.22,7.674],[11.677,-20.225]],v:[[293.436,200],[303.922,140],[246.717,119.082],[199.999,80],[153.281,119.082],[96.077,140],[106.563,200],[96.077,260],[153.281,280.918],[199.999,320],[246.717,280.918],[303.922,260]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:90,op:180,st:90,ct:1,bm:0},{ddd:0,ind:7,ty:4,nm:"Smoke back line 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:45,ix:10},p:{a:0,k:[702.785,303.215,0],ix:2,l:2},a:{a:0,k:[200,200,0],ix:1,l:2},s:{a:0,k:[300,300,100],ix:6,l:2}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-9.849,-31.167],[0,0],[0,44.815]],o:[[0,44.815],[0,0],[10.182,-32.5],[0,0]],v:[[217.979,209],[243.682,331],[156.318,331],[182.021,209]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:90,op:180,st:90,ct:1,bm:0},{ddd:0,ind:8,ty:4,nm:"Engine flames",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:45,ix:10},p:{a:0,k:[702.785,303.215,0],ix:2,l:2},a:{a:0,k:[200,200,0],ix:1,l:2},s:{a:0,k:[300,300,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[6.943,-2.848],[0,10.38],[-6.943,2.848],[0,-10.38]],o:[[-6.943,-2.848],[0,-10.38],[6.943,2.848],[0,10.38]],v:[[0,22],[-12,0],[0,-22],[12,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[200,208],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:0,s:[100,100]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:5,s:[100,120]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:11.25,s:[100,100]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:16.25,s:[100,120]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:22.5,s:[100,100]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:28.75,s:[100,120]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:33.751,s:[100,100]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:40,s:[100,120]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:45.001,s:[100,100]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:51.25,s:[100,120]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:56.251,s:[100,100]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:61.25,s:[100,120]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:67.501,s:[100,100]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:73.75,s:[100,120]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:78.75,s:[100,100]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:83.75,s:[100,120]},{t:90,s:[100,100]}],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Flame front",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[9.257,-5.177],[0,18.873],[-9.257,5.177],[0,-18.873]],o:[[-9.257,-5.177],[0,-18.873],[9.257,5.177],[0,18.873]],v:[[0,40],[-16,0],[0,-40],[16,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[200,208],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:0,s:[100,100]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:5,s:[100,120]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:11.25,s:[100,100]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:16.25,s:[100,120]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:22.5,s:[100,100]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:28.75,s:[100,120]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:33.751,s:[100,100]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:40,s:[100,120]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:45.001,s:[100,100]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:51.25,s:[100,120]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:56.251,s:[100,100]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:61.25,s:[100,120]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:67.501,s:[100,100]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:73.75,s:[100,120]},{i:{x:[.833,.833],y:[1,.852]},o:{x:[.167,.167],y:[0,.148]},t:78.75,s:[100,100]},{i:{x:[.833,.833],y:[1,.814]},o:{x:[.167,.167],y:[0,.186]},t:83.75,s:[100,120]},{t:90,s:[100,100]}],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Flame back",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:90,st:0,ct:1,bm:0},{ddd:0,ind:9,ty:4,nm:"Smoke front line",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:45,ix:10},p:{a:0,k:[702.785,303.215,0],ix:2,l:2},a:{a:0,k:[200,200,0],ix:1,l:2},s:{a:0,k:[300,300,100],ix:6,l:2}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:1},o:{x:.167,y:0},t:0,s:[{i:[[0,0],[-4.868,-35.362],[0,0],[0,44.815]],o:[[0,44.815],[0,0],[4.868,-35.362],[0,0]],v:[[217.333,209],[228.349,331],[174.318,331],[185.333,209]],c:!0}]},{i:{x:.833,y:1},o:{x:.167,y:0},t:16.25,s:[{i:[[0,0],[-4.868,-35.362],[0,0],[0,44.815]],o:[[0,44.815],[0,0],[4.868,-35.362],[0,0]],v:[[214.667,209],[225.682,331],[171.651,331],[182.667,209]],c:!0}]},{i:{x:.833,y:1},o:{x:.167,y:0},t:33.75,s:[{i:[[0,0],[-4.868,-35.362],[0,0],[0,44.815]],o:[[0,44.815],[0,0],[4.868,-35.362],[0,0]],v:[[217.333,209],[228.349,331],[174.318,331],[185.333,209]],c:!0}]},{i:{x:.833,y:1},o:{x:.167,y:0},t:51.25,s:[{i:[[0,0],[-4.868,-35.362],[0,0],[0,44.815]],o:[[0,44.815],[0,0],[4.868,-35.362],[0,0]],v:[[214.667,209],[225.682,331],[171.651,331],[182.667,209]],c:!0}]},{i:{x:.833,y:1},o:{x:.167,y:0},t:67.5,s:[{i:[[0,0],[-4.868,-35.362],[0,0],[0,44.815]],o:[[0,44.815],[0,0],[4.868,-35.362],[0,0]],v:[[217.333,209],[228.349,331],[174.318,331],[185.333,209]],c:!0}]},{i:{x:.833,y:.801},o:{x:.167,y:0},t:83.721,s:[{i:[[0,0],[-4.868,-35.362],[0,0],[0,44.815]],o:[[0,44.815],[0,0],[4.868,-35.362],[0,0]],v:[[214.667,209],[225.682,331],[171.651,331],[182.667,209]],c:!0}]},{t:90,s:[{i:[[0,0],[-4.868,-35.362],[0,0],[0,44.815]],o:[[0,44.815],[0,0],[4.868,-35.362],[0,0]],v:[[215.602,209],[226.617,331],[172.586,331],[183.602,209]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:90,st:0,ct:1,bm:0},{ddd:0,ind:10,ty:4,nm:"Smoke front left",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.645],y:[.645]},o:{x:[.158],y:[.158]},t:0,s:[135]},{t:90,s:[668.793]}],ix:10},p:{a:0,k:[594.435,649.981,0],ix:2,l:2},a:{a:0,k:[200,200,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:0,s:[200,200,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:11.25,s:[180,180,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:21.25,s:[220,220,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:31.25,s:[180,180,100]},{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:41.25,s:[220,220,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:52.5,s:[180,180,100]},{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:62.5,s:[220,220,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:73.75,s:[180,180,100]},{i:{x:[.603,.603,.603],y:[.605,.605,1]},o:{x:[.162,.162,.162],y:[.161,.161,0]},t:83.75,s:[220,220,100]},{t:90,s:[196,196,100]}],ix:6,l:2}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[17.256,14.54],[11.677,20.225],[21.22,-7.674],[23.354,0],[3.965,-22.214],[11.676,-20.225],[-17.255,-14.54],[-11.677,-20.225],[-21.22,7.674],[-23.353,0],[-3.964,22.214],[-11.676,20.225]],o:[[17.256,-14.54],[-11.676,-20.225],[-3.964,-22.214],[-23.353,0],[-21.22,-7.674],[-11.677,20.225],[-17.255,14.54],[11.676,20.225],[3.965,22.214],[23.354,0],[21.22,7.674],[11.677,-20.225]],v:[[293.436,200],[303.922,140],[246.717,119.082],[199.999,80],[153.281,119.082],[96.077,140],[106.563,200],[96.077,260],[153.281,280.918],[199.999,320],[246.717,280.918],[303.922,260]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:90,st:0,ct:1,bm:0},{ddd:0,ind:11,ty:4,nm:"Smoke front right",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.645],y:[.645]},o:{x:[.158],y:[.158]},t:0,s:[45]},{t:90,s:[-488.793]}],ix:10},p:{a:0,k:[354.019,409.565,0],ix:2,l:2},a:{a:0,k:[200,200,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:0,s:[200,200,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:11.25,s:[180,180,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:21.25,s:[220,220,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:31.25,s:[180,180,100]},{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:41.25,s:[220,220,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:52.5,s:[180,180,100]},{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:62.5,s:[220,220,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:73.75,s:[180,180,100]},{i:{x:[.603,.603,.603],y:[.605,.605,1]},o:{x:[.162,.162,.162],y:[.161,.161,0]},t:83.75,s:[220,220,100]},{t:90,s:[196,196,100]}],ix:6,l:2}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[17.256,14.54],[11.677,20.225],[21.22,-7.674],[23.354,0],[3.965,-22.214],[11.676,-20.225],[-17.255,-14.54],[-11.677,-20.225],[-21.22,7.674],[-23.353,0],[-3.964,22.214],[-11.676,20.225]],o:[[17.256,-14.54],[-11.676,-20.225],[-3.964,-22.214],[-23.353,0],[-21.22,-7.674],[-11.677,20.225],[-17.255,14.54],[11.676,20.225],[3.965,22.214],[23.354,0],[21.22,7.674],[11.677,-20.225]],v:[[293.436,200],[303.922,140],[246.717,119.082],[199.999,80],[153.281,119.082],[96.077,140],[106.563,200],[96.077,260],[153.281,280.918],[199.999,320],[246.717,280.918],[303.922,260]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:90,st:0,ct:1,bm:0},{ddd:0,ind:12,ty:4,nm:"Smoke back left",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.645],y:[.645]},o:{x:[.158],y:[.158]},t:0,s:[135]},{t:90,s:[668.793]}],ix:10},p:{a:0,k:[594.435,649.981,0],ix:2,l:2},a:{a:0,k:[200,200,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:0,s:[220,220,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:11.25,s:[200,200,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:21.25,s:[240,240,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:31.25,s:[200,200,100]},{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:41.25,s:[240,240,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:52.5,s:[200,200,100]},{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:62.5,s:[240,240,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:73.75,s:[200,200,100]},{i:{x:[.603,.603,.603],y:[.605,.605,1]},o:{x:[.162,.162,.162],y:[.161,.161,0]},t:83.75,s:[240,240,100]},{t:90,s:[216,216,100]}],ix:6,l:2}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[17.256,14.54],[11.677,20.225],[21.22,-7.674],[23.354,0],[3.965,-22.214],[11.676,-20.225],[-17.255,-14.54],[-11.677,-20.225],[-21.22,7.674],[-23.353,0],[-3.964,22.214],[-11.676,20.225]],o:[[17.256,-14.54],[-11.676,-20.225],[-3.964,-22.214],[-23.353,0],[-21.22,-7.674],[-11.677,20.225],[-17.255,14.54],[11.676,20.225],[3.965,22.214],[23.354,0],[21.22,7.674],[11.677,-20.225]],v:[[293.436,200],[303.922,140],[246.717,119.082],[199.999,80],[153.281,119.082],[96.077,140],[106.563,200],[96.077,260],[153.281,280.918],[199.999,320],[246.717,280.918],[303.922,260]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:90,st:0,ct:1,bm:0},{ddd:0,ind:13,ty:4,nm:"Smoke back right",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.645],y:[.645]},o:{x:[.158],y:[.158]},t:0,s:[45]},{t:90,s:[-488.793]}],ix:10},p:{a:0,k:[354.019,409.565,0],ix:2,l:2},a:{a:0,k:[200,200,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:0,s:[220,220,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:11.25,s:[200,200,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:21.25,s:[240,240,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:31.25,s:[200,200,100]},{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:41.25,s:[240,240,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:52.5,s:[200,200,100]},{i:{x:[.833,.833,.833],y:[.82,.82,1]},o:{x:[.167,.167,.167],y:[.18,.18,0]},t:62.5,s:[240,240,100]},{i:{x:[.833,.833,.833],y:[.84,.84,1]},o:{x:[.167,.167,.167],y:[.16,.16,0]},t:73.75,s:[200,200,100]},{i:{x:[.603,.603,.603],y:[.605,.605,1]},o:{x:[.162,.162,.162],y:[.161,.161,0]},t:83.75,s:[240,240,100]},{t:90,s:[216,216,100]}],ix:6,l:2}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[17.256,14.54],[11.677,20.225],[21.22,-7.674],[23.354,0],[3.965,-22.214],[11.676,-20.225],[-17.255,-14.54],[-11.677,-20.225],[-21.22,7.674],[-23.353,0],[-3.964,22.214],[-11.676,20.225]],o:[[17.256,-14.54],[-11.676,-20.225],[-3.964,-22.214],[-23.353,0],[-21.22,-7.674],[-11.677,20.225],[-17.255,14.54],[11.676,20.225],[3.965,22.214],[23.354,0],[21.22,7.674],[11.677,-20.225]],v:[[293.436,200],[303.922,140],[246.717,119.082],[199.999,80],[153.281,119.082],[96.077,140],[106.563,200],[96.077,260],[153.281,280.918],[199.999,320],[246.717,280.918],[303.922,260]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:90,st:0,ct:1,bm:0},{ddd:0,ind:14,ty:4,nm:"Smoke back line",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:45,ix:10},p:{a:0,k:[702.785,303.215,0],ix:2,l:2},a:{a:0,k:[200,200,0],ix:1,l:2},s:{a:0,k:[300,300,100],ix:6,l:2}},ao:0,shapes:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-9.849,-31.167],[0,0],[0,44.815]],o:[[0,44.815],[0,0],[10.182,-32.5],[0,0]],v:[[217.979,209],[243.682,331],[156.318,331],[182.021,209]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:90,st:0,ct:1,bm:0}]}],layers=[{ddd:0,ind:1,ty:0,nm:"main",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[512,329,0],ix:2,l:2},a:{a:0,k:[512,329,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:1024,h:658,ip:0,op:162,st:-43,bm:0},{ddd:0,ind:2,ty:0,nm:"main",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[512,329,0],ix:2,l:2},a:{a:0,k:[512,329,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:1024,h:658,ip:162,op:205,st:162,bm:0}],markers=[],props={},animationData={v,fr,ip,op,w,h,nm,ddd,assets,layers,markers,props},randomIcon="/assets/random-B2UprDlv.png",secureIcon="/assets/secure-DcGsVO0N.png",globalIcon="/assets/global-PQKNrLNF.png",HomePage=()=>{const st=useNavigate(),Mt=()=>{st("/landing")},nn=()=>{st("/signup")},rn=()=>{st("/signin")};return jsxRuntimeExports.jsxs("div",{className:"home-page",children:[jsxRuntimeExports.jsxs("section",{className:"hero",children:[jsxRuntimeExports.jsxs("div",{className:"hero-content",children:[jsxRuntimeExports.jsx("h1",{children:"Welcome to ConnectNow"}),jsxRuntimeExports.jsx("p",{children:"Connect with people around the globe instantly."}),jsxRuntimeExports.jsxs("div",{className:"cta-buttons",children:[jsxRuntimeExports.jsx("button",{className:"primary-btn",onClick:Mt,children:"Start Chatting"}),jsxRuntimeExports.jsx("button",{className:"secondary-btn",children:"Learn More"})]})]}),jsxRuntimeExports.jsxs("div",{className:"auth-buttons",children:[jsxRuntimeExports.jsx("button",{className:"sign-in-btn",onClick:rn,children:"Sign In"}),jsxRuntimeExports.jsx("button",{className:"sign-up-btn",onClick:nn,children:"Sign Up"})]}),jsxRuntimeExports.jsx("div",{className:"hero-graphic",children:jsxRuntimeExports.jsx(Lottie,{autoplay:!0,loop:!0,animationData,style:{height:"300px",width:"800px"}})})]}),jsxRuntimeExports.jsxs("section",{className:"features",children:[jsxRuntimeExports.jsx("h2",{children:"Why Choose connectNow?"}),jsxRuntimeExports.jsxs("div",{className:"features-grid",children:[jsxRuntimeExports.jsxs("div",{className:"feature-item",children:[jsxRuntimeExports.jsx("img",{src:randomIcon,alt:"Random Match"}),jsxRuntimeExports.jsx("h3",{children:"video chat"}),jsxRuntimeExports.jsx("p",{children:"Experience authentic face to face encounters with real people from all over the world."})]}),jsxRuntimeExports.jsxs("div",{className:"feature-item",children:[jsxRuntimeExports.jsx("img",{src:secureIcon,alt:"Safe & Secure"}),jsxRuntimeExports.jsx("h3",{children:"Safety & Moderation"}),jsxRuntimeExports.jsx("p",{children:"We make use of advanced AI technologies and enhanced spam protection to keep your chats clean.."})]}),jsxRuntimeExports.jsxs("div",{className:"feature-item",children:[jsxRuntimeExports.jsx("img",{src:globalIcon,alt:"Global Reach"}),jsxRuntimeExports.jsx("h3",{children:"Global Reach"}),jsxRuntimeExports.jsx("p",{children:"Connect with users from around the world."})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"how-it-works",children:[jsxRuntimeExports.jsx("h2",{children:"How It Works"}),jsxRuntimeExports.jsxs("div",{className:"steps",children:[jsxRuntimeExports.jsxs("div",{className:"step",children:[jsxRuntimeExports.jsx("span",{className:"step-number",children:"1"}),jsxRuntimeExports.jsx("h3",{children:"Sign Up"}),jsxRuntimeExports.jsx("p",{children:"Create your free account in minutes."})]}),jsxRuntimeExports.jsxs("div",{className:"step",children:[jsxRuntimeExports.jsx("span",{className:"step-number",children:"2"}),jsxRuntimeExports.jsx("h3",{children:"Start Chatting"}),jsxRuntimeExports.jsx("p",{children:'Click "Start Chatting" and get matched instantly.'})]}),jsxRuntimeExports.jsxs("div",{className:"step",children:[jsxRuntimeExports.jsx("span",{className:"step-number",children:"3"}),jsxRuntimeExports.jsx("h3",{children:"Enjoy"}),jsxRuntimeExports.jsx("p",{children:"Have fun meeting new people!"})]})]})]}),jsxRuntimeExports.jsxs("footer",{className:"footer",children:[jsxRuntimeExports.jsx("p",{children:" 2024 RandomChat. All rights reserved."}),jsxRuntimeExports.jsxs("div",{className:"footer-links",children:[jsxRuntimeExports.jsx("a",{href:"/privacy",children:"Privacy Policy"}),jsxRuntimeExports.jsx("a",{href:"/terms",children:"Terms of Service"}),jsxRuntimeExports.jsx("a",{href:"/contact",children:"Contact Us"})]})]})]})},Signin=()=>{const[st,Mt]=reactExports.useState(""),[nn,rn]=reactExports.useState(""),[an,sn]=reactExports.useState(null),un=useNavigate(),ln=async()=>{var cn,hn;if(!st||!nn){sn("Please enter both username and password.");return}try{un("/homepage")}catch(fn){console.error("Error during sign-in:",fn),sn(((hn=(cn=fn.response)==null?void 0:cn.data)==null?void 0:hn.message)||"An error occurred. Please try again.")}};return jsxRuntimeExports.jsx("div",{className:"container",children:jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h1",{className:"heading",children:"Sign in"}),jsxRuntimeExports.jsx("p",{className:"subheading",children:"Enter your credentials to access your account"}),jsxRuntimeExports.jsxs("div",{className:"input-group",children:[jsxRuntimeExports.jsx("label",{children:"Email"}),jsxRuntimeExports.jsx("input",{onChange:cn=>Mt(cn.target.value),placeholder:"example@mail.com",type:"email"})]}),jsxRuntimeExports.jsxs("div",{className:"input-group",children:[jsxRuntimeExports.jsx("label",{children:"Password"}),jsxRuntimeExports.jsx("input",{onChange:cn=>rn(cn.target.value),placeholder:"********",type:"password"})]}),an&&jsxRuntimeExports.jsx("p",{className:"error-message",children:an}),jsxRuntimeExports.jsx("div",{className:"button-container",children:jsxRuntimeExports.jsx("button",{onClick:ln,children:"Sign In"})}),jsxRuntimeExports.jsxs("p",{className:"bottom-warning",children:["Don't have an account? ",jsxRuntimeExports.jsx("a",{href:"/signup",children:"Sign Up"})]})]})})};function App(){return jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(HomePage,{})}),jsxRuntimeExports.jsx(Route,{path:"/Landing",element:jsxRuntimeExports.jsx(Landing,{})}),jsxRuntimeExports.jsx(Route,{path:"/signin",element:jsxRuntimeExports.jsx(Signin,{})})]})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}))});export default ep();
